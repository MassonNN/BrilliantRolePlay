// Brilliant Role Play
// BETA 1.3, 1.2304 build.


#include <a_samp>

#if defined MAX_PLAYERS
	#undef MAX_PLAYERS
#endif
#define MAX_PLAYERS	50

// #include <fixes>



#include <crashdetect>
#include <a_mysql>
#include <mxdate>
#include <mxINI>
#include <regex>
#include <a_http>
#include <streamer>
#include <sscanf2>
#include <foreach>
#include <PointToPoint>
#include <crp>
#include <mdialog.inc>
#include <Pawn.RakNet>
#include <mapandreas>
#include <timerfix.inc>
// #include <perplayer.inc>
#include <YSF>
// #include <guard.inc>
#include <../../files/geoip.inc>
#include <../../files/discord.inc>
// #include <../../files/FakeOnline.inc>
// native PB_RegisterBot(name[]);
// #include <../../files/pawnbots.inc>
// #include <../../files/smssender.inc>

// #include <FCNPC>
// #include <jit>
//#include <antiattack>
//#include <rustext>
#include <Pawn.CMD>
#include <YSI/y_hooks.inc>

// #include <background.inc>
//#include <pickfix>
//#include <nex-ac_ru.lang>
//#include <nex-ac>
//#include "../include/MODULE_COLORS.inc"
#include </PerfomanceRP/colors.inc>
// #include </YSI/y_hooks.inc>
//==========================[ Параметры сервера ]===============================
#define SERVER_NAME           		"Brilliant RolePlay | Criminal Russia"		// - Название сервера
#define SERVER_NAME_RP           	"Brilliant RP" 								// - Название сервера с префиксом RP (укороченная версия)
#define SERVER_NAME_UK           	"Brilliant" 								// - Название сервера без префикса (укороченная версия)
#define SERVER_VERSION				"Добро пожаловать на Brilliant RolePlay"  	// - Пишет игроку при входе в игру"
#define ACCOUNT_REPLENISHMENT 		"brilliant-rp.ru/donate" 					// - Страница пополнения счета аккаунта
#define PROJECT_SITE 				"brilliant-rp.ru" 							// - Сайт проекта
#define PROJECT_FORUM 				"forum.brilliant-rp.ru" 					// - Форум проекта
#define VKONTAKTE_COMMUNITY 		"vk.com/brilliantrp" 						// - Группа ВКонтакте проекта
#define VKONTAKTE_RADIO 			"vk.com/brilliant_radio" 					// - Группа радио проекта
#define UPDATE 						"1.411 omega" 								// - Версия мода
#define UPDATE_DATA 				"10.01.2020" 								// - Дата выхода
#define BONUS_CASH 500 															// - деньги при регистрации
#define BONUS_LVL 1 															// - лвл при регистрации
#define BONUS_ZAKON 50                                                          // - Количество законопослушности, при регистрации
#define BONUS_COIN 30000                                                        // - 30к коинов на ЗБТ in ОБТ

#define ENC_MAX 30 // остаток от guard

// BrilliantID

#define PERID_SECURITY_VERSION		"0.1 PRE-ALPHA (DEV)"
//#define BONUS_COIN 0                                                          // - 0 коинов при регистрации
/*==============================[ База Данных ]=================================
		Подключение к БД в папке scriptfiles >> mysql_settings;

		host =
		username =
		password =
		database =
==================================[ #define ]=================================*/
#define GetPlayerListitemValue(%0,%1) 		g_player_listitem_s[%0][%1]
#define SetPlayerListitemValue(%0,%1,%2) 	g_player_listitem_s[%0][%1] = %2
#define GetOnlinePlayerCount()				online


#define SendInfo SendInf
#define BulletCrasher -5.5
#define red 0xff3838FF
#define eight 8
#define two 2
#define NULL 0
#define PASSENGER_SYNC  211
#define VEHICLE_SYNC  200
#define PLAYER_SYNC 207
#define MAX_FRACTIONS         13
#define MAX_RANGS             17
#define MAX_ADVERTS           16
#define MAX_VCARS             250
#define MAX_BIZZ              300
#define MAX_ATM               300
#define MAX_HOUSES            1000
#define MAX_GANGS             20
#define MAX_RADARS            100
#define MAX_SLOT              17
#define MAX_LIST              17
#define MAX_ITEM              245
#define MAX_DROP              1001
#define MAX_GARAGES           1000
// #define Dialog				  ShowPlayerDialog
#define SCM					  SendClientMessage
#define PlayerAccess          "{FFFFFF}Нажмите {03c03c}Y {FFFFFF}чтобы согласиться или {ff7518}N {FFFFFF}для отказа."
#define KickPlayer(%1)		  SetTimerEx("KickEx",100,false,"d",%1)



// ЛИЦЕНЗИИ

#define SEA_LIC 1
#define FLY_LIC 2
#define GUN_LIC 3


// ТИПЫ СООБЩЕНИЙ

#define MESSAGE_TYPE	1
#define POND_TYPE		2
#define ERROR_TYPE		3
#define SUCCESS_TYPE	4
#define ATTENTION_TYPE	5


// БИЗНЕСЫ

#define BIZ_MAGAZINE 1 // 24/7
#define BIZ_AZS 2 // АЗС
#define BIZ_RESTARAUNT 3 // Ресторан
#define BIZ_BAR 4 // Бар
#define BIZ_BAR2 5 // Забегаловка
#define BIZ_GUNSHOP 6 // Ammo Nation
#define BIZ_STO 7 // СТО
#define BIZ_SKINSHOP 8 // Магазин одежды
#define BIZ_KAZINO 9 // Казино
#define BIZ_PLAYSHOP 10 // Магазин игрушек
#define BIZ_PYROSHOP 11 // Магазин пиротехники
#define BIZ_COMPSHOP 12 // Магазин компьютеров
#define BIZ_SAUNA 13 // Сауна
#define BIZ_APTEKA 14 // Аптека



//============================[ Название таблиц MySQL ]=========================
#define T_ACCOUNTS            "`accounts`" 			// - Аккаунты
#define T_VEHICLE             "`vehicle`"  			// - Автомобили фракций
#define T_BIZZ                "`bizz`"     			// - Бизнесы
#define T_HOUSE               "`house`"    			// - Дома
#define T_ATM                 "`atm`"      			// - Банкоматы
#define T_SPRUNK              "`sprunk`"   			// - Автоматы с газировкой
#define T_OTHER               "`other`"    			// - Настройки сервера
#define T_MAFIA     		  "`mafia`"             // - Мафия
#define T_GANG                "`gang`"              // - Оружие
#define T_GANGZONE  		  "`gangzone`"          // - Захваченые зоны, территории
#define T_FAMILY              "`family_system`" 	// - Семьи
#define T_ADMIN               "`admins`"    		// - Администраторы
#define T_SUPPORT             "`support`"    		// - Саппорты
#define T_YOUTUBER            "`youtuber`"   		// - Ютуберы
#define T_RADAR               "`radar`"    			// - Радары
#define T_INVENT              "`inventory`" 		// - Инвенатри игроков
#define T_FAMILY              "`family_system`" 	// - Семьи
#define T_PODEZD              "`podezd`"   			// - Подьезды
#define T_ROOMS               "`rooms`"    			// - Квартиры
#define T_ONLINE_PLAYER		  "`online_player`" 	// - Время игры
//==============================================================================
#define AMAZINGGUARD 		// - Работа античита
#define GetBit(%0,%1) 					((%0 >> %1) & 1)

#define YouAreNotLoggedInAsAdmin "Вы не авторизованы. Используйте {FFFFFF}/alogin"
#define SendMes(%1,%2,%3,%4) do{ STRING_GLOBAL[0]=EOS; format(STRING_GLOBAL,sizeof(STRING_GLOBAL),(%3),%4); SendClientMessage((%1),(%2),STRING_GLOBAL); }while(FALSE)
#define GetName(%0) 					PI[%0][pName]
#define RandomEx(%1,%2) 				(random(%2-%1)+%1)
#define IsValidEmail(%1) 				regex_match(%1, "|([a-z0-9_\\.\\-]{1,20})@([a-z0-9\\.\\-]{1,20})\\.([a-z]{2,4})|is")
#define FreezePlayer(%0,%1) 			TogglePlayerControllable(%0, false), SetTimerEx("PlayerToggle", %1, false, "d", %0)
#define SFCM(%0,%1,%2) 					do{ new msg[141]; format(msg,141,%2); SendClientMessage(%0,%1,msg); } while(FALSE)
#define publics%0(%1) 					forward %0(%1); public %0(%1)
#define SPECIAL_ACTION_PISS   (68)
#define TIME_PLAYER_WALK 3000			// - время выдыхания пара при ходьбе (3 секунды)
#define TIME_PLAYER_RUN 1000			// - время выдыхания пара при беге (1 секунда)
#define JOB_CASH 50 					// - Зарплата за 1 ящик
#define PlayerIsNotOnline				"Такого игрока нет"
#define PlayerIsNotAuthorized			"Игрок не ввел пароль!"
#define public:%0(%1) \
			forward %0(%1); \
				public %0(%1)
				
#define SCM SendClientMessage
#define SCMF(%0,%1,%2,%3) format(format_string, 144, %2,%3) && SCM(%0, %1, format_string)

#define GetPickupInfo(%0,%1)		g_pickuPI[%0][%1]
#define SetPickupInfo(%0,%1,%2)		g_pickuPI[%0][%1] = %2
#define ClearPickupInfo(%0)			g_pickuPI[%0] = g_pickup_default_values
#define IsPickupExists(%0)			g_pickuPI[%0][P_CREATED]
#define IsValidPickupID(%0)			(0 <= %0 < MAX_PICKUPS)
#define FindZ(%0)					MapAndreas_FindZ_For2DCoord(%0)






//===============================[ Переменные ]=================================
new format_string[144];
new Text:TDEditor_TD[2];
new global_string[4000];
new STRING_GLOBAL[2248];

new Text:FlyTXD;
new Text:Interact_FlyTXD1[MAX_PLAYERS];
new Text:Interact_FlyTXD2[MAX_PLAYERS];
enum pFly {
	Float:fly_x,
	Float:fly_y,
	Float:fly_z
};
new FlyPlayer[MAX_PLAYERS][pFly];
new PlayerEffect[MAX_PLAYERS], PlayerRun[MAX_PLAYERS], EffectTimer[MAX_PLAYERS];
new TotalFreeHouses;
new TotalFreeApartments;
new Text:SKIN_SELECT[4];                                                        // - Выбор скина при регистрации
new Text:SKIN_BUY[4];                                                           // - Покупка скина
new Text:AUTO_SCHOOL[3];
new Text: pOdmenPanel_TD[18];
new PlayerText: pOdminPanel_PTD[MAX_PLAYERS][5];
new player_spectate_id;
new GlobalTimerIndex;
new WorkSalary[44], SalaryStatus[24];
//new AdvertiseTimerIndex;
//new Text:speed_text[24];                        								// - Спидометр(Speed)
new Text:logo;                                                               // - Логотип сервера(logo)
//new Text:np_td[16];
new Text:zz_td;
new Text:TDmessage;
//new Text:np_td;

enum r_info
{
	r_id,
	r_name[24],
	r_type,
	r_speed,
Float:r_x,
Float:r_y,
Float:r_z,
Float:r_a,
	r_object,
Text3D:r_label,
	r_area,
}
new RI[MAX_RADARS][r_info];
new TOTALRADAR;
new Text:show_speed[3];
new PlayerText:radar_speed[MAX_PLAYERS];
new loadserver;
new anticheckpointflood[MAX_PLAYERS];

new gYear, gMonth, gDay;


//================================[ Античит ]===================================
new bool:PlayerLogged[MAX_PLAYERS];
new Dvers[2];
new SDvers[2];
new AVehicle[80+1] = {-1,...};
new TotalAdminVehicles = 0;
//========================[ Система вдыхания/выдыхания ]========================
forward ActionEffect(playerid);
public OnFilterScriptInit()
{
	return 1;
}

#define WIDTH_TD 1920.0//ширина td
#define HEIGHT_TD 1080.0//высота td

#define TD_CLARITY_MAX 0
#define TD_CLARITY_MIN 255

#define BACKGROUND_HIDDEN 0//background скрыт
#define BACKGROUND_HIDE 1//background скрывается
#define BACKGROUND_SHOWN 2//background показан
#define BACKGROUND_SHOW 3//background показывается

forward ShowBackgroundForPlayer(playerid, backid);//функция показа td
forward HideBackgroundForPlayer(playerid, backid);//функция скрытия td

forward SmoothlyShowBackground(playerid, backid);//скрипт плавного показа background
forward SmoothlyHideBackground(playerid, backid);//скрипт плавного скрытия background

forward OnPlayerBackgroundShown(playerid, backid);//callback когда background показан полностью
forward OnPlayerBackgroundHidden(playerid, backid);//callback когда background скрыт полностью
forward OnPlayerBackgroundShow(playerid, backid);//callback когда background начал показываться
forward OnPlayerBackgroundHide(playerid, backid);//callback когда background начал скрываться

const TIMER_INTERVAL = 5;//интенсивность показа/скрытия background
const GRADATION_COLOR = 1;//шаг смены цвета (чем меньше, тем плавнее). Минимум 1, максимум 255 (мгновенно)

new PlayerText:bg_td[MAX_PLAYERS];

enum PLAYER_BACKGROUND
{
    bg_status,
    bg_color,
    bg_timer,
}

new pBG[MAX_PLAYERS][PLAYER_BACKGROUND];

public ShowBackgroundForPlayer(playerid, backid)
{
    if(pBG[playerid][bg_status] != BACKGROUND_HIDDEN) return 0;

    CreateBackgroundForPlayer(playerid);

    pBG[playerid][bg_status] = BACKGROUND_SHOW;
    pBG[playerid][bg_timer] = SetTimerEx("SmoothlyShowBackground", TIMER_INTERVAL, true, "ii", playerid, backid);

    return CallLocalFunction("OnPlayerBackgroundShow", "ii", playerid, backid);
}

public HideBackgroundForPlayer(playerid, backid)
{
    if(pBG[playerid][bg_status] != BACKGROUND_SHOWN) return 0;

    pBG[playerid][bg_status] = BACKGROUND_HIDE;
    pBG[playerid][bg_timer] = SetTimerEx("SmoothlyHideBackground", TIMER_INTERVAL, true, "ii", playerid, backid);

    return CallLocalFunction("OnPlayerBackgroundHide", "ii", playerid, backid);
}

public SmoothlyShowBackground(playerid, backid)
{
    if(pBG[playerid][bg_color] != TD_CLARITY_MIN)
    {
        pBG[playerid][bg_color] += GRADATION_COLOR;

        if(pBG[playerid][bg_color] > TD_CLARITY_MIN) pBG[playerid][bg_color] = TD_CLARITY_MIN;

        PlayerTextDrawColor(playerid, bg_td[playerid], pBG[playerid][bg_color]);
        return PlayerTextDrawShow(playerid, bg_td[playerid]);
    }
    else
    {
        pBG[playerid][bg_status] = BACKGROUND_SHOWN;
        KillTimer(pBG[playerid][bg_timer]);

        return CallLocalFunction("OnPlayerBackgroundShown", "ii", playerid, backid);
    }
}

public SmoothlyHideBackground(playerid, backid)
{
    if(pBG[playerid][bg_color] != TD_CLARITY_MAX)
    {
        pBG[playerid][bg_color] -= GRADATION_COLOR;

        if(pBG[playerid][bg_color] < TD_CLARITY_MAX) pBG[playerid][bg_color] = TD_CLARITY_MAX;

        PlayerTextDrawColor(playerid, bg_td[playerid], pBG[playerid][bg_color]);
        return PlayerTextDrawShow(playerid, bg_td[playerid]);
    }
    else
    {
        PlayerTextDrawDestroy(playerid, bg_td[playerid]);

        pBG[playerid][bg_status] = BACKGROUND_HIDDEN;
        KillTimer(pBG[playerid][bg_timer]);

        return CallLocalFunction("OnPlayerBackgroundHidden", "ii", playerid, backid);
    }
}

stock CreateBackgroundForPlayer(playerid)
{
    pBG[playerid][bg_color] = 0x00000000;

    bg_td[playerid] = CreatePlayerTextDraw(playerid, -WIDTH_TD/2, -HEIGHT_TD/2, "LD_SPAC:white");
    PlayerTextDrawTextSize(playerid, bg_td[playerid], WIDTH_TD, HEIGHT_TD);
    PlayerTextDrawAlignment(playerid, bg_td[playerid], 1);
    PlayerTextDrawColor(playerid, bg_td[playerid], 0x00000000);
    PlayerTextDrawFont(playerid, bg_td[playerid], 4);
    PlayerTextDrawSetProportional(playerid, bg_td[playerid], 0);
    PlayerTextDrawSetShadow(playerid, bg_td[playerid], 0);

    return 1;
}

public OnPlayerDisconnect(playerid, reason)
{
	PlayerTextDrawDestroy(playerid, bg_td[playerid]);

    pBG[playerid][bg_status] = 0;
    pBG[playerid][bg_color] = 0;

    KillTimer(pBG[playerid][bg_timer]);

    #if defined BCKGRND_OnPlayerDisconnect
        return BCKGRND_OnPlayerDisconnect(playerid, reason);
    #else
        return 1;
    #endif
}

#if defined _ALS_OnPlayerDisconnect
    #undef OnPlayerDisconnect
#else
    #define _ALS_OnPlayerDisconnect
#endif
#define OnPlayerDisconnect BCKGRND_OnPlayerDisconnect
#if defined BCKGRND_OnPlayerDisconnect
forward BCKGRND_OnPlayerDisconnect(playerid, reason);
#endif


stock SmoothEffect(playerid) {
	ShowBackgroundForPlayer(playerid, 1);
	return 1;
}

public OnPlayerBackgroundShown(playerid, backid) {
	if(backid == 1) {
		SetTimerEx("HideBackgroundForPlayer", 2000, false, "dd", playerid, backid);
		return 1;
	}
	return 1;
}




// Sessions



enum sessionPlayer {
	sessionNAME[MAX_PLAYER_NAME],
	sessionIP[32],
	sessionID,
	Float:sessionX,
	Float:sessionY,
	Float:sessionZ,
	Float:sessionAngle,
	sessionWorld,
	sessionInterior,
	
	sessionDateDay,
	sessionDateYear,
	sessionDateMonth,
	timeHour,
	timeMinute,

	sessionVehicle,
	bool:IsActive
};

new Session[MAX_PLAYERS][sessionPlayer];

DestroySession(playerid) {
	if(Session[playerid][IsActive] == true) {
		OnPlayerDisconnect(playerid, 0);
		OnPlayerConnect(playerid);
	}
	Session[playerid][IsActive] = false;
	memsets(Session[playerid], 0);
	return 1;
}


stock memsets(aArray[], iValue, iSize = sizeof(aArray)) { 
    new iAddress; 
    #emit LOAD.S.pri 12 
    #emit STOR.S.pri iAddress 
    iSize *= 4; 
    while (iSize > 0) { 
        if (iSize >= 4096) { 
            #emit LOAD.S.alt iAddress 
            #emit LOAD.S.pri iValue 
            #emit FILL 4096 
            iSize -= 4096; 
            iAddress += 4096; 
        } else if (iSize >= 1024) { 
            #emit LOAD.S.alt iAddress 
            #emit LOAD.S.pri iValue 
            #emit FILL 1024 
            iSize -= 1024; 
            iAddress += 1024; 
        } else if (iSize >= 256) { 
            #emit LOAD.S.alt iAddress 
            #emit LOAD.S.pri iValue 
            #emit FILL 256 
            iSize -= 256; 
            iAddress += 256; 
        } else if (iSize >= 64) { 
            #emit LOAD.S.alt iAddress 
            #emit LOAD.S.pri iValue 
            #emit FILL 64 
            iSize -= 64; 
            iAddress += 64; 
        } else if (iSize >= 16) { 
            #emit LOAD.S.alt iAddress 
            #emit LOAD.S.pri iValue 
            #emit FILL 16 
            iSize -= 16; 
            iAddress += 16; 
        } else { 
            #emit LOAD.S.alt iAddress 
            #emit LOAD.S.pri iValue 
            #emit FILL 4 
            iSize -= 4; 
            iAddress += 4; 
        } 
    } 
    #pragma unused aArray 
}  




//==============================================================================
main()
{
}

// Таймеры
new PlayerTimerID[MAX_PLAYERS];
new tazer_off[MAX_PLAYERS];
/*new player_afk_time[MAX_PLAYERS] = {0, ...};
new timer_show_use_alt_td[MAX_PLAYERS];
new clear_anim_text[MAX_PLAYERS];
new check_rent_car[MAX_PLAYERS];
new hand_timer[MAX_PLAYERS];
new mine_timer[MAX_PLAYERS];
new unfreeze_two_timer[MAX_PLAYERS];
new reset_antiflood_pick_timer[MAX_PLAYERS];
new clear_animations_delay[MAX_PLAYERS];
new warning_green_zone_timer[MAX_PLAYERS];
new pickup_back_timer[MAX_PLAYERS];
new mask_off_timer[MAX_PLAYERS];
new gamemode_exit_deday[MAX_PLAYERS];
new drug_effect_gone_timer[MAX_PLAYERS];*/




//new ispassenger_timer;
//

enum E_MSG_CMD_NAME
{
	MSG_YOU_NOT_LOGGED_AS_ADMIN,
	MSG_YOU_ALREADY_LOGGED_AS_ADMIN,
	MSG_YOU_CAN_NOT,
	MSG_PLAYER_OFFLINE,
	MSG_PLAYER_NOT_LOGGED,
	MSG_PLAYER_HAVE_MUTE,
	MSG_PLAYER_NEED_TO_LOGGED,
	MSG_LOGGED_TIME_OVER,
	MSG_PLAYER_ACCESS,
	MSG_ADD_BLOCK,
	MSG_DEL_BLOCK,
	MSG_BLOCK_INVITE,
	MSG_BAC_TEXT_DRAW,
	MSG_BackQuest,
	MSG_NEXT_QUEST,
	MSG_PAY_HOUSE_DAYS,
	MSG_PAY_BIZZ_DAYS,
	MSG_NOT_MONEY,
	MSG_NO_PLAYER_CREATE_CAR,
	MSG_NO_MONEY_BANK,
	MSG_NO_PLAYER_CONSIST_FAMILY,
	MSG_NOT_RAY_COINS,
}
enum E_MSG_CMD_STRUCT
{
    E_MSG_CMD_NAME:msgID,
	msgColor,
	msgText[144]
}
new const MSG_CMD_STRUCT[][E_MSG_CMD_STRUCT] =
{
	//{MSG_YOU_NOT_LOGGED_AS_ADMIN, COLOR_RED, "Вы не авторизованы. Используйте {FFCC00}/alogin"},
	{MSG_YOU_NOT_LOGGED_AS_ADMIN, 0xFFCC00FF, !"[Внимание] {FFFFFF}Данной команды не существует. Используйте /mm для просмотра списка команд."},
	{MSG_YOU_ALREADY_LOGGED_AS_ADMIN, COLOR_RED, !"Вы уже авторизовались как администратор!"},
	{MSG_YOU_CAN_NOT, COLOR_RED, !"Вам недоступна данная возможность"},
	{MSG_PLAYER_OFFLINE, COLOR_RED, !"Игрок не в игре"},
	{MSG_PLAYER_NOT_LOGGED, COLOR_RED, !"Игрок не ввел пароль!"},
	{MSG_PLAYER_HAVE_MUTE, COLOR_RED, !"У Вас бан чата. (/time)"},
	{MSG_PLAYER_NEED_TO_LOGGED, COLOR_RED, !"Сервер закрыл соединение! Для выхода из игры введите: {ffffff}/q(uit)"},
	{MSG_LOGGED_TIME_OVER, COLOR_RED, !"Время на авторизацию истекло! Для выхода из игры введите: {ffffff}/q(uit)"},
	{MSG_PLAYER_ACCESS, 0xFFFFFFFF, "Нажмите {00CC00}Y {FFFFFF}для согласия или {FF6600}N {FFFFFF}для отказа"},
	{MSG_ADD_BLOCK, COLOR_RED, !"Игрок уже в черном списке!"},
	{MSG_DEL_BLOCK, COLOR_RED, !"Игрок находится в черном списке организации!"},
	{MSG_BLOCK_INVITE, COLOR_RED, !"Игрок находится в черном списке организации!"},
	{MSG_BAC_TEXT_DRAW, COLOR_RED, !"Закройте старый  , для того чтобы открыть новый!"},
	{MSG_BackQuest, COLOR_RED, !"Вы уже выполнили данное задания!"},
	{MSG_NEXT_QUEST, COLOR_RED, !"Для начало выполните прежние задания!"},
	{MSG_PAY_HOUSE_DAYS, COLOR_RED, !"Вы не можете оплатить проживание более чем на 10 дней"},
	{MSG_PAY_BIZZ_DAYS, COLOR_RED, !"Вы не можете оплатить бизнес более чем на 30 дней"},
	{MSG_NOT_MONEY, COLOR_RED, !"У Вас недостаточно денег"},
	{MSG_NO_PLAYER_CREATE_CAR, 0xFFCC00AA, !"•[Подсказка] {ffffff}Ваш личный транспорт не создан. Создайте его с помощью команды: /fixcar"},
	{MSG_NO_MONEY_BANK, COLOR_RED, !"На Вашем банковском счету недостаточно денег"},
	{MSG_NO_PLAYER_CONSIST_FAMILY, COLOR_RED, !"Вы не состоите в семье"},
	{MSG_NOT_RAY_COINS, COLOR_RED, !"У Вас недостаточно Ray Coins. Пополнение: {ffcc00}"PROJECT_SITE""}
};





/*#define	dLego                           (5456)
#define	dLegocreate                     (3422)
#define	dLegoselect                     (13452)
#define	dLegotutorial                   (3556)
#define	dLegodeleteobj                  (6875)*/

enum
{
	ADM_NONE = 0,
	ADM_MODER = 1,
	ADM_SUPER_MODER = 2,
	ADM_ADMIN = 3,
	ADM_SUPER_ADMIN = 4,
	ADM_GRAND_ADMIN = 5,
	ADM_GRAND = 6,
	ADM_TOP = 7
}
enum // Диалоги
{
	INVALID_DIALOG_ID = -1,
	D_NULL = 0,
	CARCONTROl = 10,
	CARSHARE_AREND = 11,
	DIALOG_MENU_DONATE = 859,
	DIALOG_ANIMATION = 208,
	DIALOG_MENU_DONATE_CONVERT = 353,
	DIALOG_MENU_DONATE_CHANGE_NAME = 4566,
	DIALOG_MENU_DONATE_BUY_SKILL = 4573,
	DIALOG_MENU_DONATE_BUY_VIP = 866,
	dialog_SHOW_ASTAT = 855,
	DIALOG_SEND_EDIT = 878,
	DIALOG_SHOW_EDIT = 877,
	DIALOG_SELECT_RECIPE = 9798,
	DIALOG_BUY_RECIPE_GUNS = 4355,
	DIALOG_BUY_RECIPE_GUNS_2 = 5432,
	DIALOG_BUY_RECIPE_GUNS_3 = 2343,
	DIALOG_BUY_RECIPE_GUNS_4 = 3243,
	DIALOG_BUY_RECIPE_GUNS_5 = 3423,
	DIALOG_BUY_RECIPE_GUNS_6 = 6543,
	D_REGISTER = 1,
	D_LOGIN = 2,
	D_ERRORPAS = 3,
	D_SEX = 4,
	D_SECRET = 987,
	D_COMMANDSERVER = 6,
	D_UCPADMIN = 7,
	D_UCPADMIN2 = 8,
	D_SKILLS = 9,
	D_ADDNED = 11,
	D_JOINHOUSE = 24,
	D_SELLHOUSE = 29,
	D_INVITEFRAC = 18,
 	D_YOUTUBER = 5550,
	D_PICK = 20,
	CP_ACTION_TYPE_TRUCKER_PUT = 300,
	DIALOG_CREATE_GUN = 5455,
	DIALOG_CREATE_GUN_PATRON = 6464,
	D_BIZPANEL = 8952,
	DIALOG_JERRICAN_FILL_CAR = 8789,
	D_NUMBER_MENU = 1759,
	D_CARNUMBER	= 1760,
	D_GPS = 46,
	D_TEMPRABOTA = 999,
	DIALOG_SHOWALL = 88,
	DIALOG_GUN_VDV = 48,
	D_WEATHER = 47,
	DIALOG_BUY_METALL = 785,
	D_FRACMENU = 49,
	DIALOG_EDIT = 500,
	DIALOG_EDIT_CHANGE = 501,
	D_ADMINREG = 57,
	D_ATM = 62,
	DIALOG_MENU_CMD = 64,
	DIALOG_MENU_HELP_ADM = 65,
	DIALOG_MENU_RULE_SERVER = 66,
	D_VMENU = 72,
	DIALOG_MENU_BUSINESS_24_7 = 434,
	D_NMENU = 77,
	D_CASH = 97,
	D_LIC = 96,
	D_HOME = 10100,
	D_HEAL = 106,
	D_JOB = 131,
	D_LEAVE = 1125,
	D_CANCELRENT = 6400,
	D_DONATE = 200,
	D_APANEL = 3856,
	D_CTO = 18000,
	D_CHUP = 100,
	D_VEH = 8607,
	D_BUYSIM = 2324,
	D_HOMEULUCH = 4315,
	D_COMMAND_SHOW = 5457,
	D_BREAK = 6754,
	D_MAFIA = 7495,
	D_GANG = 8100,
	D_PHONE = 344,
	D_INVITESKIN = 7434,
	D_LEADERSKIN = 7436,
	D_TEMPLEADER = 7437,
	D_adm = 8934,
	D_MAIL = 9233,
	D_ALOGIN = 3200,
	BIZ_TOOLS = 3201,
	CHECK = 3220,
	ACCESLIST = 3223,
	D_LICWEAPON = 9245,
	D_JOINCARS = 9274,
	D_SERVICE = 9501,
	D_SPEC = 4433,
	D_ARMOURY = 9600,
	D_ARMOURY_FSB = 9603,
	D_STOPLOAD = 9700,
	D_RADAR = 2201,
	D_ASH = 720,
	PICKUP_ACTION_TYPE_AMMOV_VDV = 354,
	D_BANYA,
	SelectSpawn = 721,
	SelectSpawnVokzal = 7221,
	ArendTruckerDialog = 722,
	ArendYborDialog = 722,
	DIALOG_TELEPORT_LIST = 725,
	D_REMOVESUPPORT,
	D_REMOVESUPPORT1,
	D_REMOVEYOUTUBER,
	D_REMOVEYOUTUBER1,
	JobVodolaz,
	SESSION,
	DIALOG_MENU,
	JobVodolaz1,
	DIALOG_CMDS_ORGANIZATIONS,
	DIALOG_CMDS_ORGANIZATIONS_LIST,
	DIALOG_CMDS_WORKS,
	DIALOG_CMDS_PROPERTY,
	DIALOG_CMDS_COMMYNUCATION,
	DIALOG_CMDS_OTHER,
	DIALOG_MENU_SETTINGS,
	DIALOG_MENU_SECURITY = 7450,
	DIALOG_MENU_CHANGE_NAME = 7452,
	DIALOG_CONFIRMATION_OF_MAIL,
	DIALOG_RADIO,
	DIALOG_CMDS_PROPERTYY,
	DIALOG_TRAINING,
	DIALOG_STO_PAINT_JOB,
	/*dFamilyMenu,
	dSetFamilyMessage,
	dEditFamilyVehicle,
	dModelEditFamily,
	dFamilyRank,
	dEditFamilyRank,
	dEditRankStepFamily1,
	dEditRankStepFamily2,
	dModelFamilyEdit,
	dBuyFamilyVehicle,*/
	DIALOG_FULL_ACCESS,
	DIALOG_ENTRACE_MENU = 7460,
	DIALOG_CREATE_ENTRANCE,
	DIALOG_ENTRACE_REG,
	DIALOG_ROOM_ENTER,
	DIALOG_PAY_ROOM,
	DIALOG_EVICTION_ROOM,
	CLIST,
	SCOOTER,
	DIALOG_MENU_LODGER,
	FLY_ANSWER,
	SHAHTA
};
//============================[ Список работ ]==================================
enum
{
	JOB_BUS = 1,
	JOB_TAXI = 2,
	JOB_PRODUCT = 3,
	JOB_FUEL = 4,
	JOB_MECHANIC = 5,
	JOB_TRUCKER = 6
};
//===========================[ Список организаций ]=============================
enum
{
	TEAM_NONE = 0,          // - НЕТ
	TEAM_AO = 1,            // - АО
	TEAM_PPS = 2,           // - ППС
	TEAM_DPS = 3,           // - ДПС
	TEAM_FSIN = 4,          // - ФСИН
	TEAM_MZY = 5,          	// - МЗ-Ю
	TEAM_MZA = 6,          	// - МЗ-А
	TEAM_SMI = 7,           // - СМИ
	TEAM_VDV = 8,       	// - ВДВ
	TEAM_SPARTAK = 9,       // - СПАРТАК
	TEAM_CSKA = 10,         // - ЦСКА
	TEAM_DINAMO = 11,       // - ДИНАМО
	TEAM_ZENIT = 12         // - ЗЕНИТ
};
//==========================[ Автопарк организаций ]============================
new CAR_AO[2];              // - АО
new CAR_PPS[2];             // - ППС
new CAR_DPS[2];             // - ДПС
new CAR_FSIN[2];            // - ФСИН
new CAR_MZY[2];             // - МЗ-Ю
new CAR_MZA[2];             // - МЗ-А
new CAR_SMI[2];             // - СМИ
new CAR_VDV[2];             // - ВДВ
new opg1car[2];             // - СПАРТАК
new opg2car[2];             // - ЦСКА
new opg3car[2];             // - ДИНАМО
new chechen_mafia[2];       // - ЗЕНИТ
//new russian_mafia[2];
//==============================================================================
#if !defined IsValidVehicle
     native IsValidVehicle(vehicleid);
#endif

#if !defined FALSE
	new stock
	bool:FALSE = false;
#endif
/*enum Flags
{
    b0x01,
    bApplyGravity,
    bDisableFriction,
    bCollidable,
    b0x10,
    bDisableMovement,
    b0x40,
    b0x80,

    bSubmergedInWater,
    bOnSolidSurface,
    bBroken,
    b0x800,
    b0x1000,
    b0x2000,
    b0x4000,
    b0x8000,

    b0x10000,
    b0x20000,
    bBulletProof,
    bFireProof,
    bCollisionProof,
    bMeeleProof,
    bInvulnerable,
    bExplosionProof,

    b0x1000000,
    bAttachedToEntity,
    b0x4000000,
    bTouchingWater,
    bEnableCollision,
    bDestroyed,
    b0x40000000,
    b0x80000000
};



new PhysFlags[MAX_PLAYERS][Flags];
new TimerGOODMODE;*/






new FirstPerson[MAX_PLAYERS];
new	bool:switch_fp[MAX_PLAYERS];
//new DialogSlot[MAX_PLAYERS][100];
	//АО
    new shlak_ao;
    new shlak_ao_o;
    
    new shlak_smp;
    new shlak_smp_o;
    
    new shlak_dps;
    new shlak_dps_o;
    new shlak_pps;
    new shlak_pps_o;
    new dver_ao;
    new dver_ao_o;
	new dver2_ao;
	new dver2_ao_o;
	//ФСБ
 	new dver_fsb;
    new dver_fsb_o;
	new dver2_fsb;
	new dver2_fsb_o;
	// ДПС
	new dver_dps;
	new dver_dps_o;
	// ППС
	/*tmpobjid228 = CreateDynamicObjectEx(1569, 469.760009, 1325.300048, 1722.510009, 0.000000, 0.000000, 90.000000, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid228, 0, 10041, "CJ_BARB2", "interiordoor1_256", 0x00000000);*/
	new dver_pps;
	new dver_pps_o;
 	// ОПГ Южная
	new shlak_opg;
	new shlak_opg_o;
	// ОПГ Ореховская
	new shlak_opg2;
	new shlak_opg2_o;
 	// ОПГ Солнцевская
	new shlak_opg3;
	new shlak_opg3_o;
 	// чеченская мафия
	new shlak_chechen;
	new shlak_chechen_o;
// Переменные
// Для домов класса "особняк", семьи, район элитный
new family_cars[2];
new family_cars2[2];
//new Text: gps_support_td[3];
//new Text:arzp_PTD[MAX_PLAYERS];
new Text:AnimDraw;



// 
new online_limiter = 50;
new connected_bots;
new NAME_SERVER[51];
new online;

//new PlayerText:USE_ALT[4];
new PlayerText:USE_ALT[1];
//new PlayerTimer[MAX_PLAYERS][5];

enum ZoneInfo
{
	Float:zMin_x,
	Float:zMin_y,
	Float:zMax_x,
	Float:zMax_y,
	zName[30]
};
/*new ZoneName[][ZoneInfo] = {
	{361.3561,756.7304,440.8436,807.6113, "ППС"},
	{344.9449,1474.4774,463.9348,1624.8350, "ВОКЗАЛ"},
	{718.8766,628.4958,878.2419,793.1866, "ДАЛЬНОБОЙЩИКИ"},
	{641.6240,972.8011,672.0895,1028.1151, "АВТОСАЛОН"},
	{507.2346,1078.4828,553.6718,1122.9528, "ШТРАФСТОЯНКА"},
	{2153.4116,-2444.3455,48.4697,50.4706, "ЦЕНТРАЛЬНАЯ БОЛЬНИЦА"},
	{-573.5466,254.5784,1029.7197,1961.0018, "АРЗАМАС"},
	{779.2998,2363.6938,823.3085,2548.8857, "ФСБ"},
	{2278.6782,-278.5748,2385.0618,-224.1932, "ГРУЗЧИКИ"},
	{2145.3750,-365.6998,2797.8047,-160.6112, "Д.ГАРЕЛЬ"},
	{2520.4844,-2319.5735,2579.4763,-2170.4832, "КЛУБ"},
	{2300.2888,-1859.5262,2368.3547,-1771.0226, "АВТОСАЛОН"},
	{2371.0784,-1860.0044,2449.8032,-1785.1710, "СТАРАЯ БОЛЬНИЦА"},
	{2774.4387,-1448.7698,2967.5366,-1209.3517, "ВОДОЛАЗЫ"},
	{2616.2598,-2669.3394,2699.6655,-2500.4282, "ЦЕРКОВЬ"},
	{2528.3525,-2454.1526,2584.7544,-2401.2151, "ДПС"},
	{2125.0515,-1860.1136,2195.2710,-1816.6112, "СТО"},
	{1564.5901,-2767.8718,2823.7119,-1312.9098, "Г.ЮЖНЫЙ"},
	{1894.4192,2219.0232,1945.2483,2253.8203, "АВТОШКОЛА"},
	{1778.5278,2064.6128,1829.3707,2136.0444, "АДМИНИСТРАЦИЯ"},
	{1818.4810,2005.0408,1872.2751,2049.8779, "БАНК"},
	{1062.6827,1525.6868,1915.7078,1753.7195, "ВОИНСКАЯ ЧАСТЬ"},
	{1592.5245,1714.6685,2395.4194,2494.9822, "БАТЫРЕВО"}
};
*/
//new DialogSlot[MAX_PLAYERS][100];

/*enum _fam_enum_
{
	f_name [ 32 ],
	f_chat_color,
	f_creator [ MAX_PLAYER_NAME ],
	f_creator_zam [ MAX_PLAYER_NAME ],
	f_creating_data [ 32 ],
	f_members_amount,
	f_narko,
	f_pt,
	f_money,
	f_online,
}*/

/*enum _fam_enum_
{
	f_name [ 32 ],
	f_chat_color,
	f_creator [ MAX_PLAYER_NAME ],
	f_creator_zam [ MAX_PLAYER_NAME ],
	f_creating_data [ 32 ],
	f_members_amount,
	Float:f_spawn [ 4 ],
	f_spawn_int,
	f_spawn_virt,
	f_patron,
	f_metall,
	f_drugs,
	f_money,
	f_online,
}

new family_info [ 200 ] [ _fam_enum_ ];//Расчитано на 200 семей
new family_count = 0;//кол-во семей.
new family_chat_color[ 22 ] [ 12 ] ={//Массив цвета для чата
	"FFFFFF","FFD39B","FFFF00","54FF9F","98F5FF","269BD8","E75480","00FFFF","F5DEB3","000cff","2a52be","3fda07","ffffff","FF6347","ff6347","00c0ff","ffff00","c3c3c3","ffcc33","33cc00","ff8300","a9c4e4"
};*/

enum MYSQL_SETTINGS
{
	SERVER_HOST,
	SERVER_USERNAME,
	SERVER_PASSWORD,
	SERVER_DATABASE
}
new MySQLSettings[MYSQL_SETTINGS][30];
//===============================  Переменные  =================================

enum // типы анимок
{
	USE_ANIM_TYPE_NONE,
	USE_ANIM_TYPE_CHAT, // анимка чата
};
enum wInfo
{
    pAmmo,
    pWeapon
}

enum DATA_INFO
{
	data_ID,
	data_NAME[MAX_PLAYER_NAME+1],
	data_REGISTER_IP[32+1],
	data_LOGIN_IP[32+1],
	data_PASSWORD[32+1],
	data_EMAIL[50+1],
	data_REFERAL[MAX_PLAYER_NAME+1],
	data_REGDATE_DAY,
	data_REGDATE_MONTH,
	data_REGDATE_YEAR,
	data_LOGDATE_DAY,
	data_LOGDATE_MONTH,
	data_LOGDATE_YEAR,
	bool:data_LOGGED,
	data_SEX,
	data_SKIN,
	data_MONEY,
	data_ADMLVL,
	data_LVL,
	data_MEMBER,
	data_PODMEMBER,
	data_LEADER,
	data_RANK,
	data_SKINM,
	data_EXP,
	data_MUTE,
	data_MUTETIME,
	data_WARN,
	data_WARNTIME,
	data_SALARY,
	data_BANK,
	data_LICB,
	data_LICG,
	data_BUSINESS,
	data_HOUSE,
	data_CAR[3],
	data_CARb[3],
	data_CARFUEL[3],
	data_CAR_COLOR1[3],
	data_CAR_COLOR2[3],
	data_CAR_COLOR1b[3],
	data_CAR_COLOR2b[3],
	data_PATR,
	data_DRUGS,
	data_WANTED,
	data_ZAKON,
	data_NUMBER,
	data_NUMBER_M,
	data_MET,
	data_JAILTIME,
	data_JAIL,
	data_DONATE,
	data_DONATE_P,
	data_DONATE_ALL,
	data_PHONE,
	data_PHONEBOOK,
	data_DIR,
	data_SATIETY,
	data_DRINK,
	Float:data_HP,
	Float:data_ARM,
	data_MED,
	data_SPAWN,
	data_HOSPITAL,
	bool:pCheat,
	Float:pX,
	Float:pY,
	Float:pZ,

	data_PISTOL,
	data_SDPISTOL,
	data_DEAGLE,
	data_SHOTGUN,
	data_MP5,
	data_AK47,
	data_SNIPERRIFLE,
	data_JOB,
	data_POLIT,
	data_PADIK,
	data_KV,
	data_JB,
	data_AB,

	data_CONTRY,

	data_DSKILL,
	data_DEXP,
	// NO SAVE
	data_CHANGESKIN,
	data_ECODE,
	bool:data_ANIM,
	data_WALK_TIMER,
	data_WALK_STYLE,
//	data_SPEED_UPDATE,
	data_3SECOND,
	data_MINUTE,
	data_PLAYER_TIMER_ID,
	data_AFK,
	data_START_JOB,
	data_PU,
	data_DREV_TIMER_ID,
	data_SHAHTA_TIMER_ID,
	data_YABLO_TIMER_ID,
	data_OGOROD_TIMER_ID,
	data_RENTJOB,
	data_RENTCAR,
	data_BUSCAR,
	data_ASH_CAR,
	data_ASH_TEST,
	data_CHEK,
	data_TRAILER,
	data_VEH,
	data_VEHb,
	data_HEALPACK,
	data_MASK,
	data_MASK_M,
	data_CALL,
	bool:data_CLICKTD,
	bool:data_CLOTHESMENU,
	bool:data_OPENAUTOSALON,
	bool:data_OPENCASINO,
	data_KANISTRA,
	data_ZAPCHASTI,
	data_AUTOSALON_CAR,
	data_CHANGECAR,
	data_CHANGECARb,
	data_ONECOLOR_AS,
	data_TWOCOLOR_AS,
	bool:data_EFIR,
	data_SETMARK,
	data_911_1,
    data_911_2,
    data_GUN[13],
	data_AMMO[13],
	data_GOLOS,
	data_PUTPATR,
	data_PUTMET,
	data_CT_NUMBER,
	data_CS_TEAM,
	data_CT_VEH,
	data_CHAT_TEXT[128],
	data_PROMOCODE,
	data_VIP,
	data_TIME,
};
/*new porch_menu,
	porch_exit,
	porch_house_exit,
	TOTALPORCH,
	TOTALPORCHHOUSE;*/
new TruckerCar[MAX_PLAYERS];
new TruckerGruz[MAX_PLAYERS];

enum
    E_GUN_DATA
{
	gun_name[32],
	gun_metal,
	gun_id
};

new const
    gunlist[][E_GUN_DATA] =
{
	{"Пистолет", 15, 22},
	{"Пистолет с глушителем", 12, 23},
	{"Desert Eagle", 15, 24},
	{"ТЕК-9", 15, 32},
	{"Узи", 17, 28},
	{"МП5", 20, 29},
	{"Дробовик", 17, 25},
	{"Обрез", 20, 26},
	{"Боевой дробовик", 25, 27},
	{"АК-47", 25, 30},
	{"М4", 30, 31},
	{"Country Rifle", 20, 34},
	{"Sniper Rifle", 30, 33}
};

new g_player_listitem_use[MAX_PLAYERS] = {-1, ...};

const MAX_ENTRANCES = 1000;

enum
	E_ENTRANCE_STRUCT
{
	E_SQL_ID,
	Float: POS_X,
	Float: POS_Y,
	Float: POS_Z,
	Float: EXIT_POS_X,
	Float: EXIT_POS_Y,
	Float: EXIT_POS_Z,
	Float: EXIT_ANGLE,
	E_PICKUP,
	E_MAP_ICON,
	E_AREA_ENTER,
	E_PRICE_ROOM
};

new g_entrance[MAX_ENTRANCES][E_ENTRANCE_STRUCT];
new TOTALENTRANCE;

new AreaEntraceMenu;
new AreaEntraceExit;
new AreaRoomExit;


new PlayerText:txd_rules[4];
new PlayerText:interact_txd_rules[MAX_PLAYERS][2];
new progressPravila[MAX_PLAYERS]; // На каком правиле сидит чел.



#define GetEntranceData(%0,%1)		g_entrance[%0][%1]
#define SetEntranceData(%0,%1,%2)	g_entrance[%0][%1] = %2

const MAX_ROOMS = 23;

enum
	E_ROOM_STRUCT
{
	ER_SQL_ID,
	ER_OWNER[MAX_PLAYER_NAME],
	ER_PAY,
	bool: ER_LOCK
};

new g_rooms[MAX_ENTRANCES][MAX_ROOMS][E_ROOM_STRUCT];
new TOTALROOMS;

#define GetRoomData(%0,%1,%2)		g_rooms[%0][%1][%2]
#define SetRoomData(%0,%1,%2,%3)	g_rooms[%0][%1][%2] = %3

static
	Float: coord_rooms[][] =
	{
		{-377.7701,1131.2261,2712.7778},
		{-377.6734,1140.2941,2712.7778},
		{-379.2425,1142.1211,2712.7778},
		{-380.8272,1140.3601,2712.7778},
		{-380.6302,1129.8406,2716.4285},
		{-377.6779,1129.7224,2716.4285},
		{-377.5689,1140.3252,2716.4285},
		{-380.7247,1140.3468,2716.4285},
		{-380.7022,1129.7998,2720.0208},
		{-377.8573,1129.7659,2720.0208},
		{-377.6762,1140.2970,2720.0208},
		{-380.8028,1140.3809,2720.0208},
		{-380.6706,1129.7667,2723.8518},
		{-377.6934,1129.7875,2723.8518},
		{-377.8866,1140.3405,2723.8518},
		{-380.6706,1140.3396,2723.8518},
		{-380.6268,1129.8306,2727.4724},
		{-377.5720,1129.7612,2727.4724},
		{-377.8741,1140.3409,2727.4724},
		{-380.7415,1140.4010,2727.4724}
	};

new g_area_rooms[sizeof coord_rooms];

new vidnick[MAX_PLAYERS];

new dbHandle;



stock Float:GetDistanceBetweenPoints(Float:X, Float:Y, Float:Z, Float:PointX, Float:PointY, Float:PointZ)
{
	new Float:Distance;Distance = floatabs(floatsub(X, PointX)) + floatabs(floatsub(Y, PointY)) + floatabs(floatsub(Z, PointZ));
	return Distance;
}




/*new iPlayerAmmo[MAX_PLAYERS];
new iNewPlayerAmmo[MAX_PLAYERS];
new Shot[MAX_PLAYERS];*/

new PAYDAY = 0;

new Text3D:VehicleLabel[MAX_VEHICLES];											// - Для 3D номеров транспорта;
//new Text3D:TaxiCarLabel[MAX_VEHICLES];
new pLessonCar[MAX_PLAYERS];
new pMarshCar[MAX_PLAYERS];
new bool:AshLock[MAX_VEHICLES] = false;
//металл
new pickmetll;//Металл
new metall;//Металл
//
new sklad;
new bobject[MAX_PLAYERS];
new Text3D: btext[MAX_PLAYERS];
new bool:gPlayerLogged[MAX_PLAYERS];

//new magaz[2];
new armskin;
new opgorexi;
new kaptit;
new opgygi;
new opgsolnce;

enum
	E_DONATE_DATE
{
	donate_name[70]
};

new const
	donate_list[][E_DONATE_DATE] =
{
	{"Перевести кредиты в рубли (1 кр. = 1000 рублей)"},
	{"Сменить имя (30. кр.)"},
	{"Снять все предупреждения (50. кр.)"},
	{"Снять розыск (20 кр.)"},
	{"Военный билет (100. кр.)"},
	{"+1 EXP (10 кр.)"},
	{"+1 LvL (100 кр.)"},
	{"Навыки оружия (50 кр. = 1 шт. | 200 кр. = все)"},
	{"VIP аккаунт"},
	{"Проверить баланс"}
};

new dialog_listitem_values[MAX_PLAYERS][24];
new dialog_listitem[MAX_PLAYERS];

#define MAX_EDIT_LIST 30

enum
	E_STRUCT_EDIT
{
	aText[148],
	aName[MAX_PLAYER_NAME],
	aStatus,
	aEditName[MAX_PLAYER_NAME],
	aPhone
};
new edit_list[MAX_EDIT_LIST][E_STRUCT_EDIT];

enum E_CMDS_ORG_STRUCT
{
	ORG_INFO[1900]
};
new bool: player_show_name_tags[MAX_PLAYERS] = {true, ...};

enum
	E_TELEPORT_STRUCT
{
	t_name[30],
	Float: t_pos_x,
	Float: t_pos_y,
	Float: t_pos_z,
	Float: t_pos_angle
};

new teleport_list[][E_TELEPORT_STRUCT] =
{
	{"Южный",         2550.0535,-2188.1401,21.9676, 360.0000},
	{"Батырево",      1881.6501,2179.5518,15.8354,275.0000},
	{"Ферма",       2445.8528,1437.3696,11.1600,183.1263},
	{"Шахта",     1702.5061,1365.9828,12.0337,88.8572},
	{"Водолазы",         2821.0381,-1405.7656,2.9151,270.2973},
	{"Анашан",     2482.7883,-744.1948,12.0969,184.9963},
	{"Космодром", 485.8954,-2426.9951,34.8605,21.7080},
	{"Грузчики д. Гарель",     2343.0620,-258.7677,1.6134,271.1310},
	{"Автошкола",	1900.7405,2227.6316,15.7134,270.0043},
	{"Лесорубы", 	  1538.6581,2881.4065,12.1700,89.4853},
	{"Антенкино",      	  2129.1853,-1944.6653,20.2422,354.1239},
	{"Ангар для МП",   2738.2607,-2346.4038,17.9660,88.7513},
	{"Кремль",  -2353.5781,1676.3853,53.0149,208.0326},
	{"Лыткарино",  -2232.6255,214.3611,24.5214,195.8591},
	{"Поле с Лыткарино",  1918.6581,-1899.1187,56.5196, 90.0000},
	{"Эдово",  -2371.9595,2523.8440,42.6790,2.6712},
	{"Трасса для дрифта",  1918.6581,-1899.1187,56.5196, 90.0000},
	{"Гоночная трасса",  1918.6581,-1899.1187,56.5196, 90.0000},
	{"DM карта",  1918.6581,-1899.1187,56.5196, 90.0000},
	{"Паркур #1",  1918.6581,-1899.1187,56.5196, 90.0000},
	{"Дрифт",  1918.6581,-1899.1187,56.5196, 90.0000},
	{"Порт",  2897.7036,2100.6726,4.4934,268.8199},
	{"Паркур #2",  1918.6581,-1899.1187,56.5196, 90.0000}
};
new help_cmds_org_list[11][E_CMDS_ORG_STRUCT] =
{
	{
		"{ffffff}Команды организации: {FFCC00}Правительство{ffffff}\n\n"\
		"/r - Рация\n"\
		"/rb - Рация((NonRP))\n"\
		"/d - Депортамент\n"\
		"/db - Депортамент((NonRP))\n"\
		"/tazer [id игрока] - ударить игрока электрошокером\n"\
		"/selllic - продать лицензии\n"\
	},
	{
		"/tazer [id] - ударить игрока электрошоком\n"\
		"/su [id] [причина] - объявить игрока в розыск\n"\
		"/wanted - список разыскиваемых\n"\
		"/clear [id] - убрать игрока с розыска\n"\
		"/arrest [id] - посадить игрока в КПЗ\n"\
		"/takegun [id] - изъять оружие у игрока\n"\
		"/calling - список входящих вызовов\n"\
		"/incar [id] - затащить игрока в машину\n"\
		"/cuff [id] - надеть наручники на игрока\n"\
		"/uncuff [id] - снять наручники с игрока\n"\
		"/m [текст] - написать в мегафон\n"\
		"/break [тип (0-4)] - поставить ограждение\n"\
		"/gotome - конвоировать игрока"
	},
	{
		"\n{ffffff}Команды организации: {FFCC00}Центральная Больница{ffffff}\n\n"\
		"/r - Рация\n"\
		"/rb - Рация((NonRP))\n"\
		"/d - Депортамент\n"\
		"/db - Депортамент((NonRP))\n"\
		"/heal [id] [цена] - вылечить игрока до 100 ХП\n"\
		"/getdis - провести обследование игрока и узнать его болезни\n"\
		"/calling - список входящих вызовов"
	},
	{
		"\n{ffffff}Команды организации: {FFCC00}Воздушно-десантные войска (ВДВ){ffffff}\n\n"\
		"/open - открыть ворота\n"\
		"/putmet [количество] - положить металл на склад Армии\n"\
		"/getmet [количество] - взять металл со склада Армии\n"\
		"/la - загрузить ящики с патронами\n"\
		"/unla - выгрузить ящики с патронами\n"\
		"/buyt(ree) - купить дерево\n"\
		"/buym(et) - купить металл\n"\
		"/unloadmet (/unmet) - выгрузить металл\n"\
		"/unloadtree (/untree) - выгрузить дерево"
	},
	{
		"\n{ffffff}Команды организации: {FFCC00}Средства Массовой Информации (СМИ){ffffff}\n\n"\
		"/edit - редактировать объявление\n"\
		"/news - управление\n"\
		"/live - выйти в эфир\n"\
		"/calls - начать принимать звонки в эфир\n"\
		"/rkick [id] - кикнуть игрока с эфира\n"\
		"/rinvite [id] - принять игрока в эфир\n"\
		"/rinfo - информация о эфире\n"\
		"/stopcalls - остановить звонки в эфир"
	},
	{
		"\n{ffffff}Команды организации: {FFCC00}Организованные Преступные Группировки (ОПГ){ffffff}\n\n"\
		"/makegun - сделать оружие\n"\
		"/sellgun [id] [цена] - продать оружие игроку\n"\
		"/tie - связать игрока\n"\
		"/la - положить в фургон дерево/патроны/металл\n"\
		"/untie - развязать игрока\n"\
		"/box - надеть мешок на голову игроку\n"\
		"/unbox - снять мешок с игрока\n"\
		"/loaddrugs - загрузить наркотики в машину (Только в грузовичок ОПГ)\n"\
		"/unloaddrugs - выгрузить наркотики\n"\
		"/capture - захват территории\n"\
		"/loadammo - загрузить патроны\n"\
		"/unloadmmo - выгрузить патроны\n"\
		"/call 228 - заказать новую партию порошка\n"\
		"/sellzone - продать территорию\n"\
		"/incar [id] - затащить игрока в машину"
	},
 	{
		"\n{ffffff}Команды организации: {FFCC00}Дорожно-патрульная служба (ДПС){ffffff}\n\n"\
		"/open - открыть шлагбаум/ворота\n"\
		"/towperm - выдать разрешение на буксировку\n"\
		"/ticket [id] [причина] - выписать штраф игроку\n"\
		"/findticket [id] - посмотреть неоплаченные штрафы игрока\n"\
		"/tazer [id] - ударить игрока электрошоком\n"\
		"/m [текст] - написать в мегафон\n"\
		"/su [id] [причина] - объявить игрока в розыск\n"\
		"/takelic [id] [категория] - отнять лицензии у игрока\n"\
		"/break [тип (0-4)] - поставить ограждение\n"\
		"/wanted - список разыскиваемых\n"\
		"/clear [id] - убрать игрока с розыска\n"\
		"/arrest [id] - посадить игрока в КПЗ\n"\
		"/takegun [id] - изъять оружие у игрока\n"\
		"/calling - список входящих вызовов\n"\
		"/incar [id] - затащить игрока в машину\n"\
		"/cuff [id] - надеть наручники\n"\
		"/uncuff [id] - снять наручники с игрока\n"\
		"/givenumber [id] - выдать гос номера на транспорт игроку\n"\
		"/search - Обыскать игрока\n"\
		"/pdd - штраф за нарушение ПДД\n"\
		"/gotome - конвоировать игрока\n"\
		"/searchcar - обыск багажника автотранспорта"
	},
 	{
		"\n{ffffff}Команды организации: {FFCC00}Федеральная Служба Безопасности (ФСБ){ffffff}\n\n"\
		"/readsms - включить прослушку SMS [/readsms - выключить]\n"\
		"/towperm - выдать разрешение на буксировку\n"\
		"/switchskin - сменить внешность (Только для себя (0-299))\n"\
		"/tipster - прослушка фракций [/tipster 0 - Выключить прослушку]\n"\
		"/mwarn - выдать выговор сотруднику гос.фракции\n"\
		"/online - посмотреть кол-во игроков в фракциях\n"\
		"/search - обыск игрока\n"\
		"/gotome - конвоировать игрока\n"\
		"/searchcar - обыск багажника автотранспорта"
	},
	{
		"\n{ffffff}Команды организаций: {FFCC00}Общие{ffffff}\n\n"\
		"/find - посмотреть список онлайн игроков в организации\n"\
		"/leave - покинуть организацию по СЖ\n"\
		"/rb [текст] - написать в ООС чат организации/работы\n"\
		"/r [текст] - написать в РП чат организации/работы\n"\
		"/open - открыть/закрыть шлагбаум\n"\
		"(Альтернатива: H в транспорте (гудок))"
	},
	{
		"\n{ffffff}Команды организации: {FFCC00}Лидер/заместитель{ffffff}\n\n"\
		"/showall - посмотреть список всех игроков в организации\n"\
		"/find - посмотреть список игроков онлайн в организации\n"\
		"/changeskin [id] - изменить скин игроку в организации\n"\
		"/invite [id] - принять игрока в организацию\n"\
		"/uninvite [id] [причина] - уволить игрока из организации\n"\
		"/rang [id] [+/-] - изменить ранг игроку в организации\n"\
		"/uninviteoff [никнейм] [причина] - уволить игрока из организации в оффлайне\n"\
		"/mwarn [id] - выдать выговор\n"\
		"/blacklist - добавить игрока в черный список"
	},
	{
		"\n{ffffff}Команды организаций: {FFCC00}Мафия{ffffff}\n\n"\
		"/open - открыть шлагбаум\n"\
		"/bizwar - захват бизнеса\n"\
		"/makegun - сделать оружие\n"\
		"/sellgun - продать оружие\n"\
		"/tie - связать\n"\
		"/untie - развязать\n"\
		"/box - надеть мешок на голову\n"\
		"/unbox - снять мешок\n"\
		"/loaddrugs - загрузить наркотики (только в фургон Мафии)\n"\
		"/loadammo - загрузить патроны (только в фургон Мафии)\n"\
		"/unla - выгрузить патроны\n"\
		"/unloaddrugs - выгрузить наркотики\n"\
		"/orders - посмотреть список доступных заказов (Наемники)\n"\
		"/bizlist - посмотреть список бизнесов под крышеванием мафий\n"\
		"/call 228 - заказать новую партию порошка\n"\
		"/setplant - поставить бомбу\n"\
		"/sellmafiabiz - продать бизнес\n"\
		"/incar [id] - затащить игрока в машину"
	}
};

// Меню взаимодействия

new Text:Interact;
new	Text:InfoInteract[MAX_PLAYERS][7];









////////////////////////////////////////////////////////////////////////////////
//------------------------------[ PaintBall System ]--------------------------//
new PlayerText:choicecars[MAX_PLAYERS][22];
new PlayerText:MenuTD[MAX_PLAYERS][7];
////////////////////////////////////////////////////////////////////////////////
enum Paintball
{
    Player_Name[24],
    Kills,
    Deaths,
};
new PaintInfo[15][Paintball],
    PaintList = 0;

new PaintGun[] = {30, 25, 24};
new paintt[3];

new pdobject[MAX_PLAYERS];

new totalconus;
new conus[100];

new paintjob[2];

new killused[MAX_PLAYERS];
new PlayerText:TDBizwar[MAX_PLAYERS][8];
//new status_slak;
//new policeobject_slak;
new vehgame[MAX_PLAYERS];
new toolsbuy[MAX_PLAYERS];
new Teleport;
new Float:TeleportFloat[3];
new TeleportInfo[2];
new openvdv;
new ope;
//Шахта
//new hands[MAX_PLAYERS];
new rands1;
//new timemine[MAX_PLAYERS];
new kg[MAX_PLAYERS];
new randommine[][1] =
{
    {6},
    {3},
    {9},
    {28},
    {33},
    {30},
    {35},
    {32},
    {37},
    {41},
    {36},
    {42},
    {47},
    {52},
    {39},
    {40},
    {53},
    {54},
    {43},
    {44},
    {45}};
new bool:startjob2[MAX_PLAYERS];

enum arendInfo
{
	aID,            // - Unknown -
	aPlayerID,      // - Unknown -
	aModel,			// Model
	aCost,			// Цена
	Float:aPos_X,	// Кордината X
	Float:aPos_Y,	// Кордината Y
	Float:aPos_Z,	// Кордината Z
	Float:aPos_A,	// Угол поворота
	aColor_1,		// Цвет 1
	aColor_2		// Цвет 2
};

new ArendInfo[][arendInfo] = // - ID, цена аренды ТС, координаты ТС X, Y, Z, Цвет 1, Цвет 2;
{
//==========================[ Транспорт на спавне г.Южный ]=====================
	{INVALID_VEHICLE_ID, INVALID_PLAYER_ID, 462, 150, 2519.208, -2142.088, 21.540, 32.8801, 1, 1}, // аренда 1
	{INVALID_VEHICLE_ID, INVALID_PLAYER_ID, 462, 150, 2529.419, -2142.052, 21.538, 32.8801, 1, 1}, // аренда 1
	{INVALID_VEHICLE_ID, INVALID_PLAYER_ID, 462, 150, 2521.881, -2142.100, 21.540, 32.8801, 1, 1}, // аренда 1
	{INVALID_VEHICLE_ID, INVALID_PLAYER_ID, 462, 150, 2523.253, -2142.081, 21.541, 32.8801, 1, 1}, // аренда 1
	{INVALID_VEHICLE_ID, INVALID_PLAYER_ID, 462, 150, 2524.385, -2142.039, 21.540, 32.8801, 1, 1} // аренда 1
};


//==============================================================================

// Настройки
new EXP_BOOST;
new DONATE_ON_PAYDAY;
new NEWYEAR;

enum chInfo
{
	chID1
}

enum smInfo
{
	smInput[5],
	smOutput_M[40],
	smOutput_F[40]
}

static const stock SmileInfo[5][smInfo] = {
	{")", "улыбается", "улыбается"},
	{"))", "смеётся", "смеётся"},
	{"(", "расстроился", "расстроилась"},
	{"((", "сильно расстроился", "сильно расстроилась"},
	{"xD", "смеётся", "смеётся"}
};








new PassRegSex[MAX_PLAYERS];
enum psInfo
{
	psSeria,
	psNumber,
	psSex,
	psDate[3],
	psDateBirth[3],
	psCity,
	mcState
}
new PassInfo[MAX_PLAYERS][psInfo];

enum VGUN_DATA
{
	vGunArea,
	vGunGunAmount,
	vGunAmmo,
	vGunNarko,
Text3D:vGunText,
bool:vGunLoading,
bool:vGunUnloading,
	vGunPickup
}
new gVehicleGun[MAX_VEHICLES][VGUN_DATA];

new radar_time[MAX_PLAYERS];

new Iterator:VehicleGun<MAX_VEHICLES-1>;

new Iterator:Admins<MAX_PLAYERS>;
new Iterator:Supports<MAX_PLAYERS>;
new Iterator:YouTubers<MAX_PLAYERS>;

new gGunWorkWH[3];
new Text3D:gGunWorkWHText[2];
new gGunWorkTime[6];

new Lessdrov; //дрова на лесопилке
new Mineral; //угля на шахте

/*static const stock Float:PorchFlatsCoord[][] = {
	{-377.7701,1131.2261,2712.7778},
	{-377.6734,1140.2941,2712.7778},
	{-379.2425,1142.1211,2712.7778},
	{-380.8272,1140.3601,2712.7778},
	{-380.6302,1129.8406,2716.4285},
	{-377.6779,1129.7224,2716.4285},
	{-377.5689,1140.3252,2716.4285},
	{-380.7247,1140.3468,2716.4285},
	{-380.7022,1129.7998,2720.0208},
	{-377.8573,1129.7659,2720.0208},
	{-377.6762,1140.2970,2720.0208},
	{-380.8028,1140.3809,2720.0208},
	{-380.6706,1129.7667,2723.8518},
	{-377.6934,1129.7875,2723.8518},
	{-377.8866,1140.3405,2723.8518},
	{-380.6706,1140.3396,2723.8518},
	{-380.6268,1129.8306,2727.4724},
	{-377.5720,1129.7612,2727.4724},
	{-377.8741,1140.3409,2727.4724},
	{-380.7415,1140.4010,2727.4724}
};*/

stock GetCarName(model)
{
	new namescar[30];
	switch(model)
	{
		case 400: namescar = "BMW X5";
		case 418: namescar = "Volkswagen F315";
		case 558: namescar = "Jord 112";
		case 402: namescar = "BMW M5 E60";
		case 536: namescar = "Zubr zero";
		case 589: namescar = "Vlwg P415";
		case 586: namescar = "Voshod";
		case 581: namescar = "BMW G-355";
		case 403: namescar = "Zil-133 05A";
		case 533: namescar = "Feltzer";
		case 404: namescar = "VAZ 2101";
		case 405: namescar = "Lancer";
		case 406: namescar = "ZIL-MM3 555";
		case 410: namescar = "Mitsubishi Eclipse";
		case 411: namescar = "Ladа Kalina";
		case 412: namescar = "Moskvich";
		case 417: namescar = "Leviathan";
		case 422: namescar = "YAZ";
		case 436: namescar = "Mark II";
		case 439: namescar = "Moskvich";
		case 445: namescar = "Volga";
		case 447: namescar = "Seasparrow";
		case 451: namescar = "Turismo";
		case 456: namescar = "GAZ-3309";
		case 458: namescar = "Volga";
		case 461: namescar = "Java";
		case 462: namescar = "Scoter";
		case 463: namescar = "Veteral";
		case 466: namescar = "BMW M5 Competition";
		case 468: namescar = "Sanchez";
		case 475: namescar = "Pajero";
		case 478: namescar = "Moskvich pickup";
		case 480: namescar = "Comet";
		case 481: namescar = "Aist";
		case 487: namescar = "Maverick";
		case 489: namescar = "Chevrolet Niva";
		case 492: namescar = "VAZ 2109";
		case 499: namescar = "GAZ-53";
		case 506: namescar = "SUPER GT";
		case 509: namescar = "Bike";
		case 510: namescar = "Sport Bike";
		case 514: namescar = "KAMAZ-54115";
		case 515: namescar = "KAZ-3321";
		case 516: namescar = "VAZ 21099";
		case 522: namescar = "NRG 500";
		case 528: namescar = "ФСИН РОССИИ";
		case 540: namescar = "Volga 3110";
		case 541: namescar = "Bullet";
		case 542: namescar = "Niva";
		case 546: namescar = "Moskvich";
		case 549: namescar = "ZAZ";
		case 551: namescar = "Volga";
		case 559: namescar = "Celica";
		case 560: namescar = "Sultan";
		case 562: namescar = "Elegy";
		case 565: namescar = "VAZ 2108";
		case 566: namescar = "VAZ 2104";
		case 567: namescar = "Gong 441";
		case 579: namescar = "LandRover";
		case 600: namescar = "BMW M760LI Xdrive";
		case 602: namescar = "BMW M3";
		case 611: namescar = "trailer1";
		case 607: namescar = "trailer2";
		default: namescar = "Unknown";
	}
	return namescar;
}

static const stock VehicleNames[][] = {
	"BMW X5","ИЖ-27151","Mersedes Benz","ЗИЛ-133","Lada Vesta","Lancer","ЗИЛ-ММ3","Firetruck","Trashmaster","Bentley","TOYOTA CAMRY","Ford Focus",
	"ГАЗ","ПАЗ-672","ЛиАЗ-5256","Lamborghini Avendator","Ambulance","Leviathan","Moonbeam","Esperanto","Opel Astra","Mersedes Sl 600","УАЗ-3741","Mr Whoopee","OKA",
	"Hunter","Mersedes Maybach","Газель","Инкасcатор","ГАЗ-22","Predator","ЛиАЗ-677М","Rhino","ИЖ","Hotknife","Trailer","Lancer","Ikarus 260","ГАЗ-2402",
	"ИЖ-412","Rumpo","RC Bandit","Romero","Packer","Monster","BMW i535","Squalo","Seasparrow","Pizzaboy","Tram","Trailer","Chevrolet Camaro","Speeder",
	"Reefer","Tropic","Flatbed","ГАЗ-3309","Caddy","Lada 2109","Berkley's RC Van","Skimmer","PCJ-600","Скутер","Freeway","RC Baron","RC Raider",
	"BMW M5","ИЖ-412ИЭ","Sanchez","Sparrow","УАЗ-315195","Quad","Coastguard","Dinghy","ГАЗ-21И","Lexus LX","Rustler","BMW I","ИЖ-27151","ГАЗ-3",
	"AUDI A7","BMX","Burrito","ПАЗ-3205","Marquis","ГАЗ 2402","Dozer","Maverick","News Chopper","Toyota Land Cruiser","FBI Rancher","Virgo","ВАЗ 2109",
	"Jetmax","Porshe","Mitsubishi Frilender","2108","Police Maverick","Boxville","ГАЗ-53","УАЗ-69","RC Goblin","Nissan Skyline","BMW Vision",
	"Bloodring Banger","Land Rover","BMW X3","Mersedes W116"," УАЗ-452","Велик","Горный велик","Beagle","Cropdust","Stunt","КАМАЗ-54115","КАЗ-608В",
	"ВАЗ 21099","РАФ-2203"," ЕРАЗ-672","Shamal","Hydra","ИЖ Планета 5","NRG-500","Урал","Cement Truck","Эвакуатор","HUNDAY","LADA 2113","FBI Truck",
	"ВАЗ2106","Forklift","Tractor","Combine","Feltzer","Remington","Slamvan","Blade","Freight","Streak","Vortex","Lada Priora","Mersedes GTR","ВАЗ 2424",
	"ИЖ-414","Firetruck","Москвич-400","Москвич-2125","Москвич-2140","Cargobob","ЗАЗ-968А","Mitsubishi Lanser","ГАЗ 31105","Utility","Nevada","УАЗ-3303","ЗАЗ-968М","Monster A",
	"Monster B","Hunday Elantra","Toyota Supra","AUDI A4","ИЖ Москвич-427","Nissan Skyline","Raindance","RC Tiger","ВАЗ 2108","ВАЗ 2104","Savanna","Bandito","Freight","Trailer",
	"Kart","Mower","Duneride","Sweeper","ГАЗ-М20","Москвич-408","AT-400","ЗИЛ-157","Gelandewagen","ГАЗ-13 Чайка","BF-400","Newsvan","Tug","Trailer A","Emperor",
	"Восход 3М","Euros","ЛиАЗ-677","Club","Trailer B","Trailer C","Andromada","Dodo","RC Cam","Launch","ГАЗ-2401","ВАЗ 2115",
	"Toyota Yaris","УАЗ 469","ИЖ-2717","S.W.A.T.","BMW III","Phoenix","Glendale","Sadler","L Trailer A","L Trailer B",
	"Stair Trailer","ЛАЗ-699Р","Farm Plow","U Trailer" };
    
static const stock gGunCosts[10] = {50,100,70,30,60,40,40,60,70,60};
static const stock gGunNames[10][32] = {
	"Кастет",
	"Бейсбольная бита",
	"Дробовик",
	"Пистолет 9mm",
	"Пустынный орёл",
	"Полуавтомат MP5",
	"Пистолет-пулемёт Микро-Узи",
	"Автомат AK47",
	"Винтовка",
	"Автомат M4A1"
};

stock add_server_log(text[], type)
{
	STRING_GLOBAL[0] = EOS;

	mysql_format(dbHandle, STRING_GLOBAL, 400, "INSERT INTO admin_logs (date, text, type) VALUES (NOW(), '%s', '%d')", text, type);
	mysql_tquery(dbHandle, STRING_GLOBAL, "", "");

	return 1;
}

static const stock gShopCosts[11] = {450,300,300,550,100,150,300,70,70,150,200};
static const stock gShopProd[11] = {3,2,2,5,1,4,9,6,5,6,6};
static const stock gShopNames[11][25] = {
	"Мобильный телефон",
	"SIM-карта",
	"Фотоаппарат",
	"Аптечки для дома",
	"Цветы",
	"Рюкзак",
	"Маска",
	"Сигарета",
	"Газировка",
	"Аптечка"
};

static const stock gEateryCosts[4] = {1,2,3,4};
static const stock gEateryProd[4] = {1,2,3,4};
static const stock gEateryNames1[4][25] = {
	"Маленькая пицца",
	"Средняя пицца",
	"Большая пицца",
	"Пицца в коробке"
};
static const stock gEateryNames2[4][25] = {
	"Бургер",
	"Большой бургер",
	"Гамбургер",
	"Гамбургер в упаковке"
};
static const stock gEateryNames3[4][25] = {
	"Кусочки курицы",
	"Кусок куринной ножки",
	"Куринная ножка",
	"Курица в коробке"
};

static const stock gBarCost[7] = {1,2,3,4,5,6,7};
static const stock gBarProd[7] = {1,2,3,4,5,6,7};
static const stock gBarNames[7][25] = {
	"Вода",
	"Сода",
	"Кока-кола",
	"Пиво",
	"Водка",
	"Коньяк",
	"Абсент"
};

static stock PhoneNumbers[MAX_PLAYERS][8];
//==============================================================================
static const stock Job_Names[7][32] = {
	"Нет",
	"Водитель автобуса",
	"Таксист",
	"Развозчик товаров",
	"Развозчик топлива",
	"Механик",
	"Дальнобойщик"
};

new RegEx:CheckIPs;

new GangEd[5];
new GangPatr[5];

new MafiaEd[3];
new MafiaPatr[3];
new Text3D:Mafia3d[3];
new MafiaTotalBizz[4];

static const stock gGunAmount[9] = {60,70,170,190,200,210,280,300,360}; //Pistol,SD,Deagle,Uzi,MP5,Shotgun,M4A1,AK47,Rifle
static const stock gGunID[9] = {22,23,24,28,29,25,31,30,33}; //Pistol,SD,Deagle,Uzi,MP5,Shotgun,M4A1,AK47,Rifle

new gArmyWarehouse[2];
new Text3D:gArmyWarehouseText;

enum (<<=1)
{
	setFractionChat=1,
	setShowNickname,
	setAdminInfo,
	setPlayerIDChat,
	setHungerInfo,
	setShowKeis
}

enum
{
	CHECKPOINT_1,
	CHECKPOINT_2,
	CHECKPOINT_3,
	CHECKPOINT_4,
	CHECKPOINT_5,
	CHECKPOINT_6,
	CHECKPOINT_7,
	CHECKPOINT_8,
	CHECKPOINT_9,
	CHECKPOINT_10,
	CHECKPOINT_11,
	CHECKPOINT_13,
	CHECKPOINT_14,
	CHECKPOINT_15,
	CHECKPOINT_16,
	CHECKPOINT_17,
	CHECKPOINT_18,
	CHECKPOINT_19,
	CHECKPOINT_20,
	CHECKPOINT_21,
	CHECKPOINT_22,
	CHECKPOINT_23,
	CHECKPOINT_24,
	CHECKPOINT_25,
	CHECKPOINT_26,
	CHECKPOINT_27,
	CHECKPOINT_28,
	CHECKPOINT_29,
	CHECKPOINT_30,
	CHECKPOINT_31,
	CHECKPOINT_32,
	CHECKPOINT_33,
	CHECKPOINT_34,
	CHECKPOINT_35,
	CHECKPOINT_36,
	CHECKPOINT_37,
	CHECKPOINT_38,
	CHECKPOINT_39,
	CHECKPOINT_40,
	CHECKPOINT_41,
	CHECKPOINT_42,
	CHECKPOINT_43,
	CHECKPOINT_44,
	CHECKPOINT_45,
	CHECKPOINT_46,
	CHECKPOINT_47,
	CHECKPOINT_48,
	CHECKPOINT_49,
	CHECKPOINT_50,
	CHECKPOINT_51,
	CHECKPOINT_52,
	CHECKPOINT_53,
	CHECKPOINT_54,
	CHECKPOINT_55,
	CHECKPOINT_56,
	CHECKPOINT_57,
	CHECKPOINT_58,
	CHECKPOINT_59,
	CHECKPOINT_60,
	CHECKPOINT_61,
	CHECKPOINT_62,
	CHECKPOINT_63,
	CHECKPOINT_64,
	CHECKPOINT_65,
	CHECKPOINT_66,
	CHECKPOINT_67,
	CHECKPOINT_68,
	CHECKPOINT_69,
	CHECKPOINT_70,
	CHECKPOINT_71,
	CHECKPOINT_72,
	CHECKPOINT_73,
	CHECKPOINT_74,
	CHECKPOINT_75,
	CHECKPOINT_76,
	CHECKPOINT_77,
	CHECKPOINT_78,
	CHECKPOINT_79,
	CHECKPOINT_80,
	CHECKPOINT_81,
	CHECKPOINT_82,
	CHECKPOINT_83,
	CHECKPOINT_84,
	CHECKPOINT_85,
	CHECKPOINT_86,
	CHECKPOINT_87,
	CHECKPOINT_88,
	CHECKPOINT_89,
	CHECKPOINT_90,
	CHECKPOINT_91,
	CHECKPOINT_92,
	CHECKPOINT_93,
	CHECKPOINT_94,
	CHECKPOINT_95,
	CHECKPOINT_96,
	CHECKPOINT_97,
	CHECKPOINT_98,
	CHECKPOINT_99,
	CHECKPOINT_100,
	CHECKPOINT_101,
	CHECKPOINT_102,
	CHECKPOINT_103,
	CHECKPOINT_104,
	CHECKPOINT_105,
	CHECKPOINT_106,
	CHECKPOINT_107,
	CHECKPOINT_108,
	CHECKPOINT_109,
	CHECKPOINT_110,
	CHECKPOINT_111,
	CHECKPOINT_112,
	CHECKPOINT_113,
	CHECKPOINT_114,
	CHECKPOINT_115,
	CHECKPOINT_116,
	CHECKPOINT_117,
	CHECKPOINT_118,
	CHECKPOINT_119,
	CHECKPOINT_120,
	CHECKPOINT_121,
	CHECKPOINT_122,
	CHECKPOINT_123,
	CHECKPOINT_124,
	CHECKPOINT_125,
	CHECKPOINT_126,
	CHECKPOINT_127,
	CHECKPOINT_128,
	CHECKPOINT_129,
	CHECKPOINT_130,
	CHECKPOINT_131,
	CHECKPOINT_132,
	CHECKPOINT_133,
	CHECKPOINT_134,
	CHECKPOINT_135,
	CHECKPOINT_136,
	CHECKPOINT_137,
	CHECKPOINT_138,
	CHECKPOINT_139,
	CHECKPOINT_140,
	CHECKPOINT_141,
	CHECKPOINT_142,
	CHECKPOINT_143,
	CHECKPOINT_144,
	CHECKPOINT_145,
	CHECKPOINT_146,
}

static const stock TeamColors[] =
{
	NONE_COLOR,
	MAYOR_COLOR,
	LSPD_COLOR,
	SFPD_COLOR,
	FBI_COLOR,
    HOSPITAL_COLOR,
    LIC_COLOR,
    GROVE_COLOR,
    BALLAS_COLOR,
    RIFA_COLOR,
    AZTECAS_COLOR,
    VAGOS_COLOR,
    ARMY_COLOR,
    0xFFFFFFFF,
    0xFFFFFFFF,
    LCN_COLOR,
    YAKUZA_COLOR,
    RM_COLOR,
    LSNEWS_COLOR,
    SFNEWS_COLOR,
    LVNEWS_COLOR,
    LVPD_COLOR,
    HOSPITAL_COLOR,
    HOSPITAL_COLOR,
    MAYOR_COLOR,
    MAYOR_COLOR
};

enum AreaInformation
{
    arServerHelp,
    arServerHelpBat,
    arServerHelpYg,
	arBankMenu,
	arBankMenuArz,
	recipe_weapon,
	arHotdogHP,
	arGreenZone[27],
	arBuyFishki,
	area_bath,
	arBuyNarko[2],
	//arLoadPatr,
	//arLoadGun,
	arArmyAmmo,
	arLoadAmmo
}

new AreaInfo[AreaInformation];
new Predlog[MAX_PLAYERS];
new ZapretDice[MAX_PLAYERS];
new KostiName[MAX_PLAYERS];
new KostiMoney[MAX_PLAYERS];
new bool:InHospital[MAX_PLAYERS];
new OldMessage[MAX_PLAYERS][150];
new TextReset[MAX_PLAYERS];
new TextResetCMD[MAX_PLAYERS];
new TransferReset[MAX_PLAYERS];
new bool:PlayerDied[MAX_PLAYERS];
new bool:CheckOutMoney[MAX_PLAYERS];
new bool:UseGPS[MAX_PLAYERS];
new UnMaskReset[MAX_PLAYERS];
new bool:FreezePlayer[MAX_PLAYERS];
new b_Capture[5 char];
new b_Sklad[8 char];
new bool:drawcapt[MAX_PLAYERS];

/*new bool:MUSICACTIVE = false;
new MUSICURL[256];
new Float:MUSICX = 0.0;
new Float:MUSICY = 0.0;
new Float:MUSICZ = 0.0;
new Float:MUSICDIST = 0.0;
new bool:activemusic[MAX_PLAYERS];
new bool:PlayerMusic[MAX_PLAYERS];*/

/* Античиты */
new bool:StartGMTest[MAX_PLAYERS];
new bool:slotUsed[MAX_PLAYERS char];
new playersIP[MAX_PLAYERS][64];
/* Слежка за игроком */
new Menu:specmenu;
/* Слежка за игроком Конец */

/* Выбор скина */
new Menu: skinmenu;
static const stock BE_Bad_Vehs[] = {
	460, 464, 476, 511, 512, 513, 519, 520, 539, 553, 577, 592, 593, // planes
	417, 425, 447, 465, 469, 487, 488, 497, 501, 548, 563 // heli
};
new bool: BE_Play_Check[MAX_PLAYERS];
new bool:WhiteList;
new Ships[MAX_PLAYERS];
new Oldskin2[MAX_PLAYERS]; // сохраняет скин игрока
new lvpdpick[4];
new sfpdpick[6];
new armypick[4],armystol,armshield;
new Pickup[22];
new skladvdv[1];
new Text3D:tPickup[13];
new narkoenter[2];
new mechanic[2];
new taxicar[2];
new buscar[2];
new Category[2];                                                                // - Автошкола
new pickupentered[MAX_PLAYERS] = 0;
new lDialogpic[7],merpicls[6],merpicsf[6],merpiclv[6],BolnicaLS[4],BolnicaSF[4],ashpic[4],lsnpic[2],sfnpic[2],lvnpic[2];
new grovpic[2],vagospic[2],rifapic[2],azpic[2],balpic[2];
new arpic[4];
new lcnpic[2],yakpic[2],rmpic[2];
new PlayerRegistered[MAX_PLAYERS];
new bool:TaxiON[MAX_PLAYERS];
new bool:MedicON[MAX_PLAYERS];
new bool:MechanicON[MAX_PLAYERS];
new bool:PoliceON[MAX_PLAYERS];
new sportpickup;
new Medicines[MAX_PLAYERS];
new gunsklad[8];
new armyammo;
new bool:gym_cloakroom[MAX_PLAYERS];
new PlayerName[MAX_PLAYERS][MAX_PLAYER_NAME];
//new FrakCD;
new PlayerText:CaptureTD[MAX_PLAYERS][12];
//==============================[ Пикапы ]======================================
new FSIN_PICK[4];                                                               // - ФСИН ПИКАПЫ
new DPS_PICK[2];                                               			        // - ДПС ПИКАПЫ
new PPS_PICK[2];                                                                // - ППС ПИКАПЫ
new SMI_PICK[2];                                                                // - СМИ ПИКАПЫ
new ashpick[2];                                                                 // - АВТОШКОЛА ПИКАПЫ
new AO_PICK[5];                                                                 // - АО ПИКАПЫ
new BOLA_PICK[2];                                                               // - ЦГБ-А ПИКАПЫ
new bilet[2];
new casino_nostalgia[2];
new banyapick[2];
new opgpick1[2]; // ОПГ Южная
new opgpick2[2]; // ОПГ Ореховская
new opgpick3[2]; // ОПГ Солнцевская
new chechenpick[2]; // Чеченская Мафия
new army_warehouse[2];


new vodolazmeshok[2];
// new carshowroom[2];
new banyavhod[2];
new bolnicamedpick[2];
new SMI_PICK2[2];
new tunnel[2];
new kazarmapick[2];
new stolovkapick[2];
new lesspick[2];

new avtosalonpick[2];

new bankpick[2];
new bankpickarz[2];
new sudpick[2];
new voenkomat_arzamas[2];
new voenkomat_bat[2];
new vodolazipick[2];
new parking_fine[1];
new CARSPAWN_PICK;                                                              // - АРЕНДА СКУТЕРА ПИКАПЫ
/*************************************Сборщик оружия***************************/
#define GCASH           150//Зар.плата за 1.
#define D_GUNCJOB       2228//ID диалога завершения работы (сменить на доступный).
/*************************************Сборщик оружия***************************/

new bool:IsCapture;

enum Ganginfa
{
	capture,
	score,
	captureid,
	gangnumber
}
new GangInfo[20][Ganginfa];

new PlayerUseHeal[MAX_PLAYERS];
new gCurHour;
new gCurMinutes;
new set_name = -1;
new AdvertTime;
new NewsPrice[40],CallPrice[2], SmsPrice[2], AdvertPrice[2];
//new SmsNews[2];
new CallNews[2];
new TOTALGZ, TOTALBIZZ, TOTALADVERT[2], TOTALVEH, TOTALHOUSE; // TOTALPRODUCT, TOTALFUEL
new engine,lights,alarm,doors,bonnet,boot,objective;
new years, months, days;
new Pick;
new query[2045],coordh[90],coordv[90],boordh[256];

new bool:Engine[MAX_VEHICLES];
new bool:Lights[MAX_VEHICLES];
new bool:IsLocked[MAX_VEHICLES];
new Fuel[MAX_VEHICLES] = 100;
new EnterVehicle[MAX_PLAYERS] = {INVALID_VEHICLE_ID, ...};

new UseWork[MAX_PLAYERS]; // 1 - шахта, 2 - лесопилка, 3 - оружейный завод


// Автошкола

#define TIMEOUT 1
#define DAMAGE 	2

new autoschool_car[MAX_PLAYERS];
new autoschool_PracticeWarns[MAX_PLAYERS];
new autoschool_Checkpoint[MAX_PLAYERS];
new autoschool_Progress[MAX_PLAYERS];
new autoschool_Timer[MAX_PLAYERS];
new const AUTOSCHOOL_WORLD = 2000;
new Float:autoschool_x, Float:autoschool_y, Float:autoschool_z;

new autoschool_Teoriya[MAX_PLAYERS];
new autoschool_Bot;


new Text:autoschool_Interact[MAX_PLAYERS];
new Text:autoschool_otvet[MAX_PLAYERS][7][3];
new Text:autoschool_vopros[MAX_PLAYERS][7];
new selectedOtvet[MAX_PLAYERS];
new autoschool_errors[MAX_PLAYERS];




// подработки



// -------------------------------------------------

#define MOVE_SPEED              100.0
#define ACCEL_RATE              0.03
#define CAMERA_MODE_NONE    	0
#define CAMERA_MODE_FLY     	1
#define MOVE_FORWARD    		1
#define MOVE_BACK       		2
#define MOVE_LEFT       		3
#define MOVE_RIGHT      		4
#define MOVE_FORWARD_LEFT       5
#define MOVE_FORWARD_RIGHT      6
#define MOVE_BACK_LEFT          7
#define MOVE_BACK_RIGHT         8
// #define DIALOG_MENU 5001
// #define DIALOG_MOVE_SPEED 1680
// #define DIALOG_ROT_SPEED 1681
// #define DIALOG_EXPORTNAME 1682
// #define DIALOG_CLOSE_NEW 1683


enum {

	FLY_DIALOG_MENU = 5001,
	FLY_DIALOG_MOVE_SPEED = 5002,
	FLY_DIALOG_ROT_SPEED = 5003,
	FLY_DIALOG_EXPORTNAME = 5004,
	FLY_DIALOG_CLOSE_NEW = 5005,
	FLY_DIALOG_MENU_SETTINGS = 5006

};



const Float:fScale = 5.0;
new MenuTimer;
new Float:fPX, Float:fPY, Float:fPZ,
			Float:fVX, Float:fVY, Float:fVZ,
			Float:object_x, Float:object_y, Float:object_z;

new bool:IsCreating[MAX_PLAYERS] 		= false;
new bool:IsReSettingStart[MAX_PLAYERS] 	= false;
new bool:IsReSettingEnd[MAX_PLAYERS] 	= false;
new bool:SettingFirstLoc[MAX_PLAYERS] 	= false;
new bool:SettingLastLoc[MAX_PLAYERS] 	= false;
new bool:IsCamMoving[MAX_PLAYERS] 		= false;

enum noclipenum
{
	cameramode,
	flyobject,
	mode,
	lrold,
	udold,
	lastmove,
	Float:accelmul
}
new noclipdata[MAX_PLAYERS][noclipenum];

enum Coordinates
{
	Float:StartX,
	Float:StartY,
	Float:StartZ,
	Float:EndX,
	Float:EndY,
	Float:EndZ,
	Float:StartLookX,
	Float:StartLookY,
	Float:StartLookZ,
	Float:EndLookX,
	Float:EndLookY,
	Float:EndLookZ,
	MoveSpeed,
	RotSpeed
}
new coordInfo[MAX_PLAYERS][Coordinates];

new bool:PlayerFlying[MAX_PLAYERS];


cmd:smootheffect(playerid) {
	SmoothEffect(playerid);
	return 1;
}

cmd:fly(playerid, params[]) {

	if(CheckAdmin(playerid, 4)) return 0;

	if(IsCamMoving[playerid] == false)
	{
		if(GetPVarType(playerid, "FlyMode"))
		{
			CancelFlyMode(playerid);
			IsCreating[playerid] = false;
		}
		else FlyMode(playerid);
	}
	else if(IsCreating[playerid])
	{
	    CancelFlyMode(playerid);
     	IsCreating[playerid] = false;
      	noclipdata[playerid][cameramode] 	= CAMERA_MODE_NONE;
		noclipdata[playerid][lrold]	   	 	= 0;
		noclipdata[playerid][udold]   		= 0;
		noclipdata[playerid][mode]   		= 0;
		noclipdata[playerid][lastmove]   	= 0;
		noclipdata[playerid][accelmul]   	= 0.0;
		IsCreating[playerid] 				= false;
		IsReSettingStart[playerid] 			= false;
		IsReSettingEnd[playerid] 			= false;
		SettingFirstLoc[playerid] 			= false;
		SettingLastLoc[playerid] 			= false;
		IsCamMoving[playerid] 				= false;
		coordInfo[playerid][MoveSpeed] 		= 1000;
		coordInfo[playerid][RotSpeed] 		= 1000;
	}
	return 1;
}

// // FLY ---------------------------------------------------------------------------------------------------

// #define FLY_KEY_UP -128
// #define FLY_KEY_DOWN 128
// #define FLY_KEY_LEFT -128
// #define FLY_KEY_RIGHT 128

// new fly[MAX_PLAYERS] = {};
// new Float:fly_x, Float:fly_y, Float:fly_z, Float:fly_angle;

// forward Float:GetXYInFrontOfPlayer(playerid, &Float:q, &Float:w, Float:distance);
// forward Float:GetXYBehindPlayer(playerid, &Float:q, &Float:w, Float:distance);
// forward FlyTimer();

// cmd:fly(playerid,params[]) {

// 	    // new tmp[256];
//         // tmp = strtok(cmdtext, idx);


// 	if(!CheckAdmin(playerid, 1)) return 1;

// 	if(fly[playerid]) {
// 		fly[playerid] = 0; 
// 		SendClientMessage(playerid, COLOR_RED, "Вы включили режим полета"); 
// 		TogglePlayerControllable(playerid,true); 
// 		return 1; 
// 	}

// 	else {
// 		fly[playerid] = 1; 
// 		SendClientMessage(playerid, COLOR_RED,"Вы выключили режим полета"); 
// 		TogglePlayerControllable(playerid,false); 
// 		return 1; 
// 	}
// }

// Float:GetXYInFrontOfPlayer(playerid, &Float:q, &Float:w, Float:distance)
// {
// 	new Float:a;
// 	GetPlayerPos(playerid, q, w, a);
//     if (GetPlayerState(playerid) == PLAYER_STATE_DRIVER) GetVehicleZAngle(GetPlayerVehicleID(playerid), a);
// 	else GetPlayerFacingAngle(playerid, a);
// 	q += (distance * floatsin(-a, degrees));
// 	w += (distance * floatcos(-a, degrees));
// 	return a;
// }

// Float:GetXYBehindPlayer(playerid, &Float:q, &Float:w, Float:distance)
// {
// 	new Float:a;
// 	GetPlayerPos(playerid, q, w, a);
// 	if (GetPlayerState(playerid) == PLAYER_STATE_DRIVER) GetVehicleZAngle(GetPlayerVehicleID(playerid), a);
// 	else GetPlayerFacingAngle(playerid, a);
// 	q += (distance * -floatsin(-a, degrees));
// 	w += (distance * -floatcos(-a, degrees));
// 	return a;
// }

// public FlyTimer()
// {
//     new keys, updown, leftright;
// 	for (new playerid = 0, max_players = GetMaxPlayers(); playerid < max_players; ++playerid) {
// 	    if (IsPlayerConnected(playerid) && !IsPlayerNPC(playerid)) {
// 	        if (fly[playerid]) {
// 	        	GetPlayerKeys(playerid, keys, updown, leftright);
// 	            if(updown == FLY_KEY_UP) {
// 	                if(GetPlayerState(playerid) == PLAYER_STATE_ONFOOT) {
// 						GetPlayerPos(playerid, fly_x, fly_y, fly_z);
// 						GetXYInFrontOfPlayer(playerid, fly_x, fly_y, 5.0);
// 						SetPlayerPos(playerid, fly_x, fly_y, fly_z);
// 						SetCameraBehindPlayer(playerid);
// 					}
// 					else if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER) {
// 						new playercar = GetPlayerVehicleID(playerid);
// 						GetVehiclePos(playercar, fly_x, fly_y, fly_z);
// 						GetXYInFrontOfPlayer(playerid, fly_x, fly_y, 5.0);
// 						SetVehiclePos(playercar, fly_x, fly_y, fly_z);
// 					}
// 				}
// 				else if(updown == FLY_KEY_DOWN) {
// 				    if(GetPlayerState(playerid) == PLAYER_STATE_ONFOOT) {
// 						GetPlayerPos(playerid, fly_x, fly_y, fly_z);
// 						GetXYBehindPlayer(playerid, fly_x, fly_y, 5.0);
// 						SetPlayerPos(playerid, fly_x, fly_y, fly_z);
// 						SetCameraBehindPlayer(playerid);
// 					}
// 					else if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER) {
// 					    new playercar = GetPlayerVehicleID(playerid);
// 					    GetVehiclePos(playercar, fly_x, fly_y, fly_z);
// 					    GetXYBehindPlayer(playerid, fly_x, fly_y, 5.0);
// 					    SetVehiclePos(playercar, fly_x, fly_y, fly_z);
// 					}
// 				}
// 				if(leftright == FLY_KEY_LEFT) {
// 					if(GetPlayerState(playerid) == PLAYER_STATE_ONFOOT) {
// 						GetPlayerFacingAngle(playerid, fly_angle);
// 						SetPlayerFacingAngle(playerid, fly_angle+10);
// 						SetCameraBehindPlayer(playerid);
// 					}
// 					else if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER) {
// 					    new playercar = GetPlayerVehicleID(playerid);
// 					    GetVehicleZAngle(playercar, fly_angle);
// 					    SetVehicleZAngle(playercar, fly_angle+10);
// 					}
// 				}
// 				else if(leftright == FLY_KEY_RIGHT) {
// 					if(GetPlayerState(playerid) == PLAYER_STATE_ONFOOT) {
// 						GetPlayerFacingAngle(playerid, fly_angle);
// 						SetPlayerFacingAngle(playerid, fly_angle-10);
// 						SetCameraBehindPlayer(playerid);
// 					}
// 					else if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER) {
// 					    new playercar = GetPlayerVehicleID(playerid);
// 					    GetVehicleZAngle(playercar, fly_angle);
// 						SetVehicleZAngle(playercar, fly_angle-10);
// 					}
// 				}
// 				if(keys == KEY_JUMP) {
// 				    if(GetPlayerState(playerid) == PLAYER_STATE_ONFOOT) {
// 						GetPlayerPos(playerid, fly_x, fly_y, fly_z);
// 						SetPlayerPos(playerid, fly_x, fly_y, fly_z+5);
// 						SetCameraBehindPlayer(playerid);
// 					}
// 					else if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER) {
// 						new playercar = GetPlayerVehicleID(playerid);
// 						GetVehiclePos(playercar, fly_x, fly_y, fly_z);
// 						SetVehiclePos(playercar, fly_x, fly_y, fly_z+5);
// 					}
// 				}
// 				else if(keys == KEY_SPRINT) {
// 				    if(GetPlayerState(playerid) == PLAYER_STATE_ONFOOT) {
// 						GetPlayerPos(playerid, fly_x, fly_y, fly_z);
// 						SetPlayerPos(playerid, fly_x, fly_y, fly_z-5);
// 						SetCameraBehindPlayer(playerid);
// 					}
// 					else if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER) {
// 						new playercar = GetPlayerVehicleID(playerid);
// 						GetVehiclePos(playercar, fly_x, fly_y, fly_z);
// 						SetVehiclePos(playercar, fly_x, fly_y, fly_z-5);
// 					}
// 				}
// 			}
// 		}
// 	}
// }



// --------------------------------------------------------------------------------------------------






new bool:PlayerFuelMes[MAX_VEHICLES];
static const stock legalmods[48][22] = {
	{400, 1024,1021,1020,1019,1018,1013,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000},
	{401, 1145,1144,1143,1142,1020,1019,1017,1013,1007,1006,1005,1004,1003,1001,0000,0000,0000,0000},
	{404, 1021,1020,1019,1017,1016,1013,1007,1002,1000,0000,0000,0000,0000,0000,0000,0000,0000,0000},
	{405, 1023,1021,1020,1019,1018,1014,1001,1000,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000},
	{410, 1024,1023,1021,1020,1019,1017,1013,1007,1003,1001,0000,0000,0000,0000,0000,0000,0000,0000},
	{415, 1023,1019,1018,1017,1007,1003,1001,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000},
	{418, 1021,1020,1016,1006,1002,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000},
	{420, 1021,1019,1005,1004,1003,1001,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000},
	{421, 1023,1021,1020,1019,1018,1016,1014,1000,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000},
	{422, 1021,1020,1019,1017,1013,1007,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000},
	{426, 1021,1019,1006,1005,1004,1003,1001,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000},
	{436, 1022,1021,1020,1019,1017,1013,1007,1006,1003,1001,0000,0000,0000,0000,0000,0000,0000,0000},
	{439, 1145,1144,1143,1142,1023,1017,1013,1007,1003,1001,0000,0000,0000,0000,0000,0000,0000,0000},
	{477, 1021,1020,1019,1018,1017,1007,1006,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000},
	{478, 1024,1022,1021,1020,1013,1012,1005,1004,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000},
	{489, 1024,1020,1019,1018,1016,1013,1006,1005,1004,1002,1000,0000,0000,0000,0000,0000,0000,0000},
	{491, 1145,1144,1143,1142,1023,1021,1020,1019,1018,1017,1014,1007,1003,0000,0000,0000,0000,0000},
	{492, 1016,1006,1005,1004,1000,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000},
	{496, 1143,1142,1023,1020,1019,1017,1011,1007,1006,1003,1002,1001,0000,0000,0000,0000,0000,0000},
	{500, 1024,1021,1020,1019,1013,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000},
	{516, 1021,1020,1019,1018,1017,1016,1015,1007,1004,1002,1000,0000,0000,0000,0000,0000,0000,0000},
	{517, 1145,1144,1143,1142,1023,1020,1019,1018,1017,1016,1007,1003,1002,0000,0000,0000,0000,0000},
	{518, 1145,1144,1143,1142,1023,1020,1018,1017,1013,1007,1006,1005,1003,1001,0000,0000,0000,0000},
	{527, 1021,1020,1018,1017,1015,1014,1007,1001,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000},
	{529, 1023,1020,1019,1018,1017,1012,1011,1007,1006,1003,1001,0000,0000,0000,0000,0000,0000,0000},
	{534, 1185,1180,1179,1178,1127,1126,1125,1124,1123,1122,1106,1101,1100,0000,0000,0000,0000,0000},
	{535, 1121,1120,1119,1118,1117,1116,1115,1114,1113,1110,1109,0000,0000,0000,0000,0000,0000,0000},
	{536, 1184,1183,1182,1181,1128,1108,1107,1105,1104,1103,0000,0000,0000,0000,0000,0000,0000,0000},
	{540, 1145,1144,1143,1142,1024,1023,1020,1019,1018,1017,1007,1006,1004,1001,0000,0000,0000,0000},
	{542, 1145,1144,1021,1020,1019,1018,1015,1014,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000},
	{546, 1145,1144,1143,1142,1024,1023,1019,1018,1017,1007,1006,1004,1002,1001,0000,0000,0000,0000},
	{547, 1143,1142,1021,1020,1019,1018,1016,1003,1000,0000,0000,0000,0000,0000,0000,0000,0000,0000},
	{549, 1145,1144,1143,1142,1023,1020,1019,1018,1017,1012,1011,1007,1003,1001,0000,0000,0000,0000},
	{550, 1145,1144,1143,1142,1023,1020,1019,1018,1006,1005,1004,1003,1001,0000,0000,0000,0000,0000},
	{551, 1023,1021,1020,1019,1018,1016,1006,1005,1003,1002,0000,0000,0000,0000,0000,0000,0000,0000},
	{558, 1168,1167,1166,1165,1164,1163,1095,1094,1093,1092,1091,1090,1089,1088,0000,0000,0000,0000},
	{559, 1173,1162,1161,1160,1159,1158,1072,1071,1070,1069,1068,1067,1066,1065,0000,0000,0000,0000},
	{560, 1170,1169,1141,1140,1139,1138,1033,1032,1031,1030,1029,1028,1027,1026,0000,0000,0000,0000},
	{561, 1157,1156,1155,1154,1064,1063,1062,1061,1060,1059,1058,1057,1056,1055,1031,1030,1027,1026},
	{562, 1172,1171,1149,1148,1147,1146,1041,1040,1039,1038,1037,1036,1035,1034,0000,0000,0000,0000},
	{565, 1153,1152,1151,1150,1054,1053,1052,1051,1050,1049,1048,1047,1046,1045,0000,0000,0000,0000},
	{567, 1189,1188,1187,1186,1133,1132,1131,1130,1129,1102,0000,0000,0000,0000,0000,0000,0000,0000},
	{575, 1177,1176,1175,1174,1099,1044,1043,1042,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000},
	{576, 1193,1192,1191,1190,1137,1136,1135,1134,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000},
	{580, 1023,1020,1018,1017,1007,1006,1001,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000},
	{589, 1145,1144,1024,1020,1018,1017,1016,1013,1007,1006,1005,1004,1000,0000,0000,0000,0000,0000},
	{600, 1022,1020,1018,1017,1013,1007,1006,1005,1004,0000,0000,0000,0000,0000,0000,0000,0000,0000},
	{603, 1145,1144,1143,1142,1024,1023,1020,1019,1018,1017,1007,1006,1001,0000,0000,0000,0000,0000}
};




// Настройки сервера

// new ACTION_BoostExp;
// new ACTION_DonateOnPayDay;


// SaveServerOptions() {

// }






enum CUFF
{
	pCuffer,
	pCuffee
}
new pCuff[MAX_PLAYERS][CUFF];
new Text:Datum;
new Text:Vrijeme;
new bool:EtherCalled[MAX_PLAYERS];
new bool:Ether[MAX_PLAYERS];
new bool:EtherLive[MAX_PLAYERS];
new bool:EtherCall[2];
new bool:EtherSms[2];
new bool:Phone[MAX_PLAYERS];
new CellTime[MAX_PLAYERS];
new Mobile[MAX_PLAYERS];
new bool:TPC[MAX_PLAYERS];
new bool:times[MAX_PLAYERS];
new InShop[MAX_PLAYERS];
new bool:PlayerSpawned[MAX_PLAYERS];
new DrivingTestTime[MAX_PLAYERS];
new FlyTestTime[MAX_PLAYERS];
new WaterTestTime[MAX_PLAYERS];

new bool:AdminLogged[MAX_PLAYERS];
new bool:PlayerUseMask[MAX_PLAYERS];
new ChosenSkin[MAX_PLAYERS];
new PlayerLogTries[MAX_PLAYERS];
new STimer[MAX_PLAYERS];
new PlayerStats[MAX_PLAYERS] = -1;
new NameStats[MAX_PLAYERS];
new ClothesRound[MAX_PLAYERS];
new SelectCharPlace[MAX_PLAYERS];
new Float:PlayerArmour[MAX_PLAYERS];
new InShopSkin[MAX_PLAYERS];
new Weapons[MAX_PLAYERS][47];
new HouseOffer[MAX_PLAYERS];
new HousePrice[MAX_PLAYERS];
new pPressed[MAX_PLAYERS];
new colors[MAX_PLAYERS][2];
new VehTest[MAX_PLAYERS];
new PlayerLastTick[MAX_PLAYERS];
new Text3D:BusText3D[MAX_PLAYERS];
new Text3D:TaxiText3D[MAX_PLAYERS];
new war = 0;
new Ujahhs[MAX_PLAYERS];
new mass_pass[MAX_PLAYERS][11];

new PlayerText:SecurityCode[MAX_PLAYERS][10];
new PlayerText:StatusWork[MAX_PLAYERS][6];
new PlayerText:GreenZoneText[MAX_PLAYERS][8];
new Text: enable_animation_TD;
new Text:Button[6];

new Text:HungerBackground[2];

new objectplayerid;

enum admInfo
{
    admGoto,
	admGethere,
	admSpectate,
	admTimeMin,
	admAlog,
	admrEars,
	fsbSmsEars,
	admSmsEars
}
new AdminInfo[MAX_PLAYERS][admInfo];

enum hlpInfo
{
	admGoto,
	admGethere,
	admSpectate,
	admTimeMin,
	admAlog
}
new SupportInfo[MAX_PLAYERS][hlpInfo];

enum ytInfo
{
	admGoto,
	admGethere,
	admSpectate,
	admTimeMin,
	admAlog
}
new YouTubersInfo[MAX_PLAYERS][ytInfo];

enum pInfo
{
	pID,
	/*pGigiena,
	pTualet,
	pZhazhda,
	pHYGIENE,*/
	aKey,
	pHouse,
	pPassword[32],
	pSecurityCode,
	pCheckCode,
	VkAuth,
	bool:pPERID_Logged,
	pInputCode,
	pMail[64],
	pMailConfirmed,
	pIP[16],
	pLastIP[16],
	pRegIP[16],
	pRegData[15],
	pVhData[15],
	pLevel,
	pMemberWarn,
	pCash,
	pFines,
	pSumm_All_Fines,
	pBanya,
	pBank,
	pAdmin,
	pSupport,
	pYouTuber,
	pModel,
	pMemberSkin,
	pSex,
	pAge,
	pExp,
	pMuted,
	pGovMute,
	pWarn,
	pGuncheater,
	pCarWarn,
	pLics[16],
	pLic[4],
	pShowLic,
	pGun[13],
	pAmmo[13],
	pGunSkill[8],
	pSkill[8],
	pLeader,
	pTempLeader,
	pRank,
	pVoennik,
	pMember,
	pPick,
	pCheckTime,
	pNews,
	Float:cX[2],
	Float:cY[2],
	Float:cZ[2],
	Float:cA[2],
	Float: POS_X,
	Float: POS_Y,
	Float: POS_Z,
	pP_USE_ANIM_TYPE,
	Float: POS_A,
	POS_WORLD,
	POS_INT,
	pPhoneBalance,
	pPhoneNumber,
	pText[4],
	pTexts[20],
	pJail,
	pJailTime,
	pOffWarns,
	pfWarn,
	pAWARN,
    pOffWarnsReason,
   	pRECIPE_9MM,
	pRECIPE_SDPISTOL,
	pRECIPE_DEAGLE,
	pRECIPE_TEK9,
	pRECIPE_UZY,
	pRECIPE_MP5,
	pRECIPE_SHOTGUN,
	pRECIPE_BLEED,
	pRECIPE_COMBAT_SHOTGUN,
	pRECIPE_AK47,
	pRECIPE_M4,
	pRECIPE_COUNTRY_RIFLE,
	pRECIPE_SNIPER_RIFLE,
	pRECIPE_SMOKE_GRENADE,
	pRECIPE_COCTAIL_MOLOTOV,
	pRECIPE_GRENADE,
    pOffWarnsAdm,
	pWanted,
	pWantedTime,
	pWantedWho[MAX_PLAYER_NAME],
	pWantedReason[32],
	pChar[6],
Float:pHeal,
	pDrugs,
	pCBAN,
	pCJAIL,
	pCKICK,
	pCMUTE,
	pCSLAP,
	pCREPORT,
	pCVEH,
	pMWarn,
	pPatron,
	pGunAmount,
	pCrimes,
	pJob,
	pColor,
	pMarried,
	pWhoMarried[MAX_PLAYER_NAME],
	pReferal[MAX_PLAYER_NAME],
	pRefMoney,
	pPayCheck,
	pAntiDm,
	pVip,
	WORK,
	pVipTime,
	pTime,
	pBusTime,
	pFightStyle,
	pCredits,
	pTotalCredits,
	pSkin[3],
	pSpawnChange,
	pDeath,
	pHunger,
	Float:pHealthS,
	pSportExp,
	pOnline,
	pZakon,
	pCity,
	pRepcars[16],
	pRepcar[2],
	pImproves[32],
	pImprove[4],
	pBed,
	pWatch,
	pCiggare,
	pSprunk,
	pCHIPS,
	pRepairCar,
	pAptechka,
	pMusic,
	pMask,
	pTruckSkill,
	pTaxiSkill,
    pWorkSalary,
	SKILL_SD_PISTOL,
	SKILL_DEAGLE,
	SKILL_SHOTGUN,
	SKILL_MP5,
	SKILL_AK47,
	SKILL_M4,
 	// Машина
 	aCarid,
 	cModel[2],
	cClass[2],
    cFuel[2],
	cColor[2],
	cColor1[2],
	cLock[2],
	cCost[2],
	cVehcoms[14],
	cVehcom[64],
	cVehcom1[64],
	cVehcoms1[14],
	cVirtual[2],
	cPaintjob[2],
	Float:cProbeg,
	pVehicleKey[2],
	//------------
	SalonCarID,
	GruzCarID,
	TruckerCarID,
	TaxiCarID,
	BusCarID,
	MechanicCarID,
	PlayerCarID[2],
	//-------------
    Float:pPos[3],
    pCharity,
	pName[MAX_PLAYER_NAME],
	pSendername[MAX_PLAYER_NAME],
	pSettings,
	pNumberVehicle[30],
	pNumberVehicle1[64],
	pRegVehicle,
	pAutoLic,
	ACCheck,
	Spectating[2],
	PlayerText:SpecTxt,
	pAFK,
    Float:PosX,
    Float:PosY,
    Float:PosZ,
    pInt,
    pWorld,
    pTruckLevel,
    P_IN_ENTRANCE,
	P_IN_ROOM,
	P_ENTRANCE,
	P_ROOM,
	pShahtaEarn, // доход суммарный на шахте
	bool:pShahtaWork
    /*pFamily,
	pFamilySozd,
	pFamilyZam*/
};
new PI[MAX_PLAYERS][pInfo];

new playerReported[MAX_PLAYERS];
new playerReportText[MAX_PLAYERS][128];

new PlayerPickupID[MAX_PLAYERS];


//new PI[MAX_PLAYERS][pInfo];

/*enum e_porch
{
	pID,
	Float:pEnterX,
	Float:pEnterY,
	Float:pEnterZ,
	Float:pCarX, 
	Float:pCarY,
	Float:pCarZ,
	Float:pCarA,
	pFirstFlat,
	pEnterPick
}
new PorchInfo[200][e_porch];

enum e_porch_house
{
	hID,
	Float:hEntrx,
	Float:hEntry,
	Float:hEntrz,
	hOwner[MAX_PLAYER_NAME+1],
	hOwnerID,
	hPrice,
	hDays,
	hMIcon,
	hPickup
}
new PorchHouseInfo[sizeof(PorchFlatsCoord)*200][e_porch_house];*/


/* Система акссесуаров 
	Версия: 0.1 ALPHA
	Разработка ведется с 3 января 2020 года
	Senior Gamemode Developer: Folinq Weard
	CEO: Roma Omegov
	
	
	
    ----------- Todo list
	- Сделать инвентарь
	- Сделать добавление/убирание акссесуара
	- Сделать возможность продавать/покупать акссесуары
	- Сделать настройку акссесуаров

	
*/

#define acc_NUM 3 // сколько сейчас создано акссесуаров
#define acc_MaxName 32 // Максимальное количество символов в названии акссесуара


// -------- [РЕДКОСТЬ АКССЕСУАРА] --------------

#define COMMON 		1 // обычный
#define RARE		2 // редкий
#define SUPER_RARE	3 // сверхредкий
#define EXCLUSIVE	4 // эксклюзивный


enum acc_Inform { // информация об акссесуаре
	acc_id, // id аксессуара для внутренних перехватов и мапинуляций
	acc_name[acc_MaxName], // имя акссесуара
	acc_cost, // гос.стоимость акссесуара
	acc_game_id, // игровой id объекта акссесуара
	acc_bone, // кость, к которой крепится акссесуар по умолчанию
	acc_rarity // редкость предмета
};

new const static acc_Info[acc_NUM][acc_Inform] = {
	{0, "Катана", 			5000, 	18644, 	5, COMMON}, 
	{1, "Красная шапка", 	2000, 	18950, 	2, COMMON}, 
	{2, "Желтая шапка", 	2000, 	18951,	2, COMMON} 
};


#define GetAccName(%1)		acc_Info[%1][acc_name]
#define GetAccCost(%1)		acc_Info[%1][acc_cost]
#define GetAccRarity(%1)	acc_Info[%1][acc_rarity]
#define GetAccBone(%1)		acc_Info[%1][acc_bone]
#define GetAccModel(%1)		acc_Info[%1][acc_game_id]

#define IsValidAcc(%1)		(0 <= %1 < acc_NUM)

// #include <../../files/accesories.inc>

enum acc_PlayerInfo { // Информация об игроке по системе акссесуаров
	acc_bone_used[18], // Занятость слотов (всего 18)
	acc_is_wear[18], // Занятость слотов (всего 18)
	acc_is_have_acc[acc_NUM], // есть ли у игрока акссесуар (по макс кол-ву)
	acc_banned[acc_NUM], // заблокирован ли акссесуар к перепродаже у игрока
	acc_objectid[18]
}

new acc_PI[MAX_PLAYERS][acc_PlayerInfo];

#define IsBoneUsed(%1,%2) 		acc_PI[%1][acc_bone_used][%2]
#define IsAccBanned(%1,%2)		acc_PI[%1][acc_banned][%2]
#define IsPlayerHaveAcc(%1,%2)	acc_PI[%1][acc_is_have_acc][%2]
#define IsPlayerWearAcc(%1,%2) acc_PI[%1][acc_is_wear][%2]


AddAccToPlayer(playerid, accesid, banned = 1) {
	if(!IsValidAcc(accesid)) return 0;
	else {
		if(!IsPlayerConnected(playerid)) return 0;
		if(!PlayerLogged[playerid]) return 0;

		if(IsPlayerHaveAcc(playerid, accesid)) { // Добавление уже имеющегося акссесуара на тело
			if(FindFreeSlot(playerid) >= 9) { 
				SendErr(playerid, "Достигнуто максимальное количество акссесуаров");
				if(!PI[playerid][pVip]) SendTimeMessage(playerid, "Для того, чтобы установить более трех акссесуаров одновременно, приобретите VIP", 1000, POND_TYPE);
				return 0;
			}
			new freeslot = FindFreeSlot(playerid);
			acc_PI[playerid][acc_objectid][freeslot] = SetPlayerAttachedObject(playerid, \
			freeslot, \
			GetAccModel(accesid), \
			GetAccBone(accesid));
			// EditPlayerObject(playerid, acc_PI[playerid][acc_objectid][freeslot]);
			EditAttachedObject(playerid, acc_PI[playerid][acc_objectid][freeslot]);
			acc_PI[playerid][acc_bone_used][GetAccBone(accesid)] = 1;
			acc_PI[playerid][acc_is_wear][accesid] = 1;
		}
		else  { // Добавление нового акссесуара
			if (IsBoneUsed(playerid, GetAccBone(accesid)) || FindFreeSlot(playerid) > 9) SendErr(playerid, "Место под новый акссесуар занято, он добавлен к Вам в инвентарь.");
			acc_PI[playerid][acc_is_have_acc][accesid] = 1;
			acc_PI[playerid][acc_banned][accesid] = banned;
			new freeslot = FindFreeSlot(playerid);
			acc_PI[playerid][acc_objectid][freeslot] = SetPlayerAttachedObject(playerid, \
			freeslot, \
			GetAccModel(accesid), \
			GetAccBone(accesid));
			EditAttachedObject(playerid, acc_PI[playerid][acc_objectid][freeslot]);
			acc_PI[playerid][acc_bone_used][GetAccBone(accesid)] = 1;
			acc_PI[playerid][acc_is_wear][accesid] = 1;
		}
	}
	return 1;
}

cmd:freeacc(playerid) {
	for(new i; i < 9; i++) {
		if(!PI[playerid][pVip] && i == 3) break;
		acc_PI[playerid][acc_is_wear][i] = 0;
		acc_PI[playerid][acc_bone_used][i] = 0;
		RemovePlayerAttachedObject(playerid, i);
	}
	SendSucces(playerid, "Вы сняли все акссесуары с себя!");
	return 1;
}

stock FindFreeSlot(playerid) {
	new maxss;
	if(PI[playerid][pVip]) maxss = 9;
	else maxss = 3;

	for(new i; i < maxss; i++) {
		if(IsPlayerAttachedObjectSlotUsed(playerid, i)) continue;
		else if(i > 0) return i;
			else return 0;
	} 
	return 10;
}


AccesList (playerid, id) {

	new string[128*acc_NUM], tmp[128];
	for(new i; i < acc_NUM; i++) {
		if(IsPlayerHaveAcc(playerid, i)) {
			format(tmp, sizeof tmp, "{FFFFFF}%s\t\t|\t\t%s{FFFFFF}\t\t\t|\t\t%s\n", GetAccName(i), \
			(IsPlayerWearAcc(playerid, i)) ? ("{63BD4E}Надет") : ("{FFFF00}Снят"), \
			IsAccBanned(playerid, id) ? ("{FF0000}Заблокирован") : ("Не заблокирован"));
			strcat(string, tmp);
		} else continue;
	}
	if(!strlen(string)) string = "{FFFFFF}У игрока нет акссесуаров.";
	ShowPlayerDialog(playerid, ACCESLIST, \
	(PI[playerid][pAdmin] > 6) ? DIALOG_STYLE_LIST : DIALOG_STYLE_INPUT, \
	GetName(id), string, "Далее", "Закрыть");
	return 1;
}




enum hInfo
{
	hID,
Float:hEntrx,
Float:hEntry,
Float:hEntrz,
Float:hExitx,
Float:hExity,
Float:hExitz,
Float:hCarx,
Float:hCary,
Float:hCarz,
Float:hCarfa,
	hOwner[MAX_PLAYER_NAME],
	hDiscript[16],
	hPrice,
	hBuyPrice,
	hInt,
	hVirtual,
	hLock,
	hMIcon,
	hPickup,
Text3D:hPickupExit,
	hOplata,
	hHeal
};
new HouseInfo[4000][hInfo];
new lastveh;

enum atm
{
	aID,
Float:aX,
Float:aY,
Float:aZ,
Float:arX,
Float:arY,
Float:arZ,
};
new ATMInfo[50][atm], TOTALATM;
new ATM[50];
new Text3D:LABELATM[50];

enum bzInfo
{
	bID,
Float:bEntrx,
Float:bEntry,
Float:bEntrz,
Float:bExitx,
Float:bExity,
Float:bExitz,
Float:bMenux,
Float:bMenuy,
Float:bMenuz,
	bOwner[MAX_PLAYER_NAME],
	bPrice,
	bBuyPrice,
	bMoney,
	bType,
	bLic,
	bInt,
	bVirtual,
	bLock,
	bEnter,
	bMIcon,
	bIcon,
	bPickup,
	bPickupExit,
	bName[32],
	bProduct,
	bTill,
	bMenu,
	bLockTime,
	bMafia,
	bOplata,
	bZahvat,
	// Улучшения
	UNLOCK_OGRAN,
	UNLOCK_BANNER,
	UNLOCK_GPS,
	UNLOCK_MUSIC
};
new BizzInfo[200][bzInfo];
#define DSL                             DIALOG_STYLE_LIST
#define DSP                             DIALOG_STYLE_PASSWORLD
#define DSI                             DIALOG_STYLE_INPUT
#define DSM                             DIALOG_STYLE_MSGBOX

new OnmZONE[1][20];
new ZoneOnBattlem[1];
new ZoneTimerm[1];
new allowedmfactions[] = {TEAM_SPARTAK,TEAM_CSKA, TEAM_DINAMO, TEAM_ZENIT};
new zons;
enum MzoneInfo
{
	mFrakVlad,
	mNapad,
}

new MZInfo[1][MzoneInfo];
new startwar = 0;

new Text3D:LABELBIZZ[200];
new BizzPay[200];
new fuelcheck;

new Siren[MAX_VEHICLES];



enum vInfo
{
	vID,
	vModel,
	vColors[32],
	vColor[2],
Float:vPos_X,
Float:vPos_Y,
Float:vPos_Z,
Float:vPos_FA,
	vInt,
	vWorld,
	vVehicle,
	vFraction,
	vFamily,
	vStatus,
	vCost,
	vRank,
	vHouse,
};
new VehInfo[500][vInfo];

enum aInfo
{
	aText[128],
	aName[MAX_PLAYER_NAME],
	aPhone,
};
new AdvertInfo[15][2][aInfo];

new FracBank[11];
new DrugsBank[26];
//==============================================================================
static const stock Fraction_Name[MAX_FRACTIONS][] = {
	"Нет",
// - Государственные организации;
	"Администрация Области (АО)",
	"Патрульно Постовая Служба (ППС)",
	"Дорожно Патрульная Служба (ДПС)",
	"Федеральная Служба Исполнения Наказания (ФСИН)",
	"Министерство Здравоохранения г.Южный (МЗ-Ю)",
	"Министерство Здравоохранения г.Арзамас (МЗ-А)",
	"Средство Массовой Информации (СМИ)",
	"Армия Военно Морского Флота (АВМФ)",
// - Нелегальные организации;
	"ФК Спартак",
	"ФК ЦСКА",
	"ФК Зенит",
	"ФК Динамо"
};
//=========================[ Ранги во фракциях ]================================
static const stock Fraction_Rang[MAX_FRACTIONS][MAX_RANGS][32] = {
	{"Нет","","","","","","","","","","","","","","","",""},
	{"","Охраник","Начальник охраны","Лицензер","Секретарь","Адвокат","Министр связи","Министр внутренних дел","Министр здравоохранения","Министр обороны","Министр Финансов","Вице-Президент","Президент","","","",""},		//-  Администрация Области (АО)
	{"","Кадет","Младший сержант","Сержант","Старший сержант","Прапорщик","Младший лейтенант","Лейтенант","Старший лейтенант","Майор","Подполковник","Полковник","Генерал","","","",""},// Патрульно-постовая служба (ППС)
	{"","Рядовой","Сержант","Старший Сержант","Лейтенант","Старший лейтенант","Капитан","Майор","Подполковник","Полковник","Генерал","","","","","",""},// Дорожно-постовая служба (ДПС)
	{"","Младший оперативник","Сотрудник отдела \"К\"","Сотрудник отдела \"Э\"","Сотрудник отдела \"А\"","Старший оперативник","Глава отдела \"К\"","Глава отдела \"Э\"","Глава отдела \"А\"","Заместитель начальника ФСБ","Начальник ФСБ","","","","","",""}, // Федеральная Служба Безопасности (ФСБ)
	{"","Интерн","Младший медработник","Медработник","Врач-участковый","Врач-терапевт","Врач-хирург","Младший специалист","Специалист","Заведующий","Главный врач","","","","","",""}, // Скорая Медицинская Помощь г. Арзамас
	{"","Браток","Головорез","Чистильщик","Шпион","Координатор","Ветеран","Пахан","Сторожила","Аристократ","Авторитет","","","","","",""}, // ОПГ Южная
	{"","Браток","Головорез","Чистильщик","Шпион","Координатор","Ветеран","Пахан","Сторожила","Аристократ","Авторитет","","","","","",""}, // ОПГ Ореховская
	{"","Браток","Головорез","Чистильщик","Шпион","Координатор","Ветеран","Пахан","Сторожила","Аристократ","Авторитет","","","","","",""}, // ОПГ Солнцевская
	{"","Новицио","Ассасиато","Сомбатентте","Солдато","Ассасино","Сото-Капо","Капо","Младший босс","Коньсельери","Дон","","","","","",""}, // Чеченская Мафия
 	{"","Помощник редакции","Верстальщик новостей","Радиотехник","Журналист","Старший журналист","Корректор","Помощник редактора","Редактор","Заместитель директора","Директор","","","","","",""}, // СМИ
 	{"","Помощник редакции","Верстальщик новостей","Радиотехник","Журналист","Старший журналист","Корректор","Помощник редактора","Редактор","Заместитель директора","Директор","","","","","",""}, // СМИ
	{"","Рядовой","Сержант","Старший сержант","Старшина","Лейтенант","Капитан","Майор","Подполковник","Полковник","Генерал","","","","","",""} // Воинская Часть АРМИЯ ВДВ
};
//=========================[ Зарплата фракций ]=================================
static const stock Fraction_Pay[MAX_FRACTIONS][17] = {
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{10000,11000,12000,13000,14000,15000,16000,17000,18000,19000,20000,21000,0,0,0,0},		// - Администрация Области (АО)
	{10000,10500,11000,11500,12000,12500,13000,13500,14000,14500,15000,15500,0,0,0,0},		// - Патрульно Постовая Служба (ППС)
	{7500,9000,10500,12000,13500,15000,16500,18000,19500,21000,0,0,0,0,0,0}, // ДПС
	{7500,9000,10500,12000,13500,15000,16500,18000,19500,21000,0,0,0,0,0,0,0}, // ФСБ
	{5500,7000,8500,10000,11500,13000,14500,16000,17500,19000,0,0,0,0,0,0}, // Центральная Больница
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}, // ОПГ Южная
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}, // ОПГ Ореховская
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}, // ОПГ Солнцевская
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}, // Чеченская Мафия
	{5500,7000,8500,10000,11500,13000,14500,16000,17500,19000,0,0,0,0,0,0}, // СМИ
	{5500,7000,8500,10000,11500,13000,14500,16000,17500,19000,0,0,0,0,0,0}, // СМИ
	{5500,7000,8500,10000,11500,13000,14500,16000,17500,19000,0,0,0,0,0,0} // Воинская Часть АРМИЯ ВДВ
};
//==============================================================================
/*static const stock Fraction_Skin[26][13] = {
	{0,0,0,0,0,0,0,0}, // Гражданский
	{17,295,187,164,165,228,147,150}, // Администрация области пгт. Батырево
    {285,284,283,282,281,280,266,265,166,76}, // ППС г. Арзамас
    {285,284,283,282,281,280,266,265,166,76}, // ДПС г. Южный
    {163,164,165,166,211,295,285,286}, // ФСБ
    {274,275,276,70,148}, // Центральная Больница
	{11,189,171,172,0,0,0,0}, // Автошкола
	{113,124,127,190,0,0,0}, // ОПГ Южная
	{126,113,125,190,0,0,0,0}, // ОПГ Ореховская
	{173,174,175,226,273,0,0,0}, // ОПГ Солнцевская
	{193,114,115,116,292,0,0,0}, // Закрыто
	{108,109,110,56,0,0,0,0}, // Закрыто
	{287,255,206,179,61,191,0}, // Армия
	{0,0,0,0,0,0,0,0}, // Свободный слот для организации
	{255,253,185,59,189}, // Закрыто
	{223,124,127,290,113,117,98,93}, // Закрыто
	{117,118,120,122,123,169,263}, // Закрыто
	{46,111,112,126,125,272,233,43}, // Закрыто
	{188,217,261,211}, // ТРК ''Релакс''
	{187,186,170,188,20,141,150,219}, // Закрыто
	{187,186,170,188,20,141,150,219}, // Закрыто
	{285,286}, // ФСБ
	{279,278,277}, // Закрыто
	{274,275,276,70,148}, // Закрыто
	{17,59,187,164,165,141,240,150}, // Закрыто
	{17,59,187,164,165,141,240,150} // Закрыто
};*/
//==============================================================================
static const stock Fraction_Skin[MAX_FRACTIONS][8] = {
	{0,0,0,0,0,0,0,0}, // Гражданский
	{227, 211, 187, 164, 165, 141, 147, 0}, // Правительство
	{76,265,267,284,288,0,0,0}, // ппс
    {266,280,281,282,283,0,0,0}, // дпс
    {163,166,285,286,0,0,0,0}, // фсб
    {70,148,274,275,276,0,0,0}, // Больница АЗ
	{98,46,121,125,0,0,0,0}, // южн
	{122,123,124,126,0,0,0,0}, // орех
	{173,174,175,226,273,0,0,0}, // солц
	{193,114,115,116,292,0,0,0}, // чечен
 	{172,217,261,0,0,0,0,0}, // СМИ
 	{172,217,261,0,0,0,0,0}, // СМИ
	{61,73,191,206,286,0,0,0} // Армия 12
};
//==============================================================================
new MZSafeTime[3] = 0;
new FrakCDm[20];
new OnZONE[104][20];
new ZoneOnBattle[104];
new allowedfactions[] = {7, 8, 9, 10, 11};
new GZSafeTime[104];
new GangTotalGz[5];//rifa,aztec,ballas,grove,vagos
enum GzoneInfo
{
	gID,
Float:gCoords[4],
	gFrak,
	gNapad
}
new GZInfo[104][GzoneInfo];
new GangZone[104];

static const stock Float:DrivingTest[][6] = {
	{689.1038,443.8523,11.6208,695.3602,453.0860,11.6213},
	{695.3602,453.0860,11.6213,694.3532,461.6593,11.6215},
	{694.3532,461.6593,11.6215,696.4544,470.4240,11.6209},
	{696.4544,470.4240,11.6209,681.1007,461.3087,11.6201},
	{681.1007,461.3087,11.6201,686.2193,472.4972,11.6234},
	{686.2193,472.4972,11.6234,678.2515,456.7473,12.2940},
	{678.2515,456.7473,12.2940,674.7188,475.5619,11.6217},
	{674.7188,475.5619,11.6217,656.2324,454.7915,11.6217},
	{656.2324,454.7915,11.6217,680.9903,430.6278,11.6226},
	{680.9903,430.6278,11.6226,649.3519,402.4631,11.8151},
	{649.3519,402.4631,11.8151,603.5487,408.5907,11.8139},
	{603.5487,408.5907,11.8139,563.7420,370.8742,11.6291},
	{563.7420,370.8742,11.6291,629.7734,551.8146,11.6758},
	{629.7734,551.8146,11.6758,546.6478,591.0586,11.6204},
	{546.6478,591.0586,11.6204,566.0526,653.2325,11.6216},
	{566.0526,653.2325,11.6216,381.1695,739.9445,11.6210},
	{381.1695,739.9445,11.6210,232.9354,796.2977,11.6279},
	{232.9354,796.2977,11.6279,175.2383,693.8950,11.6229},
	{175.2383,693.8950,11.6229,117.5118,542.4460,11.6213},
	{117.5118,542.4460,11.6213,177.0246,511.2003,11.6230},
	{177.0246,511.2003,11.6230,275.3051,472.7464,11.6223},
	{275.3051,472.7464,11.6223,296.2828,521.3855,11.6220},
	{296.2828,521.3855,11.6220,412.6223,478.0352,11.6756},
	{412.6223,478.0352,11.6756,571.3005,416.6056,11.6726},
	{571.3005,416.6056,11.6726,605.7759,490.9171,11.6787},
	{605.7759,490.9171,11.6787,631.0452,480.3650,11.8008},
	{631.0452,480.3650,11.8008,678.8832,427.4677,11.6207},
	{678.8832,427.4677,11.6207,0.0,0.0,0.0}
};
static const stock Float:FlyTest[][6] = {
	{-2010.7413,-39.4386,95.4837,-2006.9191,180.9614,95.4578},
	{-2006.9191,180.9614,95.4578,-2004.4702,472.4755,95.4234},
	{-2004.4702,472.4755,95.4234,-2117.8350,503.7773,95.4222},
	{-2117.8350,503.7773,95.4222,-2281.6128,509.3513,95.4102},
	{-2281.6128,509.3513,95.4102,-2458.8994,467.2858,95.3948},
	{-2458.8994,467.2858,95.3948,-2539.0950,334.9100,52.3313},
	{-2539.0950,334.9100,52.3313,-2462.2209,203.1778,97.3129},
	{-2462.2209,203.1778,97.3129,-2216.7964,208.8197,61.5710},
	{-2216.7964,208.8197,61.5710,-2154.8650,131.3025,69.0865},
	{-2154.8650,131.3025,69.0865,-2164.0918,-6.3266,69.0949},
	{-2164.0918,-6.3266,69.0949,-2136.0110,-166.9167,69.1069},
	{-2136.0110,-166.9167,69.1069,-2038.3370,-216.1395,35.7256},
	{-2038.3370,-216.1395,35.7256,0.0,0.0,0.0}
};

static const stock Float:WaterTest[][6] = {
	{-2969.5051,570.6226,-1.1616,-2982.6321,664.5944,-1.1298},
	{-2982.6321,664.5944,-1.1298,-2985.9182,841.5399,-0.7251},
	{-2985.9182,841.5399,-0.7251,-2997.0684,1099.2870,-0.4735},
	{-2997.0684,1099.2870,-0.4735,-2944.2852,1245.3586,-0.6197},
	{-2944.2852,1245.3586,-0.6197,-2849.8442,1325.6006,-0.6607},
	{-2849.8442,1325.6006,-0.6607,-2766.9316,1347.0320,-0.9388},
	{-2766.9316,1347.0320,-0.9388,-2752.9666,1445.9756,-1.0134},
	{-2752.9666,1445.9756,-1.0134,-2869.2339,1386.4480,-0.7352},
	{-2869.2339,1386.4480,-0.7352,-2999.1572,1246.1807,-1.2257},
	{-2999.1572,1246.1807,-1.2257,-3029.1658,1103.0569,-0.7395},
	{-3029.1658,1103.0569,-0.7395,-3021.3987,896.7744,-1.1502},
	{-3021.3987,896.7744,-1.1502,-3019.3062,676.8632,-0.8812},
	{-3019.3062,676.8632,-0.8812,-2963.1921,501.1066,-0.7070},
	{-2963.1921,501.1066,-0.7070,0.0,0.0,0.0}
};

static const stock Float:BusCityLV[][] = {
	{-710.8743,965.0538,12.1026,-609.7674,965.0527,12.1141},
	{-609.7674,965.0527,12.1141,-393.3902,964.2781,12.0941},
	{-393.3902,964.2781,12.0941,-385.1540,928.7322,12.0941},
	{-385.1540,928.7322,12.0941,386.7371,705.1396,12.1264},
	{-386.7371,705.1396,12.1264,-386.1244,630.9739,12.0951},
	{-386.1244,630.9739,12.0951,-284.6586,592.7407,12.0941},
	{-284.6586,592.7407,12.0941,-66.6421,564.5627,12.0949},
	{-66.6421,564.5627,12.0949,-62.1453,531.1238,12.0951},
	{-62.1453,531.1238,12.0951,-94.2526,334.8975,12.0951},
	{-94.2526,334.8975,12.0951,-111.6479,230.4643,12.3694},
	{-111.6479,230.4643,12.3694,-141.8777,48.0396,12.3736},
	{-141.8777,48.0396,12.3736,-173.2749,-145.4125,1.4005},
	{-173.2749,-145.4125,1.4005,-120.8839,-157.7223,1.3787},
	{-120.8839,-157.7223,1.3787,-26.3597,-156.9720,3.1349},
	{-26.3597,-156.9720,3.1349,115.3118,-157.8755,4.3067},
	{115.3118,-157.8755,4.3067,196.6042,-156.8860,4.3259},
	{196.6042,-156.8860,4.3259,202.9656,-205.3640,4.3245},
	{202.9656,-205.3640,4.3245,202.9759,-303.2773,4.3246},
	{202.9759,-303.2773,4.3246,199.9220,-357.2036,4.2581},
	{199.9220,-357.2036,4.2581,208.7955,-340.2405,4.3085},
	{208.7955,-340.2405,4.3085,208.1037,-163.4628,4.3234},
	{208.1037,-163.4628,4.3234,177.6586,-152.7642,4.3418},
	{177.6586,-152.7642,4.3418,-134.7911,-149.8063,1.3420},
	{-134.7911,-149.8063,1.3420,-163.3210,-153.0159,1.4160},
	{-163.3210,-153.0159,1.4160,-165.5533,-131.4632,1.3825},
	{-165.5533,-131.4632,1.3825,-151.6434,-46.1005,4.3599},
	{-151.6434,-46.1005,4.3599, -131.2660,76.4276,12.3809},
	{-131.2660,76.4276,12.3809,-94.1060,298.2881,12.3785},
	{-94.1060,298.2881,12.3785,-51.4914,545.6058,12.0951},
	{-51.4914,545.6058,12.0951,-284.4241,607.8356,12.0941},
	{-284.4241,607.8356,12.0941,-362.6739,614.9729,12.0951},
	{-362.6739,614.9729,12.0951,-372.2780,656.7633,12.0952},
	{-372.2780,656.7633,12.0952,-371.2540,954.8768,12.0943},
	{-371.2540,954.8768,12.0943,-408.5797,977.6666,12.0949},
	{-408.5797,977.6666,12.0949,-722.0510,979.3763,12.1042},
	{-722.0510,979.3763,12.1042,-744.5497,953.0797,12.2531},
	{-744.5497,953.0797,12.2531,0.0,0.0,0.0}

};

static const stock MaxPassengers[27] =
{
	0x10331113, 0x11311131, 0x11331313, 0x80133301,
	0x1381F110, 0x10311103, 0x10001F10, 0x11113311,
	0x13113311, 0x31101100, 0x30001301, 0x11031311,
	0x11111331, 0x10013111, 0x01131100, 0x11111110,
	0x11100031, 0x11130221, 0x33113311, 0x11111101,
	0x33101133, 0x101001F0, 0x03133111, 0xFF11113F,
	0x13330111, 0xFF131111, 0x0000FF3F
};
new trucker1lvl[2];
new trucker2lvl[2];

static const stock Float:BusCitySF[][] = {
	{-703.5718,964.7751,12.1031,-394.0823,964.3934,12.0938},
	{-394.0823,964.3934,12.0938,-354.9529,964.3803,12.0951},
	{-354.9529,964.3803,12.0951,-110.5897,914.5716,12.0938},
	{-110.5897,914.5716,12.0938,0.3837,873.1287,12.0938},
	{0.3837,873.1287,12.0938,28.6052,890.5668,12.0931},
	{28.6052,890.5668,12.0931,86.0752,1090.2957,12.0941},
	{86.0752,1090.2957,12.0941,132.2034,1318.8555,12.0942},
	{132.2034,1318.8555,12.0942,163.4416,1472.8859,12.0941},
	{163.4416,1472.8859,12.0941,195.7612,1483.2920,12.1747},
	{195.7612,1483.2920,12.1747,193.4783,1443.7032,12.1560},
	{193.4783,1443.7032,12.1560,176.9738,1361.3123,12.1751},
	{176.9738,1361.3123,12.1751,140.2091,1182.3271,12.1951},
	{140.2091,1182.3271,12.1951,108.0496,1091.7445,12.0940},
	{108.0496,1091.7445,12.0940,56.2064,1044.4491,12.0930},
	{56.2064,1044.4491,12.0930,43.1755,966.8984,12.0941},
	{43.1755,966.8984,12.0941,16.5029,896.0454,12.0941},
	{16.5029,896.0454,12.0941,-25.4146,898.3145,12.0934},
	{-25.4146,898.3145,12.0934,-131.4482,938.7707,12.0943},
	{-131.4482,938.7707,12.0943,-363.7038,978.2903,12.0951},
	{-363.7038,978.2903,12.0951,-734.9941,979.1884,12.1041},
	{-734.9941,979.1884,12.1041,-739.6608,951.0529,12.2531},
	{-739.6608,951.0529,12.2531,0.0,0.0,0.0}

};

static const stock Float:arzamas_batirevo[][] = {
	{397.4858,1560.5222,12.1332,413.9889,1624.7058,12.1774},
	{413.9889,1624.7058,12.1774,530.4172,1613.9626,12.1771},
	{530.4172,1613.9626,12.1771,707.9263,1598.0219,12.1840},
	{707.9263,1598.0219,12.1840,933.9835,1576.3344,12.1662},
	{933.9835,1576.3344,12.1662,1237.5746,1487.5597,11.8990},
	{1237.5746,1487.5597,11.8990,1615.0328,1447.9166,12.1495},
	{1615.0328,1447.9166,12.1495,1703.9989,1442.0748,12.1574},
	{1703.9989,1442.0748,12.1574,1708.7194,1390.6888,12.1373},
	{1708.7194,1390.6888,12.1373,1607.7745,1459.0381,12.1511},
	{1607.7745,1459.0381,12.1511,1467.5580,1492.3101,11.9666},
	{1467.5580,1492.3101,11.9666,1004.7477,1488.6094,12.1694},
	{1004.7477,1488.6094,12.1694,701.8928,1601.8820,12.1805},
	{701.8928,1601.8820,12.1805,380.9402,1563.1792,12.1331},
	/*{380.9402,1563.1792,12.1331,380.9402,1563.1792,12.1331},
	{381.6593,1539.1776,12.1768,388.4685,1619.8303,12.2051},
	{388.4685,1619.8303,12.2051,424.6226,1623.6438,12.1995},
	{424.6226,1623.6438,12.1995,700.6777,1601.0848,12.1844},
	{700.6777,1601.0848,12.1844,939.8496,1594.1978,12.2079},
	{939.8496,1594.1978,12.2079,915.2112,1600.4908,12.1681},
	{915.2112,1600.4908,12.1681,651.0947,1610.8723,12.1780},
	{651.0947,1610.8723,12.1780,398.8486,1631.2706,12.1811},
	{398.8486,1631.2706,12.1811,374.9442,1553.3218,12.1387},
	{374.9442,1553.3218,12.1387,333.4601,1502.5743,12.1249},
	{333.4601,1502.5743,12.1249,317.7871,1488.5026,12.1397},
	{317.7871,1488.5026,12.1397,306.5667,1374.6570,25.8116},
	{306.5667,1374.6570,25.8116,283.8235,1145.6176,12.1025},
	{283.8235,1145.6176,12.1025,222.8062,816.3630,12.0946},
	{222.8062,816.3630,12.0946, 177.7269,823.2864,12.0942},
	{177.7269,823.2864,12.0942,67.5694,863.3689,12.0951},
	{67.5694,863.3689,12.0951,-126.2813,936.6938,12.0941},
	{-126.2813,936.6938,12.0941,-362.7570,978.7401,12.0951},
	{-362.7570,978.7401,12.0951,-722.5858,980.7871,12.1740},
	{-722.5858,980.7871,12.1740,-736.7625,957.4746,12.2532},*/
	{380.9402,1563.1792,12.1331,0.0, 0.0, 0.0}

};

static const stock Float:BusSchool[][] = {
	{-705.6362,964.0098,12.1720,-394.0353,963.9706,12.0951},
	{-394.0353,963.9706,12.0951,-350.3504,963.8916,12.0951},
	{-350.3504,963.8916,12.0951,-129.0002,923.0370,12.0942},
	{-129.0002,923.0370,12.0942,81.6576,843.8359,12.0929},
	{81.6576,843.8359,12.0929,201.9471,798.8414,12.0951},
	{201.9471,798.8414,12.0951,235.8795,786.4230,12.0924},
	{235.8795,786.4230,12.0924,461.9827,699.8640,12.0941},
	{461.9827,699.8640,12.0941,668.1651,622.1927,12.0941},
	{668.1651,622.1927,12.0941,672.9017,588.3025,12.0941},
	{672.9017,588.3025,12.0941,632.5228,482.1779,12.2911},
	{632.5228,482.1779,12.2911,611.4156,429.1083,12.2850},
	{611.4156,429.1083,12.2850,628.2935,406.6939,12.2530},
	{628.2935,406.6939,12.2530,644.9565,399.8405,12.2284},
	{644.9565,399.8405,12.2284,691.6736,382.5881,12.2456},
	{691.6736,382.5881,12.2456,678.5054,332.9734,12.3053},
	{678.5054,332.9734,12.3053,652.9766,336.0258,12.1041},
	{652.9766,336.0258,12.1041,364.4926,450.4691,12.1077},
	{364.4926,450.4691,12.1077,295.6898,475.5013,12.0952},
	{295.6898,475.5013,12.0952,166.6491,526.6204,12.0931},
	{166.6491,526.6204,12.0931,138.7284,536.9307,12.0941},
	{138.7284,536.9307,12.0941,-30.5667,573.5156,12.0952},
	{-30.5667,573.5156,12.0952,-295.5928,608.0855,12.0950},
	{-295.5928,608.0855,12.0950,-339.5938,615.3359,12.1261},
	{-339.5938,615.3359,12.1261,-371.5832,638.7068,12.0941},
	{-371.5832,638.7068,12.0941,-371.8217,955.3319,12.0951},
	{-371.8217,955.3319,12.0951,-723.4140,978.8903,12.1041},
	{-723.4140,978.8903,12.1041,-743.4382,954.0220,12.2532},
	{-743.4382,954.0220,12.2532,0.0,0.0,0.0}
};

new training_timer[MAX_PLAYERS];

static const stock Float:BusLS[][] = {
	{1808.7693,-1889.6619,13.5441, 1824.0190,-1874.4978,13.4840},
	{1824.0190,-1874.4978,13.4840, 1824.0060,-1773.2596,13.5162},
	{1824.0060,-1773.2596,13.5162, 1824.0614,-1635.0193,13.5162},
	{1824.0614,-1635.0193,13.5162, 1844.6427,-1520.9193,13.5105},
	{1844.6427,-1520.9193,13.5105, 1853.1488,-1389.1710,13.5240},
	{1853.1488,-1389.1710,13.5240, 1852.5815,-1201.0886,22.2652},
	{1852.5815,-1201.0886,22.2652, 1828.0586,-1178.4015,23.7647},
	{1828.0586,-1178.4015,23.7647, 1743.3359,-1159.2402,23.7648},
	{1743.3359,-1159.2402,23.7648, 1657.0310,-1158.5968,23.9014},
	{1657.0310,-1158.5968,23.9014, 1557.1129,-1158.6820,24.0388}, /////////////////
	{1557.1129,-1158.6820,24.0388, 1437.4683,-1158.1476,23.7897},
	{1437.4683,-1158.1476,23.7897, 1376.5890,-1138.8882,23.7887},
	{1376.5890,-1138.8882,23.7887, 1360.5190,-1121.9950,23.8286},
	{1360.5190,-1121.9950,23.8286, 1378.7158,-965.2871,33.8278},
	{1378.7158,-965.2871,33.8278, 1395.1383,-950.7330,34.7365},
	{1395.1383,-950.7330,34.7365, 1482.0538,-975.8360,36.9147},
	{1482.0538,-975.8360,36.9147, 1588.9043,-991.8221,47.5224},
	{1588.9043,-991.8221,47.5224, 1690.7782,-925.4719,52.2945},
	{1690.7782,-925.4719,52.2945, 1710.1456,-811.7196,56.6823},
	{1710.1456,-811.7196,56.6823, 1715.7312,-658.3969,42.8951},
	{1715.7312,-658.3969,42.8951, 1703.9282,-455.4938,33.5071},
	{1703.9282,-455.4938,33.5071, 1677.1586,-251.9822,43.3416},
	{1677.1586,-251.9822,43.3416, 1654.6398,-33.1713,36.6220},
	{1654.6398,-33.1713,36.6220, 1626.1002,136.1207,36.2453},
	{1626.1002,136.1207,36.2453, 1702.3450,390.6835,30.3718},
	{1702.3450,390.6835,30.3718, 1778.0345,612.6203,21.4697},
	{1778.0345,612.6203,21.4697, 1806.4822,812.1041,11.0276},
	{1806.4822,812.1041,11.0276, 1767.3173,852.2102,10.4838},
	{1767.3173,852.2102,10.4838, 1619.8535,852.7777,6.8647},
	{1619.8535,852.7777,6.8647, 1423.8711,863.6336,6.9534},
	{1423.8711,863.6336,6.9534, 1259.5035,935.0343,14.0343},
	{1259.5035,935.0343,14.0343, 1108.6045,837.5462,10.8190},
	{1108.6045,837.5462,10.8190, 951.2515,750.0100,10.8096},
	{951.2515,750.0100,10.8096, 780.5138,689.3925,11.4581},
	{780.5138,689.3925,11.4581, 559.9733,696.3895,3.4388},
	{559.9733,696.3895,3.4388, 367.5167,783.2415,6.5434},
	{367.5167,783.2415,6.5434, 272.1324,877.9490,21.3849},
	{272.1324,877.9490,21.3849, 235.9642,956.7602,28.0319},
	{235.9642,956.7602,28.0319, 244.9654,975.6467,28.3250},
	{244.9654,975.6467,28.3250, 397.9491,1016.9831,28.5701},
	{397.9491,1016.9831,28.5701, 564.1965,1060.3011,28.5695},
	{564.1965,1060.3011,28.5695, 718.3242,1101.9430,28.5811},
	{718.3242,1101.9430,28.5811, 802.7499,1132.6182,28.5613},
	{802.7499,1132.6182,28.5613, 832.3854,1119.7511,29.9747},
	{832.3854,1119.7511,29.9747, 914.5725,941.4826,13.3511},
	{914.5725,941.4826,13.3511, 832.3351,854.2448,12.4807},
	{832.3351,854.2448,12.4807, 890.7936,891.7736,13.4848}, //////////////////
	{890.7936,891.7736,13.4848, 887.9802,1028.9658,16.6697},
	{887.9802,1028.9658,16.6697, 827.2870,1127.1987,30.0681},
	{827.2870,1127.1987,30.0681, 797.9722,1136.6748,28.4726},
	{797.9722,1136.6748,28.4726, 622.5432,1083.0826,28.4664},
	{622.5432,1083.0826,28.4664, 430.2862,1031.9989,28.4727},
	{430.2862,1031.9989,28.4727, 239.7596,980.1387,28.3301},
	{239.7596,980.1387,28.3301, 229.4479,955.5310,28.0652},
	{229.4479,955.5310,28.0652, 299.3630,797.7305,14.8966},
	{299.3630,797.7305,14.8966, 426.2678,601.2230,19.0801},
	{426.2678,601.2230,19.0801, 512.9183,478.3800,19.0631},
	{512.9183,478.3800,19.0631, 615.2172,326.4894,19.7042},
	{615.2172,326.4894,19.7042, 605.2267,308.3843,19.6450},
	{605.2267,308.3843,19.6450, 522.1287,247.3229,14.6816},
	{522.1287,247.3229,14.6816, 511.1678,212.9783,14.1755},
	{511.1678,212.9783,14.1755, 524.8848,55.7221,20.7846},
	{524.8848,55.7221,20.7846, 525.1271,-117.4125,37.5993},
	{525.1271,-117.4125,37.5993, 543.7299,-144.9373,37.3545},
	{543.7299,-144.9373,37.3545, 742.2243,-164.6572,19.2261},
	{742.2243,-164.6572,19.2261, 937.1564,-180.5933,11.0567},
	{937.1564,-180.5933,11.0567, 1089.0780,-190.0154,40.2116},
	{1089.0780,-190.0154,40.2116, 1187.1486,-185.4979,39.7762},
	{1187.1486,-185.4979,39.7762, 1251.4387,-354.2089,4.3749},
	{1251.4387,-354.2089,4.3749, 1228.0728,-559.8834,42.2943},
	{1228.0728,-559.8834,42.2943, 1154.3828,-773.3051,58.0512},
	{1154.3828,-773.3051,58.0512, 1156.1265,-925.4431,43.0940},
	{1156.1265,-925.4431,43.0940, 1180.6953,-953.1128,42.7677},
	{1180.6953,-953.1128,42.7677, 1268.9562,-936.8261,42.3414},
	{1268.9562,-936.8261,42.3414, 1347.3760,-943.0712,34.9112},
	{1347.3760,-943.0712,34.9112, 1359.3085,-961.2700,33.8680},
	{1359.3085,-961.2700,33.8680, 1340.5586,-1122.0743,23.8279},
	{1340.5586,-1122.0743,23.8279, 1358.0342,-1143.0795,23.8027},
	{1358.0342,-1143.0795,23.8027, 1436.1731,-1162.8156,23.7961},
	{1436.1731,-1162.8156,23.7961, 1498.9742,-1163.6650,24.0570},
	{1498.9742,-1163.6650,24.0570, 1656.2780,-1163.5833,23.9116},
	{1656.2780,-1163.5833,23.9116, 1728.9275,-1163.5092,23.7771}, ///////////
	{1728.9275,-1163.5092,23.7771, 1828.8960,-1183.5767,23.7642},
	{1828.8960,-1183.5767,23.7642, 1845.8003,-1200.4696,22.3763},
	{1845.8003,-1200.4696,22.3763, 1846.0093,-1298.4708,13.5051},
	{1846.0093,-1298.4708,13.5051, 1846.3126,-1443.3279,13.5332},
	{1846.3126,-1443.3279,13.5332, 1819.3213,-1590.4891,13.4889},
	{1819.3213,-1590.4891,13.4889, 1819.3759,-1711.7463,13.5161},
	{1819.3759,-1711.7463,13.5161, 1819.2158,-1848.1592,13.5477},
	{1819.2158,-1848.1592,13.5477, 1811.9922,-1888.8358,13.5436},
	{1811.9922,-1888.8358,13.5436, 1788.8031,-1905.1083,13.5291},
	{1788.8031,-1905.1083,13.5291, 0.0, 0.0, 0.0}
};

new TotalObject = 0;
static const stock WeaponNames[][32] = {
	{"Unarmed (Fist)"}, // 0
	{"Brass Knuckles"}, // 1
	{"Golf Club"}, // 2
	{"Night Stick"}, // 3
	{"Knife"}, // 4
	{"Baseball Bat"}, // 5
	{"Shovel"}, // 6
	{"Pool Cue"}, // 7
	{"Katana"}, // 8
	{"Chainsaw"}, // 9
	{"Purple Dildo"}, // 10
	{"Big White Vibrator"}, // 11
	{"Medium White Vibrator"}, // 12
	{"Small White Vibrator"}, // 13
	{"Flowers"}, // 14
	{"Cane"}, // 15
	{"Grenade"}, // 16
	{"Teargas"}, // 17
	{"Molotov"}, // 18
	{" "}, // 19
	{" "}, // 20
	{" "}, // 21
	{"Colt 45"}, // 22
	{"Colt 45 (Silenced)"}, // 23
	{"Desert Eagle"}, // 24
	{"Normal Shotgun"}, // 25
	{"Sawnoff Shotgun"}, // 26
	{"Combat Shotgun"}, // 27
	{"Micro Uzi (Mac 10)"}, // 28
	{"MP5"}, // 29
	{"AK47"}, // 30
	{"M4A1"}, // 31
	{"Tec9"}, // 32
	{"Country Rifle"}, // 33
	{"Sniper Rifle"}, // 34
	{"Rocket Launcher"}, // 35
	{"Heat-Seeking Rocket Launcher"}, // 36
	{"Flamethrower"}, // 37
	{"Minigun"}, // 38
	{"Satchel Charge"}, // 39
	{"Detonator"}, // 40
	{"Spray Can"}, // 41
	{"Fire Extinguisher"}, // 42
	{"Camera"}, // 43
	{"Night Vision Goggles"}, // 44
	{"Infrared Vision Goggles"}, // 45
	{"Parachute"}, // 46
	{"Fake Pistol"} // 47
};
new bool:PlayerTied[MAX_PLAYERS];

static const stock carsBike[67][2] = { //Низкий класс
    {400, 1000000},
    {401, 60000},
    {402, 1500000},
    {404, 100000},
    {410, 750000},
    {411, 160000},
    {412, 70000},
    {415, 4000000},
    {421, 1000000},
    {422, 80000},
    {434, 1000000},
    {436, 800000},
    {439, 70000},
    {445, 120000},
    {451, 2000000},
    {458, 150000},
    {461, 90000},
    {462, 15000},
    {463, 300000},
	{466, 900000},
	{467, 70000},
	{468, 150000},
	{471, 60000},
    {475, 700000},
    {477, 2000000},
	{478, 60000},
	{479, 150000},
	{480, 1500000},
	{481, 6000},
	{489, 400000},
	{490, 3000000},
	{492, 130000},
	{495, 3000000},
	{496, 40000},
	{500, 85000},
	{505, 750000},
	{506, 3000000},
	{507, 80000},
	{508, 121000},
	{509, 8000},
	{510, 10000},
	{516, 130000},
	{521, 110000},
	{522, 1200000},
	{529, 100000},
	{540, 300000},
	{541, 2500000},
	{542, 100000},
	{546, 70000},
	{547, 80000},
	{549, 20000},
	{550, 110000},
	{551, 250000},
	{555, 20000},
	{558, 800000},
	{559, 800000},
	{560, 1100000},
	{561, 80000},
	{562, 1200000},
	{565, 130000},
	{566, 80000},
	{579, 2000000},
	{585, 150000},
	{586, 90000},
	{589, 350000},
	{600, 125000},
	{603, 1000000}
};

static const stock carsA[67][2] = { //Средний класс
    {400, 1000000},
    {401, 60000},
    {402, 1500000},
    {404, 100000},
    {410, 750000},
    {411, 160000},
    {412, 70000},
    {415, 4000000},
    {421, 1000000},
    {422, 80000},
    {434, 1000000},
    {436, 800000},
    {439, 70000},
    {445, 120000},
    {451, 2000000},
    {458, 150000},
    {461, 90000},
    {462, 15000},
    {463, 300000},
	{466, 900000},
	{467, 70000},
	{468, 150000},
	{471, 60000},
    {475, 700000},
    {477, 2000000},
	{478, 60000},
	{479, 150000},
	{480, 1500000},
	{481, 6000},
	{489, 400000},
	{490, 3000000},
	{492, 130000},
	{495, 3000000},
	{496, 40000},
	{500, 85000},
	{505, 750000},
	{506, 3000000},
	{507, 80000},
	{508, 121000},
	{509, 8000},
	{510, 10000},
	{516, 130000},
	{521, 110000},
	{522, 1200000},
	{529, 100000},
	{540, 300000},
	{541, 2500000},
	{542, 100000},
	{546, 70000},
	{547, 80000},
	{549, 20000},
	{550, 110000},
	{551, 250000},
	{555, 20000},
	{558, 800000},
	{559, 800000},
	{560, 1100000},
	{561, 80000},
	{562, 1200000},
	{565, 130000},
	{566, 80000},
	{579, 2000000},
	{585, 150000},
	{586, 90000},
	{589, 350000},
	{600, 125000},
	{603, 1000000}
};

static const stock carsB[67][2] = {
    {400, 1000000},
    {401, 60000},
    {402, 1500000},
    {404, 100000},
    {410, 750000},
    {411, 160000},
    {412, 70000},
    {415, 4000000},
    {421, 1000000},
    {422, 80000},
    {434, 1000000},
    {436, 800000},
    {439, 70000},
    {445, 120000},
    {451, 2000000},
    {458, 150000},
    {461, 90000},
    {462, 15000},
    {463, 300000},
	{466, 900000},
	{467, 70000},
	{468, 150000},
	{471, 60000},
    {475, 700000},
    {477, 2000000},
	{478, 60000},
	{479, 150000},
	{480, 1500000},
	{481, 6000},
	{489, 400000},
	{490, 3000000},
	{492, 130000},
	{495, 3000000},
	{496, 40000},
	{500, 85000},
	{505, 750000},
	{506, 3000000},
	{507, 80000},
	{508, 121000},
	{509, 8000},
	{510, 10000},
	{516, 130000},
	{521, 110000},
	{522, 1200000},
	{529, 100000},
	{540, 300000},
	{541, 2500000},
	{542, 100000},
	{546, 70000},
	{547, 80000},
	{549, 20000},
	{550, 110000},
	{551, 250000},
	{555, 20000},
	{558, 800000},
	{559, 800000},
	{560, 1100000},
	{561, 80000},
	{562, 1200000},
	{565, 130000},
	{566, 80000},
	{579, 2000000},
	{585, 150000},
	{586, 90000},
	{589, 350000},
	{600, 125000},
	{603, 1000000}
};






static const stock carsC[][2] = { // от 13.01.18
	{481, 7000},
	{509, 8000},
	{462, 15000},
	{549, 30000},
	{555, 30000},
	{424, 30000},
	{496, 40000},
	{442, 40000},
 	{500, 90000},
	{575, 50000},
	{474, 50000},
	{412, 50000},
	{546, 60000},
	{467, 60000},
	{461, 60000},
	{561, 60000},
	{576, 60000},
	{422, 60000},
	{478, 65000},
	{439, 70000},
	{547, 70000},
	{586, 70000},
	{445, 650000},
	{529, 80000},
	{542, 80000},
	{521, 80000},
	{566, 80000},
	{401, 85000},
	{565, 90000},
	{600, 100000},
	{508, 100000},
	{516, 130000},
	{492, 100000},
	{471, 100000},
	{404, 450000},
	{458, 150000},
	{468, 150000},
	{479, 180000},
	{463, 200000},
	{551, 250000},
	{411, 500000},
	{540, 400000},
	{589, 450000},
	{419, 400000},
	{527, 300000},
	{491, 500000},
	{526, 350000},
	{585, 500000},
	{459, 800000},
	{410, 900000},
	{559, 2500000},
	{550, 2500000},
	{475, 5000000},
	{507, 1000000},
	{581, 1300000},
	{436, 1000000},
	{421, 1500000},
	{535, 1500000},
	{603, 900000},
	{558, 800000},
	{560, 1500000},
	{587, 500000},
	{522, 1500000},
	{562, 1500000},
	{567, 1800000},
	{536, 1800000},
	{434, 2000000},
	{602, 2500000},
	{477, 2000000},
	{505, 2000000},
	{402, 5000000},
	{489, 2500000},
	{451, 3000000},
	{400, 3000000},
	{534, 1000000},
	{541, 5000000},
	{504, 4000000},
	{495, 4000000},
	{490, 5000000},
	{466, 4500000},
	{579, 5000000},
	{506, 3500000},
	{503, 8000000},
	{480, 6000000},
	{494, 7000000},
	{502, 7000000},
	{415, 10000000},
	{426, 10000000},
	{409, 25000000}
};
/*    {400, 1000000},
    {401, 60000},
    {402, 1500000},
    {404, 100000},
    {410, 750000},
    {411, 160000},
    {412, 70000},
    {415, 4000000},
    {421, 1000000},
    {422, 80000},
    {434, 1000000},
    {436, 800000},
    {439, 70000},
    {445, 120000},
    {451, 2000000},
    {458, 150000},
    {461, 90000},
    {462, 15000},
    {463, 300000},
	{466, 900000},
	{467, 70000},
	{468, 150000},
	{471, 60000},
    {475, 700000},
    {477, 2000000},
	{478, 60000},
	{479, 150000},
	{480, 1500000},
	{481, 6000},
	{489, 400000},
	{490, 3000000},
	{492, 130000},
	{495, 3000000},
	{496, 40000},
	{500, 85000},
	{505, 750000},
	{506, 3000000},
	{507, 80000},
	{508, 121000},
	{509, 8000},
	{510, 10000},
	{516, 130000},
	{521, 110000},
	{522, 1200000},
	{529, 100000},
	{540, 300000},
	{541, 2500000},
	{542, 100000},
	{546, 70000},
	{547, 80000},
	{549, 20000},
	{550, 110000},
	{551, 250000},
	{555, 20000},
	{558, 800000},
	{559, 800000},
	{560, 1100000},
	{561, 80000},
	{562, 1200000},
	{565, 130000},
	{566, 80000},
	{579, 2000000},
	{585, 150000},
	{586, 90000},
	{589, 350000},
	{600, 125000},
	{603, 1000000}
};*/

static const stock JoinRegF[8] = {
	12, 13, 41, 56, 64, 63, 69, 75
};

static const stock JoinRegM[6] = {
    14, 20, 21, 22, 24, 25
};

static const stock JoinShopF[][2] = {
	{31, 2000},
	{13, 2000},
	{198, 2000},
	{38, 2500},
	{201, 2500},
	{39, 6000},
	{207, 10000},
	{131, 15000},
	{195, 15000},
	{9, 20000},
	{10, 20000},
	{238, 20000},
	{151, 50000},
	{152, 90000},
	{69, 90000},
	{192, 100000},
	{237, 140000},
	{193, 150000},
	{190, 160000},
	{226, 180000},
	{169, 250000},
	{90, 280000},
	{214, 300000},
	{55, 300000},
	{56, 300000},
	{141, 300000},
	{211, 300000},
	{11, 300000},
	{150, 350000},
	{263, 350000},
	{12, 350000},
	{172, 400000},
	{194, 400000},
	{91,  450000},
	{216, 450000},
    {219, 450000},
    {296, 450000},
    {93, 500000},
    {233, 550000}
};

static const stock JoinShopM[][2] = {
    {102, 500},
    {103, 500},
    {104, 500},
    {135, 500},
    {136, 500},
	{137, 500},
	{212, 500},
	{14, 2000},
	{20, 2000},
	{21, 2000},
	{22, 2000},
	{24, 2000},
	{25, 2000},
	{155, 2500},
	{250, 2500},
	{177, 5000},
	{181, 5000},
	{101, 5000},
	{66, 5000},
	{67, 5000},
	{108, 5000},
	{109, 5000},
	{110, 5000},
	{114, 5000},
	{115, 5000},
	{116, 5000},
	{289, 7500},
	{290, 7500},
	{291, 7500},
	{249, 10000},
	{258, 10000},
	{259, 10000},
	{100, 10000},
	{248, 10000},
	{254, 10000},
	{29, 20000},
	{170, 20000},
	{59, 25000},
	{185, 25000},
	{223, 30000},
	{240, 30000},
	{186, 50000}
};

static const stock miner_MSG[][] = {
	{"{FFCC00}Добро пожаловать на шахту.\n\n"},
	{"{ffffff}Здесь Вы можете устроиться на временную работу.\n"},
	{"Для это Вам нужно спуститься в шахту и начать работу в раздевалке,\n"},
	{"после Вам выдадут спецодежду и необходимые инструменты, а также\n"},
	{"расскажут что делать дальше.\n\n"},
	{"За 1 кг принесённого угля, Вы получаете 2 рублей.\n"},
	{"Работа шахтера специализируется на добыче угля.\n"},
	{"Регулярная добыча угля поддерживает экономическую цепь.\n"}
};

KillTimer_Fixed(&timer)
{
//	if(timer == GlobalTimerIndex || timer == AdvertiseTimerIndex) return 0;
	if(timer == GlobalTimerIndex) return 0;
	KillTimer(timer);
	timer = -1;
	return 1;
}
#define KillTimer KillTimer_Fixed

static const stock pdd_MSG[][] = {
	{"{63BD4E}1. Общие правила\n"},
	{"{ffffff}Обгон транспортного средства разрешен только с левой стороны,\n"},
	{"при этом водители обязаны убедиться, что встречная полоса свободна на достаточном для обгона расстояние.\n"},
	{"При ДТП водители обязаны позвонить в полицию (/c), и дождаться ДПС\n\n"},
	{"{63BD4E}2. Скорость движения\n"},
	{"{ffffff}Ограничение скорости за переделами города неограничено\n"},
	{"Ограничение скорости в пределах города и населенных пунктов не более 60 км/ч\n\n"},
	{"{63BD4E}3. Остановка и стоянка\n"},
	{"{ffffff}Остановка и стоянка транспортных средств разрешаются на правой стороне дороги на обочине.\n"},
	{"В специальных отведённых для этого местах\n\n"},
	{"{63BD4E}4. ДПС\n"},
	{"{ffffff}При виде автомобиля с включённой сереной, водитель обязан сбавить скорость и пижаться к обочине.\n"},
	{"Водитель обязан предъявить паспорт/лицензии, если тот попросил\n"},
	{"———————————————————————————————————————————————————————————————————\n\n"},
	{"Клавиша {33CCFF}2{ffffff}\t\t\tзавести или заглушить двигатель\n"},
	//{"Клавиша {33CCFF}Левый Ctrl{ffffff}\t\tвключить или выключить ограничитель скорости\n"},
	{"Клавиша {33CCFF}Левый Alt{ffffff}\t\tвключить или выключить фары\n"}
};

//========================[ Загруженные объекты ]===============================
// - Спидометр;
stock LoadTextDrawSpeed()
{
    #include "../include/textdraws/LoadTextDrawSpeed"
}

/*stock LoadTextDrawsBrilliant()
{
	#include "../include/textdraws/LoadTextDrawsBrilliant"
}*/
/*stock LoadTextDrawGreenZone()
{
	#include "../include/textdraws/LoadTextDrawGreenZone"
}*/
//==============================================================================

//Конец



// stock GetTeamColor(team)
// {
//     new str[8];
// 	format(str, sizeof(str), "%06x", TeamColors[team] >>> 8);
// 	return str;
// }
//==============================================================================

//==============================================================================
stock Float:GetDistanceBetweenPlayers(p1,p2)
{
	new Float:x1,Float:y1,Float:z1,Float:x2,Float:y2,Float:z2;
	GetPlayerPos(p1,x1,y1,z1);
	GetPlayerPos(p2,x2,y2,z2);
	return floatsqroot(floatpower(floatabs(floatsub(x2,x1)),2)+floatpower(floatabs(floatsub(y2,y1)),2)+floatpower(floatabs(floatsub(z2,z1)),2));
}
//==============================================================================
stock IsPlayerApplyAnimation(playerid, animation[])
{
    if(!GetPlayerAnimationIndex(playerid)) return 0;
    new animlib[32], animname[32];
    GetAnimationName(GetPlayerAnimationIndex(playerid), animlib, sizeof(animlib), animname, sizeof(animname));
    if(strcmp(animname, animation, true) == 0) return 1;
	return 0;
}
//==============================================================================
stock SaveAcc()
{
 	foreach(new i: Player)
	{
		if(PlayerLogged[i] == false) continue;
		SaveAccount(i);
	}
	return 1;
}
//==============================================================================
stock ATMList(playerid)
{
	ShowPlayerDialog(playerid, D_ATM+932, 2, "{FFCC00}Банкомат", "{FFCC00}1. {ffffff}Баланс\n{FFCC00}2. {ffffff}Положить деньги\n{FFCC00}3. {ffffff}Снять деньги\n{FFCC00}4. {ffffff}Оплатить дом\n{FFCC00}5. {ffffff}Пополнить счет мобильного телефона", "Выбрать", "Отмена");
	return 1;
}

stock BankList(playerid)
{
    ShowPlayerDialog(playerid, D_ATM+5, 2, "{FFCC00}Банк", "{FFCC00}1. {ffffff}Баланс счёта\n{FFCC00}2. {ffffff}Пополнить банковский счёт\n{FFCC00}3. {ffffff}Снять с банковского счёта\n{FFCC00}4. {ffffff}Перевод другому игроку\n{FFCC00}5. {ffffff}Оплатить дом\n{FFCC00}6. {ffffff}Оплатить свой бизнес\n{FFCC00}7. {ffffff}Забрать деньги с бизнеса", "Далее", "Выход");
	return 1;
}


#define PICKUP_ACTION_TYPE_NONE -1
#define PICKUP_ACTION_ID_NONE 	-1

forward OnPlayerPickUpPickupEx(playerid, pickupid, action_type, action_id);

enum E_PICKUP_STRUCT
{
	P_MODEL,
	P_TYPE,
	Float: P_POS_X,
	Float: P_POS_Y,
	Float: P_POS_Z,
	P_VIRTUAL_WORLD,
	// -------------
	P_ACTION_TYPE,
	P_ACTION_ID,
	// -------------
	bool: P_CREATED,
	// -------------
	P_DYNAMIC_ZONE
};
new g_pickuPI[MAX_PICKUPS][E_PICKUP_STRUCT];
new
	g_pickup_default_values[E_PICKUP_STRUCT] =
{
	0,
	0,
	0.0,
	0.0,
	0.0,
	0,
	PICKUP_ACTION_TYPE_NONE,
	PICKUP_ACTION_ID_NONE,
	false,
	-1
};
new g_pickup_flood[MAX_PLAYERS] = {0, ...};



//==============================================================================
forward StopStun(playerid);
public StopStun(playerid)
{
	TogglePlayerControllable(playerid, 1);
	ClearAnimations(playerid);
	SetPVarInt(playerid, "stun", 0);
	return 1;
}



forward rweather();
forward clock();

public clock(){
	new hour,minute,second;
	new string[256];
	gettime(hour,minute,second);

	if (minute <= 9){format(string,25,"%d:0%d",hour,minute);}
		else {format(string,25,"%d:%d",hour,minute);}
	SetTimer("clock",1000,0);
	if (hour == 0){SetWorldTime(0);}
	if (hour == 1){SetWorldTime(1);}
	if (hour == 2){SetWorldTime(2);}
	if (hour == 3){SetWorldTime(3);}
	if (hour == 4){SetWorldTime(4);}
	if (hour == 5){SetWorldTime(5);}
	if (hour == 6){SetWorldTime(6);}
	if (hour == 7){SetWorldTime(7);}
	if (hour == 8){SetWorldTime(8);}
	if (hour == 9){SetWorldTime(9);}
	if (hour == 10){SetWorldTime(10);}
	if (hour == 11){SetWorldTime(11);}
	if (hour == 12){SetWorldTime(12);}
	if (hour == 13){SetWorldTime(13);}
	if (hour == 14){SetWorldTime(14);}
	if (hour == 15){SetWorldTime(15);}
	if (hour == 16){SetWorldTime(16);}
	if (hour == 17){SetWorldTime(17);}
	if (hour == 18){SetWorldTime(18);}
	if (hour == 19){SetWorldTime(19);}
	if (hour == 20){SetWorldTime(20);}
	if (hour == 21){SetWorldTime(21);}
	if (hour == 22){SetWorldTime(22);}
	if (hour == 23){SetWorldTime(23);}
	if (hour == 24){SetWorldTime(24);}
	return 1;
}
public rweather()
 {
    new rand;
    new hour;

    if(hour == 0)
       {
     rand = random(46);
     SetWeather(rand);
    }
    if(hour == 1)
       {
     rand = random(46);
     SetWeather(rand);
    }
    if(hour == 2)
       {
     rand = random(46);
     SetWeather(rand);
    }
    if(hour == 3)
       {
     rand = random(46);
     SetWeather(rand);
    }
    if(hour == 4)
       {
     rand = random(46);
     SetWeather(rand);
    }
    if(hour == 5)
       {
     rand = random(46);
     SetWeather(rand);
    }
    if(hour == 6)
       {
     rand = random(46);
     SetWeather(rand);
    }
    if(hour == 7)
       {
     rand = random(46);
     SetWeather(rand);
    }
    if(hour == 8)
       {
     rand = random(46);
     SetWeather(rand);
    }
    if(hour == 9)
       {
     rand = random(46);
     SetWeather(rand);
    }
    if(hour == 10)
       {
     rand = random(46);
     SetWeather(rand);
    }
    if(hour == 11)
       {
     rand = random(46);
     SetWeather(rand);
    }
    if(hour == 12)
       {
     rand = random(46);
     SetWeather(rand);
    }
    if(hour == 13)
       {
     rand = random(46);
     SetWeather(rand);
    }
    if(hour == 14)
       {
     rand = random(46);
     SetWeather(rand);
    }
    if(hour == 15)
       {
     rand = random(46);
     SetWeather(rand);
    }
    if(hour == 16)
       {
     rand = random(46);
     SetWeather(rand);
    }
    if(hour == 17)
       {
     rand = random(46);
     SetWeather(rand);
    }
    if(hour == 18)
       {
     rand = random(46);
     SetWeather(rand);
    }
    if(hour == 19)
       {
     rand = random(46);
     SetWeather(rand);
    }
    if(hour == 20)
       {
     rand = random(46);
     SetWeather(rand);
    }
    if(hour == 21)
       {
     rand = random(46);
     SetWeather(rand);
    }
    if(hour == 22)
       {
     rand = random(46);
     SetWeather(rand);
    }
    if(hour == 23)
       {
     rand = random(46);
     SetWeather(rand);
    }
    if(hour == 24)
       {
     rand = random(46);
     SetWeather(rand);
    }
    return 1;
    }
//================================[ Спидометр ]=================================
//==============================================================================
forward PlayerUpdate(playerid);
public PlayerUpdate(playerid)
{
    /*new fmt_text[15];
    player_afk_time[playerid] ++;
	if(player_afk_time[playerid] >= 5)
	{
		if((floatround(player_afk_time[playerid] / 60) % 60) > 0)
			format(fmt_text, sizeof fmt_text, "AFK %d:%02d", (floatround(player_afk_time[playerid] / 60) % 60), player_afk_time[playerid] % 60);
		else
			format(fmt_text, sizeof fmt_text, "AFK %d сек.", player_afk_time[playerid] % 60);
		SetPlayerChatBubble(playerid, fmt_text, 0xff0040FF, 7.0, 1500);
	}*/
}

// Аренда Скутеров

new scooter_pickup;
new scooter[MAX_VEHICLES];
new Float:pos_scooter_x = 2517.0, Float:pos_scooter_y = -2142.0, Float:pos_scooter_z = 22.0; // Пикап аренды скутера



//==============================================================================
public OnPlayerTakeDamage(playerid, issuerid, Float: amount, weaponid)
{
    if(!IsPlayerConnected(playerid)) return 0;
    if(!IsPlayerConnected(issuerid)) return 0;
    if(PI[issuerid][pAFK] >= 3) return 0;
    if(issuerid == INVALID_PLAYER_ID) return 0;

    if(weaponid == 3)
	{
		if(IsACop(issuerid))
		{
			if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(issuerid, COLOR_RED, "Человек в машине!");
			if(GetPVarInt(playerid, "Tazer") > 0 || pCuff[playerid][pCuffee] == playerid) return SendClientMessage(issuerid, COLOR_RED, "Игрок уже оглушен / в наручниках");

			STRING_GLOBAL[0] = EOS;
			format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "%s оглушил Вас на 15 секунд", GetName(issuerid));
			SendClientMessage(playerid, COLOR_BLUE, STRING_GLOBAL);

			STRING_GLOBAL[0] = EOS;
			format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "Вы оглушили %s на 15 секунд", GetName(playerid));
			SendClientMessage(issuerid, COLOR_BLUE, STRING_GLOBAL);

			new string[64];
			if(PI[playerid][pSex] == 1) format(string, sizeof(string), "оглушил дубинкой %s", GetName(playerid));
			else format(string, sizeof(string), "оглушила дубинкой %s", GetName(playerid));
			MeAction(issuerid, string);
			ApplyAnimation(playerid, "CRACK", "crckdeth2", 4.0, 0, 1, 1, 1, 0, 1);
			SetTimerEx("TazerOff", 15000, 0, "d", playerid);
			TogglePlayerControllable(playerid, 0);
			SetPVarInt(playerid, "Tazer", 1);
		}
	}
	if(weaponid == 23)
	{
		if(IsACop(issuerid))
		{
			if(GetPVarInt(issuerid, "TazerGun") == 1)
			{
				if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(issuerid, COLOR_RED, "Человек в машине!");
				if(GetPVarInt(playerid, "Tazer") > 0 || pCuff[playerid][pCuffee] == playerid) return SendClientMessage(issuerid, COLOR_RED, "Игрок уже оглушен / в наручниках");

				STRING_GLOBAL[0] = EOS;
				format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "%s обездвижил Вас электрошокером на 15 секунд", GetName(issuerid));
				SendClientMessage(playerid, COLOR_BLUE, STRING_GLOBAL);

				STRING_GLOBAL[0] = EOS;
				format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "Вы обездвижили электрошокером %s на 15 секунд", GetName(playerid));
				SendClientMessage(issuerid, COLOR_BLUE, STRING_GLOBAL);

				new string[64];
				if(PI[playerid][pSex] == 1) format(string, sizeof(string), "обездвижил %s электрошокером", GetName(playerid));
				else format(string, sizeof(string), "обездвижила %s электрошокером", GetName(playerid));
				MeAction(issuerid, string);
				ApplyAnimation(playerid, "CRACK", "crckdeth2", 4.0, 0, 1, 1, 1, 0, 1);
				SetTimerEx("TazerOff", 15000, 0, "d", playerid);
				TogglePlayerControllable(playerid, 0);
				SetPVarInt(playerid, "Tazer", 1);
			}
		}
	}
    return 1;
}
//==============================================================================
forward PlayerToggle(playerid);
public PlayerToggle(playerid)
{
	TogglePlayerControllable(playerid, 1);
	ClearAnimations(playerid);
	if(GetPVarInt(playerid, "Tazer") > 0)
	{
		SetPVarInt(playerid, "Tazer", 0);
		SetPlayerSpecialAction(playerid, SPECIAL_ACTION_NONE);
		return 1;
	}
	return 1;
}

//============================[Пробег автомобиля]===============================
forward Probeg();
public Probeg()
{
	foreach(new i:Player)
	{
	    if(IsPlayerConnected(i))
	    {
	        if(IsPlayerInAnyVehicle(i))
	        {
	            new t = PI[i][PlayerCarID];
				if(GetPlayerVehicleID(i) == t)
				{
					//new Float:sp = GetPlayerSpeed1(i);
					//new Float:sp = GetPlayerSpeed(i);
					new Float:sp = SpeedVehicle(i);
				    new Float:ms;
					ms = (sp/1.4)/1000;
					PI[i][cProbeg] += ms;
				}
	        }
		}
	}
	return 1;
}
//==============================================================================
stock ShowPlayerStatsDialog(playerid, targetid)
{
	new status_text[20], phone_text[20];
	if(PI[targetid][pPhoneNumber] <= 1) format(phone_text, sizeof(phone_text), "Нет");
	else format(phone_text, sizeof(phone_text), "%i", PI[targetid][pPhoneNumber]);
	if(PI[targetid][pAdmin]) status_text = "Администратор";
	else if(PI[targetid][pSupport]) status_text = "Саппорт";
	else if(PI[targetid][pYouTuber]) status_text = "Ютубер";
	else if(PI[targetid][pVip]) status_text = "VIP";
	else status_text = "Игрок";
	
	new sctring[1300], str[150];
	format(str,sizeof(str),"{ffffff}Номер аккаунта:\t\t{0099FF}%d\n",PI[targetid][pID]);
	strcat(sctring,str);
	format(str,sizeof(str),"{ffffff}Имя:\t\t\t\t{0099FF}%s\n",GetName(targetid));
	strcat(sctring,str);
	format(str,sizeof(str),"{ffffff}Уровень:\t\t\t%d\n",PI[targetid][pLevel]);
	strcat(sctring,str);
	format(str,sizeof(str),"{ffffff}Exp:\t\t\t\t%d/%d\n",PI[targetid][pExp], (PI[targetid][pLevel]+0)*4);
	strcat(sctring,str);
	format(str,sizeof(str),"{ffffff}Законопослушность:\t\t%d\n",PI[targetid][pZakon]);
	strcat(sctring,str);
	format(str,sizeof(str),"{ffffff}Номер:\t\t\t\t%s\n",phone_text);
	strcat(sctring,str);
	format(str,sizeof(str),"{ffffff}Денег:\t\t\t\t%i\n",GetMoney(targetid));
	strcat(sctring,str);
	format(str,sizeof(str),"{ffffff}Денег в банке:\t\t\t%i\n",PI[targetid][pBank]);
	strcat(sctring,str);
	format(str,sizeof(str),"{ffffff}Моб.счёт:\t\t\t%i\n",PI[targetid][pPhoneBalance]);
	strcat(sctring,str);
	format(str,sizeof(str),"{ffffff}Наркотикив:\t\t\t%d\n",PI[targetid][pDrugs]);
	strcat(sctring,str);
	format(str,sizeof(str),"{ffffff}Патроны:\t\t\t%d\n",PI[targetid][pPatron]);
	strcat(sctring,str);
	format(str,sizeof(str),"{ffffff}Металл:\t\t\t%d\n",PI[targetid][pGunAmount]);
	strcat(sctring,str);
	format(str,sizeof(str),"{ffffff}Пол:\t\t\t\t%s\n\n",(PI[targetid][pSex]==1)?("Мужской"):("Женский"));
	strcat(sctring,str);
	format(str,sizeof(str),"{ffffff}Работа:\t\t\t\t%s\n",Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], Job_Names[PI[targetid][pJob]]);
	strcat(sctring,str);
	if(PI[targetid][pMember] != 0) format(str,sizeof(str),"{ffffff}Фракция:\t\t\t%s\n",Fraction_Name[PI[targetid][pMember]]);
	else format(str,sizeof(str),"{ffffff}Фракция:\t\t\tНет\n");
	strcat(sctring,str);
	format(str,sizeof(str),"{ffffff}Военный билет:\t\t%s\n",(PI[targetid][pVoennik])?("Есть"):("Нет"));
	strcat(sctring,str);
	
	ShowPlayerDialog(playerid, 15143, DIALOG_STYLE_MSGBOX, "{FFCC00}Статистика персонажа", sctring, "Закрыть", "");
	return 1;
}
//==============================================================================
stock ShowPlayerItemsDialog(playerid, targetid)
{
    new string[700];
	if(PI[targetid][pCiggare] > 0) format(string, sizeof(string), "%s{FFFFFF}Сигареты\t\t\t{FFCC00}[%d шт]\n", string, PI[targetid][pCiggare]);
	else format(string, sizeof(string), "%s{FFFFFF}Сигареты\t\t\t{bbbbbb}[пусто]\n", string);
	if(PI[targetid][pSprunk] > 0) format(string, sizeof(string), "%s{FFFFFF}Газировка\t\t\t{FFCC00}[%d шт]\n", string, PI[targetid][pSprunk]);
	else format(string, sizeof(string), "%s{FFFFFF}Газировка\t\t\t{bbbbbb}[пусто]\n", string);
	if(PI[targetid][pRepairCar] > 0) format(string, sizeof(string), "%s{FFFFFF}Инструменты\t\t\t{FFCC00}[%d шт]\n", string, PI[targetid][pRepairCar]);
	else format(string, sizeof(string), "%s{FFFFFF}Инструменты\t\t\t{bbbbbb}[пусто]\n", string);
	if(PI[targetid][pAptechka]) format(string, sizeof(string), "%s{FFFFFF}Аптечка\t\t\t{FFCC00}[%d шт]\n", string, PI[targetid][pAptechka]);
	else format(string, sizeof(string), "%s{FFFFFF}Аптечка\t\t\t{bbbbbb}[пусто]\n", string);
	if(PI[targetid][pMask]) format(string, sizeof(string), "%s{FFFFFF}Маска\t\t\t\t{FFCC00}[%i шт]\n", string, PI[targetid][pMask]);
	else format(string, sizeof(string), "%s{FFFFFF}Маска\t\t\t\t{bbbbbb}[пусто]\n", string);
	if(PI[targetid][pPatron]) format(string, sizeof(string), "%s{FFFFFF}Патроны\t\t\t{FFCC00}[%d шт]\n", string, PI[targetid][pPatron]);
	else format(string, sizeof(string), "%s{FFFFFF}Патроны\t\t\t{bbbbbb}[пусто]\n", string);
	if(PI[targetid][pGunAmount]) format(string, sizeof(string), "%s{FFFFFF}Метал\t\t\t{FFCC00}[%d шт]\n", string, PI[targetid][pGunAmount]);
	else format(string, sizeof(string), "%s{FFFFFF}Метал\t\t\t{bbbbbb}[пусто]\n", string);
	if(PI[targetid][pDrugs]) format(string, sizeof(string), "%s{FFFFFF}Наркотики\t\t\t{FFCC00}[%d шт]\n", string, PI[targetid][pDrugs]);
	else format(string, sizeof(string), "%s{FFFFFF}Наркотики\t\t\t{bbbbbb}[пусто]\n", string);
	if(PI[targetid][pRepcar][0]) format(string, sizeof(string), "%s{FFFFFF}Канистра\t\t\t{FFCC00}[1 шт]\n", string, PI[targetid][pRepcar][0]);
	else format(string, sizeof(string), "%s{FFFFFF}Канистра\t\t\t{bbbbbb}[пусто]\n", string);
	if(PI[targetid][pRepcar][1]) format(string, sizeof(string), "%s{FFFFFF}Инструменты\t\t\t{FFCC00}[1 шт]\n", string, PI[targetid][pRepcar][1]);
	else format(string, sizeof(string), "%s{FFFFFF}Инструменты\t\t\t{bbbbbb}[пусто]\n", string);
	ShowPlayerDialog(playerid, 15144, DIALOG_STYLE_MSGBOX, "{FFCC00}Предметы", string, "Назад", "Закрыть");
	return 1;
}

/*public OnPlayerSelectObject(playerid, type, objectid, modelid, Float:fX, Float:fY, Float:fZ)
{
	ShowPlayerDialog(playerid, dLegoselect, DIALOG_STYLE_MSGBOX,"Действие с объектом", \
	"Выберите действие с объектом\nВы можете его отредактировать или удалить","Изменить","Удалить");
	SetPVarInt(playerid, "SelectedObject", objectid);
	SetPVarInt(playerid, "ModelID", modelid);
    return 1;
}*/




new AdvertiseProgress;

forward EveryTenMinuteTimer();
public EveryTenMinuteTimer() {

	AdvertiseProgress++;
	switch(AdvertiseProgress) {
		case 0: {
			SendClientMessageToAll(COLOR_BLUE, "- [BrilliantRP]{FFFFFF} Сайт проекта: "PROJECT_SITE"");
			SendClientMessageToAll(COLOR_BLUE, "- [BrilliantRP]{FFFFFF} Форум проекта: "PROJECT_FORUM"");
		}
		case 1: {
			SendClientMessageToAll(COLOR_BLUE, "- [BrilliantRP]{FFFFFF} Меню: /mn /menu /mm");
		}
		case 2: {
			SendClientMessageToAll(COLOR_BLUE, "- [BrilliantRP]{FFFFFF} Подать жалобу на игрока: /rep");
			SendClientMessageToAll(COLOR_BLUE, "- [BrilliantRP]{FFFFFF} Задать вопрос: /support");
		}
		case 3: {
			SendClientMessageToAll(COLOR_BLUE, "- [BrilliantRP]{FFFFFF} Личная статистика /stats");
			SendClientMessageToAll(COLOR_BLUE, "- [BrilliantRP]{FFFFFF} Магазин: /donate");
		}
		case 4: {
			SendClientMessageToAll(COLOR_BLUE, "- [BrilliantRP]{FFFFFF} VIP меню: /vipmenu");
			SendClientMessageToAll(COLOR_BLUE, "- [BrilliantRP]{FFFFFF} Техническая информация об аккаунте: /Brilliantid");
			AdvertiseProgress = 0;
		}
	}

	new tmp_hour;
	gettime(tmp_hour);
	if(tmp_hour == 1) {
		new rand_hour = random(2);
		if(rand_hour == 0) rand_hour = 1;

		SetTimer("RestartServer", 1000*60*60*rand_hour, false);
		SendClientMessageToAll(COLOR_LIGHTBLUE, "----------------------------------------------------------------------------------------------------");
		SendClientMessageToAll(COLOR_LIGHTBLUE, "В течение двух часов произойдет плановый ежедневный рестарт (время выбирается автоматически системой).");
		SendClientMessageToAll(COLOR_LIGHTBLUE, "----------------------------------------------------------------------------------------------------");
	}


	return SendClientMessageToAll(COLOR_BLUE, "- [BrilliantRP]{FFFFFF} Приятной игры на нашем сервере!");

}

publics RestartServer() {
	SendClientMessageToAll(COLOR_LIGHTBLUE, "Плановый ежедневный рестарт сервера!");
	SendRconCommand("gmx");
	return 1;
}

Float:GetVehicleHealthR(vehid) {
	new Float:vhealth;
	GetVehicleHealth(vehid, vhealth);
	return Float:vhealth;
}

// #pragma compat 0
#include <admin_pickups.inc>
#include <../../files/shahta.inc>
#include <../../files/carsharing.inc>



//==============================================================================
public OnGameModeInit()
{   

	carsharing_OnGameModeInit();
	SetTimer("EveryTenMinuteTimer", 1000*30*60, true);

	// SMSConnect("Brilliantroleplay", "Y&pUutnaTI33");

	loadserver = 0;
    LoadMySQLSettings();

	
	Dvers[0] = CreateObject(971, 788.9500, 2517.3401, 11.4300, 0.0000, 0.0000, 30.3000); // фсб шлагбаум слева
	Dvers[1] = CreateObject(971, 755.2700, 2497.8601, 11.4300, 0.0000, 0.0000, 30.3000); // фсб шлагбаум справа

	online_limiter = GetConsoleVarAsInt("maxplayers");

    // защита от прыжков на велосипеде на военную часть
	new vdvtopp;
    vdvtopp = CreateDynamicObject(19458, 1891.1899, 1717.2800, 22.0000, 0.0000, 0.0000, 0.0000);
    SetDynamicObjectMaterial(vdvtopp, 0, 7000, "AS_trackpan_tex", "as_track_cylinder", 0x00000000);
    vdvtopp = CreateDynamicObject(19458, 1891.2000, 1726.9000, 22.0000, 0.0000, 0.0000, 0.0000);
    SetDynamicObjectMaterial(vdvtopp, 0, 7000, "AS_trackpan_tex", "as_track_cylinder", 0x00000000);
    
    vdvtopp = CreateDynamicObject(18764, 1888.2600, 1731.5200, 20.6400, 0.0000, 0.0000, 0.0000);
    SetDynamicObjectMaterial(vdvtopp, 0, 7000, "AS_trackpan_tex", "as_track_cylinder", 0x00000000);
    vdvtopp = CreateDynamicObject(18764, 1884.4900, 1731.5200, 20.6400, 0.0000, 0.0000, 0.0000);
    SetDynamicObjectMaterial(vdvtopp, 0, 7000, "AS_trackpan_tex", "as_track_cylinder", 0x00000000);
    //==========================================================================
    
    shlak_ao = CreateDynamicObject(968, 1817.47, 2132.51, 15.58, 0.00, -90.00, 90.00);
	CreateDynamicObject(966, 1817.47, 2132.51, 14.82, 0.00, 0.00, 90.00);
	
 	shlak_smp = CreateDynamicObject(968, 2092.2300, -2403.0000, 21.6900, 0.0000, -90.0000, 0.0000);
	CreateDynamicObject(966, 2092.2300, -2403.0000, 20.9100, 0.0000, 0.0000, 0.0000);
	
	shlak_dps = CreateDynamicObject(968, 2579.8027, -2438.7542, 21.6200, 0.0000, -90.0000, -90.0000);
	CreateDynamicObject(966, 2579.8401, -2438.7300, 20.7900, 0.0000, 0.0000, -90.0000);
	
 	shlak_pps = CreateDynamicObject(968, 383.3500, 764.4400, 11.7700, 0.0000, -90.0000, 158.8300);
	CreateDynamicObject(966, 383.3500, 764.4400, 10.9800, 0.0000, 0.0000, 158.8300);
	
 	shlak_opg = CreateDynamicObject(968, 1959.6110, -2603.7477, 10.6154, 0.0000, 90.0000, -90.0000);
	CreateDynamicObject(966, 1959.5896, -2603.9119, 9.8141, 0.0000, 0.0000, 90.7800);
	
 	shlak_opg2 = CreateDynamicObject(968, 2625.73, 1792.33, 2.39, 0.00, -90.00, 0.00);
	CreateDynamicObject(966, 2625.73, 1792.33, 1.58, 0.00, 0.00, 0.00);
	
  	shlak_opg3 = CreateDynamicObject(968, -19.5864, 1487.6664, 13.5000, 0.0000, 90.0000, 47.9799);
	CreateDynamicObject(966, -19.4807, 1487.7593, 12.7000, 0.0000, 0.0000, -132.3001);
	
  	shlak_chechen = CreateDynamicObject(968, 1900.4600, 2157.9600, 15.4700, 0.0000, 90.0000, -90.0000);
	CreateDynamicObject(966, 1900.4600, 2157.9600, 14.6600, 0.0000, 0.0000, 90.0000);
	
	dver_ao = CreateDynamicObject(1495, -1412.8900, -1121.2300, 1520.9301, 0.0000, 0.0000, 270.0000);
	dver2_ao = CreateDynamicObject(1495, -1412.8467, -1130.7002, 1520.9301, 0.0000, 0.0000, 450.0000);
	
	dver_fsb = CreateDynamicObject(1569, 176.62, 437.83, 1582.67, 0.00, 0.00, 450.00);
	SetDynamicObjectMaterial(dver_fsb, 0, 10041, "CJ_BARB2", "interiordoor1_256", 0x00000000);
	
	dver2_fsb = CreateDynamicObject(1569, 176.61, 448.50, 1582.7, 0.00, 0.00, 270.00);
	SetDynamicObjectMaterial(dver2_fsb, 0, 10041, "CJ_BARB2", "interiordoor1_256", 0x00000000);
	
	dver_dps = CreateDynamicObject(1569, -94.94, 742.79, 1619.93, 0.00, 0.00, 90.00);
	SetDynamicObjectMaterial(dver_dps, 0, 10041, "CJ_BARB2", "interiordoor1_256", 0x00000000);
	
	dver_pps = CreateDynamicObject(1569, 469.76, 1325.30, 1722.51, 0.00, 0.00, 90.0);
	SetDynamicObjectMaterial(dver_pps, 0, 10041, "CJ_BARB2", "interiordoor1_256", 0x00000000);

    //policeobject_slak = CreateObject(968, 1900.79, 2157.29, 15.19, 0.00, 88.00, -91.00);
	
	SetGameModeText("LOADING");
	
	// Автомобили Чеченской Мафии в пгт. Батырево
 	chechen_mafia[0] = AddStaticVehicleEx(579,1938.4396,2162.3931,15.8537,338.2932,1,1, 900); // Автомобиль Чеченская Мафия пгт. Батырево
	AddStaticVehicleEx(579,1933.2781,2162.4089,15.7729,338.3034,1,1, 900); // Автомобиль Чеченская Мафия пгт. Батырево
	AddStaticVehicleEx(579,1927.7268,2162.4390,15.7724,338.7794,1,1, 900); // Автомобиль Чеченская Мафия пгт. Батырево
	AddStaticVehicleEx(540,1922.1433,2161.5642,15.4714,338.4219,1,1, 900); // Автомобиль Чеченская Мафия пгт. Батырево
	AddStaticVehicleEx(540,1930.1125,2171.3899,15.4715,265.7278,1,1, 900); // Автомобиль Чеченская Мафия пгт. Батырево
	AddStaticVehicleEx(482,1939.0087,2186.1685,15.5935,271.1104,1,1, 900); // Автомобиль Чеченская Мафия пгт. Батырево
	AddStaticVehicleEx(482,1939.1074,2188.7380,15.6467,273.4596,1,1, 900); // Автомобиль Чеченская Мафия пгт. Батырево
	chechen_mafia[1] = AddStaticVehicleEx(540,1951.6643,2206.7141,15.5248,180.0455,1,1, 900); // Автомобиль Чеченская Мафия пгт. Батырево
/* 	// Автомобили Русской Мафии в пгт. Арзамас
 	russian_mafia[0] = AddStaticVehicleEx(579,384.9605,1034.0248,12.2951,353.0691,0,0, 900); // Автомобиль Русская Мафия пгт. Батырево
	AddStaticVehicleEx(579,380.9216,1034.3499,12.2998,352.6057,0,0, 900); // Автомобиль Русская Мафия пгт. Батырево
	AddStaticVehicleEx(579,377.0201,1034.9999,12.2777,351.9909,0,0, 900); // Автомобиль Русская Мафия пгт. Батырево
	AddStaticVehicleEx(500,366.8302,1043.5325,12.0552,261.1548,0,0, 900); // Автомобиль Русская Мафия пгт. Батырево
	AddStaticVehicleEx(500,367.3383,1047.6759,12.0543,260.1719,0,0, 900); // Автомобиль Русская Мафия пгт. Батырево
	AddStaticVehicleEx(500,391.0331,1045.1917,12.0528,260.9227,0,0, 900); // Автомобиль Русская Мафия пгт. Батырево
	AddStaticVehicleEx(482,383.2562,1058.8158,12.0861,170.8264,0,0, 900); // Автомобиль Русская Мафия пгт. Батырево
	russian_mafia[1] = AddStaticVehicleEx(482,379.3456,1059.3954,12.0921,170.8241,0,0, 900); // Автомобиль Русская Мафия пгт. Батырево
*/

	//SetTimer("FlyTimer", 100, 1);

	//===========
	new bind[64];
    GetServerVarAsString("bind", bind, sizeof(bind));
 	printf("SERVER CONNECT - идёт подключение к базе данных: %s", MySQLSettings[SERVER_USERNAME]);
	dbHandle = mysql_connect(MySQLSettings[SERVER_HOST],MySQLSettings[SERVER_USERNAME],MySQLSettings[SERVER_DATABASE],MySQLSettings[SERVER_PASSWORD]);
 	mysql_log(LOG_WARNING | LOG_ERROR);
    if(mysql_errno() == -1)
    {
        if(!strcmp(bind, "127.0.0.1", true)) SetGameModeText("Error MySQL");
        else print("Нет подключения к БД\n");
    }
    else
    {
        if(!strcmp(bind, "127.0.0.1", true)) print("  MySQL connection: TRUE (local)\n");
	    else print("  MySQL connection: TRUE (host)\n");

	    mysql_tquery(dbHandle, "SET NAMES 'cp1251'", "", "");
		mysql_tquery(dbHandle, "SET CHARACTER SET 'cp1251'", "", "");
		mysql_tquery(dbHandle, "SELECT * FROM `vehicle`", "LoadVeh", "");
		mysql_tquery(dbHandle, "SELECT * FROM `bizz` ORDER BY  `bizz`.`id` ASC ", "LoadBizz", "");
		mysql_tquery(dbHandle, "SELECT * FROM `house` ORDER BY  `house`.`id` ASC ", "LoadHouse", "");
		//mysql_tquery(dbHandle, "SELECT * FROM `porch_house` ORDER BY  `porch_house`.`id` ASC ", "LoadPorchHouse", "");
		//mysql_tquery(dbHandle, "SELECT * FROM `porch` ORDER BY  `porch`.`id` ASC ", "LoadPorch", "");
		mysql_tquery(dbHandle, "SELECT * FROM `mafia`", "LoadMafia", "");
		mysql_tquery(dbHandle, "SELECT * FROM `gang`", "LoadGang", "");
		mysql_tquery(dbHandle, "SELECT * FROM `gangzone`", "LoadGZ", "");
		mysql_tquery(dbHandle, "SELECT * FROM `atm`", "LoadATM", "");
		mysql_tquery(dbHandle, "SELECT * FROM `other`", "LoadOther", "");
		mysql_tquery(dbHandle, "SELECT * FROM `server_options`", "LoadServerOptions", "");
		//mysql_tquery(dbHandle, "SELECT * FROM "T_FAMILY"","LoadFamily", "");
		//mysql_tquery(dbHandle, "SELECT * FROM "T_RADAR"", "LoadRadar", "");
		mysql_tquery(dbHandle, "UPDATE `admins` SET `timemin` = '0'", "", "");
		
		mysql_tquery(dbHandle, "SELECT * FROM entrances", "LoadEntrances", "");
	//	mysql_tquery(dbHandle, "SELECT * FROM rooms", "LoadRooms", "");
    }
	//==================================
	SendRconCommand("mapname Criminal Russia");
	SendRconCommand("weburl "PROJECT_SITE"");
	new h;
	gettime(h,gCurMinutes,gCurHour);
	getdate(gYear, gMonth, gDay);
	SetWorldTime(h);
	SetGravity(0.008);
	ManualVehicleEngineAndLights();
	EnableStuntBonusForAll(0);
	SetNameTagDrawDistance(24.0);
 	ShowPlayerMarkers(2);
	DisableInteriorEnterExits();

	AddPlayerClass(0,0.0,0.0,5.0,0.0,0,0,0,0,0,0);
	//==============================  Иконки  ==================================
	CreateDynamicMapIcon(2163.1831, -2190.2085, 32.2409, 36, 0, -1, -1, -1, 500.0);		// - Автошкола
	CreateDynamicMapIcon(2337.8958, -1811.5884, 37.5584, 55, 0, -1, -1, -1, 500.0);		// - Автосалон г.Южный
	CreateDynamicMapIcon(2317.2734, 1755.7024, 0.9361, 51, 0, -1, -1, -1, 500.0);		// - Работа уборщика улиц г.Батырево
	CreateDynamicMapIcon(1851.7662, 2026.5348, 29.0830, 52, 0, -1, -1, -1, 500.0);      // - Банк г.Батырево
	
	CreateDynamicMapIcon(2355.1406,-263.8434,2.7890,11,0,-1,-1,-1,500.0);//Работа грузчиков
	CreateDynamicMapIcon(1700.6949,1367.8364,12.0021,11,0,-1,-1,-1,500.0);//Работа шахтёром
	CreateDynamicMapIcon(1704.3119,1283.3060,12.2088,11,0,-1,-1,-1,500.0);//Работа шахтёром
	CreateDynamicMapIcon(2816.5166,-1412.9590,4.2203,9,0,-1,-1,-1,500.0);//Работа водолазов

	CreateDynamic3DTextLabel("{ffffff}Разгрузка металла\nНажмите{FFCC00}\"H\"",-1,1424.8115,1673.0101,17.0835,5.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,-1,-1); // текст военка
	CreateDynamic3DTextLabel("{FFFFFF}Покупка металла\nАрмиям: Нажмите H (гудок)",-1,1646.49, 1409.40, 12.00+1,2.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,-1,-1); // текст шахта
	CreateDynamic3DTextLabel("{FFCC00}Шахта\n{FFFFFF}Металл: {0099FF}4935670 кг",-1,1646.49, 1409.40, 12.00+2,5.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,-1,-1); // текст шахта
	CreateDynamic3DTextLabel("{FFFFFF}Получение номеров\nВведите {FFCC00}/mynumber",-1,-101.0118,737.2228,1620.9200,5.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,-1,-1); // текст ДПС
	//==========================================================================
	LoadTextDrawSpeed();
// 	LoadTextDrawGreenZone();
//	LoadTextDrawsBrilliant();
	LoadPickups();
	LoadObject();

	logo = TextDrawCreate(5.200000, 391.000000, "prp:logo");
	TextDrawLetterSize(logo, 0.000000, 0.000000);
	TextDrawTextSize(logo, 155.549041, 46.666614);
	TextDrawAlignment(logo, 1);
	TextDrawColor(logo, -1);
	TextDrawSetShadow(logo, 0);
	TextDrawSetOutline(logo, 0);
	TextDrawFont(logo, 4);

	logo = TextDrawCreate(5.200000, 391.000000, "prp:logo");
	TextDrawLetterSize(logo, 0.000000, 0.000000);
	TextDrawTextSize(logo, 155.549041, 46.666614);
	TextDrawAlignment(logo, 1);
	TextDrawColor(logo, -1);
	TextDrawSetShadow(logo, 0);
	TextDrawSetOutline(logo, 0);
	TextDrawFont(logo, 4);

	TDmessage = TextDrawCreate(5.200000, 391.000000, "prp:notification");
	TextDrawLetterSize(TDmessage, 0.000000, 0.000000);
	TextDrawTextSize(TDmessage, 155.549041, 46.666614);
	TextDrawAlignment(TDmessage, 1);
	TextDrawColor(TDmessage, -1);
	TextDrawSetShadow(TDmessage, 0);
	TextDrawSetOutline(TDmessage, 0);
	TextDrawFont(TDmessage, 4);
	
	zz_td = TextDrawCreate(5.200000, 391.000000, "prp:greenzone");
	TextDrawLetterSize(zz_td, 0.000000, 0.000000);
	TextDrawTextSize(zz_td, 155.549041, 46.666614);
	TextDrawAlignment(zz_td, 1);
	TextDrawColor(zz_td, -1);
	TextDrawSetShadow(zz_td, 0);
	TextDrawSetOutline(zz_td, 0);
	TextDrawFont(zz_td, 4);
	
	TDEditor_TD[0] = TextDrawCreate(475.255340, 363.296569, "speed:speed");
	TextDrawLetterSize(TDEditor_TD[0], 0.000000, 0.000000);
	TextDrawTextSize(TDEditor_TD[0], 131.000000, 68.000000);
	TextDrawAlignment(TDEditor_TD[0], 1);
	TextDrawColor(TDEditor_TD[0], -1);
	TextDrawSetShadow(TDEditor_TD[0], 0);
	TextDrawSetOutline(TDEditor_TD[0], 0);
	TextDrawBackgroundColor(TDEditor_TD[0], 255);
	TextDrawFont(TDEditor_TD[0], 4);
	TextDrawSetProportional(TDEditor_TD[0], 0);
	TextDrawSetShadow(TDEditor_TD[0], 0);

	TDEditor_TD[1] = TextDrawCreate(522.992492, 366.583435, "km");
	TextDrawLetterSize(TDEditor_TD[1], 0.251009, 1.360834);
	TextDrawAlignment(TDEditor_TD[1], 1);
	TextDrawColor(TDEditor_TD[1], -1);
	TextDrawSetShadow(TDEditor_TD[1], 0);
	TextDrawSetOutline(TDEditor_TD[1], 0);
	TextDrawBackgroundColor(TDEditor_TD[1], 255);
	TextDrawFont(TDEditor_TD[1], 1);
	TextDrawSetProportional(TDEditor_TD[1], 1);
	TextDrawSetShadow(TDEditor_TD[1], 0);

	pOdmenPanel_TD[0] = TextDrawCreate(231.0000, 326.2667, "UPDATE"); // пусто
	TextDrawLetterSize(pOdmenPanel_TD[0], 0.2004, 1.0337);
	TextDrawTextSize(pOdmenPanel_TD[0], 5.0000, 37.0000);
	TextDrawAlignment(pOdmenPanel_TD[0], 2);
	TextDrawColor(pOdmenPanel_TD[0], -1);
	TextDrawUseBox(pOdmenPanel_TD[0], 1);
	TextDrawBoxColor(pOdmenPanel_TD[0], 8388863);
	TextDrawBackgroundColor(pOdmenPanel_TD[0], -1523963137);
	TextDrawFont(pOdmenPanel_TD[0], 2);
	TextDrawSetProportional(pOdmenPanel_TD[0], 1);
	TextDrawSetShadow(pOdmenPanel_TD[0], 0);
	TextDrawSetSelectable(pOdmenPanel_TD[0], true);

	pOdmenPanel_TD[1] = TextDrawCreate(230.8999, 342.6223, "NEXT"); // пусто
	TextDrawLetterSize(pOdmenPanel_TD[1], 0.2004, 1.0337);
	TextDrawTextSize(pOdmenPanel_TD[1], 5.0000, 37.0000);
	TextDrawAlignment(pOdmenPanel_TD[1], 2);
	TextDrawColor(pOdmenPanel_TD[1], -1);
	TextDrawUseBox(pOdmenPanel_TD[1], 1);
	TextDrawBoxColor(pOdmenPanel_TD[1], 589505535);
	TextDrawBackgroundColor(pOdmenPanel_TD[1], -1523963137);
	TextDrawFont(pOdmenPanel_TD[1], 2);
	TextDrawSetProportional(pOdmenPanel_TD[1], 1);
	TextDrawSetShadow(pOdmenPanel_TD[1], 0);
	TextDrawSetSelectable(pOdmenPanel_TD[1], true);

	pOdmenPanel_TD[2] = TextDrawCreate(230.8999, 358.5001, "BACK"); // пусто
	TextDrawLetterSize(pOdmenPanel_TD[2], 0.2004, 1.0337);
	TextDrawTextSize(pOdmenPanel_TD[2], 5.0000, 37.0000);
	TextDrawAlignment(pOdmenPanel_TD[2], 2);
	TextDrawColor(pOdmenPanel_TD[2], -1);
	TextDrawUseBox(pOdmenPanel_TD[2], 1);
	TextDrawBoxColor(pOdmenPanel_TD[2], 589505535);
	TextDrawBackgroundColor(pOdmenPanel_TD[2], -1523963137);
	TextDrawFont(pOdmenPanel_TD[2], 2);
	TextDrawSetProportional(pOdmenPanel_TD[2], 1);
	TextDrawSetShadow(pOdmenPanel_TD[2], 0);
	TextDrawSetSelectable(pOdmenPanel_TD[2], true);

	pOdmenPanel_TD[3] = TextDrawCreate(230.8999, 374.6779, "STOP"); // пусто
	TextDrawLetterSize(pOdmenPanel_TD[3], 0.2004, 1.0337);
	TextDrawTextSize(pOdmenPanel_TD[3], 5.0000, 37.0000);
	TextDrawAlignment(pOdmenPanel_TD[3], 2);
	TextDrawColor(pOdmenPanel_TD[3], -1);
	TextDrawUseBox(pOdmenPanel_TD[3], 1);
	TextDrawBoxColor(pOdmenPanel_TD[3], -1523963137);
	TextDrawBackgroundColor(pOdmenPanel_TD[3], -1523963137);
	TextDrawFont(pOdmenPanel_TD[3], 2);
	TextDrawSetProportional(pOdmenPanel_TD[3], 1);
	TextDrawSetShadow(pOdmenPanel_TD[3], 0);
	TextDrawSetSelectable(pOdmenPanel_TD[3], true);

	pOdmenPanel_TD[4] = TextDrawCreate(273.3999, 326.4445, "STATS"); // пусто
	TextDrawLetterSize(pOdmenPanel_TD[4], 0.2004, 1.0337);
	TextDrawTextSize(pOdmenPanel_TD[4], 5.0000, 37.0000);
	TextDrawAlignment(pOdmenPanel_TD[4], 2);
	TextDrawColor(pOdmenPanel_TD[4], -1);
	TextDrawUseBox(pOdmenPanel_TD[4], 1);
	TextDrawBoxColor(pOdmenPanel_TD[4], 589505535);
	TextDrawBackgroundColor(pOdmenPanel_TD[4], -1523963137);
	TextDrawFont(pOdmenPanel_TD[4], 2);
	TextDrawSetProportional(pOdmenPanel_TD[4], 1);
	TextDrawSetShadow(pOdmenPanel_TD[4], 0);
	TextDrawSetSelectable(pOdmenPanel_TD[4], true);

	pOdmenPanel_TD[5] = TextDrawCreate(273.3999, 342.6223, "INFO"); // пусто
	TextDrawLetterSize(pOdmenPanel_TD[5], 0.2004, 1.0337);
	TextDrawTextSize(pOdmenPanel_TD[5], 5.0000, 37.0000);
	TextDrawAlignment(pOdmenPanel_TD[5], 2);
	TextDrawColor(pOdmenPanel_TD[5], -1);
	TextDrawUseBox(pOdmenPanel_TD[5], 1);
	TextDrawBoxColor(pOdmenPanel_TD[5], 589505535);
	TextDrawBackgroundColor(pOdmenPanel_TD[5], -1523963137);
	TextDrawFont(pOdmenPanel_TD[5], 2);
	TextDrawSetProportional(pOdmenPanel_TD[5], 1);
	TextDrawSetShadow(pOdmenPanel_TD[5], 0);
	TextDrawSetSelectable(pOdmenPanel_TD[5], true);

	pOdmenPanel_TD[6] = TextDrawCreate(273.3999, 358.5779, "GUNS"); // пусто
	TextDrawLetterSize(pOdmenPanel_TD[6], 0.2004, 1.0337);
	TextDrawTextSize(pOdmenPanel_TD[6], 5.0000, 37.0000);
	TextDrawAlignment(pOdmenPanel_TD[6], 2);
	TextDrawColor(pOdmenPanel_TD[6], -1);
	TextDrawUseBox(pOdmenPanel_TD[6], 1);
	TextDrawBoxColor(pOdmenPanel_TD[6], 589505535);
	TextDrawBackgroundColor(pOdmenPanel_TD[6], -1523963137);
	TextDrawFont(pOdmenPanel_TD[6], 2);
	TextDrawSetProportional(pOdmenPanel_TD[6], 1);
	TextDrawSetShadow(pOdmenPanel_TD[6], 0);
	TextDrawSetSelectable(pOdmenPanel_TD[6], true);

	pOdmenPanel_TD[7] = TextDrawCreate(273.3999, 374.7557, "SLAP"); // пусто
	TextDrawLetterSize(pOdmenPanel_TD[7], 0.2004, 1.0337);
	TextDrawTextSize(pOdmenPanel_TD[7], 5.0000, 37.0000);
	TextDrawAlignment(pOdmenPanel_TD[7], 2);
	TextDrawColor(pOdmenPanel_TD[7], -1);
	TextDrawUseBox(pOdmenPanel_TD[7], 1);
	TextDrawBoxColor(pOdmenPanel_TD[7], 589505535);
	TextDrawBackgroundColor(pOdmenPanel_TD[7], -1523963137);
	TextDrawFont(pOdmenPanel_TD[7], 2);
	TextDrawSetProportional(pOdmenPanel_TD[7], 1);
	TextDrawSetShadow(pOdmenPanel_TD[7], 0);
	TextDrawSetSelectable(pOdmenPanel_TD[7], true);

	pOdmenPanel_TD[8] = TextDrawCreate(315.8999, 326.2223, "JAIL"); // пусто
	TextDrawLetterSize(pOdmenPanel_TD[8], 0.2004, 1.0337);
	TextDrawTextSize(pOdmenPanel_TD[8], 5.0000, 37.0000);
	TextDrawAlignment(pOdmenPanel_TD[8], 2);
	TextDrawColor(pOdmenPanel_TD[8], -1);
	TextDrawUseBox(pOdmenPanel_TD[8], 1);
	TextDrawBoxColor(pOdmenPanel_TD[8], 589505535);
	TextDrawBackgroundColor(pOdmenPanel_TD[8], -1523963137);
	TextDrawFont(pOdmenPanel_TD[8], 2);
	TextDrawSetProportional(pOdmenPanel_TD[8], 1);
	TextDrawSetShadow(pOdmenPanel_TD[8], 0);
	TextDrawSetSelectable(pOdmenPanel_TD[8], true);

	pOdmenPanel_TD[9] = TextDrawCreate(315.8999, 342.4001, "MUTE"); // пусто
	TextDrawLetterSize(pOdmenPanel_TD[9], 0.2004, 1.0337);
	TextDrawTextSize(pOdmenPanel_TD[9], 5.0000, 37.0000);
	TextDrawAlignment(pOdmenPanel_TD[9], 2);
	TextDrawColor(pOdmenPanel_TD[9], -1);
	TextDrawUseBox(pOdmenPanel_TD[9], 1);
	TextDrawBoxColor(pOdmenPanel_TD[9], 589505535);
	TextDrawBackgroundColor(pOdmenPanel_TD[9], -1523963137);
	TextDrawFont(pOdmenPanel_TD[9], 2);
	TextDrawSetProportional(pOdmenPanel_TD[9], 1);
	TextDrawSetShadow(pOdmenPanel_TD[9], 0);
	TextDrawSetSelectable(pOdmenPanel_TD[9], true);

	pOdmenPanel_TD[10] = TextDrawCreate(315.8999, 358.5001, "KICK"); // пусто
	TextDrawLetterSize(pOdmenPanel_TD[10], 0.2004, 1.0337);
	TextDrawTextSize(pOdmenPanel_TD[10], 5.0000, 37.0000);
	TextDrawAlignment(pOdmenPanel_TD[10], 2);
	TextDrawColor(pOdmenPanel_TD[10], -1);
	TextDrawUseBox(pOdmenPanel_TD[10], 1);
	TextDrawBoxColor(pOdmenPanel_TD[10], 589505535);
	TextDrawBackgroundColor(pOdmenPanel_TD[10], -1523963137);
	TextDrawFont(pOdmenPanel_TD[10], 2);
	TextDrawSetProportional(pOdmenPanel_TD[10], 1);
	TextDrawSetShadow(pOdmenPanel_TD[10], 0);
	TextDrawSetSelectable(pOdmenPanel_TD[10], true);

	pOdmenPanel_TD[11] = TextDrawCreate(315.8999, 374.6779, "WARN"); // пусто
	TextDrawLetterSize(pOdmenPanel_TD[11], 0.2004, 1.0337);
	TextDrawTextSize(pOdmenPanel_TD[11], 5.0000, 37.0000);
	TextDrawAlignment(pOdmenPanel_TD[11], 2);
	TextDrawColor(pOdmenPanel_TD[11], -1);
	TextDrawUseBox(pOdmenPanel_TD[11], 1);
	TextDrawBoxColor(pOdmenPanel_TD[11], 589505535);
	TextDrawBackgroundColor(pOdmenPanel_TD[11], -1523963137);
	TextDrawFont(pOdmenPanel_TD[11], 2);
	TextDrawSetProportional(pOdmenPanel_TD[11], 1);
	TextDrawSetShadow(pOdmenPanel_TD[11], 0);
	TextDrawSetSelectable(pOdmenPanel_TD[11], true);

	pOdmenPanel_TD[12] = TextDrawCreate(358.8999, 326.1445, "BH"); // пусто
	TextDrawLetterSize(pOdmenPanel_TD[12], 0.2004, 1.0337);
	TextDrawTextSize(pOdmenPanel_TD[12], 5.0000, 37.0000);
	TextDrawAlignment(pOdmenPanel_TD[12], 2);
	TextDrawColor(pOdmenPanel_TD[12], -1);
	TextDrawUseBox(pOdmenPanel_TD[12], 1);
	TextDrawBoxColor(pOdmenPanel_TD[12], 589505535);
	TextDrawBackgroundColor(pOdmenPanel_TD[12], -1523963137);
	TextDrawFont(pOdmenPanel_TD[12], 2);
	TextDrawSetProportional(pOdmenPanel_TD[12], 1);
	TextDrawSetShadow(pOdmenPanel_TD[12], 0);
	TextDrawSetSelectable(pOdmenPanel_TD[12], true);

	pOdmenPanel_TD[13] = TextDrawCreate(358.8999, 342.3223, "DM"); // пусто
	TextDrawLetterSize(pOdmenPanel_TD[13], 0.2004, 1.0337);
	TextDrawTextSize(pOdmenPanel_TD[13], 5.0000, 37.0000);
	TextDrawAlignment(pOdmenPanel_TD[13], 2);
	TextDrawColor(pOdmenPanel_TD[13], -1);
	TextDrawUseBox(pOdmenPanel_TD[13], 1);
	TextDrawBoxColor(pOdmenPanel_TD[13], 589505535);
	TextDrawBackgroundColor(pOdmenPanel_TD[13], -1523963137);
	TextDrawFont(pOdmenPanel_TD[13], 2);
	TextDrawSetProportional(pOdmenPanel_TD[13], 1);
	TextDrawSetShadow(pOdmenPanel_TD[13], 0);
	TextDrawSetSelectable(pOdmenPanel_TD[13], true);

	pOdmenPanel_TD[14] = TextDrawCreate(358.8999, 358.5001, "MG"); // пусто
	TextDrawLetterSize(pOdmenPanel_TD[14], 0.2004, 1.0337);
	TextDrawTextSize(pOdmenPanel_TD[14], 5.0000, 37.0000);
	TextDrawAlignment(pOdmenPanel_TD[14], 2);
	TextDrawColor(pOdmenPanel_TD[14], -1);
	TextDrawUseBox(pOdmenPanel_TD[14], 1);
	TextDrawBoxColor(pOdmenPanel_TD[14], 589505535);
	TextDrawBackgroundColor(pOdmenPanel_TD[14], -1523963137);
	TextDrawFont(pOdmenPanel_TD[14], 2);
	TextDrawSetProportional(pOdmenPanel_TD[14], 1);
	TextDrawSetShadow(pOdmenPanel_TD[14], 0);
	TextDrawSetSelectable(pOdmenPanel_TD[14], true);

	pOdmenPanel_TD[15] = TextDrawCreate(358.8999, 374.6779, "PDD"); // пусто
	TextDrawLetterSize(pOdmenPanel_TD[15], 0.2004, 1.0337);
	TextDrawTextSize(pOdmenPanel_TD[15], 5.0000, 37.0000);
	TextDrawAlignment(pOdmenPanel_TD[15], 2);
	TextDrawColor(pOdmenPanel_TD[15], -1);
	TextDrawUseBox(pOdmenPanel_TD[15], 1);
	TextDrawBoxColor(pOdmenPanel_TD[15], 589505535);
	TextDrawBackgroundColor(pOdmenPanel_TD[15], -1523963137);
	TextDrawFont(pOdmenPanel_TD[15], 2);
	TextDrawSetProportional(pOdmenPanel_TD[15], 1);
	TextDrawSetShadow(pOdmenPanel_TD[15], 0);
	TextDrawSetSelectable(pOdmenPanel_TD[15], true);

	pOdmenPanel_TD[16] = TextDrawCreate(210.5000, 387.7110, "LD_SPAC:white"); // пусто
	TextDrawTextSize(pOdmenPanel_TD[16], 267.0000, 14.0000);
	TextDrawAlignment(pOdmenPanel_TD[16], 1);
	TextDrawColor(pOdmenPanel_TD[16], 589505535);
	TextDrawBackgroundColor(pOdmenPanel_TD[16], 255);
	TextDrawFont(pOdmenPanel_TD[16], 4);
	TextDrawSetProportional(pOdmenPanel_TD[16], 0);
	TextDrawSetShadow(pOdmenPanel_TD[16], 0);

	pOdmenPanel_TD[17] = TextDrawCreate(215.6001, 389.1110, "550_/_500_/_550_/_500_/_550_/_500_/_550_/_500_/_550_/_500_/_550_/_500_/_550"); // пусто
	TextDrawLetterSize(pOdmenPanel_TD[17], 0.1779, 1.0959);
	TextDrawAlignment(pOdmenPanel_TD[17], 1);
	TextDrawColor(pOdmenPanel_TD[17], -1);
	TextDrawBackgroundColor(pOdmenPanel_TD[17], 255);
	TextDrawFont(pOdmenPanel_TD[17], 2);
	TextDrawSetProportional(pOdmenPanel_TD[17], 1);
	TextDrawSetShadow(pOdmenPanel_TD[17], 0);
//==============================================================================
	AUTO_SCHOOL[0] = TextDrawCreate(207.086288, 127.166687, "prp:auto_shool");
	TextDrawLetterSize(AUTO_SCHOOL[0], 0.000000, 0.000000);
	TextDrawTextSize(AUTO_SCHOOL[0], 207.086425, 230.416641);
	TextDrawAlignment(AUTO_SCHOOL[0], 1);
	TextDrawColor(AUTO_SCHOOL[0], -1);
	TextDrawSetShadow(AUTO_SCHOOL[0], 0);
	TextDrawSetOutline(AUTO_SCHOOL[0], 0);
	TextDrawFont(AUTO_SCHOOL[0], 4);

	AUTO_SCHOOL[1] = TextDrawCreate(307.007324, 287.916687, "usebox");
	TextDrawLetterSize(AUTO_SCHOOL[1], 0.000000, 2.535180);
	TextDrawTextSize(AUTO_SCHOOL[1], 220.079071, 0.000000);
	TextDrawAlignment(AUTO_SCHOOL[1], 1);
	TextDrawColor(AUTO_SCHOOL[1], 0);
	TextDrawUseBox(AUTO_SCHOOL[1], true);
	TextDrawBoxColor(AUTO_SCHOOL[1], 102);
	TextDrawSetShadow(AUTO_SCHOOL[1], 0);
	TextDrawSetOutline(AUTO_SCHOOL[1], 0);
	TextDrawFont(AUTO_SCHOOL[1], 0);

	AUTO_SCHOOL[2] = TextDrawCreate(400.306213, 288.333404, "usebox");
	TextDrawLetterSize(AUTO_SCHOOL[2], 0.000000, 2.535180);
	TextDrawTextSize(AUTO_SCHOOL[2], 312.377899, 0.000000);
	TextDrawAlignment(AUTO_SCHOOL[2], 1);
	TextDrawColor(AUTO_SCHOOL[2], 0);
	TextDrawUseBox(AUTO_SCHOOL[2], true);
	TextDrawBoxColor(AUTO_SCHOOL[2], 102);
	TextDrawSetShadow(AUTO_SCHOOL[2], 0);
	TextDrawSetOutline(AUTO_SCHOOL[2], 0);
	TextDrawFont(AUTO_SCHOOL[2], 0);
//==============================================================================
	SKIN_BUY[0] = TextDrawCreate(434.319335, 153.416625, "prp:skin_buy");
	TextDrawLetterSize(SKIN_BUY[0], 0.000000, 0.000000);
	TextDrawTextSize(SKIN_BUY[0], 196.778884, 149.916671);
	TextDrawAlignment(SKIN_BUY[0], 1);
	TextDrawColor(SKIN_BUY[0], -1);
	TextDrawSetShadow(SKIN_BUY[0], 0);
	TextDrawSetOutline(SKIN_BUY[0], 0);
	TextDrawFont(SKIN_BUY[0], 4);

	SKIN_BUY[1] = TextDrawCreate(452.591522, 246.166671, "LD_SPAC:white");
	TextDrawLetterSize(SKIN_BUY[1], 0.000000, 0.000000);
	TextDrawTextSize(SKIN_BUY[1], 22.489013, 17.500015);
	TextDrawAlignment(SKIN_BUY[1], 1);
	TextDrawColor(SKIN_BUY[1], -240);
	TextDrawSetShadow(SKIN_BUY[1], 0);
	TextDrawSetOutline(SKIN_BUY[1], 0);
	TextDrawFont(SKIN_BUY[1], 4);
	TextDrawSetSelectable(SKIN_BUY[1], true);

	SKIN_BUY[2] = TextDrawCreate(589.931274, 245.416763, "LD_SPAC:white");
	TextDrawLetterSize(SKIN_BUY[2], 0.000000, 0.000000);
	TextDrawTextSize(SKIN_BUY[2], 22.489013, 17.500015);
	TextDrawAlignment(SKIN_BUY[2], 1);
	TextDrawColor(SKIN_BUY[2], -240);
	TextDrawSetShadow(SKIN_BUY[2], 0);
	TextDrawSetOutline(SKIN_BUY[2], 0);
	TextDrawFont(SKIN_BUY[2], 4);
	TextDrawSetSelectable(SKIN_BUY[2], true);

	SKIN_BUY[3] = TextDrawCreate(482.234130, 245.250091, "LD_SPAC:white");
	TextDrawLetterSize(SKIN_BUY[3], 0.000000, 0.000000);
	TextDrawTextSize(SKIN_BUY[3], 101.200561, 17.500015);
	TextDrawAlignment(SKIN_BUY[3], 1);
	TextDrawColor(SKIN_BUY[3], -240);
	TextDrawSetShadow(SKIN_BUY[3], 0);
	TextDrawSetOutline(SKIN_BUY[3], 0);
	TextDrawFont(SKIN_BUY[3], 4);
	TextDrawSetSelectable(SKIN_BUY[3], true);
//==============================================================================
	SKIN_SELECT[0] = TextDrawCreate(434.319335, 153.416625, "prp:skin_select");
	TextDrawLetterSize(SKIN_SELECT[0], 0.000000, 0.000000);
	TextDrawTextSize(SKIN_SELECT[0], 196.778884, 149.916671);
	TextDrawAlignment(SKIN_SELECT[0], 1);
	TextDrawColor(SKIN_SELECT[0], -1);
	TextDrawSetShadow(SKIN_SELECT[0], 0);
	TextDrawSetOutline(SKIN_SELECT[0], 0);
	TextDrawFont(SKIN_SELECT[0], 4);

	SKIN_SELECT[1] = TextDrawCreate(452.591522, 246.166671, "LD_SPAC:white");
	TextDrawLetterSize(SKIN_SELECT[1], 0.000000, 0.000000);
	TextDrawTextSize(SKIN_SELECT[1], 22.489013, 17.500015);
	TextDrawAlignment(SKIN_SELECT[1], 1);
	TextDrawColor(SKIN_SELECT[1], -240);
	TextDrawSetShadow(SKIN_SELECT[1], 0);
	TextDrawSetOutline(SKIN_SELECT[1], 0);
	TextDrawFont(SKIN_SELECT[1], 4);
	TextDrawSetSelectable(SKIN_SELECT[1], true);

	SKIN_SELECT[2] = TextDrawCreate(589.931274, 245.416763, "LD_SPAC:white");
	TextDrawLetterSize(SKIN_SELECT[2], 0.000000, 0.000000);
	TextDrawTextSize(SKIN_SELECT[2], 22.489013, 17.500015);
	TextDrawAlignment(SKIN_SELECT[2], 1);
	TextDrawColor(SKIN_SELECT[2], -240);
	TextDrawSetShadow(SKIN_SELECT[2], 0);
	TextDrawSetOutline(SKIN_SELECT[2], 0);
	TextDrawFont(SKIN_SELECT[2], 4);
	TextDrawSetSelectable(SKIN_SELECT[2], true);

	SKIN_SELECT[3] = TextDrawCreate(482.234130, 245.250091, "LD_SPAC:white");
	TextDrawLetterSize(SKIN_SELECT[3], 0.000000, 0.000000);
	TextDrawTextSize(SKIN_SELECT[3], 101.200561, 17.500015);
	TextDrawAlignment(SKIN_SELECT[3], 1);
	TextDrawColor(SKIN_SELECT[3], -240);
	TextDrawSetShadow(SKIN_SELECT[3], 0);
	TextDrawSetOutline(SKIN_SELECT[3], 0);
	TextDrawFont(SKIN_SELECT[3], 4);
	TextDrawSetSelectable(SKIN_SELECT[3], true);
//==============================================================================
    /*Vrijeme = TextDrawCreate(567.5000, 28.2222,"__");
	TextDrawLetterSize(Vrijeme, 0.5485, 2.1662);
	TextDrawAlignment(Vrijeme, 2);
	TextDrawColor(Vrijeme, -1);
	TextDrawSetOutline(Vrijeme, 1);
	TextDrawBackgroundColor(Vrijeme, 255);
	TextDrawFont(Vrijeme, 3);
	TextDrawSetProportional(Vrijeme, 1);
	TextDrawSetShadow(Vrijeme, 0);

    Datum = TextDrawCreate(576.5000, 16.3999,"__");
	TextDrawLetterSize(Datum, 0.2600, 1.1955);
	TextDrawAlignment(Datum, 2);
	TextDrawColor(Datum, -19909889);
	TextDrawBackgroundColor(Datum, 255);
	TextDrawFont(Datum, 1);
	TextDrawSetProportional(Datum, 1);
	TextDrawSetShadow(Datum, 0);*/
//==============================================================================
	Menu();
	// конец
	SetTimer("minuteupdate", 60000, true);
	
	/* ---------------------------------------------------------------------- */
	// foreach(new i: Player) SetPlayerDataToDefault(i);
	/* ---------------------------------------------------------------------- */
	printf ("-> Динамических объектов: %d",CountDynamicObjects());
	printf ("-> Статических объектов: %d",TotalObject);

  	Streamer_SetTickRate(55);
 	Streamer_SetVisibleItems(STREAMER_TYPE_OBJECT,MAX_OBJECTS-TotalObject, -1);
// 	Streamer_VisibleItems(STREAMER_TYPE_OBJECT, 800);
/* 	AdvertiseTimerIndex = SetTimer("AdvertiseTimer", 100000, true);
 	AdvertiseTimerIndex = SetTimer("AdvertiseTimer1", 150000, true);
 	AdvertiseTimerIndex = SetTimer("AdvertiseTimer2", 200000, true);
 	AdvertiseTimerIndex = SetTimer("AdvertiseTimer3", 250000, true);
	AdvertiseTimerIndex = SetTimer("AdvertiseTimer4", 300000, true);
	AdvertiseTimerIndex = SetTimer("AdvertiseTimer5", 350000, true);*/
	
/*	SetTimer("AdvertiseTimer", 50000, true);
	SetTimer("AdvertiseTimer1", 150000, true);
	SetTimer("AdvertiseTimer2", 250000, true);
	SetTimer("AdvertiseTimer3", 350000, true);
	SetTimer("AdvertiseTimer4", 450000, true);
	SetTimer("AdvertiseTimer5", 550000, true);
*/
	printf ("-> Видимых объектов (стример): %d",Streamer_GetVisibleItems(STREAMER_TYPE_OBJECT));
	for(new i = MAX_VEHICLES; i != 0; i --)
	{
	    if(!IsValidVehicle(i)) continue;
	   	SetVehicleParamsEx(i, false, false, false, false, false, false, false);
	    Engine[i] = Lights[i] = false;
		Fuel[i] = 100;
		SetVehicleNumberPlate(i, "{FFCC00}"SERVER_NAME_UK"");
	}
	lastveh = CreateVehicle(542,0,0,0,0,0,0,0);
	DestroyVehicle(lastveh);
	
	SetGameModeText("BrilliantRP 0.12.23 DEV"); 													// - Мод сервера в клиенте CR:MP
	AreaEntraceMenu = CreateDynamicSphere(-378.0949,1128.7030,2712.7734, 1.0);
	AreaEntraceExit = CreateDynamicSphere(-379.4767,1127.6851,2712.7734, 1.0);
	AreaRoomExit = CreateDynamicSphere(-691.0283,-460.0852,3147.0801, 1.0);
	for(new i = 1; i < MAX_VEHICLES; i++)
	{
		if(s_IsVehicleOccupied(i)) continue;
		AC_SetVehicleToRespawn(i);
	}

	MapAndreas_Init(MAP_ANDREAS_MODE_MINIMAL);

	autoschool_Bot = CreateActor(172, 1068.2416,93.6623,1049.7869, 88.46);
	Create3DTextLabel("Менеджер автошколы", -1, 1068.2416,92.6623,1052, 10, 0);
	Create3DTextLabel("Обратиться к менеджеру: {FFCC00}Менеджер,\nтеория\nпрактика\nинформация", -1, 1068.2416,93.6623,1050, 10, 0);
	loadserver = 1;
	D_Message(p_Admins, "Server was loaded!");
	//LoadCars();
}


//==============================================================================
public OnPlayerEditAttachedObject(playerid, response, index, modelid, boneid, Float:fOffsetX, Float:fOffsetY, Float:fOffsetZ, Float:fRotX, Float:fRotY, Float:fRotZ, Float:fScaleX, Float:fScaleY, Float:fScaleZ)
{
	if(!response) return 1;
	new str[500];
	format(str, sizeof(str), "SetPlayerAttachedObject(playerid, %d, %d, %d, %.4f, %.4f, %.4f, %.2f, %.2f, %.2f, %.2f, %.2f, %.2f)", index, modelid, boneid, fOffsetX, fOffsetY, fOffsetZ, fRotX, fRotY, fRotZ, fScaleX, fScaleY, fScaleZ);
	printf(str);
	if(!IsPlayerInAnyVehicle(playerid)) SetPlayerAttachedObject(playerid, index, modelid, boneid, fOffsetX, fOffsetY, fOffsetZ, fRotX, fRotY, fRotZ, fScaleX, fScaleY, fScaleZ);
	else AttachObjectToVehicle(GetPVarInt(playerid, "VehicleObj"), GetPlayerVehicleID(playerid), fOffsetX, fOffsetY, fOffsetZ, fRotX, fRotY, fRotZ);
	return 1;
}
//==============================================================================
public OnPlayerEditObject(playerid, playerobject, objectid, response, Float:fX, Float:fY, Float:fZ, Float:fRotX, Float:fRotY, Float:fRotZ)
{
	if(GetPVarInt(playerid, "LoadATM") > 0)
	{
		if(!playerobject)
		{
			if(!IsValidObject(objectid)) return 1;
			MoveObject(objectid, fX, fY, fZ, 10.0, fRotX, fRotY, fRotZ);
		}
		if(response == EDIT_RESPONSE_FINAL)
		{
			TOTALATM++;
			ATMInfo[TOTALATM][aX] = fX;
			ATMInfo[TOTALATM][aY] = fY;
			ATMInfo[TOTALATM][aZ] = fZ;
			ATMInfo[TOTALATM][arX] = fRotX;
			ATMInfo[TOTALATM][arY] = fRotY;
			ATMInfo[TOTALATM][arZ] = fRotZ;
			SendClientMessage(playerid, COLOR_LIME,"[Информация]: Вы установили банкомат");
			DestroyObject(GetPVarInt(playerid, "LoadATM")-1);
			ATM[TOTALATM] = CreateObject(2942, fX, fY, fZ, fRotX, fRotY, fRotZ);
			LABELATM[TOTALATM] = CreateDynamic3DTextLabel("{99CC00}Использовать", 0xBBBBBBFF, ATMInfo[TOTALATM][aX],ATMInfo[TOTALATM][aY],ATMInfo[TOTALATM][aZ]+1.1,10.0);
			DeletePVar(playerid, "LoadATM");
			CancelEdit(playerid);
			new str[512];
			format(str,sizeof(str),"INSERT INTO `atm` (ID, aX, aY, aZ, arX, arY, arZ) VALUES (%i,'%f','%f','%f','%f', '%f', '%f')",
			TOTALATM,ATMInfo[TOTALATM][aX],ATMInfo[TOTALATM][aY],ATMInfo[TOTALATM][aZ], ATMInfo[TOTALATM][arX], ATMInfo[TOTALATM][arY], ATMInfo[TOTALATM][arZ]);
			mysql_tquery(dbHandle, str, "", "");
		}
		if(response == EDIT_RESPONSE_CANCEL)
		{
			DeletePVar(playerid, "LoadATM");
			SendClientMessage(playerid, COLOR_RED, "Установка банкомата отменена");
			DestroyObject(GetPVarInt(playerid, "LoadATM")-1);
			CancelEdit(playerid);
		}
		return 1;
	}
    else if(response == EDIT_RESPONSE_UPDATE){
        SetObjectPos(objectid, fX, fY, fZ);
        SetObjectRot(objectid, fRotX, fRotY, fRotZ);
    }
	if(response == EDIT_RESPONSE_CANCEL)
	{
		DestroyObject(objectid);
		CancelEdit(playerid);
	}
	if(response == EDIT_RESPONSE_FINAL)
	{
		CancelEdit(playerid);
	}
 	if(GetPVarInt(playerid, "CreateRadar") != 0)
	{
		if(!playerobject)
		{
			if(!IsValidObject(objectid)) return 1;
			MoveObject(objectid, fX, fY, fZ, 10.0, fRotX, fRotY, fRotZ);
		}
		if(response == EDIT_RESPONSE_FINAL)
		{
			TOTALRADAR++;

			switch(GetPVarInt(playerid, "TypeRadar"))
			{
				case 0: RI[TOTALRADAR][r_type] = 1, RI[TOTALRADAR][r_speed] = 20;
				case 1: RI[TOTALRADAR][r_type] = 2, RI[TOTALRADAR][r_speed] = 60;
				case 2: RI[TOTALRADAR][r_type] = 3, RI[TOTALRADAR][r_speed] = 110;
				case 3: RI[TOTALRADAR][r_type] = 4, RI[TOTALRADAR][r_speed] = 90;
			}

			new stringss [256];
			RI[TOTALRADAR][r_x] = fX; RI[TOTALRADAR][r_y] = fY; RI[TOTALRADAR][r_z] = fZ; RI[TOTALRADAR][r_a] = fRotZ;
			DestroyObject(GetPVarInt(playerid, "RadarObject"));
			RI[TOTALRADAR][r_object] = CreateObject(18880, fX, fY, fZ, fRotX, fRotY, fRotZ);
			format(stringss, sizeof stringss, "Радар {0099FF}№%d{FFFFFF}\n\nМакс. разрешенная скорость: {0099FF}%d{FFFFFF} КМ/Ч", TOTALRADAR, RI[TOTALRADAR][r_speed]);
			RI[TOTALRADAR][r_label] = CreateDynamic3DTextLabel(stringss, 0xFFFFFFFF, RI[TOTALRADAR][r_x], RI[TOTALRADAR][r_y], RI[TOTALRADAR][r_z]+4.0,10.0);
			DeletePVar(playerid, "CreateRadar");
			DeletePVar(playerid, "TypeRadar");
			DeletePVar(playerid, "RadarObject");
			CancelEdit(playerid);

			STRING_GLOBAL[0] = EOS;
			format(STRING_GLOBAL,sizeof(STRING_GLOBAL),"INSERT INTO "T_RADAR" (r_id, r_name, r_type, r_speed, r_x, r_y, r_z, r_a) VALUES (%i, '%s', %i, %i, '%f', '%f', '%f', '%f')",
			TOTALRADAR, GetName(playerid), RI[TOTALRADAR][r_type], RI[TOTALRADAR][r_speed], RI[TOTALRADAR][r_x], RI[TOTALRADAR][r_y], RI[TOTALRADAR][r_z], RI[TOTALRADAR][r_a]);
			mysql_tquery(dbHandle, STRING_GLOBAL, "", "");
			SendClientMessage(playerid, C_OSNOV, "Радар успешно создан.");
		}
		if(response == EDIT_RESPONSE_CANCEL)
		{
			DeletePVar(playerid, "CreateRadar");
			DeletePVar(playerid, "TypeRadar");
			SendClientMessage(playerid, C_RED, "Вы отменили установку радара");
			DestroyObject(GetPVarInt(playerid, "RadarObject"));
			CancelEdit(playerid);
			DeletePVar(playerid, "RadarObject");
		}
	}
    else if(response == EDIT_RESPONSE_UPDATE){
        SetObjectPos(objectid, fX, fY, fZ);
        SetObjectRot(objectid, fRotX, fRotY, fRotZ);
    }
	if(response == EDIT_RESPONSE_CANCEL)
	{
		DestroyObject(objectid);
		CancelEdit(playerid);
	}
	if(response == EDIT_RESPONSE_FINAL)
	{
		CancelEdit(playerid);
	}
	return 1;
}
//==============================================================================
public OnGameModeExit()
{
	foreach(new i: Player)
	{
	    if(!IsPlayerConnected(i)) continue;
		if(noclipdata[i][cameramode] == CAMERA_MODE_FLY) CancelFlyMode(i);
		STRING_GLOBAL[0] = EOS;
	    mysql_format(dbHandle, STRING_GLOBAL, sizeof(STRING_GLOBAL), "UPDATE "T_ACCOUNTS" SET `del_obj` = '1' WHERE name = '%s'", GetName(i));
   		mysql_tquery(dbHandle, STRING_GLOBAL, "", "");
	}
	DestroyAllDynamicObjects();
	DestroyAllDynamicPickups();
	DestroyAllDynamicCPs();
	DestroyAllDynamicRaceCPs();
	DestroyAllDynamicMapIcons();
	DestroyAllDynamic3DTextLabels();
	DestroyAllDynamicAreas();
	SaveServerOptions();
	TextDrawDestroy(logo);
	TextDrawDestroy(TDmessage);
	mysql_close();
	return 1;
}
//==============================================================================
public OnPlayerRequestClass(playerid, classid)
{
	SetPVarInt(playerid, "HiTarget", MAX_PLAYERS+1);
	SetPVarInt(playerid, "PassTarget", MAX_PLAYERS+1);
	PI[playerid][pShowLic] = INVALID_PLAYER_ID;

	printf("OnPlayerRequestClass(%d, %d)", playerid, classid);
	if(classid != 100) {

		new tmp_sessionIP[32];
		for(new i; i < MAX_PLAYERS; ++i) {
			if(!strcmp(GetName(playerid), Session[i][sessionNAME]) || !Session[i][IsActive]) continue;
			else {
				GetPlayerIp(playerid, tmp_sessionIP, sizeof tmp_sessionIP);
				if(strcmp(tmp_sessionIP, Session[i][sessionIP])) continue;

				// SetPVarInt(playerid, "Session", i);
				// new string[] = "{adff2f}|      Сессия сохранена: %d\%d\%d %d:%d       |";
				// format(string, sizeof(string) + 32, string, 
				// Session[i][sessionDateDay], 
				// Session[i][sessionDateMonth],
				// Session[i][sessionDateYear],
				// Session[i][timeHour],
				// Session[i][timeMinute]);

				
				// new text[] = ""cBLUE"------------------------------------------------------------------------------------------------------------\n\n\n\n
				// {ffcc00}\t\t\t-\tВаша игровая сессия сохранена!
				// \nВы можете вернуться к игре с точки выхода без необходимости повторной авторизации!\n\n
				// {FF0000}Имейте ввиду, что некоторая информация недоступна к восстановлению.\n\n{FFFFFF}Информация о сессии:%s\n\n
				// "cBLUE"------------------------------------------------------------------------------------------------------------";
				
				// format(text, sizeof(text) + sizeof(string) + 32, text, string);
				
				OnPlayerLoginEx(playerid);
				// ShowPlayerDialog(playerid, SESSION, DIALOG_STYLE_MSGBOX, "{FFCC00}Восстановить игровую сессию?", text, "Восстановить", "Отмена");
				
				return 1; 
			}
		}
	}
	
    if(PlayerLogged[playerid] == true) {
	    SetSpawnInfoEx(playerid, PI[playerid][pModel], 1244.6781,-1387.5233,13.3752, 0.0);
		return SpawnPlayer(playerid);
	}
	STRING_GLOBAL[0] = EOS;
	mysql_format(dbHandle, STRING_GLOBAL, sizeof(STRING_GLOBAL), "SELECT `id`,`datavhod` FROM "T_ACCOUNTS" WHERE `name` = '%e' LIMIT 1", GetName(playerid));
   	mysql_tquery(dbHandle, STRING_GLOBAL, "player_check", "i", playerid);

	SetPlayerCameraPos(playerid, 80.2204, -716.8625, 81.0060);
	SetPlayerCameraLookAt(playerid, -177.9839, -107.9460, 87.7139);
	PlayAudioStreamForPlayer(playerid, "http://d.zaix.ru/h7cY.mp3");



	// InterpolateCameraPos(playerid, 80.2204, -716.8625, 81.0060, -177.9839, -107.9460, 87.7139, 60*1000, CAMERA_MOVE);
	// SetPlayerCameraLookAt(playerid, -177.9839, -107.9460, 87.7139, CAMERA_MOVE);


	// SetPlayerCameraPos(playerid, 0.0, 0.0, 30);
	return 1;
}
//==============================================================================
publics player_check(playerid)
{
    if(!IsPlayerConnected(playerid)) return 1;
    new rows, fields;
    cache_get_data(rows, fields);
 	new string[380];
//	SCM(playerid, COLOR_SERVER, "Добро пожаловать на Brilliant RolePlay");     // - Пишет игроку при входе в игру
    if(rows)
	{
        PlayerPlaySound(playerid,1062,0.0,0.0,0.0);
        format(string, sizeof(string), "{FFFFFF}Добро пожаловать на {FFA500}Brilliant RP{FFFFFF}\n\nИмя персонажа: {006600}%s{FFFFFF}\nВведите пароль:",GetName(playerid));
		ShowPlayerDialog(playerid, D_LOGIN, 3, "{FFA500}Авторизация", string, "Войти", "Выйти");
	}
	else
	{
		HideBackgroundForPlayer(playerid, 2);
		PlayerPlaySound(playerid,1076,0.0,0.0,0.0);
		ShowPlayerDialog(playerid, 1, DIALOG_STYLE_MSGBOX, "{FFA500}Регистрация", "{FFFFFF}Добро пожаловать на {FFA500}Brilliant RolePlay\n\n{FFFFFF}Вы впервые зашли на этот сервер и для начала игры, \
		вам нужно пройти регистрацию\nПроцесс регистрации не займет много времени.", "Далее", "Выйти"); // РегисрацияЯ
	}
	SetPVarInt(playerid, "Logged", 1);
	return 1;
}

//==============================================================================
public OnPlayerCommandPerformed(playerid, cmd[], params[], result, flags)
{
	//printf("%s только что использовал команду \"%s\"", GetName(playerid), cmd);
	if(!IsPlayerConnected(playerid)) Kick(playerid);
	if(TextResetCMD[playerid] < gettime()) TextResetCMD[playerid] = gettime()+2;
	if(result == -1)
    {
        SendClientMessage(playerid, 0xFFFFFFFF, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
        return 0;
    }
	return 1;
}

public OnPlayerConnect(playerid) {


	if(loadserver == 0) {
		SendErr(playerid, "В настоящий момент сервер еще загружается. Перезайдите позже.");
		Kick(playerid);
	}

	printf("OnPlayerConnect(%d)", playerid);

	SendClientMessage(playerid, COLOR_SERVER, "Добро пожаловать на Brilliant RolePlay");     // - Пишет игроку при входе в игру);
	SetTimerEx("SecondTimer", 1000, 1, "d", playerid);
	mysql_log(LOG_WARNING | LOG_ERROR);
	if(mysql_errno() == -1)
    {
		ShowPlayerDialog
		(
			playerid, DIALOG_CMDS_PROPERTYY, DIALOG_STYLE_MSGBOX,
			"{FFCC00}Нет подключения к БД",
			"\n{FFFFFF}Подключение к БД: {FF0000}ОТСУТСТВУЕТ",
			"Закрыть", ""
		);
    }
	
	noclipdata[playerid][cameramode] 	= CAMERA_MODE_NONE;
	noclipdata[playerid][lrold]	   	 	= 0;
	noclipdata[playerid][udold]   		= 0;
	noclipdata[playerid][mode]   		= 0;
	noclipdata[playerid][lastmove]   	= 0;
	noclipdata[playerid][accelmul]   	= 0.0;
	IsCreating[playerid] 				= false;
	IsReSettingStart[playerid] 			= false;
	IsReSettingEnd[playerid] 			= false;
	SettingFirstLoc[playerid] 			= false;
	SettingLastLoc[playerid] 			= false;
	IsCamMoving[playerid] 				= false;
	coordInfo[playerid][MoveSpeed] 		= 1000;
	coordInfo[playerid][RotSpeed] 		= 1000;

	// fly[playerid] = 0;

    clock();
	progressPravila[playerid] = 0;
    switch_fp[playerid] = false;
//	TextDrawShowForPlayer(playerid, Datum);
//	TextDrawShowForPlayer(playerid, Vrijeme);
//==============================================================================
    if(playerid == INVALID_PLAYER_ID) return Kick(playerid);
    new CheckSobeit[10];
    GetPlayerVersion(playerid, CheckSobeit, sizeof(CheckSobeit));
    if(strfind(CheckSobeit, "LoL4" ) != -1) return Kick(playerid), SendClientMessage(playerid, COLOR_RED, "Вход на сервер с запрещенным ПО запрещен");
//==============================================================================
    GetPlayerIp(playerid, PI[playerid][pIP], 16);
    GetPlayerName(playerid, PI[playerid][pName], MAX_PLAYER_NAME);
	SetPlayerColor(playerid, 0x9E9E9EAA);
	SetPlayerScore(playerid, 1);
	CreateReconTextDraws(playerid);
    if(slotUsed{playerid} && !strcmp(playersIP[playerid], PI[playerid][pIP], true)) return Ban(playerid);
    GetPlayerIp(playerid, playersIP[playerid], 16);
    slotUsed{playerid} = true;


	online++;


 	if(IsLoginInvalid(GetName(playerid)))
	{
	    SendClientMessage(playerid, COLOR_RED, "Ваше имя содержит запрещенные символы или цифры, используйте имя формата Имя_Фамилия на английском");
		return Kick(playerid);
	}
    SetPlayerDataToDefault(playerid);
	RemoveBuild(playerid);
    SetPVarInt(playerid, "DrawFill", 0);
	PlayerPickupID[playerid] = -1;

	for(new i = 0; i < sizeof GZInfo; i++) GangZoneShowForPlayer(playerid, GangZone[i], GetGangZoneColor(i));
	
	new string[144];
	GetPlayerIp(playerid, PI[playerid][pIP], 20);
	autoschool_Progress[playerid] = 0;
	PI[playerid][pAntiDm] = 0;
	PI[playerid][pBanya] = 0;
	PI[playerid][pRepairCar] = 0;
	killused[playerid] = 0;
	format(string, 144, "[A] %s [%d] присоединился к серверу. [IP: %s]", PI[playerid][pName], playerid, PI[playerid][pIP]);
	SendAdminMessage(COLOR_GREY, string);

	RemoveBuildingForPlayer(playerid, 2166, 2747.3701, -1261.9301, 21.5950, 0.25); 
	RemoveBuildingForPlayer(playerid, 2167, 2747.3701, -1261.9301, 21.5950, 0.25);

	radar_speed[playerid] = CreatePlayerTextDraw(playerid, 598.000000, 168.625000, "120");
	PlayerTextDrawLetterSize(playerid, radar_speed[playerid], 0.440499, 2.037499);
	PlayerTextDrawAlignment(playerid, radar_speed[playerid], 2);
	PlayerTextDrawColor(playerid, radar_speed[playerid], 255);
	PlayerTextDrawSetShadow(playerid, radar_speed[playerid], 0);
	PlayerTextDrawSetOutline(playerid, radar_speed[playerid], 0);
	PlayerTextDrawBackgroundColor(playerid, radar_speed[playerid], 51);
	PlayerTextDrawFont(playerid, radar_speed[playerid], 2);
	PlayerTextDrawSetProportional(playerid, radar_speed[playerid], 1);

	USE_ALT[0] = CreatePlayerTextDraw(playerid, 263.777496, 405.999969, "prp:use_alt");
	PlayerTextDrawLetterSize(playerid, USE_ALT[0], 0.000000, 0.000000);
	PlayerTextDrawTextSize(playerid, USE_ALT[0], 91.830169, 20.999958);
	PlayerTextDrawAlignment(playerid, USE_ALT[0], 1);
	PlayerTextDrawColor(playerid, USE_ALT[0], -1);
	PlayerTextDrawSetShadow(playerid, USE_ALT[0], 0);
	PlayerTextDrawSetOutline(playerid, USE_ALT[0], 0);
	PlayerTextDrawFont(playerid, USE_ALT[0], 4);
/*	USE_ALT[0] = CreatePlayerTextDraw(playerid, 260.5000, 410.1112, "LD_SPAC:white"); // ?????
	PlayerTextDrawTextSize(playerid, USE_ALT[0], 113.0000, 20.9799);
	PlayerTextDrawAlignment(playerid, USE_ALT[0], 1);
	PlayerTextDrawColor(playerid, USE_ALT[0], -19909889);
	PlayerTextDrawBackgroundColor(playerid, USE_ALT[0], 255);
	PlayerTextDrawFont(playerid, USE_ALT[0], 4);
	PlayerTextDrawSetProportional(playerid, USE_ALT[0], 0);
	PlayerTextDrawSetShadow(playerid, USE_ALT[0], 0);

	USE_ALT[1] = CreatePlayerTextDraw(playerid, 245.8000, 405.1112, "LD_BEAT:chit"); // ?????
	PlayerTextDrawTextSize(playerid, USE_ALT[1], 26.0000, 31.1199);
	PlayerTextDrawAlignment(playerid, USE_ALT[1], 1);
	PlayerTextDrawColor(playerid, USE_ALT[1], -19909889);
	PlayerTextDrawBackgroundColor(playerid, USE_ALT[1], 255);
	PlayerTextDrawFont(playerid, USE_ALT[1], 4);
	PlayerTextDrawSetProportional(playerid, USE_ALT[1], 0);
	PlayerTextDrawSetShadow(playerid, USE_ALT[1], 0);

	USE_ALT[2] = CreatePlayerTextDraw(playerid, 360.0070, 405.1112, "LD_BEAT:chit"); // ?????
	PlayerTextDrawTextSize(playerid, USE_ALT[2], 26.0000, 31.1199);
	PlayerTextDrawAlignment(playerid, USE_ALT[2], 1);
	PlayerTextDrawColor(playerid, USE_ALT[2], -19909889);
	PlayerTextDrawBackgroundColor(playerid, USE_ALT[2], 255);
	PlayerTextDrawFont(playerid, USE_ALT[2], 4);
	PlayerTextDrawSetProportional(playerid, USE_ALT[2], 0);
	PlayerTextDrawSetShadow(playerid, USE_ALT[2], 0);

	USE_ALT[3] = CreatePlayerTextDraw(playerid, 315.0000, 414.0000, "њCЈOћ©џYќЏE ћ. ALT"); // ?????
	PlayerTextDrawLetterSize(playerid, USE_ALT[3], 0.2409, 1.2266);
	PlayerTextDrawAlignment(playerid, USE_ALT[3], 2);
	PlayerTextDrawColor(playerid, USE_ALT[3], 589505535);
	PlayerTextDrawBackgroundColor(playerid, USE_ALT[3], 255);
	PlayerTextDrawFont(playerid, USE_ALT[3], 2);
	PlayerTextDrawSetProportional(playerid, USE_ALT[3], 1);
	PlayerTextDrawSetShadow(playerid, USE_ALT[3], 0);
*/
/*	gps_support_td[0] = TextDrawCreate(34.0190, 428.0000, "LD_SPAC:white"); // пусто
	TextDrawTextSize(gps_support_td[0], 91.0000, 16.0000);
	TextDrawAlignment(gps_support_td[0], 1);
	TextDrawColor(gps_support_td[0], 303174399);
	TextDrawBackgroundColor(gps_support_td[0], 255);
	TextDrawFont(gps_support_td[0], 4);
	TextDrawSetProportional(gps_support_td[0], 0);
	TextDrawSetShadow(gps_support_td[0], 0);

	gps_support_td[1] = TextDrawCreate(115.4473, 423.8167, "LD_BEAT:chit"); // пусто
	TextDrawTextSize(gps_support_td[1], 21.0000, 24.5099);
	TextDrawAlignment(gps_support_td[1], 1);
	TextDrawColor(gps_support_td[1], 303174399);
	TextDrawBackgroundColor(gps_support_td[1], 255);
	TextDrawFont(gps_support_td[1], 4);
	TextDrawSetProportional(gps_support_td[1], 0);
	TextDrawSetShadow(gps_support_td[1], 0);

	gps_support_td[2] = TextDrawCreate(22.9319, 423.5333, "LD_BEAT:chit"); // пусто
	TextDrawTextSize(gps_support_td[2], 21.0000, 24.5099);
	TextDrawAlignment(gps_support_td[2], 1);
	TextDrawColor(gps_support_td[2], 303174399);
	TextDrawBackgroundColor(gps_support_td[2], 255);
	TextDrawFont(gps_support_td[2], 4);
	TextDrawSetProportional(gps_support_td[2], 0);
	TextDrawSetShadow(gps_support_td[2], 0);

	arzp_PTD[playerid] = TextDrawCreate(80.1024, 431.2832, "Hњ›E™OPOљCKA¬ O—ћ"); // пусто
	TextDrawLetterSize(arzp_PTD[playerid], 0.1840, 0.8708);
	TextDrawAlignment(arzp_PTD[playerid], 2);
	TextDrawColor(arzp_PTD[playerid], -1);
	TextDrawBackgroundColor(arzp_PTD[playerid], 255);
	TextDrawFont(arzp_PTD[playerid], 2);
	TextDrawSetProportional(arzp_PTD[playerid], 1);
	TextDrawSetShadow(arzp_PTD[playerid], 0);
*/
    AnimDraw = TextDrawCreate(405.500000, 420.000000, "~y~~k~~PED_SPRINT~ ~g~to stop animation");
	TextDrawLetterSize(AnimDraw, 0.333499, 1.337500);
	TextDrawAlignment(AnimDraw, 1);
	TextDrawColor(AnimDraw, -1);
	TextDrawSetShadow(AnimDraw, 0);
	TextDrawSetOutline(AnimDraw, 1);
	TextDrawBackgroundColor(AnimDraw, 51);
	TextDrawFont(AnimDraw, 2);
	TextDrawSetProportional(AnimDraw, 1);
	
	/*PlayerTimer[playerid][@_200] = SetTimerEx("@200mc_Timer", 200, true, "d", playerid);
	PlayerTimer[playerid][@_1000] = SetTimerEx("@1000mc_Timer", 1000, true, "d", playerid);
	PlayerTimer[playerid][@_5000] = SetTimerEx("@5000mc_Timer", 5000, true, "d", playerid);
	PlayerTimer[playerid][@_60000] = SetTimerEx("@60000mc_Timer", 60000, true, "d", playerid);*/
    EffectTimer[playerid] = SetTimerEx("ActionEffect", TIME_PLAYER_WALK, true, "d", playerid);

	// IsPlayerUseForbiddenSoftware(playerid);

	return 1;
}

cmd:whitelist(playerid, params[]){
	if(PI[playerid][pAdmin] < 7) return SendClientMessage(playerid, -1, "Данной команды не существует. Введи /mm для просмотра полного списка команд");
	if(WhiteList) {
		WhiteList = false;
		SendClientMessageToAll(COLOR_RED, "БЕЛЫЙ ЛИСТ ОТКЛЮЧЕН АДМИНИСТРАЦИЕЙ");
	}
	else {
		WhiteList = true;
		SendClientMessageToAll(COLOR_RED, "БЕЛЫЙ ЛИСТ ВКЛЮЧЕН АДМИНИСТРАЦИЕЙ");
		foreach(new i : Player) {
			if(strcmp(GetName(playerid), "Folinq_Weard") || strcmp(GetName(playerid), "Roma_Omegov")) continue;
			SendClientMessage(playerid, -1, "После выхода из сервера Вы не сможете вернуться");
		}
	}
	return 1;
}

//========================[ Система вдыхания/выдыхания ]========================
public ActionEffect(playerid)
{
    PlayerEffect[playerid] = SetPlayerAttachedObject(playerid,9,18696,2,0.0,0.1,-0.2,-25.5000,0.0,0.0,0.10,0.3,0.15);
    if(GetPlayerSpeedPar(playerid) > 10 && PlayerRun[playerid] == 0)
    {
        KillTimer(EffectTimer[playerid]);
        EffectTimer[playerid] = SetTimerEx("ActionEffect", TIME_PLAYER_RUN, true, "d", playerid);
        PlayerRun[playerid] = 1;
    }
    else if(GetPlayerSpeedPar(playerid) < 10 && PlayerRun[playerid] == 1)
    {
        KillTimer(EffectTimer[playerid]);
        EffectTimer[playerid] = SetTimerEx("ActionEffect", TIME_PLAYER_WALK, true, "d", playerid);
        PlayerRun[playerid] = 0;
    }
}



//==============================================================================
public OnPlayerDisconnect(playerid, reason)
{

	if(PI[playerid][pAdmin] > 6) {
		for(new i, j = GetCreatedAdminPickups(playerid); i < j; i++) {
			DestroyDynamicPickup(ADMIN_PrePickup[playerid][i][Pickupid]);
			DestroyDynamic3DTextLabel(ADMIN_PrePickup[playerid][i][PickupText]);
			ADMIN_CreatedPickups[playerid]--;
		}
	}
	#pragma disablerecursion
    KillTimer(PlayerTimerID[playerid]);
	new string1[128];
	switch(reason)
	{
		case 0: strmid(string1, "ошибка", 0, strlen("ошибка"));
		case 1: strmid(string1, "покинул игру.", 0, strlen("покинул игру."));
		case 2: strmid(string1, "был кикнут.", 0, strlen("был кикнут."));
		default: strmid(string1, "неизвестно", 0, strlen("неизвестно"));
	}

	memsets(PI[playerid], 0);

	if(playerArend[playerid][arendCarID]) {
		StopCarshareArend(playerid);
	}

	/*KillTimer(PlayerTimer[playerid][@_200]);
    KillTimer(PlayerTimer[playerid][@_1000]);
    KillTimer(PlayerTimer[playerid][@_5000]);
    KillTimer(PlayerTimer[playerid][@_60000]);*/
	TextDrawHideForPlayer(playerid, Datum);
	TextDrawHideForPlayer(playerid, Vrijeme);
	switch_fp[playerid] = false;
	DeletePVar(playerid, "Job");
	DeletePVar(playerid, "JobY");

	online--;

	//if(PI[playerid][pFamily])family_info [ PI[playerid][pFamily]] [ f_online ]--;
	format(string1, 300, "[A] %s [%d] %s [IP: %s]", PI[playerid][pName],playerid,string1,PI[playerid][pIP]);
	SendAdminMessage(0x99CCFFFF, string1);
    slotUsed{playerid} = false;
    PI[playerid][pOnline] = 0;
    PI[playerid][pBanya] = 0;
    PI[playerid][pRepairCar] = 0;
    if(PI[playerid][cModel] > 0) Delete3DTextLabel(VehicleLabel[PI[playerid][PlayerCarID]]);
	if(IsPlayerAttachedObjectSlotUsed(playerid, 0)) RemovePlayerAttachedObject(playerid, 0);
	if(IsPlayerAttachedObjectSlotUsed(playerid, 1)) RemovePlayerAttachedObject(playerid, 1);
	if(IsPlayerAttachedObjectSlotUsed(playerid, 2)) RemovePlayerAttachedObject(playerid, 2);
	if(IsPlayerAttachedObjectSlotUsed(playerid, 3)) RemovePlayerAttachedObject(playerid, 3);
	if(IsPlayerAttachedObjectSlotUsed(playerid, 4)) RemovePlayerAttachedObject(playerid, 4);
	if(IsPlayerAttachedObjectSlotUsed(playerid, 5)) RemovePlayerAttachedObject(playerid, 5);
	new Query[128];
	format(Query, sizeof(Query), "UPDATE `admins` SET timemin='%d' WHERE name='%s' LIMIT 1", AdminInfo[playerid][admTimeMin], GetName(playerid));
	mysql_tquery(dbHandle, Query, "", "");
	if(GetPVarInt(playerid,"DrawFill") > 0) DeletePVar(playerid,"DrawFill");
	
	Iter_Remove(Supports, playerid);
	Iter_Remove(YouTubers, playerid);
	Iter_Remove(Admins, playerid);
	
	if(PI[playerid][PlayerCarID][0] != INVALID_VEHICLE_ID)
	{
		PI[playerid][cFuel][0] = Fuel[PI[playerid][PlayerCarID][0]];
		DestroyVehicle(PI[playerid][PlayerCarID][0]);
		PI[playerid][PlayerCarID][0] = INVALID_VEHICLE_ID;
	}
	if(PI[playerid][PlayerCarID][1] != INVALID_VEHICLE_ID)
	{
		PI[playerid][cFuel][1] = Fuel[PI[playerid][PlayerCarID][1]];
		DestroyVehicle(PI[playerid][PlayerCarID][1]);
		PI[playerid][PlayerCarID][1] = INVALID_VEHICLE_ID;
	}
	if(pCuff[playerid][pCuffee] != INVALID_PLAYER_ID && reason == 1)
	{
	    new id = pCuff[playerid][pCuffee];
	    if(id == playerid)
		{
		    new cuffer = pCuff[playerid][pCuffer];
		    new string[128];
			format(string, sizeof(string), "%s вышел при задержании.", GetName(playerid));
			SendClientMessageToAll(COLOR_RED, string);
			format(string, sizeof(string), "[A] %s [%d] вышел при задержании.", GetName(playerid), playerid);
			SendAdminMessage(COLOR_GREY, string);
			PI[playerid][pJail] = 1;
			PI[playerid][pJailTime] = 1800;
			PI[playerid][pWanted] = 0;
			pCuff[cuffer][pCuffer] = INVALID_PLAYER_ID;
			pCuff[cuffer][pCuffee] = INVALID_PLAYER_ID;
			pCuff[playerid][pCuffee] = INVALID_PLAYER_ID;
			pCuff[playerid][pCuffer] = INVALID_PLAYER_ID;
		}
		else if(!IsPlayerConnected(id))
		{
		    SetPlayerSpecialAction(id, SPECIAL_ACTION_NONE);
			RemovePlayerAttachedObject(id, 0);
			pCuff[id][pCuffer] = INVALID_PLAYER_ID;
			pCuff[id][pCuffee] = INVALID_PLAYER_ID;
			pCuff[playerid][pCuffee] = INVALID_PLAYER_ID;
			pCuff[playerid][pCuffer] = INVALID_PLAYER_ID;
			SendClientMessage(playerid, COLOR_LIME, "Офицер, надевший на Вас наручники, вышел из игры. Наручники сняты");
		}
	}
	PlayerTextDrawDestroy(playerid, radar_speed[playerid]);
 	if(GetPVarInt(playerid, "arendkey") != -1)
	{
		// new v = GetPVarInt(playerid, "arendkey");
    }
 	if(GetPVarInt(playerid, "paintball") == 1 && paintt[1] == 1)
	{
		paintt[2]--;
	    SetPVarInt(playerid,"Register",0);
	}
	if(training_timer[playerid] != 0)
	{
	    KillTimer(training_timer[playerid]);
	}
 	if(GetPVarInt(playerid, "TruckerJob"))
	{
	    DestroyVehicleEx(TruckerCar[playerid]);
	    DestroyVehicleEx(TruckerGruz[playerid]);
	    TruckerCar[playerid] = 0;
	    TruckerGruz[playerid] = 0;
		DeletePVar(playerid, "TruckerJobTime");
		DeletePVar(playerid, "TruckerJob");
		DeletePVar(playerid, "TruckerJobRazgruzka");
	}
	if(GetPVarInt(playerid,"objectcop"))
	{
		DestroyObject(GetPVarInt(playerid,"objectcop"));
		DestroyDynamicArea(Ships[playerid]);
	}
	PlayerDied[playerid] = false;
	drawcapt[playerid] = false;
	SetPlayerSkillss(playerid);
 	if(PlayerUseMask[playerid])
	{
        PlayerUseMask[playerid] = false;
	}
	if(UseGPS[playerid])
	{
    	DisablePlayerRaceCheckpoint(playerid);
    	UseGPS[playerid] = false;
	}
	if(GetPVarInt(playerid, "PriceBus") > 0)
	{
		PI[playerid][pPayCheck] += GetPVarInt(playerid, "BusMoney");
		if(IsValidDynamic3DTextLabel(BusText3D[playerid])) DestroyDynamic3DTextLabel(BusText3D[playerid]);
		SetVehicleToRespawn(PI[playerid][BusCarID]);
	}
	if(GetPVarInt(playerid, "PriceTaxi") > 0)
	{
		PI[playerid][pPayCheck] += GetPVarInt(playerid, "TaxiMoney");
		if(IsValidDynamic3DTextLabel(TaxiText3D[playerid])) DestroyDynamic3DTextLabel(TaxiText3D[playerid]);
		SetVehicleToRespawn(PI[playerid][TaxiCarID]);
	}
	if(PI[playerid][MechanicCarID] != INVALID_VEHICLE_ID) SetVehicleToRespawn(PI[playerid][MechanicCarID]);
	if(UseWork[playerid] == 2)
	{
	    DeletePVar(playerid, "OldLessSkin");
		UseWork[playerid] = 0;
		DeletePVar(playerid, "LessProgress");
		DeletePVar(playerid, "LessStatus");
		if(IsPlayerAttachedObjectSlotUsed(playerid, 3)) RemovePlayerAttachedObject(playerid, 3);
		if(IsPlayerAttachedObjectSlotUsed(playerid, 4)) RemovePlayerAttachedObject(playerid, 4);
	}

	foreach(new i: Player)
	{
        if(GetPlayerState(i) == PLAYER_STATE_SPECTATING && PI[i][Spectating][0] == playerid)
        {
			GameTextForPlayer(i, "PLAYER DISCONNECTED", 3000, 6);
			callcmd::specoff(i, "");
	    }
	}
//=======================[ Выход с сервера во время работы ]====================
	if(GetPVarInt(playerid, "TruckerJob"))//дальнобойщики
	{
	    DestroyVehicleEx(TruckerCar[playerid]);
	    DestroyVehicleEx(TruckerGruz[playerid]);

	    TruckerGruz[playerid] = 0;
		DeletePVar(playerid, "TruckerJobTime");
		DeletePVar(playerid, "TruckerJob");
		DeletePVar(playerid, "TruckerJobRazgruzka");
	}
	if(GetPVarInt(playerid, "InJobVodolaz") == 1)//водолазы
	{
	    RemovePlayerAttachedObject(playerid,1);
	    RemovePlayerAttachedObject(playerid,2);
	    RemovePlayerAttachedObject(playerid,8);
        RemovePlayerAttachedObject(playerid,5);
        GiveMoney(playerid,GetPVarInt(playerid,"JobVodolazYashiki")*2500);// Выдаём деньги
        DeletePVar(playerid,"JobVodolazYashiki");// Удаляем PVar с колличеством вещей
        DeletePVar(playerid,"InJobVodolaz");
        DeletePVar(playerid, "VodolazMeshok1");
        DeletePVar(playerid, "VodolazMeshok2");
        DeletePVar(playerid, "VodolazGoToSklad");
        SetHealth(playerid,100);
	}
	if(GetPVarInt(playerid,"objectcop"))
	{
		DestroyObject(GetPVarInt(playerid,"objectcop"));
		DestroyDynamicArea(Ships[playerid]);
	}
	drawcapt[playerid] = false;
	SetPlayerSkillss(playerid);
 	if(PlayerUseMask[playerid])
	{
        PlayerUseMask[playerid] = false;
	}
	if(UseGPS[playerid])
	{
    	DisablePlayerRaceCheckpoint(playerid);
    	UseGPS[playerid] = false;
	}
	if(GetPVarInt(playerid, "PriceBus") > 0)
	{
		PI[playerid][pPayCheck] += GetPVarInt(playerid, "BusMoney");
		if(IsValidDynamic3DTextLabel(BusText3D[playerid])) DestroyDynamic3DTextLabel(BusText3D[playerid]);
		SetVehicleToRespawn(PI[playerid][BusCarID]);
	}
	if(GetPVarInt(playerid, "PriceTaxi") > 0)
	{
		PI[playerid][pPayCheck] += GetPVarInt(playerid, "TaxiMoney");
		if(IsValidDynamic3DTextLabel(TaxiText3D[playerid])) DestroyDynamic3DTextLabel(TaxiText3D[playerid]);
		SetVehicleToRespawn(PI[playerid][TaxiCarID]);
	}
	if(PI[playerid][MechanicCarID] != INVALID_VEHICLE_ID) SetVehicleToRespawn(PI[playerid][MechanicCarID]);

	foreach(new i: Player)
	{
        if(GetPlayerState(i) == PLAYER_STATE_SPECTATING && PI[i][Spectating][0] == playerid)
        {
            GameTextForPlayer(i, "PLAYER DISCONNECTED", 3000, 3);
            callcmd::specoff(i, "");
	    }
	}
//_________________| Скрытие текстдравов после выхода игрока |__________________
	for(new i = 0; i < 6; i++) TextDrawHideForPlayer(playerid, Button[i]);

    for(new i = 0; i < 10; i++)
	{
		PlayerTextDrawDestroy(playerid, SecurityCode[playerid][i]);
		SecurityCode[playerid][i] = PlayerText:INVALID_TEXT_DRAW;
	}
	for(new i = 0; i < 6; i++)
	{
		PlayerTextDrawDestroy(playerid, StatusWork[playerid][i]);
		StatusWork[playerid][i] = PlayerText:INVALID_TEXT_DRAW;
	}
	for(new i = 0; i < 1; i++)
	{
		PlayerTextDrawDestroy(playerid, GreenZoneText[playerid][i]);
		GreenZoneText[playerid][i] = PlayerText:INVALID_TEXT_DRAW;
	}
	for(new i = 0; i < 11; i++)
	{
	    PlayerTextDrawDestroy(playerid, CaptureTD[playerid][i]);
		CaptureTD[playerid][i] = PlayerText:INVALID_TEXT_DRAW;
	}
	CancelSelectTextDraw(playerid);
//________________________| Сохранение оружия у игрока при выходе |_____________
	new gun_string[56], ammo_string[56], string[256];
	format(gun_string, 56, "%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d",
	PI[playerid][pGun][0], PI[playerid][pGun][1], PI[playerid][pGun][2], PI[playerid][pGun][3],
	PI[playerid][pGun][4], PI[playerid][pGun][5], PI[playerid][pGun][6], PI[playerid][pGun][7],
	PI[playerid][pGun][8], PI[playerid][pGun][9], PI[playerid][pGun][10], PI[playerid][pGun][11],
	PI[playerid][pGun][12]);
	
	format(ammo_string, 56, "%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d",
	PI[playerid][pAmmo][0], PI[playerid][pAmmo][1], PI[playerid][pAmmo][2], PI[playerid][pAmmo][3],
	PI[playerid][pAmmo][4], PI[playerid][pAmmo][5], PI[playerid][pAmmo][6], PI[playerid][pAmmo][7],
	PI[playerid][pAmmo][8], PI[playerid][pAmmo][9], PI[playerid][pAmmo][10], PI[playerid][pAmmo][11],
	PI[playerid][pAmmo][12]);
	
	format(string, sizeof(string), "UPDATE `accounts` SET `guns` = '%s',`ammos` = '%s' WHERE `id` = '%i'", gun_string, ammo_string, PI[playerid][pID]);
	mysql_tquery(dbHandle, string, "", "");

	SaveAccount(playerid);
	SetPlayerDataToDefault(playerid);
	return	1;
}
//==============================================================================
stock PreloadAnimLibs(playerid)
{
    static animlibs[130][] = {
    "AIRPORT", "ATTRACTORS", "BAR", "BASEBALL", "BD_FIRE", "BEACH", "BENCHPRESS", "BF_INJECTION",
    "BIKED", "BIKEH", "BIKELEAP", "BIKES", "BIKES", "BIKEV", "BIKE_DBZ", "BLOWJOBZ", "BMX", //
    "BOMBER", "BOX", "BSKTBALL", "BUDDY", "BUS", "CAMERA", "CAR", "CARRY", "CAR_CHAT", "CASINO",
    "CHAINSAW", "CHOPPA", "CLOTHES", "COACH", "COLT45", "COP_AMBIENT", "COP_DVBYZ", "CRACK",
    "CRIB", "DAM_JUMP", "DANCING", "DEALER", "DILDO", "DODGE", "DOZER", "DRIVEBYS", "FAT",
    "FIGHT_B", "FIGHT_C", "FIGHT_D", "FIGHT_E", "FINALE", "FINALE2", "FLAME", "FLOWERS", "FOOD",
    "FREEWEIGHTS", "GANGS", "GHANDS", "GHETTO_DB", "GOGGLES", "GRAFFITI", "GRAVEYARD", "GRENADE",
    "GYMNASIUM", "HAIRCUTS", "HEIST9", "INT_HOUSE", "INT_OFFICE", "INT_SHOP", "JST_BUISNESS",
    "KART", "KISSING", "KNIFE", "LAPDAN1", "LAPDAN2", "LAPDAN3", "LOWRIDER", "MD_CHASE", "MD_END",
    "MEDIC", "MISC", "MTB", "MUSCULAR", "NEVADA", "ON_LOOKERS", "OTB", "PARACHUTE", "PARK",
    "PAULNMAC", "PED", "PLAYER_DVBYS", "PLAYIDLES", "POLICE", "POOL", "POOR", "PYTHON", "QUAD",
    "QUAD_DBZ", "RAPPING", "RIFLE", "RIOT", "ROB_BANK", "ROCKET", "RUSTLER", "RYDER", "SCRATCHING",
    "SHAMAL", "SHOP", "SHOTGUN", "SILENCED", "SKATE", "SMOKING", "SNIPER", "SPRAYCAN",
    "STRIP", "SUNBATHE", "SWAT", "SWEET", "SWIM", "SWORD", "TANK", "TATTOOS", "TEC", "TRAIN",
    "TRUCK", "UZI", "VAN", "VENDING", "VORTEX", "WAYFARER", "WEAPONS", "WUZI"
    };
    for(new i = 0; i < sizeof(animlibs); i++) ApplyAnimation(playerid, animlibs[i], "null", 0.0, 0, 0, 0, 0, 0);  
    return playerid;
}
//==============================================================================
public OnPlayerSpawn(playerid)
{

	printf("OnPlayerPawn(%d)", playerid);
    // StopAudioStreamForPlayer(playerid);
	if(GetPVarInt(playerid, "player_in_enter") == 1)
	{
		SetPlayerVirtualWorld(playerid, playerid + 1);
		TogglePlayerControllable(playerid, 0);

		SetPlayerCameraPos(playerid, 334.3093, 1803.6610, 23.8056);
		SetPlayerCameraLookAt(playerid, 334.2345, 1802.6613, 23.6306);

		SetPlayerPos(playerid, 333.3021, 1794.4550, 22.2487);
		SetPlayerFacingAngle(playerid, 0.0);

		return 0;
	}

	
	/*if(PlayerLogged[playerid] != true)
	{
	    SendMess(playerid, MSG_PLAYER_NEED_TO_LOGGED);
		return AC_KICK(playerid,  "NO SPAWN (1)", 7);
	}*/

	if(PlayerLogged[playerid] == false)
	{
	    SendClientMessage(playerid, COLOR_RED, "{ffffff}Сервер закрыл соединение! Для выхода из игры введите: /q(/quit)");
		return SKick(playerid, 2);
	}
	PlayerSpawned[playerid] = false;
	if(PI[playerid][pCash])
	{
		ResetPlayerMoney(playerid);
		ex_GiveMoney(playerid, PI[playerid][pCash]);
	}
	if(UseWork[playerid])
	{
		UseWork[playerid] = 0;
		for(new i = 0; i != 6; i++) PlayerTextDrawHide(playerid, StatusWork[playerid][i]);
	}
	// TextDrawShowForPlayer(playerid, Datum);
	// TextDrawShowForPlayer(playerid, Vrijeme);
	
    TogglePlayerControllable(playerid, true);
    SetHealth(playerid, 100);
    SetHunger(playerid, PI[playerid][pHunger]);
 	DisablePlayerCheckpoint(playerid);
	SetPlayerVirtualWorld(playerid, 0);
	SetPlayerScore(playerid, PI[playerid][pLevel]);
	if(PI[playerid][pFightStyle]) SetPlayerFightingStyle(playerid, PI[playerid][pFightStyle]);
	SetPlayerFightingStyle (playerid, FIGHT_STYLE_BOXING);
	if(PI[playerid][pWanted]) SetPlayerWantedLevel(playerid, PI[playerid][pWanted]);
	PlayerPlaySound(playerid, 1184, 0.0, 0.0, 0.0);
	SetPVarInt(playerid, "K_Times", 0);
    SetPVarInt(playerid, "AC_Protection", 1);
    SetPVarInt(playerid,"pm",gettime()+5);
    SetPlayerSkillss(playerid);
	if(GetPVarInt(playerid, "Connected"))
	{
		for(new i = 0; i < 13; i++)
		{
			if(!PI[playerid][pGun][i] || !PI[playerid][pAmmo][i]) continue;
			GivePlayerWeaponAC(playerid, PI[playerid][pGun][i], PI[playerid][pAmmo][i]);
		}
		new gun_string[56], ammo_string[56], string[256];
		format(gun_string, 56, "0,0,0,0,0,0,0,0,0,0,0,0,0");
		format(ammo_string, 56, "0,0,0,0,0,0,0,0,0,0,0,0,0");
		format(string, sizeof(string), "UPDATE `accounts` SET `guns` = '%s', `ammos` = '%s' WHERE `id` = '%i'", gun_string, ammo_string, PI[playerid][pID]);
		mysql_tquery(dbHandle, string, "", "");
		DeletePVar(playerid, "Connected");
		PreloadAnimLibs(playerid);
	}
	if(PI[playerid][pMember]) SetPlayerSkin(playerid, PI[playerid][pMemberSkin]);
	else SetPlayerSkin(playerid, PI[playerid][pModel]);
	if(PI[playerid][Spectating][0] != INVALID_PLAYER_ID)
	{
	    SetPlayerPos(playerid, GetPVarFloat(playerid, "SpecX"), GetPVarFloat(playerid, "SpecY"), GetPVarFloat(playerid, "SpecZ"));
	    SetPlayerFacingAngle(playerid, GetPVarFloat(playerid, "SpecA"));
		SetPlayerVirtualWorld(playerid, GetPVarInt(playerid, "SpecVw"));
		SetPlayerInterior(playerid, GetPVarInt(playerid, "SpecInt"));
		DeletePVar(playerid, "SpecInt");
		DeletePVar(playerid, "SpecVw");
		DeletePVar(playerid, "SpecX");
		DeletePVar(playerid, "SpecY");
		DeletePVar(playerid, "SpecZ");
		DeletePVar(playerid, "SpecA");
		PI[playerid][Spectating][0] = INVALID_PLAYER_ID;
		PI[playerid][Spectating][1] = INVALID_PLAYER_ID;
		SetPlayerScore(playerid, PI[playerid][pLevel]);
		if(PI[playerid][pWanted]) SetPlayerWantedLevel(playerid, PI[playerid][pWanted]);
		if(PI[playerid][pMember]) SetPlayerSkin(playerid, PI[playerid][pMemberSkin]);
		else if(Oldskin2[playerid] > 0) SetPlayerSkin(playerid, Oldskin2[playerid]);
		else SetPlayerSkin(playerid, PI[playerid][pModel]);
		return 1;
	}
	if(PlayerFlying[playerid] == true) {
		PlayerFlying[playerid] = false;
		SetPlayerPos(playerid, FlyPlayer[playerid][fly_x], FlyPlayer[playerid][fly_y], FlyPlayer[playerid][fly_z]);
		return 1;
	}
	else if(ClothesRound[playerid] == 1)
	{
	    new str[10];
		SetPlayerVirtualWorld(playerid,1);
	    SetPlayerInterior(playerid,1);
	    SetPlayerPos(playerid, -656.7693,-1010.5748,1946.8563);
	    SetPlayerFacingAngle(playerid, 90.0000);
		SetPlayerCameraPos(playerid, -661.3368, -1012.3445, 1947.4114);
		SetPlayerCameraLookAt(playerid, -660.4086, -1011.9763, 1947.3643);
		FreezePlayer(playerid, 2000);
		//ApplyAnimation(playerid,"DEALER","DEALER_IDLE",4.1,1,1,1,1,1);
        if(PI[playerid][pSex] == 1) format(str, 10, "ID: %d", JoinRegM[SelectCharPlace[playerid]]);
        else format(str, 10, "id:_%d", JoinRegF[SelectCharPlace[playerid]]);
        for(new i; i < 4; i++) TextDrawShowForPlayer(playerid, SKIN_SELECT[i]);
		SelectTextDraw(playerid, 00);
		SetHealth(playerid, 100.0);
		if(PI[playerid][pSex] == 1) SetPlayerSkin(playerid, JoinRegM[SelectCharPlace[playerid]]), ChosenSkin[playerid] = JoinRegM[0];
		else SetPlayerSkin(playerid, JoinRegF[SelectCharPlace[playerid]]), ChosenSkin[playerid] = JoinRegF[0];
		//TogglePlayerControllable(playerid, 0);
	}
	else if(ClothesRound[playerid] == 2)
	{
		SendClientMessage(playerid, COLOR_BLUE, "Выберите себе подходящую одежду, после выбора нажмите 'Далее', для отмены нажмите 'Выход'");
		SendClientMessage(playerid, COLOR_BLUE, "Чтобы просмотреть одежду, используйте стрелочки на экране!");

		new WM = 2 +random(100);
		SetPlayerVirtualWorld(playerid,WM);

	    SetPlayerInterior(playerid,9);
	    SetPlayerPos(playerid,-1774.4742,1768.3673,2377.4409);
	    SetPlayerFacingAngle(playerid, 70.00);
		SetPlayerCameraPos(playerid, -1778.4558,1768.7147,2377.4160);
		SetPlayerCameraLookAt(playerid, -1774.4904,1768.7726,2377.4409);
		ApplyAnimation(playerid,"DEALER","DEALER_IDLE",4.1,1,1,1,1,1);
		TogglePlayerControllable(playerid, 0);
		for(new i; i < 4; i++) TextDrawShowForPlayer(playerid, SKIN_BUY[i]);
		SelectTextDraw(playerid, 00);
		STRING_GLOBAL[0] = EOS;
		if(PI[playerid][pSex] == 1)
		{
			SelectCharPlace[playerid] = 0;
			SetPlayerSkin(playerid, JoinShopM[SelectCharPlace[playerid]][0]);
			format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "~w~ЦЕНА: ~g~%iр", JoinShopM[SelectCharPlace[playerid]][1]);
		}
		else
		{
			SelectCharPlace[playerid] = 0;
			SetPlayerSkin(playerid, JoinShopF[SelectCharPlace[playerid]][0]);
			format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "~w~ЦЕНА: ~g~%iр", JoinShopF[SelectCharPlace[playerid]][1]);
		}
  		GameTextForPlayer(playerid, STRING_GLOBAL, 5000, 1);
	}
 	else if(PI[playerid][pSpawnChange] == 0)
	{
		// if(PI[playerid][pLevel] > 1) SetPlayerPos(playerid, 2507.3115,-2119.3401,23.4558);
		// else if(PI[playerid][pLevel] > 10) SetPlayerPos(playerid, 2507.3115,-2119.3401,43.4558);
		FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid, 0);
		SetPlayerPos(playerid, 2507.3115,-2119.3401,23.4558); // Добавить координаты
		SetPlayerFacingAngle(playerid, 190.0000);
		SetCameraBehindPlayer(playerid);
      	// if(!PI[playerid][pMailConfirmed])
		// {
		// 	/*SendClientMessage(playerid, 0xFFAA44FF, "Вы не подтвердили свой E-Mail-адрес почты!");
		// 	SendClientMessage(playerid, 0xFFAA44FF, "Если Вы забудете пароль от аккаунта, то с легкостью сможете восстановить его при помощи E-Mail-адреса");
		// 	SendClientMessage(playerid, 0xFFAA44FF, "/menu > 3. Защита аккаунта > 3. Привязать E-Mail");*/
		// 	ShowPlayerDialog
		// 	(
		// 		playerid, DIALOG_CONFIRMATION_OF_MAIL, DIALOG_STYLE_MSGBOX,
		// 		"{FFCC00}Оповещение!",
		// 		"{FFFFFF}Чтобы защитить свой аккаунт Вам нужно привязать свой E-Mail адрес\n
		// 		Теперь привязка осуществляется только на сайте: {FFCC00}"PROJECT_SITE"{FFFFFF}\n\n
		// 		Войдите в свой аккаунт на сайте с таким же ником и паролем,\n
		// 		как на сервере и привяжите E-Mail адрес в настройках\n\n\n
		// 		Если Вы не привяжите E-Mail (электронную почту), то {cc2323}Вы не сможете\n
		// 		восстановить аккаунт{FFFFFF} и доказать, что именно Вы его владелец",
		// 		"Закрыть", ""
		// 	);
		// }
	}
//==============================================================================
	else if(PI[playerid][pMember] >= 1 && PI[playerid][pSpawnChange] == 4 || PI[playerid][pMember] == 0)
	{
		SetPlayerPos(playerid, 1933.9478,2086.0088,16.4534);
		SetPlayerFacingAngle(playerid, 90.0000);
		SetCameraBehindPlayer(playerid);
		SetPlayerInterior(playerid, 0);
		SetPlayerVirtualWorld(playerid, 0);
	}
	else if(PI[playerid][pMember] >= 1 && PI[playerid][pSpawnChange] == 5 || PI[playerid][pMember] == 0)
	{
		SetPlayerPos(playerid, 458.1387,1557.5548,12.0170);
		SetPlayerFacingAngle(playerid, 0.0000);
		SetCameraBehindPlayer(playerid);
		SetPlayerInterior(playerid, 0);
		SetPlayerVirtualWorld(playerid, 0);
	}
	else if(PI[playerid][pMember] >= 1 && PI[playerid][pSpawnChange] == 6 || PI[playerid][pMember] == 0)
	{
	    SetPlayerPos(playerid, 2507.3115,-2119.3401,23.4558);
		SetPlayerFacingAngle(playerid, 180.0000);
		SetCameraBehindPlayer(playerid);
		SetPlayerInterior(playerid, 0);
		SetPlayerVirtualWorld(playerid, 0);
	}
	else if(PI[playerid][P_ENTRANCE] != -1 && PI[playerid][P_ROOM] != -1 && PI[playerid][pSpawnChange] == 4)
	{
	    SetPlayerPosInRoom(playerid, PI[playerid][P_ENTRANCE], PI[playerid][P_ROOM]);
	}
	else if(PlayerDied[playerid] == true)
	{
		switch(random(4))
		{
		    case 0:
			{
		        FreezePlayer(playerid, 4000);
				SetPlayerPos(playerid, -1527.5936,1330.3279,1524.4226);
				SetPlayerFacingAngle(playerid,0.0000);
				SetCameraBehindPlayer(playerid);
				SetPlayerInterior(playerid, 1);
				SetPlayerVirtualWorld(playerid, 0);
				SendClientMessage(playerid, COLOR_WHITE, "Вы получили серьезную травму и потеряли сознание. Сейчас Вы в больнице, Вы потеряли немного денег и проходите восстановительный курс");
				SendClientMessage(playerid, COLOR_LIME, "Займите больничную койку, чтобы вылечиться гораздо быстрее");
			}
		    case 1:
			{
		        FreezePlayer(playerid, 4000);
				SetPlayerPos(playerid, -1511.9999,1330.0604,1523.6802);
				SetPlayerFacingAngle(playerid,0.0000);
				SetCameraBehindPlayer(playerid);
				SetPlayerInterior(playerid, 1);
				SetPlayerVirtualWorld(playerid, 0);
				SendClientMessage(playerid, COLOR_WHITE, "Вы получили серьезную травму и потеряли сознание. Сейчас Вы в больнице, Вы потеряли немного денег и проходите восстановительный курс");
				SendClientMessage(playerid, COLOR_LIME, "Займите больничную койку, чтобы вылечиться гораздо быстрее");
			}
		    case 2:
			{
		        FreezePlayer(playerid, 4000);
				SetPlayerPos(playerid, -1529.2828,1320.0295,1523.6802);
				SetPlayerFacingAngle(playerid,360.0000);
				SetCameraBehindPlayer(playerid);
				SetPlayerInterior(playerid, 1);
				SetPlayerVirtualWorld(playerid, 0);
				SendClientMessage(playerid, COLOR_WHITE, "Вы получили серьезную травму и потеряли сознание. Сейчас Вы в больнице, Вы потеряли немного денег и проходите восстановительный курс");
				SendClientMessage(playerid, COLOR_LIME, "Займите больничную койку, чтобы вылечиться гораздо быстрее");
			}
   		    case 3:
			{
		        FreezePlayer(playerid, 4000);
				SetPlayerPos(playerid, -1512.9465,1319.9709,1523.6802); 
				SetPlayerFacingAngle(playerid,0.0000);
				SetCameraBehindPlayer(playerid);
				SetPlayerInterior(playerid, 1);
				SetPlayerVirtualWorld(playerid, 0);
				SendClientMessage(playerid, COLOR_WHITE, "Вы получили серьезную травму и потеряли сознание. Сейчас Вы в больнице, Вы потеряли немного денег и проходите восстановительный курс");
				SendClientMessage(playerid, COLOR_LIME, "Займите больничную койку, чтобы вылечиться гораздо быстрее");
			}
		}
		SetPlayerHealth(playerid,10);
		PI[playerid][pHeal] = 10;
  	    SetPVarInt(playerid, "lechenie", 1);
        HospitalHealth(playerid);
	}
    else if(GetPlayerHouse(playerid) && PI[playerid][pSpawnChange] == 1)
	{
		new i = GetPVarInt(playerid, "PlayerHouse");
		FreezePlayer(playerid, 2000);
		SetPlayerPos(playerid, HouseInfo[i][hExitx],HouseInfo[i][hExity], HouseInfo[i][hExitz]);
		SetPlayerInterior(playerid, 10);
		SetPlayerVirtualWorld(playerid, i);
	}
    else if(PI[playerid][pSpawnChange] == 3)
	{
		if(PI[playerid][POS_X] == 0.0 || PI[playerid][POS_Y] == 0.0 || PI[playerid][POS_Z] == 0.0) return SendClientMessage(playerid, COLOR_RED, "При загрузке координат произошла ошибка");
		FreezePlayer(playerid, 2000);
		SetPlayerPos(playerid, PI[playerid][POS_X], PI[playerid][POS_Y], PI[playerid][POS_Z]);
		SetPlayerFacingAngle(playerid, PI[playerid][POS_A]);
		SetPlayerInterior(playerid, PI[playerid][POS_INT]);
		SetPlayerVirtualWorld(playerid, PI[playerid][POS_WORLD]);
	}
	/*else if(GetPlayerPorchHouse(playerid) && PI[playerid][pSpawnChange] == 4)
	{
		new i = GetPlayerPorchHouse(playerid);
		FreezePlayer(playerid, 2000);
		SetPlayerPos(playerid, -690.9328,-457.4834,3147.0801);
		SetPlayerVirtualWorld(playerid, i);
		SetPlayerInterior(playerid, 10);
		SetPlayerFacingAngle(playerid, 360.0000);
		SetCameraBehindPlayer(playerid);
		SetPVarInt(playerid, "EnterPlayerPorch",floatround(GetPlayerPorchHouse(playerid) / 8, floatround_floor) + 1);
		SetPVarInt(playerid, "EnterPlayerPorchHouse",GetPlayerPorchHouse(playerid));
	}*/
	/*else if(PI[playerid][pFamily] != 0 && PI[playerid][pSpawnChange] == 4)
	{
	    if(family_info[PI[playerid][pFamily]][f_spawn_virt] != 0)
	    {
			SetPVarInt(playerid, "PlayerHouse", family_info[PI[playerid][pFamily]][f_spawn_virt]);
		}
		SetPlayerPos(playerid, family_info[PI[playerid][pFamily]][f_spawn][0], family_info[PI[playerid][pFamily]][f_spawn][1], family_info[PI[playerid][pFamily]][f_spawn][2]);
		SetPlayerFacingAngle(playerid, family_info[PI[playerid][pFamily]][f_spawn][3]);
		SetCameraBehindPlayer(playerid);
		SetPlayerInterior(playerid, family_info[PI[playerid][pFamily]][f_spawn_int]);
		SetPlayerVirtualWorld(playerid, family_info[PI[playerid][pFamily]][f_spawn_virt]);
	}*/
	else if(PI[playerid][pMember] == TEAM_AO && PI[playerid][pSpawnChange] == 2)
	{
        FreezePlayer(playerid, 2000);
		SetPlayerPos(playerid, -1417.0870,-1137.7162,1521.9399);
		SetPlayerFacingAngle(playerid, 90.0000);
		SetCameraBehindPlayer(playerid);
		SetPlayerInterior(playerid, 1);
		SetPlayerVirtualWorld(playerid, 0);
	}
	/*else if(PI[playerid][pMember] == TEAM_SFMAYOR && PI[playerid][pSpawnChange] == 2)
	{
        FreezePlayer(playerid, 2000);
		SetPlayerPos(playerid, 355.0304,184.7031,1008.3793);
		SetPlayerFacingAngle(playerid, 180.8081);
		SetCameraBehindPlayer(playerid);
		SetPlayerInterior(playerid, 3);
		SetPlayerVirtualWorld(playerid, 2);
	}
	else if(PI[playerid][pMember] == TEAM_LVMAYOR && PI[playerid][pSpawnChange] == 2)
	{
        FreezePlayer(playerid, 2000);
		SetPlayerPos(playerid, 355.0304,184.7031,1008.3793);
		SetPlayerFacingAngle(playerid, 180.8081);
		SetCameraBehindPlayer(playerid);
		FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid, 3);
		SetPlayerVirtualWorld(playerid, 3);
	}*/
	else if(PI[playerid][pMember] == TEAM_PPS && PI[playerid][pSpawnChange] == 2)
	{
        FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid, 0);
		SetPlayerPos(playerid,1933.9478,2086.0088,16.4534);
		SetPlayerFacingAngle(playerid, 90.0000);
	    SetCameraBehindPlayer(playerid);
	    FreezePlayer(playerid, 2000);
	    SetPlayerVirtualWorld(playerid, 0);
	}
	else if(PI[playerid][pMember] == TEAM_FSIN && PI[playerid][pSpawnChange] == 2)
	{
        FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid, 0);
		SetPlayerPos(playerid,178.8760,453.3581,1583.6801);
		SetPlayerFacingAngle(playerid, 270.0000);
	    SetCameraBehindPlayer(playerid);
	    SetPlayerVirtualWorld(playerid, 0);
	    FreezePlayer(playerid, 2000);
	}
	else if(PI[playerid][pMember] == TEAM_DPS && PI[playerid][pSpawnChange] == 2)
	{
        FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid, 0);
		SetPlayerPos(playerid,-98.8590,751.0871,1620.9200);
		SetPlayerFacingAngle(playerid, 360.0000);
	    SetCameraBehindPlayer(playerid);
	    SetPlayerVirtualWorld(playerid, 0);
	}
	else if(PI[playerid][pMember] == TEAM_MZY && PI[playerid][pSpawnChange] == 2)
	{
        FreezePlayer(playerid, 2000);
		SetPlayerPos(playerid, -1515.5394,1362.9166,1524.0444);
		SetPlayerFacingAngle(playerid, 270.0000);
		SetCameraBehindPlayer(playerid);
		FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid, 0);
		SetPlayerVirtualWorld(playerid, 0);
		InHospital[playerid] = true;
	}
	else if(PI[playerid][pMember] == TEAM_VDV && PI[playerid][pSpawnChange] == 2)
	{
        FreezePlayer(playerid, 2000);
	    SetPlayerPos(playerid, 842.5565,250.6479,1014.2498);
		SetPlayerFacingAngle(playerid, 90.0);
		SetCameraBehindPlayer(playerid);
		FreezePlayer(playerid, 2000);
	    SetPlayerInterior(playerid, 0);
	}
	else if(PI[playerid][pMember] == TEAM_SPARTAK && PI[playerid][pSpawnChange] == 2)
	{
        FreezePlayer(playerid, 2000);
		SetPlayerPos(playerid, 2092.7153,-1607.6155,2056.6399);
		SetPlayerFacingAngle(playerid, 90.0000);
		SetCameraBehindPlayer(playerid);
		SetPlayerVirtualWorld(playerid, 0);
		FreezePlayer(playerid, 2000);
	}
	else if(PI[playerid][pMember] == TEAM_CSKA && PI[playerid][pSpawnChange] == 2)
	{
        FreezePlayer(playerid, 2000);
		SetPlayerPos(playerid, 2092.7153,-1607.6155,2056.6399);
		SetPlayerFacingAngle(playerid, 90.0000);
		SetPlayerVirtualWorld(playerid, 0);
		SetCameraBehindPlayer(playerid);
		FreezePlayer(playerid, 2000);
	}
	else if(PI[playerid][pMember] == TEAM_DINAMO && PI[playerid][pSpawnChange] == 2)
	{
        FreezePlayer(playerid, 2000);
		SetPlayerPos(playerid, 2092.7153,-1607.6155,2056.6399);
		SetPlayerFacingAngle(playerid, 90.0000);
		SetPlayerVirtualWorld(playerid, 0);
		SetCameraBehindPlayer(playerid);
		FreezePlayer(playerid, 2000);
	}
	else if(PI[playerid][pMember] == TEAM_ZENIT && PI[playerid][pSpawnChange] == 2)
	{
        FreezePlayer(playerid, 2000);
		SetPlayerPos(playerid, 92.0740,1097.6262,1915.2300);
		SetPlayerFacingAngle(playerid, 360.0000);
		SetPlayerVirtualWorld(playerid, 0);
		SetCameraBehindPlayer(playerid);
		FreezePlayer(playerid, 2000);
	}
	else if(PI[playerid][pMember] == TEAM_SMI && PI[playerid][pSpawnChange] == 2)
	{
		SetPlayerPos(playerid, 1954.5054,2912.9463,1672.9299);
		SetPlayerFacingAngle(playerid, 270.000);
		SetCameraBehindPlayer(playerid);
		FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid, 0);
		SetPlayerVirtualWorld(playerid, 0);
	}
 	else if(PI[playerid][pMember] == TEAM_MZA && PI[playerid][pSpawnChange] == 2)
	{
        FreezePlayer(playerid, 2000);
		SetPlayerPos(playerid, 1954.5054,2912.9463,1672.9299);
		SetPlayerFacingAngle(playerid, 270.000);
		SetCameraBehindPlayer(playerid);
		FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid, 1);
		SetPlayerVirtualWorld(playerid, 0);
	}	
	if(!PI[playerid][pMember] && PI[playerid][pDeath] == 0){
		switch(PI[playerid][pLevel]){
			case 0..5:{
				    FreezePlayer(playerid, 2000);
					SetPlayerInterior(playerid, 0);
					SetPlayerPos(playerid, 2507.3115,-2119.3401,23.4558); // Добавить координаты
					SetPlayerFacingAngle(playerid, 190.0000);
					SetCameraBehindPlayer(playerid);
			}
			case 6..100:{
				    FreezePlayer(playerid, 2000);
					SetPlayerInterior(playerid, 0);
					SetPlayerPos(playerid, 2507.3115,-2119.3401,23.4558); // Добавить координаты
					SetPlayerFacingAngle(playerid, 190.0000);
					SetCameraBehindPlayer(playerid);
			}
			default: {
					FreezePlayer(playerid, 2000);
					SetPlayerInterior(playerid, 0);
					SetPlayerPos(playerid, 2507.3115,-2119.3401,23.4558); // Добавить координаты
					SetPlayerFacingAngle(playerid, 190.0000);
					SetCameraBehindPlayer(playerid);
			}
		}
	}
	if(PI[playerid][pDeath] != 0){
		SetPlayerPos(playerid, 2507.3115,-2119.3401,23.4558);
		SendClientMessage(playerid, COLOR_DBLUE, "Больница города доставила Вас на вокзал.");
		PI[playerid][pDeath] = 0;
	}
	else if(PI[playerid][pJail] == 1)
	{
        FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid, 0);
		SetPlayerPos(playerid, 449.9814,1320.2548,1723.5298);
		SetPlayerFacingAngle(playerid, 360.0000);
		SetCameraBehindPlayer(playerid);
		FreezePlayer(playerid, 2000);
	}
	else if(PI[playerid][pJail] == 2)
	{
        FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid, 0);
		SetPlayerPos(playerid, 450.0131,1332.1290,1723.5298);
		SetPlayerFacingAngle(playerid, 180.0000);
		SetCameraBehindPlayer(playerid);
		FreezePlayer(playerid, 2000);
	}
	else if(PI[playerid][pJail] == 3)
	{
        FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid, 0);
		SetPlayerPos(playerid, -1157.8511,352.4882,1767.3456);
		SetPlayerFacingAngle(playerid, 190.0000);
		SetCameraBehindPlayer(playerid);
		FreezePlayer(playerid, 2000);
	}
 	else if(GetPVarInt(playerid, "paintball") == 2 && paintt[1] == 2)
    {

		PI[playerid][pHeal] = 100;
		SetPlayerHealth(playerid, PI[playerid][pHeal]);

        GivePlayerWeaponAC(playerid, PaintGun[random(sizeof(PaintGun))], 600);

        SpawnPlayer(playerid);
        SetPlayerPos(playerid, 2234.7456,1391.6573,11.5700);
    }

	else {
		FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid, 0);
		SetPlayerPos(playerid, 2507.3115,-2119.3401,23.4558); // Добавить координаты
		SetPlayerFacingAngle(playerid, 190.0000);
		SetCameraBehindPlayer(playerid);
	}

    //SetZhazhda(playerid, PI[playerid][pZhazhda]);
	PlayerSpawned[playerid] = true;
	printf("OnPlayerPawn(%d) | 222", playerid);
//	for(new i; i < sizeof gps_support_td; i++) TextDrawShowForPlayer(playerid, gps_support_td[i]);
//	TextDrawShowForPlayer(playerid, arzp_PTD[playerid]);
	return 1;
}
public OnPlayerDeath(playerid, killerid, reason)
{
	if(autoschool_Progress[playerid]) {
		SendErr(playerid, "Вы провалили экзамен из-за того, что были убиты.");
		AutoSchool_SetProgress(playerid, 100);
		return 1;
	}
	new string[128];
	ResetPlayerWeaponsAC(playerid);
	if(GetPVarInt(playerid, "Animation"))
	{
	    DeletePVar(playerid, "Animation");
	    TextDrawHideForPlayer(playerid, AnimDraw);
	}
	DeletePVar(playerid,"car_spawn");
	SetPlayerSpecialAction(playerid,SPECIAL_ACTION_NONE);
	PlayerSpawned[playerid] = false;
	if(IsPlayerAttachedObjectSlotUsed(playerid, 7)) RemovePlayerAttachedObject(playerid, 7);
	SetPVarInt(playerid,"K_Times",GetPVarInt(playerid,"K_Times") + 1);
	if(UseGPS[playerid])
	{
    	DisablePlayerRaceCheckpoint(playerid);
    	UseGPS[playerid] = false;
	}
	if(pCuff[playerid][pCuffee] == playerid)
	{
		new id = playerid;
		new cuffer = pCuff[id][pCuffer];
		SetPlayerSpecialAction(id, SPECIAL_ACTION_NONE);
		RemovePlayerAttachedObject(id, 0);
		pCuff[id][pCuffer] = INVALID_PLAYER_ID;
		pCuff[id][pCuffee] = INVALID_PLAYER_ID;
		pCuff[cuffer][pCuffee] = INVALID_PLAYER_ID;
		pCuff[cuffer][pCuffer] = INVALID_PLAYER_ID;
		SendClientMessage(cuffer, COLOR_BLUE, "Арестованный умер");
	}
	// fly[playerid] = 0;
 	if(GetPVarInt(playerid,"paintball") == 2)
    {
        SetPVarInt(playerid,"paintdeaths", GetPVarInt(playerid,"paintdeaths")+1);

        if(killerid != INVALID_PLAYER_ID)
        {
            GameTextForPlayer(killerid, "~w~Kills ~g~+1", 5000, 1);

            if(playerid != killerid)
			{
			    SetPVarInt(killerid,"paintkills", GetPVarInt(killerid,"paintkills")+1);
			}
        }
    }
	PI[playerid][pDeath] = 1;
	if(INVALID_PLAYER_ID != killerid)
	{
		new bandkiller = PI[killerid][pMember];//(PI[killerid][pLeader] != 0) ? (PI[killerid][pLeader]) :
		new bandkill = PI[playerid][pMember];//(PI[playerid][pLeader] != 0) ? (PI[playerid][pLeader]) : Капты за биззы
        for(new i = 0; i < sizeof(GZInfo); i++)
        {
            if(IsPlayerInRangeOfPoint(playerid, 80, 2433.2385,-1443.0505,80.7915))
            {
				if(bandkiller != bandkill)
				{
				    if(kaptit == 2)
				    {
					    opgorexi++;
					    if(opgorexi >= 5)
					    {
							startwar = 0;
							SendFMes(15,COLOR_GREEN,"Вы завоевали новый бизнес");
							for(new h = 0; h < sizeof(BizzInfo); h++)
							{
								if(BizzInfo[h][bZahvat] == 1)
								{
									SendFMes(16,COLOR_RED,"Вы потеряли контроль над одним из своих бизнесов");
									BizzInfo[h][bMafia] = MZInfo[i][mNapad];
									switch(BizzInfo[h][bMafia])
									{
									   	case TEAM_SPARTAK: MafiaTotalBizz[0]++;
									   	case TEAM_CSKA: MafiaTotalBizz[1]--;
									   	case TEAM_DINAMO: MafiaTotalBizz[2]--;
									   	case TEAM_ZENIT: MafiaTotalBizz[3]--;
									}
									BizzInfo[h][bZahvat] = 0;
									MysqlUpdateBizzInt(h, "mafia", BizzInfo[h][bMafia]);
								}
							}
					    }
					}
				    if(kaptit == 1)
				    {
					    opgygi++;
					    if(opgygi >= 5)
					    {
							startwar = 0;
							SendFMes(16,COLOR_GREEN,"Вы завоевали новый бизнес");
							for(new h = 0; h < sizeof(BizzInfo); h++)
							{
								if(BizzInfo[h][bZahvat] == 1)
								{
									SendFMes(15,COLOR_RED,"Вы потеряли контроль над одним из своих бизнесов");
									BizzInfo[h][bMafia] = MZInfo[i][mNapad];
									switch(BizzInfo[h][bMafia])
									{
									   	case TEAM_SPARTAK: MafiaTotalBizz[0]--;
									   	case TEAM_CSKA: MafiaTotalBizz[1]++;
									   	case TEAM_DINAMO: MafiaTotalBizz[2]--;
									   	case TEAM_ZENIT: MafiaTotalBizz[3]--;
									}
									BizzInfo[h][bZahvat] = 0;
									MysqlUpdateBizzInt(h, "mafia", BizzInfo[h][bMafia]);
								}
							}
					    }
					}
     				if(kaptit == 0)
				    {
					    opgsolnce++;
					    if(opgsolnce >= 5)
					    {
							startwar = 0;
							SendFMes(16,COLOR_GREEN,"Вы завоевали новый бизнес");
							for(new h = 0; h < sizeof(BizzInfo); h++)
							{
								if(BizzInfo[h][bZahvat] == 1)
								{
									SendFMes(15,COLOR_RED,"Вы потеряли контроль над одним из своих бизнесов");
									BizzInfo[h][bMafia] = MZInfo[i][mNapad];
									switch(BizzInfo[h][bMafia])
									{
									   	case TEAM_SPARTAK: MafiaTotalBizz[0]--;
									   	case TEAM_CSKA: MafiaTotalBizz[1]--;
									   	case TEAM_DINAMO: MafiaTotalBizz[2]++;
									   	case TEAM_ZENIT: MafiaTotalBizz[3]--;
									}
									BizzInfo[h][bZahvat] = 0;
									MysqlUpdateBizzInt(h, "mafia", BizzInfo[h][bMafia]);
								}
							}
					    }
					}
				}
			}
		}
	}
 	if(PlayerUseMask[playerid])
	{
        PlayerUseMask[playerid] = false;
	}
	if(PI[playerid][pWanted] > 0)
	{
		if(killerid == INVALID_PLAYER_ID) return 1;
		if(!IsACop(killerid)) return 1;
		if(PI[killerid][pMember] == TEAM_PPS || PI[killerid][pMember] == TEAM_FSIN)
		{
			format(string, sizeof(string), "Вы посажены в КПЗ на %i секунд!", PI[playerid][pWanted]*600);
			SendClientMessage(playerid, COLOR_RED, string);
			SetPlayerInterior(playerid, 0);
			SetPlayerPos(playerid, 449.9814,1320.2548,1723.5298);
			SetPlayerFacingAngle(playerid, 360.0000);
			PI[playerid][pJail] = 1;
		}
		PI[playerid][pJailTime] = PI[playerid][pWanted] * 600;
		SetHealth(playerid, 100);
		PI[playerid][pWanted] = 0;
		SetPlayerWantedLevel(playerid, 0);
		TogglePlayerControllable(playerid, 1);
		format(string, 80, "~n~~n~~n~~n~~n~~n~~n~~n~~n~~n~~y~JAILED: ~w~%d", PI[playerid][pJailTime]);
		GameTextForPlayer(playerid, string, 3000, 3);
	}
	if(GetPVarInt(playerid, "PriceBus") > 0)
	{
		DeletePVar(playerid, "BusTime");
		DeletePVar(playerid, "TypeBus");
		DeletePVar(playerid, "PriceBus");
		DeletePVar(playerid, "BusStop");
		DeletePVar(playerid, "BusMoney");
		PI[playerid][pBusTime] = 0;
		pPressed[playerid] = 0;
		if(IsValidDynamic3DTextLabel(BusText3D[playerid])) DestroyDynamic3DTextLabel(BusText3D[playerid]);
		SetVehicleToRespawn(PI[playerid][BusCarID]);
		PI[playerid][BusCarID] = INVALID_VEHICLE_ID;
		DisablePlayerRaceCheckpoint(playerid);
	}
	if(!PI[playerid][pJailTime])
	{
		PlayerDied[playerid] = true;
	}
	SetHunger(playerid, 40);
	DisablePlayerCheckpoint(playerid);
	if(IsPlayerAttachedObjectSlotUsed(playerid, 3)) RemovePlayerAttachedObject(playerid,3);
	if(UseWork[playerid] == 2)
	{
	    UseWork[playerid] = 0;
	    DeletePVar(playerid, "OldLessSkin");
		DeletePVar(playerid, "LessProgress");
		DeletePVar(playerid, "LessStatus");
		if(IsPlayerAttachedObjectSlotUsed(playerid, 3)) RemovePlayerAttachedObject(playerid, 3);
		if(IsPlayerAttachedObjectSlotUsed(playerid, 4)) RemovePlayerAttachedObject(playerid, 4);
	}
	for(new i; i < 6; i++) PlayerTextDrawHide(playerid, StatusWork[playerid][i]);
	new callerid = Mobile[playerid];
	if(callerid != -1)
	{
		SendClientMessage(callerid,  COLOR_RED, "Связь оборвалась");
		CellTime[callerid] = -1;
		Mobile[callerid] = -1;
		Mobile[playerid] = -1;
		CellTime[playerid] = -1;
		DeletePVar(playerid, "CallTime");
		DeletePVar(callerid, "CallTime");
	}
	if(InShop[playerid] > 0 || GetPVarInt(playerid, "InShop") > 0)
	{
	    if(PI[playerid][SalonCarID] != INVALID_VEHICLE_ID) DestroyVehicle(PI[playerid][SalonCarID]);
		DeletePVar(playerid, "InShop");
		InShop[playerid] = 0;
		for(new i; i < 21; i++)
		{
		    PlayerTextDrawHide(playerid, choicecars[playerid][i]);
		}
	}
	if(killerid != INVALID_PLAYER_ID)
	{
		if(PI[playerid][pJail] == 0)
		{
			{
				if(PI[killerid][pWanted] >= 6) return 1;
				PI[killerid][pWanted] += 2;
				if(PI[killerid][pWanted] >= 6) PI[killerid][pWanted] = 6;
				PI[killerid][pWantedTime] = 1800 + random(300);
				SetPlayerWantedLevel(killerid,PI[killerid][pWanted]);
				SetPlayerCriminal(killerid, "Неизвестный", "Убийство человека");
			}
		}
	}
	new textalonso[70];
	if(killerid != INVALID_PLAYER_ID)
	{
		format(textalonso, 70, "[K] %s [%d] убил игрока %s [%d] (%s)", PI[killerid][pName], killerid, PI[playerid][pName], playerid, WeaponNames[reason]);
		for(new i = 0; i < MAX_PLAYERS; i++)
		{
			if(killused[i] == 1) { SendClientMessage(i, COLOR_BLUE, textalonso); }
		}
	}
	/*if(Ether[playerid] == true)
	{
		new CB[16];
		Ether[playerid] = false;
		TimeConverter(GetPVarInt(playerid,"InEther"),CB);
		if(EtherSms[PI[playerid][pNews]-1] == true)
		{
			format(string, 90, "[F] %s выключил прием СМС", GetName(playerid));
			SendFMes(PI[playerid][pMember], COLOR_LIGHTRED, string);
		}
		if(EtherCall[PI[playerid][pNews]-1] == true)
		{
			format(string, 90, "[F] %s выключил прием звонков", GetName(playerid));
			SendFMes(PI[playerid][pMember], COLOR_LIGHTRED, string);
		}
		format(string, 90, "[F] %s вышел из прямого эфира [Время в эфире: %s, звонков: %i, СМС: %i]",GetName(playerid), CB, CallNews[PI[playerid][pNews]-1],SmsNews[PI[playerid][pNews]-1]);
		SendFMes(PI[playerid][pMember], COLOR_LIGHTBLUE, string);
		EtherSms[PI[playerid][pNews]-1] = false;
		EtherCall[PI[playerid][pNews]-1] = false;
		SmsNews[PI[playerid][pNews]-1] = 0;
		CallNews[PI[playerid][pNews]-1] = 0;
		DeletePVar(playerid, "InEther");
		if(Mobile[playerid] != -1) MobileCrash(playerid);
	}
	if(EtherLive[playerid] == true)
	{
		EtherLive[playerid] = false;
		DeletePVar(playerid, "Etherfrac");
		SendClientMessage(playerid, COLOR_LIGHTBLUE, "Вы вышли из прямого эфира");
	}*/
	return 1;
}
public OnVehicleSpawn(vehicleid)
{
    if(vehicleid < lastveh) Fuel[vehicleid] = 50;
   	SetVehicleParamsEx(vehicleid, false, false, false, false, false, false, false);
	Engine[vehicleid] = Lights[vehicleid] = false;
	
	SetVehicleNumberPlate(vehicleid,"{FFCC00}"SERVER_NAME_UK"");
	if(AshLock[vehicleid] == true) AshLock[vehicleid] = false;
	switch(GetVehicleModel(vehicleid))
	{
	    case 462,510,509,481: Fuel[vehicleid] = 999;
	}
	if(vehicleid >= lastveh)
	{
		foreach(new i : Player)
		{
			if(PI[i][PlayerCarID] == vehicleid)
			{
				if(PI[i][cVehcoms][0] != 0) AddVehicleComponent(vehicleid, PI[i][cVehcoms][0]);
				if(PI[i][cVehcoms][1] != 0) AddVehicleComponent(vehicleid, PI[i][cVehcoms][1]);
				if(PI[i][cVehcoms][2] != 0) AddVehicleComponent(vehicleid, PI[i][cVehcoms][2]);
				if(PI[i][cVehcoms][3] != 0) AddVehicleComponent(vehicleid, PI[i][cVehcoms][3]);
				if(PI[i][cVehcoms][4] != 0) AddVehicleComponent(vehicleid, PI[i][cVehcoms][4]);
				if(PI[i][cVehcoms][5] != 0) AddVehicleComponent(vehicleid, PI[i][cVehcoms][5]);
				if(PI[i][cVehcoms][6] != 0) AddVehicleComponent(vehicleid, PI[i][cVehcoms][6]);
				if(PI[i][cVehcoms][7] != 0) AddVehicleComponent(vehicleid, PI[i][cVehcoms][7]);
				if(PI[i][cVehcoms][8] != 0) AddVehicleComponent(vehicleid, PI[i][cVehcoms][8]);
				if(PI[i][cVehcoms][9] != 0) AddVehicleComponent(vehicleid, PI[i][cVehcoms][9]);
				if(PI[i][cVehcoms][10] != 0) AddVehicleComponent(vehicleid, PI[i][cVehcoms][10]);
				if(PI[i][cVehcoms][11] != 0) AddVehicleComponent(vehicleid, PI[i][cVehcoms][11]);
				if(PI[i][cVehcoms][12] != 0) AddVehicleComponent(vehicleid, PI[i][cVehcoms][12]);
				if(PI[i][cVehcoms][13] != 0) AddVehicleComponent(vehicleid,PI[i][cVehcoms][13]);
				if(PI[i][cPaintjob] != 3) ChangeVehiclePaintjob(vehicleid, PI[i][cPaintjob]);
				
				if(PI[i][PlayerCarID][0] != INVALID_VEHICLE_ID)
				{
					if(!s_IsVehicleOccupied(i))
					{
						DestroyVehicle(PI[i][PlayerCarID][0]);
						PI[i][PlayerCarID][0] = INVALID_VEHICLE_ID;
						PI[i][PlayerCarID][0] = CreateVehicle(PI[i][cModel][0], PI[i][cX][0],PI[i][cY][0],PI[i][cZ][0],PI[i][cA][0], PI[i][cColor][0], PI[i][cColor][1], 90000);
					}
				}
				if(PI[i][PlayerCarID][0] != INVALID_VEHICLE_ID)
				{
					if(!s_IsVehicleOccupied(i))
					{
						DestroyVehicle(PI[i][PlayerCarID][1]);
						PI[i][PlayerCarID][1] = INVALID_VEHICLE_ID;
						PI[i][PlayerCarID][1] = CreateVehicle(PI[i][cModel][1], PI[i][cX][1],PI[i][cY][1],PI[i][cZ][1],PI[i][cA][1], PI[i][cColor1][0], PI[i][cColor1][1], 90000);
					}
				}
    			SetVehicleNumberPlate(vehicleid, PI[i][pNumberVehicle]);
			}
		}
	}
	return 1;
}
//==============================================================================
public OnRconLoginAttempt(ip[], password[], success)
{
	for(new i, l = MAX_PLAYERS; i != l; i++)
 	{
       	if(!strcmp(ip, PI[i][pIP], true) && PI[i][pAdmin] == ADM_TOP)
    	{
        	if(!success) SendClientMessage(i, COLOR_RED, "Неправильный пароль");
        	else SendClientMessage(i, COLOR_GREEN, "[RCON] Вы успешно авторизовались");
        	return 1;
		}
	}
	new string[64];
	format(string, sizeof(string), "banip %s", ip);
	SendRconCommand(string);
	return 1;
}
//==============================================================================
public OnVehicleDeath(vehicleid, killerid)
{
	if(vehicleid == autoschool_car[killerid]) {
		AutoSchool_SetProgress(killerid, 100);
		SendErr(killerid, "Вы уничтожили машину!");
	}

    /*new get_rent = GetArendCarID(vehicleid);
	if(get_rent != INVALID_VEHICLE_ID)
	{
	    new playerid = ArendInfo[get_rent][aPlayerID];
	    ArendInfo[get_rent][aPlayerID] = INVALID_PLAYER_ID;
	    if(IsPlayerConnected(playerid) && GetPVarInt(playerid, "arendkey") == get_rent)
	    {
	        SendClientMessage(playerid, COLOR_RED, "Транспорт, который Вы арендовали, был уничтожен. Аренда закончилась");
	        SetPVarInt(playerid, "arendkey", 0);
	    }
	}*/
	return 1;
}

public OnPlayerText(playerid, text[])
{
    if(!PlayerLogged[playerid]) return 0;
    if(strfind(text, "PizDoS Bot", true) == 0) return BanEx(playerid, "AntiDoS: PizDoS_Bot");
	if(GetPVarInt(playerid, "TextTime") > GetTickCount()) return CheatKick(playerid, 2180);
	else SetPVarInt(playerid, "TextTime", GetTickCount()+50);
	if(TextReset[playerid] > gettime() && GetStringY(OldMessage[playerid],text))
	{
	    SendClientMessage(playerid, COLOR_RED, "Не флуди!");
		return 0;
	}
	SetString(OldMessage[playerid],text);
	TextReset[playerid] = gettime()+3;
	if(emptyMessage(text)) return 0;
	if(PI[playerid][pMuted])
	{
	    SetPlayerChatBubble(playerid, "пытается что-то сказать", COLOR_REDD, 13.0, 10000);
	    SendMuteMessage(playerid, 0);
		return 0;
	}
	if(IsAIP(text))
	{
	    new string[144];
		format(string, sizeof(string), "[Подозрение на рекламу] %s [%i]: %s", GetName(playerid), playerid, text);
		SendAdminMessage(COLOR_ORANGE, string);
		format(string, sizeof(string), "[Подозрение на рекламу] %s [%s]: %s", GetName(playerid), PI[playerid][pIP], text);
		SendLog("PlayerAdvertise",string);
		ReplaceText(text);
		return 0;
	}
	if(IsIpFound(text) || CheckString(text))
	{
		PlayerGetsChatBan(playerid, text);
		return 0;
	}
	new string[128], mesid[128];
	if(EtherCalled[playerid] == true && IsANews(Mobile[playerid]))
	{
        if(Mobile[Mobile[playerid]] == playerid)
        {
			format(string, sizeof(string), "[%s] (тел.) %s %s:",
			(PI[playerid][pNews] == 1)?("СМИ"):
			(PI[playerid][pNews] == 2)?("Закрыто"):("Закрыто"), GetName(playerid), text);
			if(PI[playerid][pNews] == 1) SendNMes(1, TEAM_BLUE_COLOR, string);
			else if(PI[playerid][pNews] == 2) SendNMes(2, TEAM_BLUE_COLOR, string);
			else if(PI[playerid][pNews] == 3) SendNMes(3, TEAM_BLUE_COLOR, string);
        }
  		format(string, sizeof(string), "[Телефон] %s: %s", GetName(playerid), text);
		ProxDetector(13.0, playerid, string, COLOR_FADE1, COLOR_FADE2, COLOR_FADE3, COLOR_FADE4, COLOR_FADE5);
		return 0;
	}
	if(Mobile[playerid] != -1 && Ether[playerid] == false)
	{
		format(string, sizeof(string), "[Телефон] %s: %s", GetName(playerid), text);
		ProxDetector(13.0, playerid, string, COLOR_FADE1, COLOR_FADE2, COLOR_FADE3, COLOR_FADE4, COLOR_FADE5);
		if(Mobile[Mobile[playerid]] == playerid) SendClientMessage(Mobile[playerid], COLOR_YELLOW, string);
		return 0;
	}
	if(IsANews(playerid) && Ether[playerid] == true)
	{
		format(string, sizeof(string), "[Радиоцентр] %s %s: %s", Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], GetName(playerid), text);
		if(PI[playerid][pNews] == 1) SendNMes(1, TEAM_BLUE_COLOR, string);
		else if(PI[playerid][pNews] == 2) SendNMes(2, TEAM_BLUE_COLOR, string);
		else if(PI[playerid][pNews] == 3) SendNMes(3, TEAM_BLUE_COLOR, string);
		return 0;
	}
	if(EtherLive[playerid] == true)
	{
	    new enterfrac = GetPVarInt(playerid, "Etherfrac");
		format(string, sizeof(string), "[LIVE][%s] %s: %s", Fraction_Name[enterfrac], GetName(playerid), text);
		if(enterfrac == TEAM_SMI) SendNMes(11, TEAM_BLUE_COLOR, string);
		else if(enterfrac == TEAM_MZA) SendNMes(11, TEAM_BLUE_COLOR, string);
		//else if(enterfrac == TEAM_LVNEWS) SendNMes(11, TEAM_BLUE_COLOR, string);
		return 0;
	}
	for(new i; i < 5; i++)
	{
		if(strcmp(text, SmileInfo[i][smInput], true) == 0)
		{
			if(PI[playerid][pSex] == 1)
			{
				MeAction(playerid, SmileInfo[i][smOutput_M]);
				SetPlayerChatBubble(playerid, SmileInfo[i][smOutput_M], COLOR_PURPLE, 13.0, 10000);
			}
			else
			{
				MeAction(playerid, SmileInfo[i][smOutput_F]);
				SetPlayerChatBubble(playerid, SmileInfo[i][smOutput_F], COLOR_PURPLE, 13.0, 10000);
			}
			return 0;
		}
	}
	if(!IsPlayerInAnyVehicle(playerid))
	{
	    format(string, sizeof(string), "- %s[%d]: %s", GetName(playerid), playerid, text);
		format(mesid, sizeof(mesid), "- %s[%d]: %s", GetName(playerid), playerid, text);
		ProxDetector(13.0, playerid, string, COLOR_GRAD5, COLOR_GRAD4, COLOR_GRAD3, COLOR_GRAD2, COLOR_GRAD1);
		SetPlayerChatBubble(playerid, text, COLOR_WHITE, 13.0, 10000);
		if(!GetPVarInt(playerid, "Animation"))
		{
		    ApplyAnimation(playerid, "PED", "IDLE_CHAT", 8.1, 0, 1, 1, 1, 1);
			
			//clear_anim_text[playerid] = 2;
		}
	}
	else
	{
		format(string, sizeof(string), "- %s[%d]: %s", GetName(playerid), playerid, text);
		format(mesid, sizeof(mesid), "- %s[%d]: %s", GetName(playerid), playerid, text);
		ProxDetector(13.0, playerid, string, COLOR_GRAD5, COLOR_GRAD4, COLOR_GRAD3, COLOR_GRAD2, COLOR_GRAD1);
		SetPlayerChatBubble(playerid, text, COLOR_WHITE, 13.0, 10000);
	}

	if(strfind(text, "менеджер", true) != -1) {
		strdel(text, 0, 8);
		if( (strfind(text, "практика", true) != -1) && IsPlayerInRangeOfPoint(playerid, 3, 1068.2416,93.6623,1049.7869)) {
			if(GetPVarInt(playerid, "autoschool_Progress") != 8) {
				SendTimeMessage(playerid, "{ADFF2F}Менеджер Автошколы: {FFFFFF}Чтобы пройти практику сначала пройдите теоритический тест.", 1000, MESSAGE_TYPE);
				SendTimeMessage(playerid, "Теоритический экзамен бесплатный, однако пратику можно попробовать пройти бесплатно только один раз!", 1000*3, POND_TYPE);
				SendTimeMessage(playerid, "Скажите менеджеру: {FFCC00}менеджер, теория", 1000*5, POND_TYPE);
				ApplyActorAnimation(autoschool_Bot, "PED", "IDLE_CHAT", 4.1, 0, 1, 1, 0, 0);
			}
			else {
				AutoSchool_PutPlayerToPractice(playerid);
				SendTimeMessage(playerid, "{ADFF2F}Менеджер Автошколы: {FFFFFF}Удачи!", 500, MESSAGE_TYPE);
			}
			ApplyActorAnimation(autoschool_Bot, "PED", "IDLE_CHAT", 4.1, 0, 1, 1, 0, 0);
		}
		else if( (strfind(text, "теория", true) != -1) && IsPlayerInRangeOfPoint(playerid, 3, 1068.2416,93.6623,1049.7869)) {
			if(PI[playerid][pAutoLic] == 1) {
				SendTimeMessage(playerid, "{ADFF2F}Менеджер Автошколы: {FFFFFF}У вас уже есть водительские права!", 1000, MESSAGE_TYPE);
				ApplyActorAnimation(autoschool_Bot, "PED", "IDLE_CHAT", 4.1, 0, 1, 1, 0, 0);
			}
			else {
				SendTimeMessage(playerid, "{ADFF2F}Менеджер Автошколы: {FFFFFF}Чтобы пройти теоритический экзамен пройдите к компьютеру.", 1000, MESSAGE_TYPE);
				SendTimeMessage(playerid, "Теоритический экзамен бесплатный, однако пратику можно попробовать пройти бесплатно только один раз!", 1000*3, POND_TYPE);
				autoschool_Teoriya[playerid] = CreateDynamicPickup(19135, 19, 1066.6754, 102.9427, 1049.7478, -1, 4, playerid);	
			}
			ApplyActorAnimation(autoschool_Bot, "PED", "IDLE_CHAT", 4.1, 0, 1, 1, 0, 0);
		}
		else if( (strfind(text, "информация", true) != -1) && IsPlayerInRangeOfPoint(playerid, 3, 1068.2416,93.6623,1049.7869)) {
			SendTimeMessage(playerid, "{ADFF2F}Менеджер Автошколы: {FFFFFF}Здравствуйте! Я - менеджер автошколы и я помогу разобраться здесь.", 1000, MESSAGE_TYPE);
			SendTimeMessage(playerid, "{ADFF2F}Менеджер Автошколы: {FFFFFF}Сначала Вам необходимо ознакомиться с правилами ПДД", 1000*2, MESSAGE_TYPE);
			SendTimeMessage(playerid, "{ADFF2F}Менеджер Автошколы: {FFFFFF}Далее Вы сможете попробовать пройти теоритический экзамен и получить аттестат", 1000*3, MESSAGE_TYPE);
			SendTimeMessage(playerid, "{ADFF2F}Менеджер Автошколы: {FFFFFF}Для этого обратитесь ко мне: {ffcc00}менеджер, теория", 1000*4, MESSAGE_TYPE);
			SendTimeMessage(playerid, "{ADFF2F}Менеджер Автошколы: {FFFFFF}Далее, если Вы получите аттестат теории - будете допущены до практики.", 1000*5, MESSAGE_TYPE);
			SendTimeMessage(playerid, "{ADFF2F}Менеджер Автошколы: {FFFFFF}Пройдя практический экзамен Вы получите права на вождение наземным транспортом!", 1000*6, MESSAGE_TYPE);
			ApplyActorAnimation(autoschool_Bot, "PED", "IDLE_CHAT", 4.1, 0, 1, 1, 0, 0);
		}
	}

	// return SetPlayerChatBubble(playerid, text, GetColor(playerid), 10, 20000);
	return 0;
}

public OnPlayerCommandText(playerid, cmdtext[])
{
	return 0;
}

stock s_IsVehicleOccupiedEx(vehicleid)
{
	foreach(new i: Player) if(GetPlayerState(i) == PLAYER_STATE_DRIVER && GetPlayerVehicleID(i) == vehicleid) return 1;
	return 0;
}

stock s_IsVehicleOccupied(vehicleid)
{
    foreach(new i: Player) if(IsPlayerInVehicle(i, vehicleid)) return 1;
    return 0;
}

public OnPlayerEnterVehicle(playerid, vehicleid, ispassenger)
{   



	foreach(new i : Player)
	{
		if(vehicleid != scooter[i]) continue;
		else if(vehicleid != scooter[playerid] && !ispassenger){
			SendClientMessage(playerid, COLOR_RED, "Этот транспорт арендован!");
			new Float:player_pos[3];
			GetPlayerPos(playerid,player_pos[0],player_pos[1],player_pos[2]);
			SetPlayerPos(playerid,player_pos[0],player_pos[1],player_pos[2]+0.1);
		}
	}
	

	
	if(vehicleid >= mechanic[0] && vehicleid <= mechanic[1])
	{
		if(PI[playerid][pJob] != JOB_MECHANIC)
		{
			SendClientMessage(playerid, COLOR_RED, "У Вас нет ключей от этого транспорта");
			ClearAnimations(playerid, true);
		    return 1;
		}
	}
    if(vehicleid >= taxicar[0] && vehicleid <= taxicar[1])
	{
		if(!ispassenger)
		{
		    if(PI[playerid][pJob] != JOB_TAXI)
            {
			    SendClientMessage(playerid, COLOR_RED, "Вы не таксист. Чтобы взять транспорт, Вам следует устроиться в администрации области (/gps)");
			    //SendClientMessage(playerid, COLOR_RED, "У Вас нет ключей от этого транспорта");
			    ClearAnimations(playerid, true);
		        return 1;
			}
		}
	}
	if(vehicleid >= CAR_AO[0] && vehicleid <= CAR_AO[1])
	{
		if(!ispassenger)
		{
			if(PI[playerid][pMember] != TEAM_AO)
			{
				SendClientMessage(playerid, COLOR_RED, "У Вас нет ключей от этого транспорта");
				ClearAnimations(playerid, true);
			    return 1;
			} else SendPond(playerid, "На этот транспорт можно поставить сирену в меню управления");
		}
	}
	if(vehicleid >= opg1car[0] && vehicleid <= opg1car[1])
	{
	     if(!ispassenger)
		 {
		     if(PI[playerid][pMember] != TEAM_SPARTAK)
		     {
			    SendClientMessage(playerid, COLOR_RED, "У Вас нет ключей от этого транспорта");
			    ClearAnimations(playerid, true);
				return 1;
			}
		}
	}
	if(vehicleid >= opg2car[0] && vehicleid <= opg2car[1])
	{
         if(!ispassenger)
		 {
             if(PI[playerid][pMember] != TEAM_CSKA)
		     {
			    SendClientMessage(playerid, COLOR_RED, "У Вас нет ключей от этого транспорта");
			    ClearAnimations(playerid, true);
				return 1;
			}
		}
	}
	if(vehicleid >= opg3car[0] && vehicleid <= opg3car[1])
	{
		if(PI[playerid][pMember] != TEAM_DINAMO)
		if(!ispassenger)
		{
			SendClientMessage(playerid, COLOR_RED, "У Вас нет ключей от этого транспорта");
			ClearAnimations(playerid, true);
			return 1;
		}
	}
	if(vehicleid >= chechen_mafia[0] && vehicleid <= chechen_mafia[1])
	{
	     if(!ispassenger)
		 {
		     if(PI[playerid][pMember] != TEAM_ZENIT)
		     {
			    SendClientMessage(playerid, COLOR_RED, "У Вас нет ключей от этого транспорта");
			    ClearAnimations(playerid, true);
				return 1;
			}
		}
	}
/* 	if(vehicleid >= russian_mafia[0] && vehicleid <= russian_mafia[1])
	{
	     if(!ispassenger)
		 {
		     if(PI[playerid][pMember] != TEAM_ZENIT)
		     {
			    SendClientMessage(playerid, COLOR_RED, "У Вас нет ключей от этого транспорта");
			    ClearAnimations(playerid, true);
				return 1;
			}
		}
	}
*/
	if(vehicleid >= CAR_SMI[0] && vehicleid <= CAR_SMI[1])
	{
        if(!ispassenger)
		{
		    if(PI[playerid][pMember] != TEAM_SMI)
			{
				SendClientMessage(playerid, COLOR_RED, "У Вас нет ключей от этого транспорта");
				ClearAnimations(playerid, true);
				return 1;
			}
		}
	} 
	if(vehicleid >= CAR_MZA[0] && vehicleid <= CAR_MZA[1])
	{
        if(!ispassenger)
		{
		    if(PI[playerid][pMember] != TEAM_MZA)
			{
				SendClientMessage(playerid, COLOR_RED, "У Вас нет ключей от этого транспорта");
				ClearAnimations(playerid, true);
				return 1;
			}
		}
	}
	if(vehicleid >= CAR_VDV[0] && vehicleid <= CAR_VDV[1])
	{
		if(!ispassenger)
		{
			if(PI[playerid][pMember] != TEAM_VDV)
			{
				SendClientMessage(playerid, COLOR_RED, "У Вас нет ключей от этого транспорта");
				ClearAnimations(playerid, true);
			    return 1;
			}
		}
	}
	if(vehicleid >= CAR_MZY[0] && vehicleid <= CAR_MZY[1])
	{
		if(!ispassenger)
		{
			if(PI[playerid][pMember] != TEAM_MZY)
			{
				SendClientMessage(playerid, COLOR_RED, "У Вас нет ключей от этого транспорта");
	            ClearAnimations(playerid, true);
				return 1;
			}
		}
	}

	if(vehicleid >= CAR_PPS[0] && vehicleid <= CAR_PPS[1])
	{
		if(!ispassenger)
		{
			if(PI[playerid][pMember] != TEAM_PPS)
			{
				SendClientMessage(playerid, COLOR_RED, "У Вас нет ключей от этого транспорта");
				ClearAnimations(playerid, true);
				return 1;
			}
		}
	}
	if(vehicleid >= CAR_DPS[0] && vehicleid <= CAR_DPS[1])
	{
		if(!ispassenger)
		{
			if(PI[playerid][pMember] != TEAM_DPS)
			{
				SendClientMessage(playerid, COLOR_RED, "У Вас нет ключей от этого транспорта");
				ClearAnimations(playerid, true);
				return 1;
			}
		}
	}
	if(vehicleid >= CAR_FSIN[0] && vehicleid <= CAR_FSIN[1])
	{
		if(!ispassenger)
		{
			if(PI[playerid][pMember] != TEAM_FSIN)
			{
				SendClientMessage(playerid, COLOR_RED, "У Вас нет ключей от этого транспорта");
				ClearAnimations(playerid, true);
				return 1;
			}
		}
	}
	// Автомобили семьи
	if(vehicleid >= family_cars[0] && vehicleid <= family_cars[1])
	{
		if(strcmp(GetName(playerid), HouseInfo[1][hOwner], true) == 0)
		{
			return 1;
		}
		else
		{
			SendClientMessage(playerid, COLOR_RED, "Данный транспорт принадлежит семье");
			SendClientMessage(playerid, COLOR_RED, "У Вас нет ключей от этого транспорта");
			RemoveFromVehicle(playerid);
			ClearAnimations(playerid, true);
			return 1;
		}
	}
 	if(vehicleid >= family_cars2[0] && vehicleid <= family_cars2[1])
	{
		if(strcmp(GetName(playerid), HouseInfo[10][hOwner], true) == 0)
		{
			return 1;
		}
		else
		{
			SendClientMessage(playerid, COLOR_RED, "Данный транспорт принадлежит семье");
			SendClientMessage(playerid, COLOR_RED, "У Вас нет ключей от этого транспорта");
			RemoveFromVehicle(playerid);
			ClearAnimations(playerid, true);
			return 1;
		}
	}
    if(UseWork[playerid] == 2 || UseWork[playerid] == 3)
	{
		SendClientMessage(playerid, COLOR_RED, "Нельзя садиться в Т/С работая");
		RemoveFromVehicle(playerid);
		ClearAnimations(playerid);
		return 1;
	}
	if(pCuff[playerid][pCuffee] == playerid)
	{
		SendClientMessage(playerid, COLOR_RED, "Нельзя садиться в Т/С в наручниках");
		RemoveFromVehicle(playerid);
		ClearAnimations(playerid);
		return 1;
	}
	EnterVehicle[playerid] = vehicleid;
	if(!ispassenger)
	{
	    if(s_IsVehicleOccupiedEx(vehicleid))
	    {
     		GameTextForPlayer(playerid, "~r~~h~МЕСТО ВОДИТЕЛЯ ЗАНЯТО!", 2000, 4);
  			ClearAnimations(playerid, true);
     		return 1;
	    }
	}
	return 1;
}
/*public BoostVehOne(vehicleid)
{
    new Float: x,Float: y,Float: z;
	GetVehicleVelocity(vehicleid, x, y, z);
	if(floatsqroot(floatpower(floatabs(x), 2.0) + floatpower(floatabs(y), 2.0) + floatpower(floatabs(z), 2.0)) * 198 < 260)
	{
		SetVehicleVelocity(vehicleid, x*3.1, y*3.1, z*3.1);
	}
	return 1;
}

public BoostVehTwo(vehicleid)
{
    new Float: x,Float: y,Float: z;
	GetVehicleVelocity(vehicleid, x, y, z);
	if(floatsqroot(floatpower(floatabs(x), 2.0) + floatpower(floatabs(y), 2.0) + floatpower(floatabs(z), 2.0)) * 140 < 170)
	{
		SetVehicleVelocity(vehicleid, x*3.1, y*3.1, z*3.1);
	}
	return 1;
}

public BoostVehThree(vehicleid)
{
    new Float: x,Float: y,Float: z;
	GetVehicleVelocity(vehicleid, x, y, z);
	if(floatsqroot(floatpower(floatabs(x), 1.0) + floatpower(floatabs(y), 1.0) + floatpower(floatabs(z), 1.0)) * 100 < 110)
	{
		SetVehicleVelocity(vehicleid, x*3.1, y*3.1, z*3.1);
	}
	return 1;
}

public BoostVehThree(vehicleid)
{
    new Float: x,Float: y,Float: z;
	GetVehicleVelocity(vehicleid, x, y, z);
	if(floatsqroot(floatpower(floatabs(x), 2.0) + floatpower(floatabs(y), 2.0) + floatpower(floatabs(z), 2.0)) * 110 < 110)
	{
		SetVehicleVelocity(vehicleid, x*3.1, y*3.1, z*3.1);
	}
	return 1;
}*/
public OnPlayerExitVehicle(playerid, vehicleid)
{
	new string[128];
	if(GetPVarInt(playerid, "LESSON") != 0) return SendClientMessage(playerid, COLOR_RED, "Вы провалили практику."), DeletePVar(playerid, "LESSON"), DeletePVar(playerid, "B_CHECK"), DisablePlayerRaceCheckpoint(playerid);
	/*if(Ether[playerid] == true)
	{
		new CB[16];
		Ether[playerid] = false;
		TimeConverter(GetPVarInt(playerid,"InEther"),CB);
		if(EtherSms[PI[playerid][pNews]-1] == true) { format(string, 90, "[R] %s выключил прием СМС",GetName(playerid)); SendFMes(PI[playerid][pMember], COLOR_LIGHTRED, string); }
		if(EtherCall[PI[playerid][pNews]-1] == true) { format(string, 90, "[R] %s выключил прием звонков",GetName(playerid)); SendFMes(PI[playerid][pMember], COLOR_LIGHTRED, string); }
		format(string, 90, "[R] %s вышел из прямого эфира [Время в эфире: %s, звонков: %i, СМС: %i]",GetName(playerid), CB, CallNews[PI[playerid][pNews]-1],SmsNews[PI[playerid][pNews]-1]);
		SendFMes(PI[playerid][pMember], COLOR_LIGHTBLUE, string);
		EtherSms[PI[playerid][pNews]-1] = false;
		EtherCall[PI[playerid][pNews]-1] = false;
		SmsNews[PI[playerid][pNews]-1] = 0;
		CallNews[PI[playerid][pNews]-1] = 0;
		DeletePVar(playerid, "InEther");
		if(Mobile[playerid] != -1) MobileCrash(playerid);
	}*/
	if(GetPVarInt(playerid, "PriceTaxi") > 0)
	{
	    format(string, sizeof(string), "Рабочий день завершен. Вами заработано: %i рублей", GetPVarInt(playerid, "TaxiMoney"));
		SendClientMessage(playerid, COLOR_BLUE, string);
		SendClientMessage(playerid, COLOR_WHITE, "Деньги будут перечислены на счет во время зарплаты");
		DeletePVar(playerid, "PriceTaxi");
		DeletePVar(playerid, "TaxiMoney");
		if(IsValidDynamic3DTextLabel(TaxiText3D[playerid])) DestroyDynamic3DTextLabel(TaxiText3D[playerid]);
		foreach(new i: Player)
		{
			if(PlayerLogged[i] == false) continue;
			if(IsPlayerInVehicle(i, vehicleid) && GetPlayerState(i) != 2)
			{
				DeletePVar(i, "TimeTaxi");
				DeletePVar(i, "TaxiPrice");
				DeletePVar(i, "PlayerTaxi");
			}
		}
	}
	if(GetPVarInt(playerid, "TaxiPrice") > 0)
	{
		DeletePVar(playerid, "TimeTaxi");
		DeletePVar(playerid, "TaxiPrice");
		DeletePVar(playerid, "PlayerTaxi");
	}
	if(EtherLive[playerid] == true)
	{
		EtherLive[playerid] = false;
		DeletePVar(playerid, "Etherfrac");
		SendClientMessage(playerid, COLOR_LIGHTBLUE, "Вы вышли из прямого эфира!");
	}
	return 1;
}
//==============================================================================
forward OnPlayerEnterDynamicArea(playerid, areaid);
public OnPlayerEnterDynamicArea(playerid, areaid)
{
	new player_state = GetPlayerState(playerid);

	if(areaid == AreaInfo[arServerHelp] && player_state == PLAYER_STATE_ONFOOT)
    {
        ShowPlayerDialog(playerid, 3794, DIALOG_STYLE_LIST, "{FFCC00}Помощь", "{FFCC00}1.{FFFFFF} Начало игры\n{FFCC00}2.{FFFFFF} Предыстория\n{FFCC00}3.{FFFFFF} Первоначальный заработок\n{FFCC00}4.{FFFFFF} Шаги к приобретению первого имущества\n{FFCC00}5.{FFFFFF} Водительские права\n{FFCC00}6.{FFFFFF} Доступные работы и устройство в организацию\n{FFCC00}8.{FFFFFF} Дополнение списка необходимых правил\n{FFCC00}9.{FFFFFF} Будь с нами!", "Выбрать", "Назад");
   		ShowPlayerDialog(playerid, 3793, DIALOG_STYLE_MSGBOX, "{FFCC00}Помощь", "{FFFFFF}Добро пожаловать на сервер "SERVER_NAME"\n{FFFFFF}Если Вы на сервере впервые, то прочитайте эту информацию до конца", "Далее", "Отмена");
    }
    
    if(areaid == AreaInfo[arServerHelpBat] && player_state == PLAYER_STATE_ONFOOT)
    {
		ShowPlayerDialog(playerid, 3794, DIALOG_STYLE_LIST, "{FFCC00}Помощь", "{FFCC00}1.{FFFFFF} Начало игры\n{FFCC00}2.{FFFFFF} Предыстория\n{FFCC00}3.{FFFFFF} Первоначальный заработок\n{FFCC00}4.{FFFFFF} Шаги к приобретению первого имущества\n{FFCC00}5.{FFFFFF} Водительские права\n{FFCC00}6.{FFFFFF} Доступные работы и устройство в организацию\n{FFCC00}8.{FFFFFF} Дополнение списка необходимых правил\n{FFCC00}9.{FFFFFF} Будь с нами!", "Выбрать", "Назад");
    }
    
    if(areaid == AreaInfo[arServerHelpYg] && player_state == PLAYER_STATE_ONFOOT)
    {
		ShowPlayerDialog(playerid, 3794, DIALOG_STYLE_LIST, "{FFCC00}Помощь", "{FFCC00}1.{FFFFFF} Начало игры\n{FFCC00}2.{FFFFFF} Предыстория\n{FFCC00}3.{FFFFFF} Первоначальный заработок\n{FFCC00}4.{FFFFFF} Шаги к приобретению первого имущества\n{FFCC00}5.{FFFFFF} Водительские права\n{FFCC00}6.{FFFFFF} Доступные работы и устройство в организацию\n{FFCC00}8.{FFFFFF} Дополнение списка необходимых правил\n{FFCC00}9.{FFFFFF} Будь с нами!", "Выбрать", "Назад");
    }

 	if(PI[playerid][P_IN_ENTRANCE] != -1)
	{
		new entranceid = PI[playerid][P_IN_ENTRANCE];

		if(areaid == AreaEntraceMenu)
		{
			ShowPlayerEntraceMenu(playerid);
		}
		if(areaid == AreaEntraceExit)
		{
			FreezePlayer(playerid, 2500);

			SetPlayerPos(playerid, GetEntranceData(entranceid, EXIT_POS_X),  GetEntranceData(entranceid, EXIT_POS_Y),  GetEntranceData(entranceid, EXIT_POS_Z));
			SetPlayerFacingAngle(playerid, GetEntranceData(entranceid, EXIT_ANGLE));

			SetPlayerInterior(playerid, 0);
			SetPlayerVirtualWorld(playerid, 0);
		}
	}
	
   	else if(areaid == AreaInfo[recipe_weapon])
	{
		ShowDialogSelectRecipe(playerid);
	}
    else if(areaid == AreaInfo[arHotdogHP] && player_state == PLAYER_STATE_ONFOOT)
    {
        if(PI[playerid][pLevel] > 3) return SendClientMessage(playerid, COLOR_RED, "Бесплатная еда доступна до 3 уровня");
        else if(PI[playerid][pHunger] >= 100) return SendClientMessage(playerid, COLOR_RED, "Вы не голодны!");
        else if(GetPVarInt(playerid, "floodeat") > gettime()) return SendClientMessage(playerid, COLOR_RED, "Бесплатная еда доступна раз в 3 минуты");
        PlayerPlaySound(playerid, 32200, 0.0, 0.0, 0.0);
		ClearAnimations(playerid);
		ApplyAnimation(playerid, "FOOD", "EAT_Burger", 4.0, 0, 0, 0, 0, 0,1);
		if(PI[playerid][pHunger] <= 75) GiveHunger(playerid, 25);
    	else SetHunger(playerid, 100);
		if(PI[playerid][pSex] == 1) MeAction(playerid, "съел хот-дог");
		else MeAction(playerid, "съела хот-дог");
		GameTextForPlayer(playerid, "~g~have you ~n~eaten", 3000, 1);
		SetPVarInt(playerid, "floodeat", gettime()+180);
    }
    
	else if(areaid == AreaInfo[arBuyNarko][0] && player_state == TEAM_SPARTAK)
	{
	    if(GetPVarInt(playerid, "next_actor")) return SendClientMessage(playerid, COLOR_RED, "Я тебе уже сказал, иди в соседнюю комнату");
		ShowPlayerDialog(playerid,1212,DIALOG_STYLE_INPUT," ", "\n\n{FFFFFF}Эй, парень! Ты к кому пришёл?\n\n", "За травой", "Заблудился");
	}
	
	else if(areaid == AreaInfo[arBuyNarko][1] && player_state == PLAYER_STATE_ONFOOT)
	{
	    if(!GetPVarInt(playerid, "next_actor")) return SendClientMessage(playerid, COLOR_RED, "Парень ты заблудился. Шагай отсюда!");
		ShowPlayerDialog(playerid,1213,DIALOG_STYLE_INPUT,"{FFCC00}Покупка наркотиков","{FFFFFF}Введите количество наркотиков для покупки:","Далее","Отмена");
	}
	
	else if(areaid == AreaInfo[arArmyAmmo])
	{
		if(IsAArmy(playerid))
		{
			if(GetPVarInt(playerid, "carryammo") == 1)
			{
			    SendClientMessage(playerid, COLOR_RED, "Вы принесли ящик с патронами");
				gArmyWarehouse[1] += 400;
				SetPVarInt(playerid,"carryammo", 0);
				RemovePlayerAttachedObject(playerid,1);
				ApplyAnimation(playerid,"CARRY","putdwn",4.1,0,1,1,1,1);
			}
		}
	}
	
    else if(areaid == Ships[playerid] && player_state == PLAYER_STATE_DRIVER)
    {
        new panels, tires;
        GetVehicleDamageStatus(GetPlayerVehicleID(playerid), panels, doors, lights, tires);
        UpdateVehicleDamageStatus(GetPlayerVehicleID(playerid), panels, doors, lights, 15);
    }
/*	for(new i; i < sizeof(AreaInfo[arGreenZone]); i++)
	{
		if(areaid == AreaInfo[arGreenZone][i])
        {
            PlayerTextDrawShow(playerid, GreenZoneText[playerid][0]);
            PlayerTextDrawShow(playerid, GreenZoneText[playerid][1]);
            PlayerTextDrawShow(playerid, GreenZoneText[playerid][2]);
            PlayerTextDrawShow(playerid, GreenZoneText[playerid][3]);
            PlayerTextDrawShow(playerid, GreenZoneText[playerid][4]);
            PlayerTextDrawShow(playerid, GreenZoneText[playerid][5]);
            PlayerTextDrawShow(playerid, GreenZoneText[playerid][6]);
            PlayerTextDrawShow(playerid, GreenZoneText[playerid][7]);
		}
	}*/
 	for(new r = 0; r <= TOTALRADAR; r++)
	{
		if(!IsPlayerConnected(playerid)) return 1;
		if(areaid == RI[r][r_area])
		{
			if(radar_time[playerid] > gettime()) return 1;
			new vehicleid = GetPlayerVehicleID(playerid);
			if(!IsAMoped(vehicleid) && !IsAVel(vehicleid) && !IsAPlane(vehicleid) && GetPlayerState(playerid) == 2)
			{
				if(SpeedVehicle(playerid)/2 > RI[r][r_speed])
				{
					if(!IsACop(playerid))
					{
						radar_time[playerid] = gettime() + 10;
						SendClientMessage(playerid, C_RED, "[РАДАР]: Вас сфотографировал радар ГИБДД. Причина: превышение скорости");
						STRING_GLOBAL[0] = EOS;
						format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "[РАДАР]: Максимально-допустимая скорость на данном участке: %d км/ч, зафиксированная Вами: %d км/ч.", RI[r][r_speed], SpeedVehicle(playerid)/2);
						SendClientMessage(playerid, C_RED, STRING_GLOBAL);

						PhoneNumbers[playerid][6] += 1;
						MysqlUpdatePlayerInt(playerid, "phnumber7", PhoneNumbers[playerid][6]);
						PhoneNumbers[playerid][7] += WorkSalary[33] * (SpeedVehicle(playerid)/2 - RI[r][r_speed]);
						MysqlUpdatePlayerInt(playerid, "phnumber8", PhoneNumbers[playerid][7]);

						FracBank[9] += WorkSalary[33] * (SpeedVehicle(playerid)/2 - RI[r][r_speed]);
						MysqlUpdateOtherInt("sfnbank", FracBank[9]);

						/*static tick_money;
						tick_money = RADAR_TICKET * (veh_speed - RI[r][r_speed]);
						if(tick_money < 1) return 0;
						GiveMoney(playerid,-tick_money);*/

						STRING_GLOBAL[0] = EOS;
						format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "[РАДАР]: Сумма штрафа составила: %d рублей. Штраф оплатите в отделе полиции, у Вас %d штраф(ов)", WorkSalary[33] * (SpeedVehicle(playerid)/2 - RI[r][r_speed]), PhoneNumbers[playerid][6]);
						SendClientMessage(playerid, C_RED, STRING_GLOBAL);
					}
				}
			}
		}
	}
 	for(new r = 0; r <= TOTALRADAR; r++)
	{
	    if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER)
	    {
			if(areaid == RI[r][r_area])
			{
			    new rad_text[10];
			    PlayerTextDrawShow(playerid, radar_speed[playerid]);
				TextDrawShowForPlayer(playerid, show_speed[1]); TextDrawShowForPlayer(playerid, show_speed[2]);
				format(rad_text, sizeof rad_text, "%d", RI[r][r_speed]);
				PlayerTextDrawSetString(playerid, radar_speed[playerid], rad_text);
			}
		}
	}
    for(new i; i < sizeof(AreaInfo[arGreenZone]); i++)
	{
		if(GetPVarInt(playerid, "stop_bus") == 1) return 1;

		if(PI[playerid][SalonCarID] != INVALID_VEHICLE_ID) return 1;

		if(areaid == AreaInfo[arGreenZone][i])
        {
			TextDrawShowForPlayer(playerid, zz_td);
		}
	}
    return 1;
}
//==============================================================================
public OnPlayerLeaveDynamicArea(playerid, areaid)
{
/*    for(new i; i < sizeof(AreaInfo[arGreenZone]); i++)
	{
		if(areaid == AreaInfo[arGreenZone][i])
        {
            PlayerTextDrawHide(playerid, GreenZoneText[playerid][0]);
            PlayerTextDrawHide(playerid, GreenZoneText[playerid][1]);
            PlayerTextDrawHide(playerid, GreenZoneText[playerid][2]);
            PlayerTextDrawHide(playerid, GreenZoneText[playerid][3]);
            PlayerTextDrawHide(playerid, GreenZoneText[playerid][4]);
            PlayerTextDrawHide(playerid, GreenZoneText[playerid][5]);
            PlayerTextDrawHide(playerid, GreenZoneText[playerid][6]);
            PlayerTextDrawHide(playerid, GreenZoneText[playerid][7]);
		}
	}*/
    for(new i; i < sizeof(AreaInfo[arGreenZone]); i++)
	{
		if(areaid == AreaInfo[arGreenZone][i])
        {
			TextDrawHideForPlayer(playerid,zz_td);
		}
	}
	return 1;
}
//==============================================================================
public OnPlayerGiveDamage(playerid, damagedid, Float:amount, weaponid)
{
	return 1;
}
//==============================================================================
public OnPlayerStateChange(playerid, newstate, oldstate)
{
	carsharing_OnPlayerStateChange(playerid, newstate, oldstate);
	switch(newstate)
	{
		case 1: // - Игрок пешком (можно писать PLAYER_STATE_ONFOOT)
		{
			if(STimer[playerid] != -1) KillTimer(STimer[playerid]), STimer[playerid] = -1;

			if(GetPVarInt(playerid, "PriceBus"))
			{
				SendClientMessage(playerid, COLOR_RED, "У Вас есть 30 секунд, чтобы вернуться");
				DisablePlayerRaceCheckpoint(playerid);
				SetPVarInt(playerid, "BusTime", 30);
				DeletePVar(playerid, "TimeBus");
			}
			if(GetPVarInt(playerid, "TruckerJob"))
			{
				SendClientMessage(playerid, COLOR_RED, "У Вас есть 30 секунд, чтобы вернуться");
				DisablePlayerRaceCheckpoint(playerid);
				SetPVarInt(playerid, "TruckerJobTime", 30);
			}
		}
		case 2: //Игрок в машине, на месте водителя (можно писать PLAYER_STATE_DRIVER)
		{
			new cars = 0;
			if(InShop[playerid] < 1 || GetPVarInt(playerid, "InShop") == 0)
			{
				new vehicleid = GetPlayerVehicleID(playerid);
				new temp = GetVehicleModel(GetPlayerVehicleID(playerid));
				BE_Play_Check[playerid] = true;
				for(new i; i != sizeof(BE_Bad_Vehs); i++)
				{
					if(temp == BE_Bad_Vehs[i]) cars++, BE_Play_Check[playerid] = false;
				}
				if(cars == 0)
				{
					// Автомобили семьи
					if(vehicleid >= family_cars[0] && vehicleid <= family_cars[1])
					{
						if(strcmp(GetName(playerid), HouseInfo[1][hOwner], true) == 0)
						{
							return 1;
						}
						else
						{
							SendClientMessage(playerid, COLOR_RED, "Данный транспорт принадлежит семье");
							SendClientMessage(playerid, COLOR_RED, "У Вас нет ключей от этого транспорта");
							RemoveFromVehicle(playerid);
							ClearAnimations(playerid, true);
							return 1;
						}
					}
/*					if(vehicleid >= CategoryA[0] && vehicleid <= CategoryA[1])
					{
					    if(GetPVarInt(playerid, "LESSON") == 1)
						{
                            SetPlayerVirtualWorld(playerid, 1);
                            SetVehicleVirtualWorld(GetPlayerVehicleID(playerid), 1);
						    AshLock[GetPlayerVehicleID(playerid)] = true;
							SendClientMessage(playerid, COLOR_LIME, "Вы сдаете категорию A!"), pLessonCar[playerid] = CHECKPOINT_1;
							SetPlayerRaceCheckpoint(playerid,0,1899.6517,2246.5349,15.9095,1887.0807,2201.9712,16.0329,5.0);
							SendClientMessage(playerid, COLOR_LIME, "Управлять ограничителем скорости: {FFCC00}/slimit");
                            SendClientMessage(playerid, COLOR_BLUE, "Чтобы завести транспорт, нажмите {ffffff}[л.CTRL]{0099FF} или же введите команду: {ffffff}/en");
							SendClientMessage(playerid, COLOR_LIME, "{99CC00}Для сдачи экзамена, следуйте по маркерам соблюдая ПДД. Внимание, на экзамен Вам дается {FFCC00}10 минут"), SetPVarInt(playerid, "LESSONTIME", gettime()+600);
						}
					    else SendClientMessage(playerid, COLOR_RED, "Этот транспорт для сдачи на права категории A"), RemovePlayerFromVehicle(playerid);
					    return true;
					}
*/					if(vehicleid == autoschool_car[playerid]) return true;

				    if(!IsAVel(vehicleid) && !IsAMoped(vehicleid) && PI[playerid][pAutoLic] < 1)
				    {
						if(GetVehicleModel(GetPlayerVehicleID(playerid)) == 462) return true;
                        SendClientMessage(playerid, COLOR_RED, "У Вас нет водительских прав!");
						RemovePlayerFromVehicle(playerid);
						
		                return 1;
					}
					if(Engine[vehicleid] == false)
					{
						if(IsAVel(vehicleid))
						{
							GetVehicleParamsEx(vehicleid,engine,lights,alarm,doors,bonnet,boot,objective);
							SetVehicleParamsEx(vehicleid,true,lights,alarm,doors,bonnet,boot,objective);
						}
						else
						{  	
							if(!InShop[playerid]) SendClientMessage(playerid, COLOR_LIME, "Клавиша управления транспортом: {FFFFFF}Y");
						}
					}
					if(vehicleid == TruckerCar[playerid])//дальнобойщик
					{
						if(GetPVarInt(playerid, "TruckerJob") == 1)
						{
							SetPlayerCheckpoint(playerid, 2738.4316,-2273.2146,17.9269,5.0);
						}
						else if(GetPVarInt(playerid, "TruckerJob") == 2)
						{
							SetPlayerCheckpoint(playerid, 2906.9075,2130.5762,9.3900,5.0);

						} else {

							SetPlayerCheckpoint(playerid, 2738.4316,-2273.2146,17.9269,5.0);
						}
						if(GetPVarInt(playerid, "TruckerJobFuel") == 1)
						{
							Fuel[GetPlayerVehicleID(playerid)] = 80;
						}
						DeletePVar(playerid, "TruckerJobTime");
						DeletePVar(playerid, "TruckerJobTimeGoToCar");
						DeletePVar(playerid, "TruckerJobFuel");
						SendClientMessage(playerid, COLOR_BLUE, "Вы взяли грузовик, отправляйтесь на загрузку");
						return 1;
					}
					if(vehicleid >= trucker1lvl[0] && vehicleid <= trucker1lvl[1])
					{
						if(PI[playerid][pJob] != 6)
						{
							SendClientMessage(playerid, COLOR_RED, "Вы не работаете дальнобойщиком!");
							RemoveFromVehicle(playerid);
							return 1;
						}
						new trucklevel, price;
						if(vehicleid >= trucker1lvl[0] && vehicleid <= trucker1lvl[1]) { trucklevel = 1; price = 200; }
						else if(vehicleid >= trucker2lvl[0] && vehicleid <= trucker2lvl[1]) { trucklevel = 2; price = 300; }
						if((trucklevel == 2 && PI[playerid][pTruckSkill] < 30000))
						{
							SendClientMessage(playerid, COLOR_RED, "Ваш опыт работы дальнобойщиком не достаточен для этого транспорта");
							RemoveFromVehicle(playerid);
							return 1;
						}
						if(GetMoney(playerid) < price)
						{
							new string[128];
							format(string, sizeof(string), "Вам нужно %d рублей чтобы арендовать этот грузовик", price);
							SendClientMessage(playerid, COLOR_RED, string);
							RemoveFromVehicle(playerid);
							return 1;
						}
						SetPVarInt(playerid, "truckprice", price);
						new string[150];
						if(PI[playerid][TruckerCarID] == vehicleid) { }
						else
						{
						    //check_rent_car[playerid] = 8;
							 
							format(string, sizeof(string), "{ffffff}Вы хотите арендовать данный тягач?\nСтоимость аренды: {33ccff}%i  рублей", price);
							ShowPlayerDialog(playerid, 11212, DIALOG_STYLE_MSGBOX, "{FFCC00}Аренда", string, "Да", "Нет");
						}
						if(GetMoney(playerid) < 200)
						{
							SendClientMessage(playerid, COLOR_RED, "Вам нужно 200  рублей чтобы арендовать это транспорт");
							RemoveFromVehicle(playerid);
							return 1;
						}
						if(PI[playerid][MechanicCarID] == vehicleid) { }
						else
						{
						    //check_rent_car[playerid] = 8;
							ShowPlayerDialog(playerid, D_JOB+66, 0, "{FFCC00}Аренда", "{ffffff}Вы хотите арендовать данный транспорт?\n\nСтоимость: {33CCFF}200  рублей", "Да", "Нет");
		}
					}
					if(vehicleid >= buscar[0] && vehicleid <= buscar[1])
					{
						if(PI[playerid][pJob] != JOB_BUS)
						{
							SendClientMessage(playerid, COLOR_RED, "Вы не водитель маршрутки. Чтобы взять транспорт, Вам следует устроиться в администрации области (/gps)");
							//SendClientMessage(playerid, COLOR_RED, "У Вас нет ключей от этого транспорта");
							RemoveFromVehicle(playerid);
							return 1;
						}
						if(GetPVarInt(playerid, "BusTime") > 0 && GetPVarInt(playerid, "PriceBus") > 0 && PI[playerid][BusCarID] == vehicleid)
						{
							new i = pPressed[playerid], name[30], string[128];
                            SetPlayerRaceCheckpoint(playerid,0,arzamas_batirevo[i][0],arzamas_batirevo[i][1],arzamas_batirevo[i][2],arzamas_batirevo[i][3],arzamas_batirevo[i][4],arzamas_batirevo[i][5],5.0);
							format(string, sizeof(string), "{0099FF}%s\n{FFFFFF}Стоимость проезда: {FFCC00}%i руб", name, GetPVarInt(playerid, "PriceBus"));
							if(!IsValidDynamic3DTextLabel(BusText3D[playerid])) BusText3D[playerid] = CreateDynamic3DTextLabel(string, 0xffa500FF, 0.0, 0.0, 1.0, 10.0, INVALID_PLAYER_ID, vehicleid);
							DeletePVar(playerid, "BusTime");
						}
						if(GetMoney(playerid) < 200)
						{
							SendClientMessage(playerid, COLOR_RED, "Вам нужно 200 рублей чтобы арендовать этот автобус");
							RemoveFromVehicle(playerid);
							return 1;
						}
						if(PI[playerid][BusCarID] == vehicleid) { }
						else
						{
							//check_rent_car[playerid] = 15;
							ShowPlayerDialog(playerid, D_JOB+58, 0, "{FFCC00}Автопарк", "{ffffff}Чтобы взять машину, необходимо заплатить окружному автопарку 200 рублей\nВы действительно хотите заключить договор аренды?", "Да", "Нет");
						}
					}
					if(gVehicleGun[vehicleid][vGunLoading] || gVehicleGun[vehicleid][vGunUnloading])
					{
						ShowPlayerDialog(playerid, D_STOPLOAD, DIALOG_STYLE_MSGBOX, "{FFCC00}Погрузка", "{FFFFFF}Вы хотите прекратить загрузку боеприпасов в автомобиль?", "Да", "Нет");
					}
				}
			}
		}
		case 3: //Игрок в машине, на месте пассажира - (можно писать PLAYER_STATE_PASSENGER)
		{
			new vehicleid = GetPlayerVehicleID(playerid);
			foreach(new i: Player)
			{
				if(PlayerLogged[i] == false) continue;
				if(IsPlayerInVehicle(i, vehicleid) && GetPlayerState(i) == 2)
				{
				    new string[32];
					if(GetPVarInt(i, "PriceBus") > 0)
					{
						if(GetMoney(playerid) < GetPVarInt(i, "PriceBus"))
						{
							SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно денег!");
							RemoveFromVehicle(playerid);
						}
						else
						{
							TransferMoney(playerid, -1, GetPVarInt(i, "PriceBus"));
							SendMes(playerid, COLOR_BLUE, "Вы заплатили %i  рублей за проезд водителю %s",GetPVarInt(i, "PriceBus"), GetName(i));
							PI[i][pPayCheck] += GetPVarInt(i, "PriceBus");
							SendMes(i, COLOR_BLUE, "Пассажир %s заплатил %i  рублей за проезд", GetName(playerid), GetPVarInt(i, "PriceBus"));
							format(string, sizeof(string), "~r~-%i RUB",  GetPVarInt(i, "PriceBus"));
							GameTextForPlayer(playerid, string, 5000, 1);
							format(string, sizeof(string), "~b~+%i RUB", GetPVarInt(i, "PriceBus"));
							GameTextForPlayer(i, string, 5000, 1);
						}
					}
					if(GetPVarInt(i, "PriceTaxi") > 0)
					{
						if(GetMoney(playerid) < GetPVarInt(i, "PriceTaxi"))
						{
							SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно денег!");
							RemoveFromVehicle(playerid);
						}
						else
						{
							TransferMoney(playerid, -1, GetPVarInt(i, "PriceTaxi"));
							PI[i][pPayCheck] += GetPVarInt(i, "PriceTaxi");
							SetPVarInt(playerid, "TimeTaxi", 30);
							SetPVarInt(playerid, "TaxiPrice",GetPVarInt(i, "PriceTaxi"));
							SetPVarInt(playerid, "PlayerTaxi", i);
							format(string, sizeof(string), "~r~-%i RUB", GetPVarInt(i, "PriceTaxi"));
							GameTextForPlayer(playerid, string, 5000, 1);
							format(string, sizeof(string), "~b~+%i RUB", GetPVarInt(i, "PriceTaxi"));
							GameTextForPlayer(i, string, 5000, 1);
							SetPVarInt(i, "TaxiMoney", GetPVarInt(i, "TaxiMoney") + GetPVarInt(i, "PriceTaxi"));
						}
					}
				}
			}
		}
	case 4: //Игрок вышел из машины
		{
			BE_Play_Check[playerid] = false;
		}
	case 5: //Игрок сел в машину на место водителя
		{
		}
	case 6: //Игрок сел в машину на место пассажира
		{
		}
	case 7: //Игрок выбирает скин (можно писать PLAYER_STATE_WASTED)
		{
		}
	case 8: //Игрок возродился (можно писать PLAYER_STATE_SPAWNED)
		{
		}
	case 9: //Игрок наблюдает с помощью функции SPECTATING (можно писать PLAYER_STATE_SPECTATING)
		{
		}
	}
	return 1;
}
//==============================================================================
public OnPlayerEnterDynamicCP(playerid, checkpointid)
{
	if(checkpointid == merpiclv[4])
	{
		if(PI[playerid][pMember]) return SendClientMessage(playerid, COLOR_RED, "Вы состоите в организации!");
		ShowPlayerDialog(playerid, D_HEAL+17, 2, "{FFCC00}Свободные ваканскии", "{ffffff}Водитель маршрутки\t\t| {FFCC00}1 уровень\n{ffffff}Водитель такси\t| {FFCC00}2 уровень\n{ffffff}Механик\t\t\t| {FFCC00}5 уровень\n{ffffff}Дальнобойщик\t\t| {FFCC00}8 уровень\n{ffffff}Уволиться с работы", "Устроиться", "Закрыть");
	}
	// автошкола практика
	else if(checkpointid == autoschool_Checkpoint[playerid]) {
		AutoSchool_SetProgress(playerid, autoschool_Progress[playerid]+1);
		SendSucces(playerid, "Хорошо! Следуйте к следующей метке!");
	}
	else if(checkpointid == gunsklad[1])
	{
	    if(PI[playerid][pMember] == TEAM_SPARTAK)
	    {
	        if(PI[playerid][pMember] == 8 && b_Sklad{1}) return SendClientMessage(playerid, COLOR_RED, "Доступ к складу вашей банды закрыт!");
    	   	ShowPlayerDialog(playerid, D_GANG, 2, "{FFCC00}Склад банды", "{FFCC00}1.{FFFFFF} Положить патроны\n{FFCC00}2.{FFFFFF} Положить Метал\n{FFCC00}3.{FFFFFF} Положить деньги\n{FFCC00}4.{FFFFFF} Положить наркотики\n{FFCC00}5.{FFFFFF} Взять патроны\n{FFCC00}6.{FFFFFF} Взять металл\n{FFCC00}7.{FFFFFF} Взять деньги\n{FFCC00}8.{FFFFFF} Взять наркотики", "Принять", "Отмена");
		}
		return 1;
	}
	else if(checkpointid == gunsklad[2])
	{
	    if(PI[playerid][pMember] == TEAM_CSKA)
	    {
	        if(PI[playerid][pMember] == 9 && b_Sklad{2}) return SendClientMessage(playerid, COLOR_RED, "Доступ к складу вашей банды закрыт!");
    	   	ShowPlayerDialog(playerid, D_GANG, 2, "{FFCC00}Склад банды", "{FFCC00}1.{FFFFFF} Положить патроны\n{FFCC00}2.{FFFFFF} Положить Метал\n{FFCC00}3.{FFFFFF} Положить деньги\n{FFCC00}4.{FFFFFF} Положить наркотики\n{FFCC00}5.{FFFFFF} Взять патроны\n{FFCC00}6.{FFFFFF} Взять металл\n{FFCC00}7.{FFFFFF} Взять деньги\n{FFCC00}8.{FFFFFF} Взять наркотики", "Принять", "Отмена");
		}
		return 1;
	}
	else if(checkpointid == gunsklad[3])
	{
	    if(PI[playerid][pMember] == TEAM_DINAMO)
	    {
	        if(PI[playerid][pMember] == 16 && b_Sklad{6}) return SendClientMessage(playerid, COLOR_RED, "Доступ к складу вашей мафии закрыт!");
			ShowPlayerDialog(playerid, D_MAFIA, 2, "{FFCC00}Склад мафии", "{FFCC00}1.{FFFFFF} Положить патроны\n{FFCC00}2.{FFFFFF} Положить Метал\n{FFCC00}3.{FFFFFF} Положить деньги\n{FFCC00}4.{FFFFFF} Положить наркотики\n{FFCC00}5.{FFFFFF} Взять патроны\n{FFCC00}6.{FFFFFF} Взять металл\n{FFCC00}7.{FFFFFF} Взять деньги\n{FFCC00}8.{FFFFFF} Взять наркотики", "Принять", "Отмена");
		}
		return 1;
	}
	else if(checkpointid == gunsklad[4])
	{
	    if(PI[playerid][pMember] == TEAM_ZENIT)
	    {
	        if(PI[playerid][pMember] == 16 && b_Sklad{6}) return SendClientMessage(playerid, COLOR_RED, "Доступ к складу вашей мафии закрыт!");
			ShowPlayerDialog(playerid, D_MAFIA, 2, "{FFCC00}Склад мафии", "{FFCC00}1.{FFFFFF} Положить патроны\n{FFCC00}2.{FFFFFF} Положить Метал\n{FFCC00}3.{FFFFFF} Положить деньги\n{FFCC00}4.{FFFFFF} Положить наркотики\n{FFCC00}5.{FFFFFF} Взять патроны\n{FFCC00}6.{FFFFFF} Взять металл\n{FFCC00}7.{FFFFFF} Взять деньги\n{FFCC00}8.{FFFFFF} Взять наркотики", "Принять", "Отмена");
		}
		return 1;
	}
	else if(checkpointid == armyammo)
	{
	    if(IsAArmy(playerid) || IsAGang(playerid) || PI[playerid][pVip])
		{
			StealMats(playerid);
		}
		else SendClientMessage(playerid, COLOR_RED, "Вы не можете пользоваться этим складом!");
	}
	return 1;
}


public OnPlayerLeaveDynamicCP(playerid, checkpointid) return 1;

public OnPlayerEnterCheckpoint(playerid)
{
	if(GetPVarInt(playerid,"Job") == 1)// Если момент работы игрока 1..
    {
        if(IsPlayerInRangeOfPoint(playerid, 3, 2351.0471,-257.8829,2.7890))
	    {
            SetPlayerCheckpoint(playerid, 2322.2927,-264.2782,1.5130,1.5);// Создаём один из чекпоинтов
            ApplyAnimation(playerid,"CARRY","crry_prtial",4.1,0,1,1,1,10);// Анимация, типо что то несём..
            SetPVarInt(playerid,"Job",2);// Устанавливаем момент работы игрока на 2..
	        SetPlayerAttachedObject(playerid, 1, 3052, 1, 0.11, 0.36, 0.0, 0.0, 90.0);
        }
    }
    if(GetPVarInt(playerid,"Job") == 2)
    {
        if(IsPlayerInRangeOfPoint(playerid, 3, 2322.2644,-264.1605,1.5144))
        {
		    new str[128];
		    DisablePlayerCheckpoint(playerid);
		    RemovePlayerAttachedObject(playerid,1);// Удаляем объект из рук
		    ApplyAnimation(playerid,"PED","IDLE_tired",4.1,0,1,1,0,1);// Обнуляем анимацию
		    SetPVarInt(playerid,"Job",1);// Устанавливаем момент работы игрока на 1..
		    SetPVarInt(playerid,"JobY",GetPVarInt(playerid,"JobY")+1);// Прибавим к вещам игрока 1
		    format(str,sizeof(str),"Вы принесли ящик. Всего перенесено: {FF9900}%d {FFCC00}ящиков.",GetPVarInt(playerid,"JobY"));
		    SendClientMessage(playerid,COLOR_LIME,str);// Выведем сообщение
		    SetPlayerCheckpoint(playerid, 2351.0471,-257.8829,2.7890,2.0);// Создаём один из чекпоинтов
	    }
    }
    if(GetPVarInt(playerid,"VodolazGoToSklad"))
    {
        if(IsPlayerInRangeOfPoint(playerid, 3, 2820.2581,-1419.8959,2.9151))
        {
		    new str[128];
		    DeletePVar(playerid, "VodolazMeshok1");
		    DeletePVar(playerid, "VodolazMeshok2");
		    DeletePVar(playerid, "VodolazGoToSklad");
		    DisablePlayerCheckpoint(playerid);
		    RemovePlayerAttachedObject(playerid,1);
		    RemovePlayerAttachedObject(playerid,2);
		    RemovePlayerAttachedObject(playerid,8);
		    SetPVarInt(playerid,"JobVodolazYashiki",GetPVarInt(playerid,"JobVodolazYashiki")+2);// Прибавим к вещам игрока 1
			SendClientMessage(playerid, COLOR_LIME, "Вы перенесли два ящика");
			SendClientMessage(playerid, COLOR_LIME, "Теперь Вы можете поднять ещё два ящика");
		    format(str,sizeof(str),"Вы подняли %d ящиков.",GetPVarInt(playerid,"JobVodolazYashiki"));
		    SendClientMessage(playerid,COLOR_BLUE,str);// Выведем сообщение
	    }
    }
	new string[150];
	if(PlayerToPoint(6.0, playerid,-19.2353,1091.4486,-84.1395)
	|| PlayerToPoint(6.0, playerid,-6.8907,1079.3784,-84.1154)
	|| PlayerToPoint(6.0, playerid,-2.7892,1070.1377,-84.1142))
	{
        startjob2[playerid] = true;
		ClearAnimations(playerid);
		ApplyAnimation(playerid,"BASEBALL","Bat_4",4.1,1,0,0,1,11000);
//      TogglePlayerControllable(playerid,1);
		DisablePlayerCheckpoint(playerid);
		
		//hands[playerid] = hand_timer[playerid] = 10;
		
	    return 1;
	}
	if(UseWork[playerid] == 1)
	{
		startjob2[playerid] = false;
		rands1 = random(sizeof(randommine));
		kg[playerid] += randommine[rands1][0];
		if(IsPlayerAttachedObjectSlotUsed(playerid,1)) RemovePlayerAttachedObject(playerid,1);// забрали кирку
		if(IsPlayerAttachedObjectSlotUsed(playerid,2)) RemovePlayerAttachedObject(playerid,2);// забрали тачку
		if(IsPlayerAttachedObjectSlotUsed(playerid,3)) RemovePlayerAttachedObject(playerid,3);// забрали камень
		SetPlayerAttachedObject(playerid, 1, 18634, 6, 0.075000,0.002999,0.154000, 98.399978,-69.600013,1.100000);
		format(string, sizeof(string), "Вы доставили в кузницу {FF9900}%d кг {66CC33}руды.",randommine[rands1][0]);
		SendClientMessage(playerid, COLOR_LIME, string);
		format(string, sizeof(string), "Всего принесено: {FF9900}%d кг {0099FF}руды",kg[playerid]);
		SendClientMessage(playerid, COLOR_BLUE, string);
		Mineral += randommine[rands1][0];
		MysqlUpdateOtherInt("mineral", Mineral);
		new mcheckShahta = random(5);//Кол-во чекпоинтов
		{
			if(mcheckShahta == 0) SetPlayerCheckpoint(playerid, -22.4231,1073.5958,-84.1225-1,3.0);
			if(mcheckShahta == 1) SetPlayerCheckpoint(playerid, -9.9851,1083.8435,-84.1332-1,3.0);
			if(mcheckShahta == 2) SetPlayerCheckpoint(playerid, -45.4904,1065.5435,-84.1352-1,3.0);
			if(mcheckShahta == 3) SetPlayerCheckpoint(playerid, -33.4056,1067.2639,-84.1190-1,3.0);
			if(mcheckShahta == 4) SetPlayerCheckpoint(playerid, -26.2218,1084.3367,-84.1038-1,3.0);
		}
		return 1;
	}
    if(GetPVarInt(playerid, "TruckerJobRazgruzka") == 1)
   	{
		if(anticheckpointflood[playerid]) return 1;
		anticheckpointflood[playerid] = 1;
		SendPond(playerid, "Началась загрузка...");
		LoadGruz(playerid);
		// TruckerGruz[playerid] = CreateVehicleEx(584, 2745.3740, -2280.1521, 17.9269, 92.5, 1, 1, -1);
        // DisablePlayerCheckpoint(playerid);
        // DeletePVar(playerid, "TruckerJobRazgruzka");
        // SetPVarInt(playerid, "TruckerJobRazgruzka", 2);
        // SetPlayerCheckpoint(playerid, -2346.3372, 689.8357, 5.2850, 5.0);
        // SendClientMessage(playerid, COLOR_LIME, "Вы загрузились, отправляйтесь на разгрузку");
		// SendPond(playerid, "Подцепите груз");
        return 1;
    }
    if(GetPVarInt(playerid, "TruckerJobRazgruzka") == 2)
   	{
		new Float:pl_x,Float:pl_y,Float:pl_z;
		GetPlayerPos(playerid,pl_x,pl_y,pl_z);
		if(!IsValidVehicle(TruckerGruz[playerid]) || GetVehicleDistanceFromPoint(TruckerGruz[playerid], pl_x,pl_y,pl_z) > 10.0) {
			SendErr(playerid, "Вы не привезли свой груз на сдачу. Вернитесь и получите новый.");
		} else {
			PI[playerid][pTruckSkill] += 1;
			if(PI[playerid][pTruckSkill] == 15 && PI[playerid][pTruckLevel] < 8)
			{
				PI[playerid][pTruckSkill] = 0;
				PI[playerid][pTruckLevel] += 1;
				if(PI[playerid][pTruckLevel] == 8) {
					SendSucces(playerid, "Вы достигли максимального уровня дальнобойщиков (8) и получили в подарок памятный акссесуар.");
					AddAccToPlayer(playerid, 0);
				} else {
					format(global_string, 144, "Вы перешли на новый уровень дальнобойщика. Теперь Ваш уровень - %d.", PI[playerid][pTruckLevel]);
					SendSucces(playerid, global_string);
				}
				
				format(global_string, 144, "Вы получили %d EXP за получение нового уровня дальнобойщика.", PI[playerid][pTruckLevel]*3);
				SendPond(playerid, global_string);
				PI[playerid][pExp] += PI[playerid][pTruckLevel]*3;
			}
			format(string, sizeof(string), "Вы доставили груз и получили %d рублей",6000+PI[playerid][pTruckLevel]*6000);
			SendClientMessage(playerid, COLOR_BLUE, string);
			GiveMoney(playerid, 6000+PI[playerid][pTruckLevel]*6000);
			SendPond(playerid, "Отправляйтесь на следующую загрузку или закончите рабочий день, выйдя из фуры");
		}

		DisablePlayerCheckpoint(playerid);
		DeletePVar(playerid, "TruckerJobRazgruzka");
		DestroyVehicle(TruckerGruz[playerid]);
		SetPVarInt(playerid, "TruckerJobRazgruzka", 1);
	    
	    SetPlayerCheckpoint(playerid, 2738.3740,-2274.1521,17.9269, 3.0);
		
        return 1;
    }
	return 1;
}

public OnPlayerLeaveCheckpoint(playerid) return 1;

public OnPlayerEnterRaceCheckpoint(playerid)
{
	if(UseGPS[playerid])
	{
		SendClientMessage(playerid, COLOR_LIME, "Вы достигли места назначения");
   		DisablePlayerRaceCheckpoint(playerid);
	   	UseGPS[playerid] = false;
	   	return 1;
	}
	if(GetPVarInt(playerid, "findplayer") == 1)
	{
		SendClientMessage(playerid, COLOR_LIME, "Вы достигли места назначения");
		DeletePVar(playerid, "findplayer");
		DisablePlayerRaceCheckpoint(playerid);
		return 1;
	}
	if(GetPVarInt(playerid, "Home") == 1)
	{
		SendClientMessage(playerid, COLOR_LIME, "Вы достигли места назначения");
		DeletePVar(playerid, "Home");
		DisablePlayerRaceCheckpoint(playerid);
	}
	if(GetPVarInt(playerid, "PriceBus") > 0)
	{
	    DisablePlayerRaceCheckpoint(playerid);
		new type = GetPVarInt(playerid, "TypeBus"), e_type, name[32];
		switch(GetPVarInt(playerid, "TypeBus"))
		{
			case 1: name = "Арзамас - Батырево";
			case 2: name = "Вокзал - Шахта";
			case 3: name = "Автовокзал - Новый район";
			case 4: name = "Автовокзал - Автошкола";
			case 5: name = "ЖДЛС - Шахта";

		}
		if(type == 1)
		{
			if(pPressed[playerid] == 0 || pPressed[playerid] == 5 || pPressed[playerid] == 14 || pPressed[playerid] == 18 || pPressed[playerid] == 22 || pPressed[playerid] == 28 || pPressed[playerid] == 30 || pPressed[playerid] == 31  || pPressed[playerid] == 32)
			{
				if(GetPVarInt(playerid, "BusStop") == 0)
				{
				    new string[128];
					SetPVarInt(playerid, "TimeBus", 11);
					format(string, sizeof(string), "Автобус по маршруту %s отправляется через 10 секунд",name);
					AutoStationBusInfo(playerid, string);
					GameTextForPlayer(playerid, "~r~stop", 1000, 1);
					PlayerPlaySound(playerid, 1058, 0.0, 0.0, 0.0);
				}
				else
				{
					if(pPressed[playerid] == 32) pPressed[playerid] = 0;
					else pPressed[playerid]++;
					new i = pPressed[playerid];
					SetPlayerRaceCheckpoint(playerid,0,arzamas_batirevo[i][0],arzamas_batirevo[i][1],arzamas_batirevo[i][2],arzamas_batirevo[i][3],arzamas_batirevo[i][4],arzamas_batirevo[i][5],5.0);
					SetPVarInt(playerid, "BusStop", 0);
				}
			}
			else
			{
				pPressed[playerid]++;
				SetPVarInt(playerid, "BusMoney", GetPVarInt(playerid, "BusMoney") + 40);
				if(pPressed[playerid] == 0 || pPressed[playerid] == 5 || pPressed[playerid] == 14 || pPressed[playerid] == 18 || pPressed[playerid] == 22 || pPressed[playerid] == 28 || pPressed[playerid] == 30 || pPressed[playerid] == 31 || pPressed[playerid] == 32) e_type = 1;
				else e_type = 0;
				new i = pPressed[playerid];
				SetPlayerRaceCheckpoint(playerid,e_type,arzamas_batirevo[i][0],arzamas_batirevo[i][1],arzamas_batirevo[i][2],arzamas_batirevo[i][3],arzamas_batirevo[i][4],arzamas_batirevo[i][5],5.0);
			}
		}
		if(type == 2)
		{
			if(pPressed[playerid] == 0 || pPressed[playerid] == 3 || pPressed[playerid] == 10 || pPressed[playerid] == 14 || pPressed[playerid] == 18 || pPressed[playerid] == 21)
			{
				if(GetPVarInt(playerid, "BusStop") == 0)
				{
				    new string[128];
					SetPVarInt(playerid, "TimeBus", 11);
					format(string, sizeof(string), "Автобус по маршруту %s отправляется через 10 секунд",name);
					AutoStationBusInfo(playerid, string);
					GameTextForPlayer(playerid, "~r~stop", 1000, 1);
					PlayerPlaySound(playerid, 1058, 0.0, 0.0, 0.0);
				}
				else
				{
					if(pPressed[playerid] == 21) pPressed[playerid] = 0;
					else pPressed[playerid]++;
					new i = pPressed[playerid];
					SetPlayerRaceCheckpoint(playerid,0,BusCitySF[i][0],BusCitySF[i][1],BusCitySF[i][2],BusCitySF[i][3],BusCitySF[i][4],BusCitySF[i][5],5.0);
					SetPVarInt(playerid, "BusStop", 0);
				}
			}
			else
			{
				pPressed[playerid]++;
				SetPVarInt(playerid, "BusMoney", GetPVarInt(playerid, "BusMoney") + 60);
				if(pPressed[playerid] == 0 || pPressed[playerid] == 3 || pPressed[playerid] == 10 || pPressed[playerid] == 14 || pPressed[playerid] == 18 || pPressed[playerid] == 21) e_type = 1;
				else e_type = 0;
				new i = pPressed[playerid];
				SetPlayerRaceCheckpoint(playerid,e_type,BusCitySF[i][0],BusCitySF[i][1],BusCitySF[i][2],BusCitySF[i][3],BusCitySF[i][4],BusCitySF[i][5],5.0);
			}
		}
		if(type == 3)
		{
			if(pPressed[playerid] == 0 || pPressed[playerid] == 4 || pPressed[playerid] == 6 || pPressed[playerid] == 13 || pPressed[playerid] == 19 || pPressed[playerid] == 23 || pPressed[playerid] == 30)
			{
				if(GetPVarInt(playerid, "BusStop") == 0)
				{
				    new string[128];
					SetPVarInt(playerid, "TimeBus", 11);
					format(string, sizeof(string), "Автобус по маршруту %s отправляется через 10 секунд",name);
					AutoStationBusInfo(playerid, string);
					GameTextForPlayer(playerid, "~r~stop", 1000, 1);
					PlayerPlaySound(playerid, 1058, 0.0, 0.0, 0.0);
				}
				else
				{
					if(pPressed[playerid] == 30) pPressed[playerid] = 0;
					else pPressed[playerid]++;
					new i = pPressed[playerid];
					SetPlayerRaceCheckpoint(playerid,0,BusCityLV[i][0],BusCityLV[i][1],BusCityLV[i][2],BusCityLV[i][3],BusCityLV[i][4],BusCityLV[i][5],5.0);
					SetPVarInt(playerid, "BusStop", 0);
				}
			}
			else
			{
				pPressed[playerid]++;
				SetPVarInt(playerid, "BusMoney", GetPVarInt(playerid, "BusMoney") + 50);
				if(pPressed[playerid] == 0 || pPressed[playerid] == 4 || pPressed[playerid] == 6 || pPressed[playerid] == 13 || pPressed[playerid] == 19 || pPressed[playerid] == 23 || pPressed[playerid] == 30) e_type = 1;
				else e_type = 0;
				new i = pPressed[playerid];
				SetPlayerRaceCheckpoint(playerid,e_type,BusCityLV[i][0],BusCityLV[i][1],BusCityLV[i][2],BusCityLV[i][3],BusCityLV[i][4],BusCityLV[i][5],5.0);
			}
		}
		if(type == 4)
		{
			if(pPressed[playerid] == 0 || pPressed[playerid] == 3 || pPressed[playerid] == 13 || pPressed[playerid] == 19 || pPressed[playerid] == 23 || pPressed[playerid] == 27)
			{
				if(GetPVarInt(playerid, "BusStop") == 0)
				{
				    new string[128];
					SetPVarInt(playerid, "TimeBus", 11);
					format(string, sizeof(string), "Автобус по маршруту %s отправляется через 10 секунд",name);
					AutoStationBusInfo(playerid, string);
					GameTextForPlayer(playerid, "~r~stop", 1000, 1);
					PlayerPlaySound(playerid, 1058, 0.0, 0.0, 0.0);
				}
				else
				{
					if(pPressed[playerid] == 27) pPressed[playerid] = 0;
					else pPressed[playerid]++;
					new i = pPressed[playerid];
					SetPlayerRaceCheckpoint(playerid,0,BusSchool[i][0],BusSchool[i][1],BusSchool[i][2],BusSchool[i][3],BusSchool[i][4],BusSchool[i][5],5.0);
					SetPVarInt(playerid, "BusStop", 0);
				}
			}
			else
			{
				pPressed[playerid]++;
				SetPVarInt(playerid, "BusMoney", GetPVarInt(playerid, "BusMoney") + 30);
				if(pPressed[playerid] == 0 || pPressed[playerid] == 3 || pPressed[playerid] == 13 || pPressed[playerid] == 19 || pPressed[playerid] == 23 || pPressed[playerid] == 27) e_type = 1;
				else e_type = 0;
				new i = pPressed[playerid];
				SetPlayerRaceCheckpoint(playerid,e_type,BusSchool[i][0],BusSchool[i][1],BusSchool[i][2],BusSchool[i][3],BusSchool[i][4],BusSchool[i][5],5.0);
			}
		}
		if(type == 5)
		{
			if(pPressed[playerid] == 9 || pPressed[playerid] == 46 || pPressed[playerid] == 81  || pPressed[playerid] == 91)
			{
				if(GetPVarInt(playerid, "BusStop") == 0)
				{
				    new string[128];
					SetPVarInt(playerid, "TimeBus", 11);
					format(string, sizeof(string), "Автобус по маршруту %s отправляется через 10 секунд",name);
					AutoStationBusInfo(playerid, string);
					GameTextForPlayer(playerid, "~r~stop", 1000, 1);
					PlayerPlaySound(playerid, 1058, 0.0, 0.0, 0.0);
				}
				else
				{
					if(pPressed[playerid] == 91) pPressed[playerid] = 0;
					else pPressed[playerid]++;
					new i = pPressed[playerid];
					SetPlayerRaceCheckpoint(playerid,0,BusLS[i][0],BusLS[i][1],BusLS[i][2],BusLS[i][3],BusLS[i][4],BusLS[i][5],5.0);
					SetPVarInt(playerid, "BusStop", 0);
				}
			}
			else
			{
				pPressed[playerid]++;
				SetPVarInt(playerid, "BusMoney", GetPVarInt(playerid, "BusMoney") + 30);
				if(pPressed[playerid] == 9 || pPressed[playerid] == 46 || pPressed[playerid] == 81 || pPressed[playerid] == 91) e_type = 1;
				else e_type = 0;
				new i = pPressed[playerid];
				SetPlayerRaceCheckpoint(playerid,e_type,BusLS[i][0],BusLS[i][1],BusLS[i][2],BusLS[i][3],BusLS[i][4],BusLS[i][5],5.0);
			}
		}
	}
	foreach(new i: Player)
	if(GetPlayerState(i) == PLAYER_STATE_DRIVER && CategoryVeh(GetPlayerVehicleID(i)) && GetPVarInt(i, "LESSONTIME") < gettime() && GetPVarInt(i, "LESSON") != 0)
	{
        DisablePlayerRaceCheckpoint(i), RemovePlayerFromVehicle(i), DeletePVar(i, "LESSONTIME"), DeletePVar(i, "LESSON"), DeletePVar(i, "A_CHECK"), DeletePVar(i, "B_CHECK"), DeletePVar(i, "C_CHECK");
	    SendClientMessage(i, COLOR_LIME, "На сдачу экзамена давалось 10 минут. Вы провалили экзамен");
	}
	if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER)//уборщики
	{
		if(GetPVarInt(playerid, "YborJobRazgruzka") == 1)
		{
			switch(pMarshCar[playerid])
			{
			case CHECKPOINT_28:
				{

					pMarshCar[playerid] = CHECKPOINT_29;
					SetPlayerRaceCheckpoint(playerid, 0,1808.1462,2228.5171,15.5500,88.9872,2141.7307,16.0340, 5.0);
				}
			case CHECKPOINT_29:
				{

					pMarshCar[playerid] = CHECKPOINT_30;
					SetPlayerRaceCheckpoint(playerid, 0,1789.3315,2228.7715,15.5448,89.2626,2065.8665,16.0506, 5.0);
				}
			case CHECKPOINT_30:
				{

					pMarshCar[playerid] = CHECKPOINT_31;
					SetPlayerRaceCheckpoint(playerid, 0,1768.3065,2215.2549,15.6235,179.1042,2033.7277,16.0333, 5.0); //
				}
			case CHECKPOINT_31:
				{

					pMarshCar[playerid] = CHECKPOINT_32;
					SetPlayerRaceCheckpoint(playerid, 0,1768.3812,2195.4626,15.7480,179.5880,1918.0162,15.6653, 5.0);
				}
			case CHECKPOINT_32:
				{

					pMarshCar[playerid] = CHECKPOINT_33;
					SetPlayerRaceCheckpoint(playerid, 0,1768.1605,2156.0977,15.7480,180.3813,1903.9966,16.0687, 5.0); //
				}
			case CHECKPOINT_33:
				{

					pMarshCar[playerid] = CHECKPOINT_34;
					SetPlayerRaceCheckpoint(playerid, 0,1768.4115,2118.7976,15.7506,180.3834,1903.4723,16.0765, 5.0);
				}
			case CHECKPOINT_34:
				{

					pMarshCar[playerid] = CHECKPOINT_35;
					SetPlayerRaceCheckpoint(playerid, 0,1768.5061,2098.0481,15.7506,179.7661,1910.8282,16.0987, 5.0); //
				}
			case CHECKPOINT_35:
				{

					pMarshCar[playerid] = CHECKPOINT_36;
					SetPlayerRaceCheckpoint(playerid, 0,1769.5327,2056.2502,15.6645,210.6615,1894.6167,16.3244, 5.0);
				}
			case CHECKPOINT_36:
				{

					pMarshCar[playerid] = CHECKPOINT_37;
					SetPlayerRaceCheckpoint(playerid, 0,1791.0063,2053.2148,15.6324,269.5476,1894.3824,16.3788, 5.0); //
				}
			case CHECKPOINT_37:
				{

					pMarshCar[playerid] = CHECKPOINT_38;
					SetPlayerRaceCheckpoint(playerid, 0,1831.5635,2052.9119,15.6100,270.0873,1896.9119,16.4075, 5.0);
				}
			case CHECKPOINT_38:
				{

					pMarshCar[playerid] = CHECKPOINT_39;
					SetPlayerRaceCheckpoint(playerid, 0,1874.5602,2052.9758,15.6168,270.0909,1925.2411,16.7373, 5.0);
				}
			case CHECKPOINT_39:
				{

					pMarshCar[playerid] = CHECKPOINT_40;
					SetPlayerRaceCheckpoint(playerid, 0,1899.5616,2053.0134,15.6021,270.0852,2067.5271,18.1328, 5.0);
				}
			case CHECKPOINT_40:
				{

					pMarshCar[playerid] = CHECKPOINT_41;
					SetPlayerRaceCheckpoint(playerid, 0,1937.2312,2051.9404,15.5946,266.6463,2338.6079,16.2255, 5.0);
				}
			case CHECKPOINT_41:
				{

					pMarshCar[playerid] = CHECKPOINT_42;
					SetPlayerRaceCheckpoint(playerid, 0,1959.8304,2036.9642,15.5943,197.9081,2587.1267,16.1037, 5.0);
				}
			case CHECKPOINT_42:
				{

					pMarshCar[playerid] = CHECKPOINT_43;
					SetPlayerRaceCheckpoint(playerid, 0,1962.1890,2007.4677,15.6365,181.9397,2780.2522,19.0839, 5.0);
				}
			case CHECKPOINT_43:
				{

					pMarshCar[playerid] = CHECKPOINT_44;
					SetPlayerRaceCheckpoint(playerid, 0,1962.3314,1967.7762,15.6392,182.2659,2958.2695,21.9037, 5.0);
				}
			case CHECKPOINT_44:
				{

					pMarshCar[playerid] = CHECKPOINT_45;
					SetPlayerRaceCheckpoint(playerid, 0,1962.6232,1919.5967,15.2091,181.2009,2967.3086,11.8601, 5.0);
				}
			case CHECKPOINT_45:
				{

					pMarshCar[playerid] = CHECKPOINT_46;
					SetPlayerRaceCheckpoint(playerid, 0,1962.0510,1882.5563,15.2492,177.9370,2871.2405,13.8533, 5.0);
				}
			case CHECKPOINT_46:
				{

					pMarshCar[playerid] = CHECKPOINT_47;
					SetPlayerRaceCheckpoint(playerid, 0,1961.9545,1846.9463,15.2375,181.3996,2704.2976,15.4065, 5.0);
				}
			case CHECKPOINT_47:
				{

					pMarshCar[playerid] = CHECKPOINT_48;
					SetPlayerRaceCheckpoint(playerid, 0,1961.7161,1797.2247,15.2375,181.7461,2562.0911,15.3670, 5.0);
				}
			case CHECKPOINT_48:
				{

					pMarshCar[playerid] = CHECKPOINT_49;
					SetPlayerRaceCheckpoint(playerid, 0,1961.7509,1740.1750,15.2727,180.0964,2482.2603,16.1258, 5.0);
				}
			case CHECKPOINT_49:
				{

					pMarshCar[playerid] = CHECKPOINT_50;
					SetPlayerRaceCheckpoint(playerid, 0,1968.6173,1692.8718,15.7195,195.5744,2346.9963,16.1209, 5.0);
				}
			case CHECKPOINT_50:
				{

					pMarshCar[playerid] = CHECKPOINT_51;
					SetPlayerRaceCheckpoint(playerid, 0,1983.4132,1649.4280,15.7370,199.0853,2247.2283,15.9712, 5.0);
				}
			case CHECKPOINT_51:
				{

					pMarshCar[playerid] = CHECKPOINT_52;
					SetPlayerRaceCheckpoint(playerid, 0,1998.9282,1589.6569,15.6987,180.7006,2246.1807,15.9017, 5.0);
				}
			case CHECKPOINT_52:
				{

					pMarshCar[playerid] = CHECKPOINT_53;
					SetPlayerRaceCheckpoint(playerid, 0,1999.3796,1557.4066,15.6928,179.5336,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_53:
				{

					pMarshCar[playerid] = CHECKPOINT_54;
					SetPlayerRaceCheckpoint(playerid, 0,1998.3658,1522.5608,15.7139,161.6731,0.0,0.0, 5.0);//
				}
 			case CHECKPOINT_54:
				{

					pMarshCar[playerid] = CHECKPOINT_55;
					SetPlayerRaceCheckpoint(playerid, 0,1976.7219,1513.6240,15.6119,90.0255,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_55:
				{

					pMarshCar[playerid] = CHECKPOINT_56;
					SetPlayerRaceCheckpoint(playerid, 0,1940.8862,1512.9064,13.0504,89.5316,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_56:
				{

					pMarshCar[playerid] = CHECKPOINT_57;
					SetPlayerRaceCheckpoint(playerid, 0,1890.1194,1510.8047,9.8448,110.2506,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_57:
				{

					pMarshCar[playerid] = CHECKPOINT_58;
					SetPlayerRaceCheckpoint(playerid, 0,1875.9998,1475.0739,9.7664,181.7525,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_58:
				{

					pMarshCar[playerid] = CHECKPOINT_59;
					SetPlayerRaceCheckpoint(playerid, 0,1876.6838,1447.5475,9.7432,181.3523,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_59:
				{

					pMarshCar[playerid] = CHECKPOINT_60;
					SetPlayerRaceCheckpoint(playerid, 0,1875.4722,1379.4409,9.7409,180.8426,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_60:
				{

					pMarshCar[playerid] = CHECKPOINT_61;
					SetPlayerRaceCheckpoint(playerid, 0,1893.2190,1322.1752,10.4889,269.3973,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_61:
				{

					pMarshCar[playerid] = CHECKPOINT_62;
					SetPlayerRaceCheckpoint(playerid, 0,1938.0334,1321.6691,20.5600,270.1120,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_62:
				{

					pMarshCar[playerid] = CHECKPOINT_63;
					SetPlayerRaceCheckpoint(playerid, 0,1986.2440,1321.8223,25.4714,269.2544,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_63:
				{

					pMarshCar[playerid] = CHECKPOINT_64;
					SetPlayerRaceCheckpoint(playerid, 0,2052.5432,1321.7341,26.1080,270.3314,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_64:
				{

					pMarshCar[playerid] = CHECKPOINT_65;
					SetPlayerRaceCheckpoint(playerid, 0,2119.3230,1339.9232,24.1138,297.2030,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_65:
				{

					pMarshCar[playerid] = CHECKPOINT_66;
					SetPlayerRaceCheckpoint(playerid, 0,2223.1670,1351.0703,11.3744,277.1825,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_66:
				{

					pMarshCar[playerid] = CHECKPOINT_67;
					SetPlayerRaceCheckpoint(playerid, 0,2348.4495,1353.3159,11.3739,270.6497,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_67:
				{

					pMarshCar[playerid] = CHECKPOINT_68;
					SetPlayerRaceCheckpoint(playerid, 0,2460.2710,1352.9774,11.6443,272.9101,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_68:
				{

					pMarshCar[playerid] = CHECKPOINT_69;
					SetPlayerRaceCheckpoint(playerid, 0,2550.5515,1353.5840,14.8076,271.4920,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_69:
				{

					pMarshCar[playerid] = CHECKPOINT_70;
					SetPlayerRaceCheckpoint(playerid, 0,2569.7710,1318.2729,17.0886,210.7842,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_70:
				{

					pMarshCar[playerid] = CHECKPOINT_71;
					SetPlayerRaceCheckpoint(playerid, 0,2602.9441,1264.3168,20.5483,212.0859,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_71:
				{

					pMarshCar[playerid] = CHECKPOINT_72;
					SetPlayerRaceCheckpoint(playerid, 0,2705.5806,1057.8341,18.2331,197.8498,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_72:
				{

					pMarshCar[playerid] = CHECKPOINT_73;
					SetPlayerRaceCheckpoint(playerid, 0,2720.8477,996.3530,21.8858,190.9347,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_73:
				{

					pMarshCar[playerid] = CHECKPOINT_74;
					SetPlayerRaceCheckpoint(playerid, 0,2799.3401,818.1885,30.2612,211.0564,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_74:
				{

					pMarshCar[playerid] = CHECKPOINT_75;
					SetPlayerRaceCheckpoint(playerid, 0,2895.6648,623.6418,32.6514,185.4825,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_75:
				{

					pMarshCar[playerid] = CHECKPOINT_76;
					SetPlayerRaceCheckpoint(playerid, 0,2899.0154,381.0404,19.0736,179.9449,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_76:
				{

					pMarshCar[playerid] = CHECKPOINT_77;
					SetPlayerRaceCheckpoint(playerid, 0,2897.3760,228.2437,12.3516,178.7579,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_77:
				{

					pMarshCar[playerid] = CHECKPOINT_78;
					SetPlayerRaceCheckpoint(playerid, 0,2899.3354,26.4496,21.7766,178.2754,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_78:
				{

					pMarshCar[playerid] = CHECKPOINT_79;
					SetPlayerRaceCheckpoint(playerid, 0,2891.7388,-213.0678,23.4859,168.4253,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_79:
				{

					pMarshCar[playerid] = CHECKPOINT_80;
					SetPlayerRaceCheckpoint(playerid, 0,2849.6040,-309.2219,25.2407,148.0459,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_80:
				{

					pMarshCar[playerid] = CHECKPOINT_81;
					SetPlayerRaceCheckpoint(playerid, 0,2771.8613,-439.9666,23.6847,148.8129,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_81:
				{

					pMarshCar[playerid] = CHECKPOINT_82;
					SetPlayerRaceCheckpoint(playerid, 0,2740.0889,-762.3192,23.5434,180.2797,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_82:
				{

					pMarshCar[playerid] = CHECKPOINT_83;
					SetPlayerRaceCheckpoint(playerid, 0,2739.7925,-1001.1005,23.5596,178.3219,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_83:
				{

					pMarshCar[playerid] = CHECKPOINT_84;
					SetPlayerRaceCheckpoint(playerid, 0,2739.0515,-1046.1329,23.2811,179.9578,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_84:
				{

					pMarshCar[playerid] = CHECKPOINT_85;
					SetPlayerRaceCheckpoint(playerid, 0,2738.4509,-1139.3223,23.2811,180.9009,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_85:
				{

					pMarshCar[playerid] = CHECKPOINT_86;
					SetPlayerRaceCheckpoint(playerid, 0,2738.8149,-1205.7800,23.2761,180.9233,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_86:
				{

					pMarshCar[playerid] = CHECKPOINT_87;
					SetPlayerRaceCheckpoint(playerid, 0,2739.1074,-1264.2384,23.2811,181.5520,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_87:
				{

					pMarshCar[playerid] = CHECKPOINT_88;
					SetPlayerRaceCheckpoint(playerid, 0,2738.7114,-1314.0306,23.2811,181.1038,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_88:
				{

					pMarshCar[playerid] = CHECKPOINT_89;
					SetPlayerRaceCheckpoint(playerid, 0,2637.9861,-1512.6022,23.2965,91.4173,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_89:
				{

					pMarshCar[playerid] = CHECKPOINT_90;
					SetPlayerRaceCheckpoint(playerid, 0,2526.3853,-1513.6522,23.3736,89.4452,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_90:
				{

					pMarshCar[playerid] = CHECKPOINT_91;
					SetPlayerRaceCheckpoint(playerid, 0,2450.3137,-1513.4794,23.3680,91.9304,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_91:
				{

					pMarshCar[playerid] = CHECKPOINT_92;
					SetPlayerRaceCheckpoint(playerid, 0,2357.3757,-1517.6421,23.3583,102.3623,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_92:
				{

					pMarshCar[playerid] = CHECKPOINT_93;
					SetPlayerRaceCheckpoint(playerid, 0,2280.8765,-1628.7557,22.5405,175.4063,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_93:
				{

					pMarshCar[playerid] = CHECKPOINT_94;
					SetPlayerRaceCheckpoint(playerid, 0,2277.2612,-1730.2617,21.5386,178.1648,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_94:
				{

					pMarshCar[playerid] = CHECKPOINT_95;
					SetPlayerRaceCheckpoint(playerid, 0,2327.0254,-1760.7927,21.5392,271.9793,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_95:
				{

					pMarshCar[playerid] = CHECKPOINT_96;
					SetPlayerRaceCheckpoint(playerid, 0,2421.0901,-1761.6448,35.4221,269.9256,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_96:
				{

					pMarshCar[playerid] = CHECKPOINT_97;
					SetPlayerRaceCheckpoint(playerid, 0,2543.6135,-1765.2601,35.4162,256.1269,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_98:
				{

					pMarshCar[playerid] = CHECKPOINT_99;
					SetPlayerRaceCheckpoint(playerid, 0,2668.9268,-1818.7169,35.4198,215.6328,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_99:
				{

					pMarshCar[playerid] = CHECKPOINT_100;
					SetPlayerRaceCheckpoint(playerid, 0,2707.6467,-2016.9420,35.4326,181.7576,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_100:
				{

					pMarshCar[playerid] = CHECKPOINT_101;
					SetPlayerRaceCheckpoint(playerid, 0,2707.7839,-2138.8838,21.5497,179.6307,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_101:
				{

					pMarshCar[playerid] = CHECKPOINT_102;
					SetPlayerRaceCheckpoint(playerid, 0,2621.7241,-2147.4766,21.5497,91.1348,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_102:
				{

					pMarshCar[playerid] = CHECKPOINT_103;
					SetPlayerRaceCheckpoint(playerid, 0,2612.9666,-2054.9243,21.5407,0.1302,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_103:
				{

					pMarshCar[playerid] = CHECKPOINT_104;
					SetPlayerRaceCheckpoint(playerid, 0,2612.9734,-1874.1871,21.5407,358.3722,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_104:
				{

					pMarshCar[playerid] = CHECKPOINT_105;
					SetPlayerRaceCheckpoint(playerid, 0,2608.6343,-1691.2074,22.5920,4.5509,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_105:
				{

					pMarshCar[playerid] = CHECKPOINT_106;
					SetPlayerRaceCheckpoint(playerid, 0,2607.0298,-1536.2936,23.3580,2.6419,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_106:
				{

					pMarshCar[playerid] = CHECKPOINT_107;
					SetPlayerRaceCheckpoint(playerid, 0,2730.6514,-1486.2780,23.4278,323.4242,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_107:
				{

					pMarshCar[playerid] = CHECKPOINT_108;
					SetPlayerRaceCheckpoint(playerid, 0,2757.2649,-1265.7483,23.2811,4.1693,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_108:
				{

					pMarshCar[playerid] = CHECKPOINT_109;
					SetPlayerRaceCheckpoint(playerid, 0,2757.0996,-1132.1176,23.2811,1.0716,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_109:
				{

					pMarshCar[playerid] = CHECKPOINT_110;
					SetPlayerRaceCheckpoint(playerid, 0,2755.9670,-890.0844,23.5031,0.8432,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_110:
				{

					pMarshCar[playerid] = CHECKPOINT_111;
					SetPlayerRaceCheckpoint(playerid, 0,2783.2041,-449.8279,23.5657,332.2572,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_111:
				{

					pMarshCar[playerid] = CHECKPOINT_112;
					SetPlayerRaceCheckpoint(playerid, 0,2892.7712,-263.0692,23.5460,336.0920,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_112:
				{

					pMarshCar[playerid] = CHECKPOINT_113;
					SetPlayerRaceCheckpoint(playerid, 0,2914.3108,-28.6563,24.0224,359.2887,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_113:
				{

					pMarshCar[playerid] = CHECKPOINT_114;
					SetPlayerRaceCheckpoint(playerid, 0,2913.9539,229.0036,12.3647,359.7166,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_114:
				{

					pMarshCar[playerid] = CHECKPOINT_115;
					SetPlayerRaceCheckpoint(playerid, 0,2913.6814,379.1345,18.9259,359.9871,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_115:
				{

					pMarshCar[playerid] = CHECKPOINT_116;
					SetPlayerRaceCheckpoint(playerid, 0,2901.9434,666.9897,33.3263,17.5745,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_116:
				{

					pMarshCar[playerid] = CHECKPOINT_117;
					SetPlayerRaceCheckpoint(playerid, 0,2810.1787,830.7123,30.2444,35.1920,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_117:
				{

					pMarshCar[playerid] = CHECKPOINT_118;
					SetPlayerRaceCheckpoint(playerid, 0,2639.3528,1234.0724,21.8988,33.5765,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_118:
				{

					pMarshCar[playerid] = CHECKPOINT_119;
					SetPlayerRaceCheckpoint(playerid, 0,2562.5378,1389.8481,12.9372,12.2845,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_119:
				{

					pMarshCar[playerid] = CHECKPOINT_120;
					SetPlayerRaceCheckpoint(playerid, 0,2680.8320,1605.7894,16.7816,318.4893,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_120:
				{

					pMarshCar[playerid] = CHECKPOINT_121;
					SetPlayerRaceCheckpoint(playerid, 0,2748.5994,1797.3971,15.4636,355.9210,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_122:
				{

					pMarshCar[playerid] = CHECKPOINT_123;
					SetPlayerRaceCheckpoint(playerid, 0,2754.7588,1890.7684,15.8921,357.4496,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_123:
				{

					pMarshCar[playerid] = CHECKPOINT_124;
					SetPlayerRaceCheckpoint(playerid, 0,2734.8252,1898.9886,15.9353,84.1466,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_124:
				{

					pMarshCar[playerid] = CHECKPOINT_125;
					SetPlayerRaceCheckpoint(playerid, 0,2734.3855,1815.6779,15.5458,177.3118,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_125:
				{

					pMarshCar[playerid] = CHECKPOINT_126;
					SetPlayerRaceCheckpoint(playerid, 0,2657.5405,1604.2488,16.6041,132.6264,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_126:
				{

					pMarshCar[playerid] = CHECKPOINT_127;
					SetPlayerRaceCheckpoint(playerid, 0,2577.7844,1538.2858,13.4548,138.7887,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_127:
				{

					pMarshCar[playerid] = CHECKPOINT_128;
					SetPlayerRaceCheckpoint(playerid, 0,2540.7485,1437.9014,11.3194,181.7847,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_128:
				{

					pMarshCar[playerid] = CHECKPOINT_129;
					SetPlayerRaceCheckpoint(playerid, 0,2552.3457,1377.1284,13.5907,202.0039,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_129:
				{

					pMarshCar[playerid] = CHECKPOINT_130;
					SetPlayerRaceCheckpoint(playerid, 0,2524.6641,1354.9194,11.7839,89.4096,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_131:
				{

					pMarshCar[playerid] = CHECKPOINT_132;
					SetPlayerRaceCheckpoint(playerid, 0,2448.3076,1355.6049,11.6037,89.4980,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_132:
				{

					pMarshCar[playerid] = CHECKPOINT_133;
					SetPlayerRaceCheckpoint(playerid, 0,2294.4282,1354.7123,11.3706,85.9606,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_133:
				{

					pMarshCar[playerid] = CHECKPOINT_134;
					SetPlayerRaceCheckpoint(playerid, 0,2058.8616,1323.4734,26.1110,89.7270,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_134:
				{

					pMarshCar[playerid] = CHECKPOINT_135;
					SetPlayerRaceCheckpoint(playerid, 0,1887.0240,1322.5222,9.7842,86.3037,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_135:
				{

					pMarshCar[playerid] = CHECKPOINT_136;
					SetPlayerRaceCheckpoint(playerid, 0,1879.1461,1388.2755,9.7391,1.1487,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_136:
				{

					pMarshCar[playerid] = CHECKPOINT_137;
					SetPlayerRaceCheckpoint(playerid, 0,1879.2389,1473.6863,9.7572,359.1564,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_137:
				{

					pMarshCar[playerid] = CHECKPOINT_138;
					SetPlayerRaceCheckpoint(playerid, 0,1981.8481,1511.5574,15.7079,271.7850,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_138:
				{

					pMarshCar[playerid] = CHECKPOINT_139;
					SetPlayerRaceCheckpoint(playerid, 0,1983.8948,1652.8774,15.7109,19.3744,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_139:
				{

					pMarshCar[playerid] = CHECKPOINT_140;
					SetPlayerRaceCheckpoint(playerid, 0,1968.4044,1888.0708,15.2535,359.4505,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_140:
				{

					pMarshCar[playerid] = CHECKPOINT_141;
					SetPlayerRaceCheckpoint(playerid, 0,1964.6785,2038.7915,15.5983,15.7082,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_142:
				{

					pMarshCar[playerid] = CHECKPOINT_143;
					SetPlayerRaceCheckpoint(playerid, 0,1882.7073,2057.7429,15.5957,89.5686,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_143:
				{

					pMarshCar[playerid] = CHECKPOINT_144;
					SetPlayerRaceCheckpoint(playerid, 0,1774.8754,2098.0469,15.7508,0.1647,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_144:
				{

					pMarshCar[playerid] = CHECKPOINT_145;
					SetPlayerRaceCheckpoint(playerid, 0,1774.5442,2206.8303,15.6950,0.0574,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_145:
				{

					pMarshCar[playerid] = CHECKPOINT_146;
					SetPlayerRaceCheckpoint(playerid, 0,1823.7430,2222.4121,15.5447,268.6455,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_146:
				{
					new Float:hph;
					GetVehicleHealth(GetPlayerVehicleID(playerid),hph);
					if(hph >= 850)
					{
                        if(GetPVarInt(playerid, "MARCH") == 1)
						{
                            SetVehicleVirtualWorld(GetPlayerVehicleID(playerid), 0);
							SendClientMessage(playerid, COLOR_BLUE, "Поздравляем! Вы успешно сдали на права");
						}
                        SetPlayerVirtualWorld(playerid, 0);
						SetVehicleVirtualWorld(GetPlayerVehicleID(playerid), 0);
						DeletePVar(playerid, "MARCH");
						DisablePlayerRaceCheckpoint(playerid);
						SetVehicleToRespawn(GetPlayerVehicleID(playerid));

					}
				}
			}
		}
	}
	if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER)                         // - Маршрут сдачи на права.
	{
		if(GetPVarInt(playerid, "LESSON") >= 0)
		{
			switch(pLessonCar[playerid])
			{
			case CHECKPOINT_1:
				{

					pLessonCar[playerid] = CHECKPOINT_2;
					SetPlayerRaceCheckpoint(playerid, 0,1887.0807,2201.9712,16.0329,1887.1703,2141.7307,16.0340, 5.0);
				}
			case CHECKPOINT_2:
				{

					pLessonCar[playerid] = CHECKPOINT_3;
					SetPlayerRaceCheckpoint(playerid, 0,1887.1703,2141.7307,16.0340,1887.2716,2065.8665,16.0506, 5.0);
				}
			case CHECKPOINT_3:
				{

					pLessonCar[playerid] = CHECKPOINT_4;
					SetPlayerRaceCheckpoint(playerid, 0,1887.2716,2065.8665,16.0506,1961.3928,2033.7277,16.0333, 5.0);
				}
			case CHECKPOINT_4:
				{

					pLessonCar[playerid] = CHECKPOINT_5;
					SetPlayerRaceCheckpoint(playerid, 0,1961.3928,2033.7277,16.0333,1962.7013,1918.0162,15.6653, 5.0);
				}
			case CHECKPOINT_5:
				{

					pLessonCar[playerid] = CHECKPOINT_6;
					SetPlayerRaceCheckpoint(playerid, 0,1962.7013,1918.0162,15.6653,2042.0293,1903.9966,16.0687, 5.0);
				}
			case CHECKPOINT_6:
				{

					pLessonCar[playerid] = CHECKPOINT_7;
					SetPlayerRaceCheckpoint(playerid, 0,2042.0293,1903.9966,16.0687,2231.6516,1903.4723,16.0765, 5.0);
				}
			case CHECKPOINT_7:
				{

					pLessonCar[playerid] = CHECKPOINT_8;
					SetPlayerRaceCheckpoint(playerid, 0,2231.6516,1903.4723,16.0765,2355.4775,1910.8282,16.0987, 5.0);
				}
			case CHECKPOINT_8:
				{

					pLessonCar[playerid] = CHECKPOINT_9;
					SetPlayerRaceCheckpoint(playerid, 0,2355.4775,1910.8282,16.0987,2450.4067,1894.6167,16.3244, 5.0);
				}
			case CHECKPOINT_9:
				{

					pLessonCar[playerid] = CHECKPOINT_10;
					SetPlayerRaceCheckpoint(playerid, 0,2450.4067,1894.6167,16.3244,2575.0854,1894.3824,16.3788, 5.0);
				}
			case CHECKPOINT_10:
				{

					pLessonCar[playerid] = CHECKPOINT_11;
					SetPlayerRaceCheckpoint(playerid, 0,2575.0854,1894.3824,16.3788,2714.0862,1896.9119,16.4075, 5.0);
				}
			case CHECKPOINT_11:
				{

					pLessonCar[playerid] = CHECKPOINT_13;
					SetPlayerRaceCheckpoint(playerid, 0,2714.0862,1896.9119,16.4075,2755.3105,1925.2411,16.7373, 5.0);
				}
			case CHECKPOINT_13:
				{

					pLessonCar[playerid] = CHECKPOINT_14;
					SetPlayerRaceCheckpoint(playerid, 0,2755.3105,1925.2411,16.7373,2761.7229,2067.5271,18.1328, 5.0);
				}
			case CHECKPOINT_14:
				{

					pLessonCar[playerid] = CHECKPOINT_15;
					SetPlayerRaceCheckpoint(playerid, 0,2761.7229,2067.5271,18.1328,2757.0786,2338.6079,16.2255, 5.0);
				}
			case CHECKPOINT_15:
				{

					pLessonCar[playerid] = CHECKPOINT_16;
					SetPlayerRaceCheckpoint(playerid, 0,2757.0786,2338.6079,16.2255,2716.0344,2587.1267,16.1037, 5.0);
				}
			case CHECKPOINT_16:
				{

					pLessonCar[playerid] = CHECKPOINT_17;
					SetPlayerRaceCheckpoint(playerid, 0,2716.0344,2587.1267,16.1037,2670.1716,2780.2522,19.0839, 5.0);
				}
			case CHECKPOINT_17:
				{

					pLessonCar[playerid] = CHECKPOINT_18;
					SetPlayerRaceCheckpoint(playerid, 0,2670.1716,2780.2522,19.0839,2406.0046,2958.2695,21.9037, 5.0);
				}
			case CHECKPOINT_18:
				{

					pLessonCar[playerid] = CHECKPOINT_19;
					SetPlayerRaceCheckpoint(playerid, 0,2406.0046,2958.2695,21.9037,2108.9197,2967.3086,11.8601, 5.0);
				}
			case CHECKPOINT_19:
				{

					pLessonCar[playerid] = CHECKPOINT_20;
					SetPlayerRaceCheckpoint(playerid, 0,2108.9197,2967.3086,11.8601,2055.1235,2871.2405,13.8533, 5.0);
				}
			case CHECKPOINT_20:
				{

					pLessonCar[playerid] = CHECKPOINT_21;
					SetPlayerRaceCheckpoint(playerid, 0,2055.1235,2871.2405,13.8533,1932.4110,2704.2976,15.4065, 5.0);
				}
			case CHECKPOINT_21:
				{

					pLessonCar[playerid] = CHECKPOINT_22;
					SetPlayerRaceCheckpoint(playerid, 0,1932.4110,2704.2976,15.4065,1784.3219,2562.0911,15.3670, 5.0);
				}
			case CHECKPOINT_22:
				{

					pLessonCar[playerid] = CHECKPOINT_23;
					SetPlayerRaceCheckpoint(playerid, 0,1784.3219,2562.0911,15.3670,1768.1477,2482.2603,16.1258, 5.0);
				}
			case CHECKPOINT_23:
				{

					pLessonCar[playerid] = CHECKPOINT_24;
					SetPlayerRaceCheckpoint(playerid, 0,1768.1477,2482.2603,16.1258,1858.2102,2346.9963,16.1209, 5.0);
				}
			case CHECKPOINT_24:
				{

					pLessonCar[playerid] = CHECKPOINT_25;
					SetPlayerRaceCheckpoint(playerid, 0,1858.2102,2346.9963,16.1209,1897.2427,2247.2283,15.9712, 5.0);
				}
			case CHECKPOINT_25:
				{

					pLessonCar[playerid] = CHECKPOINT_26;
					SetPlayerRaceCheckpoint(playerid, 0,1897.2427,2247.2283,15.9712,1915.2113,2246.1807,15.9017, 5.0);
				}
			case CHECKPOINT_26:
				{

					pLessonCar[playerid] = CHECKPOINT_27;
					SetPlayerRaceCheckpoint(playerid, 0,1915.2113,2246.1807,15.9017,0.0,0.0,0.0, 5.0);//
				}
			case CHECKPOINT_27:
				{
					new Float:hph;
					GetVehicleHealth(GetPlayerVehicleID(playerid),hph);
					if(hph >= 850)
					{
                        SetPlayerVirtualWorld(playerid, 0);
						SetVehicleVirtualWorld(GetPlayerVehicleID(playerid), 0);
						DeletePVar(playerid, "LESSON");
						DisablePlayerRaceCheckpoint(playerid);
						SetVehicleToRespawn(GetPlayerVehicleID(playerid));

					}
					else
					{
                        SetPlayerVirtualWorld(playerid, 0);
                        SetVehicleVirtualWorld(GetPlayerVehicleID(playerid), 0);
						SendClientMessage(playerid, COLOR_BLUE, "К сожалению в не сдали экзамен по вождению");
						DeletePVar(playerid, "LESSON");
						DisablePlayerRaceCheckpoint(playerid);
						SetVehicleToRespawn(GetPlayerVehicleID(playerid));
					}
				}
			}
		}
	}
	return 1;
}

public OnPlayerRequestSpawn(playerid)
{
    return 0;
}

public OnPlayerLeaveRaceCheckpoint(playerid)
{
    return 1;
}

public OnObjectMoved(objectid) return 1;
public OnPlayerObjectMoved(playerid, objectid) return 1;

/*public OnPlayerPickUpPickup(playerid, pickupid)
{
	for(new i; i < sizeof USE_ALT; i++) PlayerTextDrawShow(playerid, USE_ALT[i]);
	SetTimerEx("HideNoticeTextDraw", 2500, false, "i", playerid);
    if(g_pickup_flood[playerid] <= GetTickCount())
	{
		g_pickup_flood[playerid] = GetTickCount() + 250;

		new
			action_type = PICKUP_ACTION_TYPE_NONE,
			action_id = PICKUP_ACTION_ID_NONE;

		if(IsValidPickupID(pickupid))
		{
			action_type = GetPickupInfo(pickupid, P_ACTION_TYPE);
			action_id = GetPickupInfo(pickupid, P_ACTION_ID);
		}
		return OnPlayerPickUpPickupEx(playerid, pickupid, action_type, action_id);
	}
	return 0;
}*/

new scooter_price = 300;

cmd:setscooterprice(playerid,params[])
{
	if(PI[playerid][pAdmin] < 6) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	if(sscanf(params, "d", params[0])) return SendClientMessage(playerid, -1, "Используйте: /setscooterprice [цена]");
	scooter_price = params[0];
	new str[128]; 
	format(str, 128, "[A] Администратор %s изменил цену на аренду скутера. Новая: %d $.", GetName(playerid), params[0]);
	SendAdminMessage(COLOR_BLUE,str);
	return SendClientMessageToAll(COLOR_BLUE, "Цена на скутер была изменена!");
}

publics PlayerPickup(playerid, pickupid) {

	printf("Pickup executed: %d", pickupid);

	PlayerPickupID[playerid] = -1;
	return 1;

}

public OnPlayerPickUpPickup(playerid, pickupid)
{
	if(pickupid == scooter_pickup) {
		new string[350];
		format(string, sizeof(string), "{FF0000}Вы действительно хотите арендовать скутер?\n\
		{FFFFFF}-----------------------------------------\n\
		{ADFF2F}Скутер {FFFFFF}- это хорошее временное решение для тех, у кого\n\
		нет денег на более дорогой автомобиль.\n\
		Скутер будет Вам верным помощником!\n\
		{FF0000}Стоимость скутера составит {FFFFFF}%d{FF0000} рублей.", scooter_price);
		ShowPlayerDialog(playerid, SCOOTER, DIALOG_STYLE_MSGBOX, "Аренда скутера", string, "Арендовать", "Отмена");
	}
	if(g_pickup_flood[playerid] <= GetTickCount())
	{
		g_pickup_flood[playerid] = GetTickCount() + 250;

		new
			action_type = PICKUP_ACTION_TYPE_NONE,
			action_id = PICKUP_ACTION_ID_NONE;

        for(new i; i < sizeof USE_ALT; i++) PlayerTextDrawShow(playerid, USE_ALT[i]);
		SetTimerEx("HideNoticeTextDraw", 2500, false, "i", playerid);

		if(IsValidPickupID(pickupid))
		{
			action_type = GetPickupInfo(pickupid, P_ACTION_TYPE);
			action_id = GetPickupInfo(pickupid, P_ACTION_ID);
		}
		return OnPlayerPickUpPickupEx(playerid, pickupid, action_type, action_id);
	}
	return 0;
}

forward PickupBack(playerid);
public PickupBack(playerid)
{
	pickupentered[playerid] = 0;
	return 1;
}

forward ResetAntiFloodPick(playerid);
public ResetAntiFloodPick(playerid) {
	PlayerPickupID[playerid] = -1;
	return 1;
}
//==============================================================================
public OnPlayerPickUpDynamicPickup(playerid, pickupid)
{
    if(pickupentered[playerid] == 1) return 1;
	for(new i; i < sizeof USE_ALT; i++) PlayerTextDrawShow(playerid, USE_ALT[i]);
	if(PlayerPickupID[playerid] == pickupid) return 1;
	PlayerPickupID[playerid] = pickupid;
	SetTimerEx("ResetAntiFloodPick", 3000, 0, "i", playerid);
	if(GetPVarInt(playerid, "PickupTime") > gettime()) return 1;
	SetPVarInt(playerid, "PickupTime", gettime()+3);

	SetTimerEx("HideNoticeTextDraw", 3000, false, "i", playerid);

	if(pickupid == scooter_pickup){
		new string[350];
		format(string, sizeof(string), "{FF0000}Вы действительно хотите арендовать скутер?\n\
		{FFFFFF}-----------------------------------------\n\
		{ADFF2F}Скутер {FFFFFF}- это хорошее временное решение для тех, у кого\n\
		нет денег на более дорогой автомобиль.\n\
		Скутер будет Вам верным помощником!\n\
		{FF0000}Стоимость скутера составит {FFFFFF}%d{FF0000} рублей.", scooter_price);
		ShowPlayerDialog(playerid, SCOOTER, DIALOG_STYLE_MSGBOX, "Аренда скутера", string, "Арендовать", "Отмена");
	}

	if(pickupid == autoschool_Teoriya[playerid]) {
		autoschool_AnswerTeoriya(playerid);
		DestroyDynamicPickup(autoschool_Teoriya[playerid]);
	}

	pickup_alt(playerid, pickupid);	

	if(pickupid == AO_PICK[0]) // Пикап входа в мэрию
	{
		FreezePlayer(playerid, 2000);
		SetPlayerPos(playerid,-1430.4005,-1125.5985,1521.9399);
		SetPlayerFacingAngle(playerid, 260.0000);
		SetPlayerVirtualWorld(playerid, 0);
		SetPlayerInterior(playerid, 0);
		SendTimeMessage(playerid, "Добро пожаловать в Администрацию Области", 2000);
	}

	else if(pickupid == autoschool_Teoriya[playerid]) {
		// начало теории

	}
	else if(pickupid == AO_PICK[1]) //
	{
		FreezePlayer(playerid, 2000);
		SetPlayerPos(playerid, 1923.5029, -2233.8723, 11.2581);
		SetPlayerFacingAngle(playerid, 270.0000);
		SetPlayerVirtualWorld(playerid, 0);
		SetPlayerInterior(playerid, 0);
	}
	else if(pickupid == AO_PICK[3]) {
		if(PI[playerid][pMember] != TEAM_AO && PI[playerid][pLeader] != TEAM_AO) {
			SendErr(playerid, "У Вас нет доступа к этой двери");
			return 1;
		}
		FreezePlayer(playerid, 2000);
		SetPlayerPos(playerid, -1423.6630, -1140.2771, 1521.9399);
		SetPlayerFacingAngle(playerid, 0.0000);
		SetPlayerVirtualWorld(playerid, 0);
		SetPlayerInterior(playerid, 0);
	}
	else if(pickupid == AO_PICK[4]) {
		if(PI[playerid][pMember] != TEAM_AO && PI[playerid][pLeader] != TEAM_AO) {
			SendErr(playerid, "У Вас нет доступа к этой двери");
			return 1;
		}
		FreezePlayer(playerid, 2000);
		SetPlayerPos(playerid, 1940.4022, -2207.5417, 11.2581);
		SetPlayerFacingAngle(playerid, 0.0000);
		SetPlayerVirtualWorld(playerid, 0);
		SetPlayerInterior(playerid, 0);
	}
	else if(pickupid == vodolazmeshok[0])// 1 мешок водолаза
	{
		if(GetPVarInt(playerid, "InJobVodolaz") == 0) return 1;
		if(GetPVarInt(playerid, "VodolazMeshok1") == 1) return 1;
		if(GetPVarInt(playerid, "VodolazMeshok2") == 1) return 1;
		else
		SetPVarInt(playerid, "VodolazMeshok1", 1);
		SetPlayerAttachedObject(playerid,1, 1279, 5,0.273000,0.039999,-0.011000,61.400001,6.000006,10.100000,1.000000,1.000000,1.000000);
		SendClientMessage(playerid, COLOR_LIME, "Вы подняли затонувший ящик");
	}
	else if(pickupid == vodolazmeshok[1]) // 2 мешок водолаза
	{
		if(GetPVarInt(playerid, "InJobVodolaz") == 0) return 1;
		if(GetPVarInt(playerid, "VodolazMeshok2") == 1) return 1;
		if(GetPVarInt(playerid, "VodolazMeshok1") == 0) return 1;
		else
		SetPVarInt(playerid, "VodolazMeshok2", 1);
		SetPVarInt(playerid, "VodolazGoToSklad",1);
		SetPlayerCheckpoint(playerid, 2820.2581,-1419.8959,2.9151,3.0);// Создаём один из чекпоинтов
		SetPlayerAttachedObject(playerid,2, 1279, 6,0.330999,0.065999,0.072999,94.600006,-3.500000,11.500000,1.000000,1.000000,1.000000);
		SendClientMessage(playerid, COLOR_LIME, "Вы подняли затонувший ящик");
		SendClientMessage(playerid, COLOR_LIME, "Вы подняли оба ящика, отнесите их на берег");
	}
	else if(pickupid == paintjob[0])
	{
 		if(paintt[1] == 0)
   		return SendClientMessage(playerid, COLOR_RED, "В данное время регистрация недоступна");

		if(GetPVarInt(playerid, "paintball") == 1)
  		return SendClientMessage(playerid, COLOR_RED, "Вы уже зарегистрировались на матч!");

		if(GetPVarInt(playerid, "paintball") == 2)
  		return SendClientMessage(playerid, COLOR_RED, "Пейнтбол уже начался");

		SetPVarInt(playerid, "paintball", 1);
		paintt[2] ++;
		SendClientMessage(playerid, COLOR_LIME, "Вы зарегистрировались. Ожидайте начала пенйтбола");
	}
	if(pickupid == pickmetll)
	{
		ShowPlayerDialog(playerid,2278,1,"{FFCC00}Покупка металла","{FFFFFF}1 кг металла стоит {00CC00}10 рублей.\n{ffffff}Введите количество металла для покупки:","Далее","Отмена");
	}
	if(pickupid == lesspick[0])
	{
	    if(GetPVarInt(playerid, "lesspick") > gettime()) return 1;
     	if(UseWork[playerid] == 3) return SendClientMessage(playerid, COLOR_RED, "Вы уже где-то работаете! Завершите работу!");
  		if(!UseWork[playerid]) ShowPlayerDialog(playerid, 669, 0, "{FFCC00}Лесопилка", "{FFFFFF}Вы хотите начать работу на лесопилке?", "Да", "Нет");
		else if(UseWork[playerid] == 2) ShowPlayerDialog(playerid, 670, 0, "{FFCC00}Лесопилка", "{FFFFFF}Вы хотите завершить работу на лесопилке?", "Да", "Нет");
		SetPVarInt(playerid, "lesspick", gettime()+5);
		return 1;
	}
	else if(pickupid == stolovkapick[0]) // медики вход ls
	{
	    FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid,0);
		SetPlayerPos(playerid,341.2714,2962.2874,1.7659);
		SetPlayerFacingAngle(playerid, 51.1457);
		SetPlayerVirtualWorld(playerid, 0);
	}
	else if(pickupid == stolovkapick[1]) // медики вход ls
	{
	    FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid,0);
		SetPlayerPos(playerid,345.6590,2952.8816,1.7659);
		SetPlayerFacingAngle(playerid, 180.1457);
		SetPlayerVirtualWorld(playerid, 0);
	}
	else if(pickupid == casino_nostalgia[0]) // Казино "Ностальгия", находится в пгт. Батырево, на месте старого казино со временем до ГО амазинга RP
	{
	    FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid,0);
		SetPlayerPos(playerid, 341.2714,2962.2874,1.7659);
		SetPlayerFacingAngle(playerid, 51.1457);
		SetPlayerVirtualWorld(playerid, 0);
		FreezePlayer(playerid, 2000);
	}
	else if(pickupid == autoschool_Teoriya[playerid]) {
		// ShowTeoriya()

	}
	else if(pickupid == casino_nostalgia[1]) // Казино ностальгия до Глобального Обновления
	{
	    FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid,0);
		SetPlayerPos(playerid, 345.6590,2952.8816,1.7659);
		SetPlayerFacingAngle(playerid, 180.1457);
		SetPlayerVirtualWorld(playerid, 0);
		FreezePlayer(playerid, 2000);
	}
	else if(pickupid == army_warehouse[0]) //	 склада армии (Воинская Часть)
	{
	    FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid,0);
		SetPlayerPos(playerid,-70.6202,1143.1808,2340.5300);
		SetPlayerFacingAngle(playerid, 180.0000);
		SetPlayerVirtualWorld(playerid, 0);
	}
	else if(pickupid == army_warehouse[1]) // Выход со склада армии
	{
		FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid, 0);
		SetPlayerPos(playerid, 1449.8923,1674.9708,15.3236);
		SetPlayerFacingAngle(playerid, 360.0000);
		SetPlayerVirtualWorld(playerid, 0);
	}
 	else if(pickupid == opgpick1[0]) // ОПГ Южная (TEAM_SPARTAK)
	{
	    FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid,0);
		SetPlayerPos(playerid,2097.0420,-1643.1669,2056.6399);
		SetPlayerFacingAngle(playerid, 360.0000);
		SetPlayerVirtualWorld(playerid, 0);
	}
	else if(pickupid == opgpick1[1]) // ОПГ Южная (TEAM_SPARTAK)
	{
		FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid,0);
		SetPlayerPos(playerid,2060.9980,-2592.7002,10.8200);
		SetPlayerFacingAngle(playerid, 4.0000);
		SetPlayerVirtualWorld(playerid, 0);
	}
	else if(pickupid == opgpick2[0]) // ОПГ Ореховская при въезде в Батырево (TEAM_CSKA)
	{
	    FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid,0);
		SetPlayerPos(playerid,2097.0420,-1643.1669,2056.6399);
		SetPlayerFacingAngle(playerid, 360.0000);
		SetPlayerVirtualWorld(playerid, 0);
	}
	else if(pickupid == opgpick2[1]) // ОПГ Ореховская при въезде в Батырево (TEAM_CSKA)
	{
		FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid,0);
		SetPlayerPos(playerid,2618.3423,1763.4185,2.5900);
		SetPlayerFacingAngle(playerid, 270.0000);
		SetPlayerVirtualWorld(playerid, 0);
	}
 	else if(pickupid == opgpick3[0]) // ОПГ Солнцевская в Арзамасе (TEAM_DINAMO)
	{
	    FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid,0);
		SetPlayerPos(playerid,2097.0420,-1643.1669,2056.6399);
		SetPlayerFacingAngle(playerid, 360.0000);
		SetPlayerVirtualWorld(playerid, 0);
	}
	else if(pickupid == opgpick3[1]) // ОПГ Солнцевская в Арзамасе (TEAM_DINAMO)
	{
		FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid,0);
		SetPlayerPos(playerid,-44.9701,1517.1692,13.8203);
		SetPlayerFacingAngle(playerid, 228.0000);
		SetPlayerVirtualWorld(playerid, 0);
	}
  	else if(pickupid == chechenpick[0]) // ОПГ Южная (TEAM_SPARTAK)
	{
	    FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid,0);
		SetPlayerPos(playerid,64.8311,1103.4893,1912.9700); // 1943.6547,2181.0076,15.7100 | 270.0000
		SetPlayerFacingAngle(playerid, 260.00);
		SetPlayerVirtualWorld(playerid, 0);
	}
	else if(pickupid == chechenpick[1]) // ОПГ Южная (TEAM_SPARTAK)
	{
		FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid,0);
		SetPlayerPos(playerid,1943.5939,2181.0959,15.7100);
		SetPlayerFacingAngle(playerid, 270.0000);
		SetPlayerVirtualWorld(playerid, 0);
	}
	else if(pickupid == avtosalonpick[0])
	{
		new string[64];
		SelectTextDraw(playerid, 0x808080AA);
		InShop[playerid] = 1;
		pPressed[playerid] = 0;
		PI[playerid][SalonCarID] = CreateVehicle(carsC[pPressed[playerid]][0],648.5434,82.5947,20.4591,270.0000,colors[playerid][0]=random(10),colors[playerid][1]=random(10),-1);
		format(string,sizeof(string),"%s",VehicleNames[carsC[pPressed[playerid]][0]-400]);
		PlayerTextDrawSetString(playerid, choicecars[playerid][6],string);
		SetPosInShop(playerid);
		SetPlayerCameraPos(playerid, 653.8977,87.5733,21.5138);
		SetPlayerCameraLookAt(playerid, 648.5434,82.5947,20.4591);
	}
	// else if(pickupid == carshowroom[0]) // Вход в автосалон
	// {
	//     FreezePlayer(playerid, 2000);
	// 	SetPlayerInterior(playerid, 0);
	// 	SetPlayerPos(playerid, 2654.7043,-1920.3297,2324.9944);
	// 	SetPlayerFacingAngle(playerid, 90.0000);
	// 	SetPlayerVirtualWorld(playerid, 0);
	// }
	// else if(pickupid == carshowroom[1]) // Выход с автосалона
	// {
	//     FreezePlayer(playerid, 2000);
	// 	SetPlayerInterior(playerid, 0);
	// 	SetPlayerPos(playerid, 657.7166, 979.5405, 12.0617);
	// 	SetPlayerFacingAngle(playerid, 160.0000);
	// 	SetPlayerVirtualWorld(playerid, 0);
	// }
	// else if(pickupid == avtosalonpick[1]) // Автосалон
	// {
	//     FreezePlayer(playerid, 2000);
	// 	SetPlayerInterior(playerid,0);
	// 	SetPlayerPos(playerid, 658.0707,980.4171,12.0617);
	// 	SetPlayerFacingAngle(playerid, 160.0000);
	// 	SetPlayerVirtualWorld(playerid, 0);
	// }
	else if(pickupid == PPS_PICK[0]) // Вход в ППС
	{
	    FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid,0);
		SetPlayerPos(playerid,472.7216,1332.6467,1723.5200);
		SetPlayerFacingAngle(playerid, 180.0000);
		SetPlayerVirtualWorld(playerid, 0);
	}
	else if(pickupid == PPS_PICK[1]) // Выход с ППС
	{
	    FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid,0);
		SetPlayerPos(playerid,405.0104,757.8054,12.0700);
		SetPlayerFacingAngle(playerid, 160.0000);
		SetPlayerVirtualWorld(playerid, 0);
	}
 	else if(pickupid == DPS_PICK[0]) // Вход в ДПС
	{
	    FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid,0);
		SetPlayerPos(playerid,-103.2358,737.9117,1620.9392);
		SetPlayerFacingAngle(playerid, 360.0000);
		SetPlayerVirtualWorld(playerid, 0);
	}
	else if(pickupid == DPS_PICK[1]) // Выход с ДПС
	{
	    FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid,0);
		SetPlayerPos(playerid,2578.0833,-2416.0530,21.9888);
		SetPlayerFacingAngle(playerid, 270.0000);
		SetPlayerVirtualWorld(playerid, 0);
	}
	else if(pickupid == CARSPAWN_PICK)
    {
    new listitems[] = "{ffffff}[1] - Infernus [{42aaff}20000${ffffff}]\n[2] - LandStalker [{42aaff}1000${ffffff}]\n[3] - Sultan [{42aaff}10000${ffffff}]";
    ShowPlayerDialog(playerid, 3000, DIALOG_STYLE_LIST, "{ffa500}Аренда транспортного средства", listitems, "Арендовать", "Отказатся");
    }
//===========================[ ФСИН ]===========================================
 	else if(pickupid == FSIN_PICK[0]) // Вход в ФСИН
	{
	    FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid,0);
		SetPlayerPos(playerid,168.6677,443.2296,1583.6801);
		SetPlayerFacingAngle(playerid, 270.0000);
		SetPlayerVirtualWorld(playerid, 0);
	}
	else if(pickupid == FSIN_PICK[1])
	{
	    FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid,0);
		SetPlayerPos(playerid,812.9999,2434.3218,12.2139);
		SetPlayerFacingAngle(playerid, 30.0000);
		SetPlayerVirtualWorld(playerid, 0);
	}
	else if(pickupid == FSIN_PICK[2])
	{
        SCM(playerid, COLOR_LIME,"Используйте команду /switchskin");
	}
	else if(pickupid == FSIN_PICK[3]) // Выход с ФСБ
	{
	}
//
	else if(pickupid == banyavhod[0]) // Вход в баню
	{
        if(PI[playerid][pBanya] == 0) return SendClientMessage(playerid, COLOR_RED, "У Вас нет абонемента");
		SetPVarInt(playerid, "Arend_Bath", 0);
		SetPlayerPos(playerid, 2190.4807,-317.7031,2332.1599);
		SetPlayerFacingAngle(playerid, 87.1949);
		SetPlayerSkin(playerid, 45);
	}
	else if(pickupid == banyavhod[1]) // Выход с с бани
	{
		SetPlayerPos(playerid,2191.3193,-341.1943,2332.1599);
		SetPlayerFacingAngle(playerid, 90.0148);
		if(PI[playerid][pMember]) SetPlayerSkin(playerid,PI[playerid][pMemberSkin]);
		else SetPlayerSkin(playerid,PI[playerid][pModel]);
	}
	else if(pickupid == banyapick[0]) // Вход в баню
	{
	    FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid,0);
		SetPlayerPos(playerid,2187.5549,-344.8570,2332.1599);
		SetPlayerFacingAngle(playerid, 266.7366);
		SetPlayerVirtualWorld(playerid, 0);
	}
	else if(pickupid == banyapick[1]) // Выход с с бани
	{
	    FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid,0);
		SetPlayerPos(playerid,2256.0566,-2187.6335,21.9476);
		SetPlayerFacingAngle(playerid, 90.0000);
		SetPlayerVirtualWorld(playerid, 0);
	}
	else if(pickupid == BOLA_PICK[0]) // Центральная Больница
	{
	    FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid,0);
		SetPlayerPos(playerid,-1511.9264,1342.5884,1523.7000);
		SetPlayerFacingAngle(playerid, 90.0000);
		SetPlayerVirtualWorld(playerid, 0);
	}
	else if(pickupid == BOLA_PICK[1]) // Центральная Больница
	{
        //if(PI[playerid][pHeal] <=95) return SendClientMessage(playerid, COLOR_RED,"Медперсонал не может Вас отпустить, Вы находитесь на лечении!");
        if(PlayerDied[playerid] == true || GetPVarInt(playerid, "lechenie") > 0) return SendClientMessage(playerid, COLOR_RED,"Медперсонал не может Вас отпустить, Вы находитесь на лечении!");
        else
        FreezePlayer(playerid, 2000);
        SetPlayerInterior(playerid,0);
        SetPlayerPos(playerid,2112.7495,-2387.3110,21.9430);
        SetPlayerFacingAngle(playerid, 0.0000);
        SetPlayerVirtualWorld(playerid, 0);
	}
/*	else if(pickupid == bolnicamedpick[0]) //
	{
		SendClientMessage(playerid, COLOR_LIME, "Статистика сделана на основе Вашего местоположения");
		//SendClientMessage(playerid, COLOR_RED, "[BETA] Сообщите разработчику чтобы доделал эту систему");
	}
*/	else if(pickupid == bolnicamedpick[1]) //
	{
		SendClientMessage(playerid, COLOR_LIME, "Вы взяли аптечку");
		//SendClientMessage(playerid, COLOR_RED, "[BETA] Сообщите разработчику чтобы доделал эту систему");
	}
	else if(pickupid == SMI_PICK[0]) // Вход в СМИ г. Южный
	{
	    FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid,0);
		SetPlayerPos(playerid, 1938.9972,2922.2563,1672.9301);
		SetPlayerFacingAngle(playerid, 270.0000);
		SetPlayerVirtualWorld(playerid, 0);
	}
	else if(pickupid == SMI_PICK[1]) // Вход в СМИ г. Южный
	{
	    FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid,0);
		SetPlayerPos(playerid, 2126.7427,-1959.0051,20.2422);
		SetPlayerFacingAngle(playerid, 360.0000);
		SetPlayerVirtualWorld(playerid, 0);
	}
 	else if(pickupid == SMI_PICK2[0]) // Вход в СМИ г. Южный
	{
	    FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid,0);
		SetPlayerPos(playerid, 1938.9972,2922.2563,1672.9301);
		SetPlayerFacingAngle(playerid, 270.0000);
		SetPlayerVirtualWorld(playerid, 0);
	}
	else if(pickupid == SMI_PICK2[1]) // Вход в СМИ г. Южный
	{
	    FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid,0);
		SetPlayerPos(playerid, -317.9125,818.9151,13.0635);
		SetPlayerFacingAngle(playerid, 0.0000);
		SetPlayerVirtualWorld(playerid, 0);
	}
	else if(pickupid == tunnel[0]) // Вход в бункер
	{
	    FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid,0);
		SetPlayerPos(playerid,2494.8936,1870.7496,-7.5523);
		SetPlayerFacingAngle(playerid, 358.4023);
		SetPlayerVirtualWorld(playerid, 0);
	}
	else if(pickupid == tunnel[1]) // Выход с бункера
	{
	    FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid,0);
		SetPlayerPos(playerid,1537.8121,1762.5216,-7.5426);
		SetPlayerFacingAngle(playerid, 87.8949);
		SetPlayerVirtualWorld(playerid, 0);
	}
	else if(pickupid == kazarmapick[0]) // армия вход
	{
	    FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid,0);
		SetPlayerPos(playerid,839.7541,244.3620,1014.2498);
		SetPlayerFacingAngle(playerid, 90.0);
		SetPlayerVirtualWorld(playerid, 0);
	}
	else if(pickupid == kazarmapick[1]) // Армия выход
	{
	    FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid,0);
		SetPlayerPos(playerid,1736.7953,1769.0839,15.3263);
		SetPlayerFacingAngle(playerid, 177.5758);
		SetPlayerVirtualWorld(playerid, 0);
	}
//==============================================================================
    else if(pickupid == ashpick[0])                                             // - Автошкола (АШ) - вход
	{
		FreezePlayer(playerid, 4000);
		SetPlayerInterior(playerid, 4);
		SetPlayerPos(playerid, 1061.5875, 93.8117, 1049.7841);
		SetPlayerFacingAngle(playerid, 280.4231);
		SetPlayerVirtualWorld(playerid, 0);
	}
	else if(pickupid == ashpick[1])                                             // - Автошкола (АШ) - выход
	{
	    FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid, 0);
		SetPlayerPos(playerid,2173.9229, -2197.8438, 23.1784);
		SetPlayerFacingAngle(playerid, 269.3551);
		SetPlayerVirtualWorld(playerid, 0);
	}
//==============================================================================
    else if(pickupid == sklad) // Склад Армии воровство патронов
	{
		if(PI[playerid][pMember] == 15 || PI[playerid][pMember] == 16)
		{
			new ammo = random(5) + 1;
			if(gArmyWarehouse[1] < ammo) return SCM(playerid, COLOR_RED,"На складе армии нет патронов");
			gArmyWarehouse[1] -= ammo;
			new string[35];
			if(PI[playerid][pPatron] < 500)
			{
				PI[playerid][pPatron] += ammo;
				MysqlUpdatePlayerInt(playerid, "patron", PI[playerid][pPatron]);
				format(string, sizeof(string), "~y~+%d",ammo);
				GameTextForPlayer(playerid, string, 1500, 6);
			}
			else
			{
				GameTextForPlayer(playerid, "~r~FULL", 1500, 6);
			}
		}
	}
	else if(pickupid == BolnicaLS[0]) // медики вход ls
	{
	    FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid,1);
		SetPlayerPos(playerid,313.3454,1554.9630,1084.1450);
		SetPlayerFacingAngle(playerid, 269.1457);
		SetPlayerVirtualWorld(playerid, 0);
		SetCameraBehindPlayer(playerid);
		InHospital[playerid] = true;
	}
	else if(pickupid == BolnicaLS[1]) // медики выход ls
	{
	    if(PlayerDied[playerid] == true || GetPVarInt(playerid, "lechenie") > 0) return SendClientMessage(playerid, COLOR_RED,"Медперсонал не может Вас отпустить, Вы находитесь на лечении!");
		SetPlayerInterior(playerid, 0);
		FreezePlayer(playerid, 2000);
		SetPlayerPos(playerid, 1177.1721,-1323.3220,14.0576);
		SetPlayerFacingAngle(playerid, 270);
		SetPlayerVirtualWorld(playerid, 0);
		SetCameraBehindPlayer(playerid);
		InHospital[playerid] = false;
	}
	else if(pickupid == BolnicaLS[2]) // медики с вп
	{
	    FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid, 1);
		SetPlayerPos(playerid, 326.8491,1569.7863,1084.1450);
		SetPlayerFacingAngle(playerid, 180.1816);
		SetPlayerVirtualWorld(playerid, 0);
		SetCameraBehindPlayer(playerid);
		InHospital[playerid] = true;
	}
	else if(pickupid == BolnicaLS[3]) // больница на вп
	{
        if(IsAMedic(playerid))
		{
			SetPlayerInterior(playerid, 0);
			FreezePlayer(playerid, 2000);
			SetPlayerPos(playerid, 1161.0867,-1345.7345,26.6638);
			SetPlayerFacingAngle(playerid, 177.5425);
	 		SetPlayerVirtualWorld(playerid, 0);
	 		SetCameraBehindPlayer(playerid);
	 		InHospital[playerid] = false;
 		}
		else SendClientMessage(playerid, COLOR_RED, "У Вас нет пропуска!");
	}
	else if(pickupid == BolnicaSF[0]) // медики вход sf
	{
	    FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid,1);
		SetPlayerPos(playerid,313.3454,1554.9630,1084.1450);
		SetPlayerFacingAngle(playerid, 269.1457);
		SetPlayerVirtualWorld(playerid, 0);
		SetCameraBehindPlayer(playerid);
		InHospital[playerid] = true;
	}
	else if(pickupid == BolnicaSF[1]) // медики выход sf
	{
	    if(PlayerDied[playerid] == true || GetPVarInt(playerid, "lechenie") > 0) return SendClientMessage(playerid, COLOR_RED,"Медперсонал не может Вас отпустить, Вы находитесь на лечении!");
		SetPlayerInterior(playerid, 0);
		FreezePlayer(playerid, 2000);
		SetPlayerPos(playerid, -2655.0098,637.2404,14.4531);
		SetPlayerFacingAngle(playerid, 179.9766);
		SetPlayerVirtualWorld(playerid, 0);
		SetCameraBehindPlayer(playerid);
		InHospital[playerid] = false;
	}
	else if(pickupid == BolnicaSF[2]) // медики с вп
	{
	    FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid, 1);
		SetPlayerPos(playerid, 326.8491,1569.7863,1084.1450);
		SetPlayerFacingAngle(playerid, 180.1816);
		SetPlayerVirtualWorld(playerid, 0);
		SetCameraBehindPlayer(playerid);
		InHospital[playerid] = true;
	}
	else if(pickupid == BolnicaSF[3]) // больница на вп
	{
        if(IsAMedic(playerid))
		{
			SetPlayerInterior(playerid, 0);
			FreezePlayer(playerid, 2000);
			SetPlayerPos(playerid, -2714.1086,628.3011,34.4028);
			SetPlayerFacingAngle(playerid, 182.0016);
	 		SetPlayerVirtualWorld(playerid, 0);
	 		SetCameraBehindPlayer(playerid);
	 		InHospital[playerid] = false;
 		}
		else SendClientMessage(playerid,COLOR_RED,"У Вас нет пропуска!");
	}
    else if(pickupid == merpicls[0]) // Гл.выход
	{
		FreezePlayer(playerid, 2000);
		SetPlayerPos(playerid, 1480.7377,-1769.7688,18.7958);
		SetPlayerVirtualWorld(playerid, 0);
		SetPlayerInterior(playerid, 0);
		SetPlayerFacingAngle(playerid, 0);
		SetCameraBehindPlayer(playerid);
	}
    else if(pickupid == merpicls[1]) // Вход
	{
	    FreezePlayer(playerid, 2000);
		SetPlayerPos(playerid, 385.9440,173.6978,1008.3828);
		SetPlayerVirtualWorld(playerid, 0);
		SetPlayerInterior(playerid, 3);
		SetPlayerFacingAngle(playerid, 88.1044);
		SetCameraBehindPlayer(playerid);
	}
    else if(pickupid == merpicls[2]) // Вход в отдел
	{
		if(IsAMayor(playerid))
		{
			SetPlayerPos(playerid,356.6239,172.4054,1008.3831);
			SetPlayerVirtualWorld(playerid,0);
			SetPlayerInterior(playerid,3);
			SetPlayerFacingAngle(playerid,269.7490);
			SetCameraBehindPlayer(playerid);
		}
		else SendClientMessage(playerid, COLOR_RED,"У Вас нет пропуска!");
	}
    else if(pickupid == merpicls[3]) // Выход с отдела
	{
		SetPlayerPos(playerid,366.4834,160.4774,1008.3828);
		SetPlayerVirtualWorld(playerid,0);
		SetPlayerInterior(playerid,3);
		SetPlayerFacingAngle(playerid,0);
		SetCameraBehindPlayer(playerid);
	}
	else if(pickupid == merpicsf[0]) // Гл.выход
	{
		FreezePlayer(playerid, 2000);
		SetPlayerPos(playerid, -2763.4448,375.5558,6.0397);
		SetPlayerVirtualWorld(playerid, 0);
		SetPlayerInterior(playerid, 0);
		SetPlayerFacingAngle(playerid, 269.7041);
		SetCameraBehindPlayer(playerid);
	}
    else if(pickupid == merpicsf[1]) // Вход
	{
	    FreezePlayer(playerid, 2000);
		SetPlayerPos(playerid, 385.9440,173.6978,1008.3828);
		SetPlayerVirtualWorld(playerid, 0);
		SetPlayerInterior(playerid, 0);
		SetPlayerFacingAngle(playerid, 88.1044);
		SetCameraBehindPlayer(playerid);
	}
	else if(pickupid == merpicsf[4])
	{
		if(PI[playerid][pMember]) return SendClientMessage(playerid, COLOR_RED, "Вы состоите в организации!");
		ShowPlayerDialog(playerid, D_HEAL+17, 2, "{FFCC00}Свободные ваканскии", "{ffffff}Водитель маршрутки\t\t| {FFCC00}1 уровень\n{ffffff}Водитель такси\t| {FFCC00}2 уровень\n{ffffff}Механик\t\t\t| {FFCC00}5 уровень\n{ffffff}Дальнобойщик\t\t| {FFCC00}8 уровень\n{ffffff}Уволиться с работы", "Устроиться", "Закрыть");
	}
    else if(pickupid == merpicsf[2]) // Вход в отдел
	{
		if(IsAMayor(playerid))
		{
			SetPlayerPos(playerid,356.6239,172.4054,1008.3831);
			SetPlayerVirtualWorld(playerid,0);
			SetPlayerInterior(playerid,0);
			SetPlayerFacingAngle(playerid,269.7490);
			SetCameraBehindPlayer(playerid);
		}
		else SendClientMessage(playerid, COLOR_RED,"У Вас нет пропуска!");
	}
    else if(pickupid == merpicsf[3]) // Выход с отдела
	{
		SetPlayerPos(playerid,366.4834,160.4774,1008.3828);
		SetPlayerVirtualWorld(playerid,0);
		SetPlayerInterior(playerid,0);
		SetPlayerFacingAngle(playerid,0);
		SetCameraBehindPlayer(playerid);
	}
	/*else if(pickupid == merpicsf[5]) // мэрия
	{
	    if(PI[playerid][pMember] != TEAM_SFMAYOR) return 1;
	    else if(PI[playerid][pRank] >= 2 && PI[playerid][pRank] <= 3) return SendClientMessage(playerid, COLOR_RED, "Оружие могут брать только охранники!");
	    ShowPlayerDialog(playerid, D_ARMOURY+1, DIALOG_STYLE_LIST, "{FFCC00}Склад оружия", "SD Pistol (35 пт.)\nDesert Eagle (35 пт.)\nДубинка", "Выбрать", "Отмена");
		return 1;
	}*/
	else if(pickupid == merpiclv[0]) // Гл.выход
	{
		FreezePlayer(playerid, 2000);
		SetPlayerPos(playerid, 2386.0410,2466.1414,10.8203);
		SetPlayerVirtualWorld(playerid, 0);
		SetPlayerInterior(playerid, 0);
		SetPlayerFacingAngle(playerid, 89.9152);
		SetCameraBehindPlayer(playerid);
	}
    else if(pickupid == merpiclv[1]) // Вход
	{
	    FreezePlayer(playerid, 2000);
		SetPlayerPos(playerid, 385.9440,173.6978,1008.3828);
		SetPlayerVirtualWorld(playerid, 0);
		SetPlayerInterior(playerid, 0);
		SetPlayerFacingAngle(playerid, 88.1044);
		SetCameraBehindPlayer(playerid);
	}
    else if(pickupid == merpiclv[2]) // Вход в отдел
	{
		if(IsAMayor(playerid))
		{
			SetPlayerPos(playerid,356.6239,172.4054,1008.3831);
			SetPlayerVirtualWorld(playerid,0);
			SetPlayerInterior(playerid,0);
			SetPlayerFacingAngle(playerid,269.7490);
			SetCameraBehindPlayer(playerid);
		}
		else SendClientMessage(playerid, COLOR_RED,"У Вас нет пропуска!");
	}
    else if(pickupid == merpiclv[3]) // Выход с отдела
	{
		SetPlayerPos(playerid,366.4834,160.4774,1008.3828);
		SetPlayerVirtualWorld(playerid,0);
		SetPlayerInterior(playerid,0);
		SetPlayerFacingAngle(playerid,0);
		SetCameraBehindPlayer(playerid);
	}
	/*else if(pickupid == merpiclv[5]) // мэрия
	{
	    if(PI[playerid][pMember] != TEAM_LVMAYOR) return 1;
	    else if(PI[playerid][pRank] >= 2 && PI[playerid][pRank] <= 3) return SendClientMessage(playerid, COLOR_RED, "Оружие могут брать только охранники!");
	    ShowPlayerDialog(playerid, D_ARMOURY+1, DIALOG_STYLE_LIST, "{FFCC00}Склад оружия", "SD Pistol (35 пт.)\nDesert Eagle (35 пт.)\nДубинка", "Выбрать", "Отмена");
		return 1;
	}*/
	else if(pickupid == ashpic[0]) // Вход
 	{
		SetPlayerInterior(playerid, 0);
		SetPlayerPos(playerid,-2026.2042,-108.0012,35.2359);
		SetPlayerFacingAngle(playerid, 181.5374);
		SetPlayerVirtualWorld(playerid, 0);
		SetCameraBehindPlayer(playerid);
	}
	else if(pickupid == ashpic[1]) // Выход
	{
		SetPlayerInterior(playerid, 0);
		SetPlayerPos(playerid,-2026.4789,-100.1377,35.1641);
		SetPlayerFacingAngle(playerid, 359.6529);
		SetPlayerVirtualWorld(playerid, 0);
		SetCameraBehindPlayer(playerid);
	}
	else if(pickupid == ashpic[2]) // Вход в ъ (задний двор)
 	{
		SetPlayerInterior(playerid, 0);
		SetPlayerPos(playerid,-2029.2377,-114.7397,35.1859);
		SetPlayerFacingAngle(playerid, 358.0583);
		SetPlayerVirtualWorld(playerid, 0);
		SetCameraBehindPlayer(playerid);
	}
	else if(pickupid == ashpic[3]) // Выход из интерьера (задний двор)
	{
		SetPlayerInterior(playerid, 0);
		SetPlayerPos(playerid,-2029.8304,-122.1700,35.1886);
		SetPlayerFacingAngle(playerid, 178.5633);
		SetPlayerVirtualWorld(playerid, 0);
		SetCameraBehindPlayer(playerid);
	}
	else if(pickupid == lsnpic[0]) // Вход
 	{
		SetPlayerInterior(playerid, 1);
		FreezePlayer(playerid, 2000);
		SetPlayerPos(playerid, -1742.6362,2591.3359,62.6659);
		SetPlayerFacingAngle(playerid, 0.9609);
		SetPlayerVirtualWorld(playerid, 0);
		SetCameraBehindPlayer(playerid);
	}
	/*else if(pickupid == lsnpic[1]) // Выход
	{
		if(Ether[playerid] == true)
		{
			new CB[16];
			new string[128];
			Ether[playerid] = false;
			TimeConverter(GetPVarInt(playerid,"InEther"),CB);
			if(EtherSms[PI[playerid][pNews]-1] == true) { format(string, 90, "[R] %s выключил прием СМС",GetName(playerid)); SendFMes(PI[playerid][pMember], COLOR_LIGHTRED, string); }
			if(EtherCall[PI[playerid][pNews]-1] == true) { format(string, 90, "[R] %s выключил прием звонков",GetName(playerid)); SendFMes(PI[playerid][pMember], COLOR_LIGHTRED, string); }
			format(string, 90, "[R] %s вышел из прямого эфира (Время в эфире: %s, звонков: %i, СМС: %i)",GetName(playerid), CB, CallNews[PI[playerid][pNews]-1],SmsNews[PI[playerid][pNews]-1]);
			SendFMes(PI[playerid][pMember], COLOR_LIGHTRED, string);
			EtherSms[PI[playerid][pNews]-1] = false;
			EtherCall[PI[playerid][pNews]-1] = false;
			SmsNews[PI[playerid][pNews]-1] = 0;
			CallNews[PI[playerid][pNews]-1] = 0;
			DeletePVar(playerid, "InEther");
			if(Mobile[playerid] != -1) MobileCrash(playerid);
		}
		if(EtherLive[playerid] == true)
		{
			EtherLive[playerid] = false;
			DeletePVar(playerid, "Etherfrac");
		    SendClientMessage(playerid, COLOR_LIME, "Вы вышли из прямого эфира");
		}
		SetPlayerInterior(playerid, 0);
		SetPlayerPos(playerid, 1653.8370,-1656.9789,22.5156);
		SetPlayerFacingAngle(playerid, 180.8779);
		SetPlayerVirtualWorld(playerid, 0);
		SetCameraBehindPlayer(playerid);
	}*/
	else if(pickupid == sfnpic[0]) // Вход
 	{
		SetPlayerInterior(playerid, 1);
		FreezePlayer(playerid, 2000);
		SetPlayerPos(playerid, -1742.6362,2591.3359,62.6659);
		SetPlayerFacingAngle(playerid, 0.9609);
		SetPlayerVirtualWorld(playerid, 0);
		SetCameraBehindPlayer(playerid);
	}
	/*else if(pickupid == sfnpic[1]) // Выход
	{
		if(Ether[playerid] == true)
		{
			new CB[16];
			new string[128];
			Ether[playerid] = false;
			TimeConverter(GetPVarInt(playerid,"InEther"),CB);
			if(EtherSms[PI[playerid][pNews]-1] == true) { format(string, 90, "[R] %s выключил прием СМС",GetName(playerid)); SendFMes(PI[playerid][pMember], COLOR_LIGHTRED, string); }
			if(EtherCall[PI[playerid][pNews]-1] == true) { format(string, 90, "[R] %s выключил прием звонков",GetName(playerid)); SendFMes(PI[playerid][pMember], COLOR_LIGHTRED, string); }
			format(string, 90, "[R] %s вышел из прямого эфира (Время в эфире: %s, звонков: %i, СМС: %i)",GetName(playerid), CB, CallNews[PI[playerid][pNews]-1],SmsNews[PI[playerid][pNews]-1]);
			SendFMes(PI[playerid][pMember], COLOR_LIGHTRED, string);
			EtherSms[PI[playerid][pNews]-1] = false;
			EtherCall[PI[playerid][pNews]-1] = false;
			SmsNews[PI[playerid][pNews]-1] = 0;
			CallNews[PI[playerid][pNews]-1] = 0;
			DeletePVar(playerid, "InEther");
			if(Mobile[playerid] != -1) MobileCrash(playerid);
		}
		if(EtherLive[playerid] == true)
		{
			EtherLive[playerid] = false;
			DeletePVar(playerid, "Etherfrac");
		    SendClientMessage(playerid, COLOR_LIME, "Вы вышли из прямого эфира");
		}
		SetPlayerInterior(playerid, 0);
		SetPlayerPos(playerid, -2054.8030,456.5989,35.1719);
		SetPlayerFacingAngle(playerid, 308.4413);
		SetPlayerVirtualWorld(playerid, 0);
		SetCameraBehindPlayer(playerid);
	}*/
	else if(pickupid == lvnpic[0]) // Вход
 	{
		SetPlayerInterior(playerid, 1);
		FreezePlayer(playerid, 2000);
		SetPlayerPos(playerid, -1742.6362,2591.3359,62.6659);
		SetPlayerFacingAngle(playerid, 0.9609);
		SetPlayerVirtualWorld(playerid, 0);
		SetCameraBehindPlayer(playerid);
	}
	/*else if(pickupid == lvnpic[1]) // Выход
	{
		if(Ether[playerid] == true)
		{
			new CB[16];
			new string[128];
			Ether[playerid] = false;
			TimeConverter(GetPVarInt(playerid,"InEther"),CB);
			if(EtherSms[PI[playerid][pNews]-1] == true) { format(string, 90, "[R] %s выключил прием СМС",GetName(playerid)); SendFMes(PI[playerid][pMember], COLOR_LIGHTRED, string); }
			if(EtherCall[PI[playerid][pNews]-1] == true) { format(string, 90, "[R] %s выключил прием звонков",GetName(playerid)); SendFMes(PI[playerid][pMember], COLOR_LIGHTRED, string); }
			format(string, 90, "[R] %s вышел из прямого эфира (Время в эфире: %s, звонков: %i, СМС: %i)",GetName(playerid), CB, CallNews[PI[playerid][pNews]-1],SmsNews[PI[playerid][pNews]-1]);
			SendFMes(PI[playerid][pMember], COLOR_LIGHTRED, string);
			EtherSms[PI[playerid][pNews]-1] = false;
			EtherCall[PI[playerid][pNews]-1] = false;
			SmsNews[PI[playerid][pNews]-1] = 0;
			CallNews[PI[playerid][pNews]-1] = 0;
			DeletePVar(playerid, "InEther");
			if(Mobile[playerid] != -1) MobileCrash(playerid);
		}
		if(EtherLive[playerid] == true)
		{
			EtherLive[playerid] = false;
			DeletePVar(playerid, "Etherfrac");
		    SendClientMessage(playerid, COLOR_LIME, "Вы вышли из прямого эфира");
		}
		SetPlayerInterior(playerid, 0);
		SetPlayerPos(playerid, 2650.9226,1182.8777,10.8203);
		SetPlayerFacingAngle(playerid, 180.9401);
		SetPlayerVirtualWorld(playerid, 0);
		SetCameraBehindPlayer(playerid);
	}*/
	else if(pickupid == grovpic[0]) // Vhod Grov
	{
		SetPlayerPos(playerid,2496.0503,-1694.3811,1014.7422);
		SetPlayerVirtualWorld(playerid,0);
		SetPlayerInterior(playerid,3);
		SetPlayerFacingAngle(playerid,178.6150);
		SetCameraBehindPlayer(playerid);
	}
	else if(pickupid == grovpic[1]) // Vhod Grov
	{
		SetPlayerPos(playerid,2486.5645,-1646.6920,14.0703);
		SetPlayerVirtualWorld(playerid,0);
		SetPlayerInterior(playerid, 0);
		SetPlayerFacingAngle(playerid,180.0000);
		SetCameraBehindPlayer(playerid);
	}
	else if(pickupid == vagospic[0]) // Vhod vagos
	{
		SetPlayerPos(playerid,302.6750,306.5937,1003.5391);
		SetPlayerVirtualWorld(playerid,0);
		SetPlayerInterior(playerid,4);
		SetPlayerFacingAngle(playerid,272.2089);
		SetCameraBehindPlayer(playerid);
	}
	else if(pickupid == vagospic[1]) // Vyhod Vagos
	{
		SetPlayerPos(playerid, 2756.4578, -1180.4377, 69.3984);
		SetPlayerVirtualWorld(playerid,0);
		SetPlayerInterior(playerid, 0);
		SetPlayerFacingAngle(playerid,358.1798);
		SetCameraBehindPlayer(playerid);
	}
	else if(pickupid == rifapic[0]) // Vhod rifa
	{
		SetPlayerPos(playerid,-227.2669,1401.3639,27.7656);
		SetPlayerVirtualWorld(playerid,0);
		SetPlayerInterior(playerid, 18);
		SetPlayerFacingAngle(playerid,269.1691);
		SetCameraBehindPlayer(playerid);
	}
	else if(pickupid == rifapic[1]) // Rifa выход
	{
		SetPlayerPos(playerid, 2782.6321, -1925.7566, 13.5469);
		SetPlayerVirtualWorld(playerid,0);
		SetPlayerInterior(playerid, 0);
		SetPlayerFacingAngle(playerid, 89.5630);
		SetCameraBehindPlayer(playerid);
	}
	else if(pickupid == azpic[0]) // AZTECAS вход
	{
		SetPlayerPos(playerid,-42.6874,1407.4977,1084.4297);
		SetPlayerVirtualWorld(playerid,0);
		SetPlayerInterior(playerid,8);
		SetPlayerFacingAngle(playerid,0);
		SetCameraBehindPlayer(playerid);
	}
	else if(pickupid == azpic[1]) // AZTECAS выход
	{
		SetPlayerPos(playerid, 2185.9773, -1811.2606, 13.5469);
		SetPlayerVirtualWorld(playerid,0);
		SetPlayerInterior(playerid, 0);
		SetPlayerFacingAngle(playerid, 0.1418);
		SetCameraBehindPlayer(playerid);
	}
	else if(pickupid == balpic[0]) // Vhod BALLAS
	{
		SetPlayerPos(playerid,-68.7960,1353.2593,1080.2109);
		SetPlayerVirtualWorld(playerid,0);
		SetPlayerInterior(playerid,0);
		SetPlayerFacingAngle(playerid,0);
		SetCameraBehindPlayer(playerid);
	}
	else if(pickupid == balpic[1]) // Vyhod BALLAS
	{
		SetPlayerPos(playerid, 2022.9802, -1124.1179, 26.0280);
		SetPlayerVirtualWorld(playerid,0);
		SetPlayerInterior(playerid, 0);
		SetPlayerFacingAngle(playerid, 181.3647);
		SetCameraBehindPlayer(playerid);
	}
	else if(pickupid == lcnpic[0]) // Vhod LCN
	{
		SetPlayerPos(playerid, 1298.8920,-795.1068,1084.0078);
		SetPlayerVirtualWorld(playerid,0);
		SetPlayerInterior(playerid, 5);
		SetPlayerFacingAngle(playerid, 356.8563);
	}
	else if(pickupid == lcnpic[1]) // Vyhod LCN
	{
		SetPlayerPos(playerid, 1452.8875,751.0402,11.0234);
		SetPlayerVirtualWorld(playerid,0);
		SetPlayerInterior(playerid, 0);
		SetPlayerFacingAngle(playerid, 88.6402);
		SetCameraBehindPlayer(playerid);
	}
	else if(pickupid == yakpic[0]) // Vhod Yakuza
	{
		SetPlayerPos(playerid, 1298.8920,-795.1068,1084.0078);
		SetPlayerVirtualWorld(playerid,0);
		SetPlayerInterior(playerid, 5);
		SetPlayerFacingAngle(playerid, 356.8563);
		SetCameraBehindPlayer(playerid);
	}
	else if(pickupid == yakpic[1]) // Vyhod Yakuza
	{
		SetPlayerPos(playerid, 1460.1923,2773.5188,10.8203);
		SetPlayerVirtualWorld(playerid,0);
		SetPlayerInterior(playerid, 0);
		SetPlayerFacingAngle(playerid, 269.1689);
		SetCameraBehindPlayer(playerid);
	}
	else if(pickupid == rmpic[0]) // Vhod RM
	{
		SetPlayerPos(playerid, 1298.8920,-795.1068,1084.0078);
		SetPlayerVirtualWorld(playerid,0);
		SetPlayerInterior(playerid, 5);
		SetPlayerFacingAngle(playerid, 356.8563);
		SetCameraBehindPlayer(playerid);
	}
	else if(pickupid == rmpic[1]) // Vyhod RM
	{
		SetPlayerPos(playerid, 940.7062,1733.1799,8.8516);
		SetPlayerVirtualWorld(playerid,0);
		SetPlayerInterior(playerid, 0);
		SetPlayerFacingAngle(playerid, 270.9551);
		SetCameraBehindPlayer(playerid);
	}
	else if(pickupid == lvpdpick[2]) //lvpd 3 в здание
	{
		SetPlayerInterior(playerid,0);
		SetPlayerVirtualWorld(playerid, 0);
		SetPlayerPos(playerid,288.7445,169.2445,1007.1719);
		SetPlayerFacingAngle(playerid, 9.7598);
		SetCameraBehindPlayer(playerid);
	}
	else if(pickupid == lvpdpick[3])//lvpd  4 на улицу
	{
		SetPlayerInterior(playerid,0);
		SetPlayerVirtualWorld(playerid, 0);
		SetPlayerPos(playerid,2340.1965,2455.9792,14.9688);
		SetPlayerFacingAngle(playerid, 178.3347);
		SetCameraBehindPlayer(playerid);
	}
	else if(pickupid == sfpdpick[0]) // вход в участок sfpd
	{
		SetPlayerInterior(playerid,10);
		SetPlayerVirtualWorld(playerid, 0);
		SetPlayerPos(playerid,246.432418,109.125526,1003.218750);
		SetPlayerFacingAngle(playerid, 358.265045);
		SetCameraBehindPlayer(playerid);
	}
	else if(pickupid == sfpdpick[1]) // выход из участка sfpd
	{
		SetPlayerInterior(playerid,0);
		SetPlayerVirtualWorld(playerid, 0);
		SetPlayerPos(playerid,-1605.438964,712.856140,13.808496);
		SetPlayerFacingAngle(playerid, 359.219665);
		SetCameraBehindPlayer(playerid);
	}
	else if(pickupid == sfpdpick[2]) // вход из гаража sfpd
	{
	    if(!IsACop(playerid)) return SendClientMessage(playerid, COLOR_RED, "У Вас нет пропуска!");
		SetPlayerInterior(playerid,10);
		SetPlayerVirtualWorld(playerid, 0);
		SetPlayerPos(playerid,215.373870,123.748527,1003.218750);
		SetPlayerFacingAngle(playerid, 181.625946);
		SetCameraBehindPlayer(playerid);
	}
	else if(pickupid == sfpdpick[3]) // выход в гараж sfpd
	{
		SetPlayerInterior(playerid,0);
		SetPlayerVirtualWorld(playerid, 0);
		SetPlayerPos(playerid,-1591.921630,716.198181,-5.242187);
		SetPlayerFacingAngle(playerid, 268.898040);
		SetCameraBehindPlayer(playerid);
	}
	else if(pickupid == sfpdpick[4]) //sfpd ammo enter
	{
	    if(!IsACop(playerid)) return SendClientMessage(playerid, COLOR_RED, "У Вас нет пропуска!");
		SetPlayerInterior(playerid,6);
		SetPlayerVirtualWorld(playerid, 0);
		SetPlayerPos(playerid,296.961547,-110.367042,1001.515625);
		SetPlayerFacingAngle(playerid, 357.855255);
		SetCameraBehindPlayer(playerid);
	}
	else if(pickupid == sfpdpick[5]) // sfpd ammo exit
	{
		SetPlayerInterior(playerid,0);
		SetPlayerVirtualWorld(playerid, 0);
		SetPlayerPos(playerid,1526.977172,-1677.817504,5.890625);
		SetPlayerFacingAngle(playerid, 271.350891);
		SetCameraBehindPlayer(playerid);
	}
	else if(pickupid == lDialogpic[0]) // вход в участок
	{
		SetPlayerInterior(playerid,6);
		SetPlayerPos(playerid,246.6428,65.8026,1003.6406);
		SetPlayerFacingAngle(playerid, 2.2168);
		SetPlayerVirtualWorld(playerid,0);
		SetCameraBehindPlayer(playerid);
	}
	else if(pickupid == lDialogpic[1]) // выход с участка
	{
		SetPlayerPos(playerid, 1552.6632,-1675.5100,16.1953);
		SetPlayerVirtualWorld(playerid,0);
		SetPlayerInterior(playerid, 0);
		SetPlayerFacingAngle(playerid, 89.6519);
		SetCameraBehindPlayer(playerid);
	}
	else if(pickupid == lDialogpic[2]) // вход с гаража
	{
	    if(!IsACop(playerid)) return SendClientMessage(playerid, COLOR_RED, "У Вас нет пропуска!");
		SetPlayerInterior(playerid,6);
		SetPlayerPos(playerid,246.5438,85.7663,1003.6406);
		SetPlayerFacingAngle(playerid, 278.0311);
		SetPlayerVirtualWorld(playerid, 0);
		SetCameraBehindPlayer(playerid);
	}
	else if(pickupid == lDialogpic[3]) // выход с гаража
	{
		SetPlayerInterior(playerid,0);
		SetPlayerPos(playerid,1568.6962,-1692.2069,5.8906);
		SetPlayerFacingAngle(playerid, 259.617370);
		SetPlayerVirtualWorld(playerid, 0);
		SetCameraBehindPlayer(playerid);
	}
	else if(pickupid == lDialogpic[5]) // вход в аммо lDialog
	{
	    if(!IsACop(playerid)) return SendClientMessage(playerid, COLOR_RED, "У Вас нет пропуска!");
		SetPlayerInterior(playerid,6);
		SetPlayerPos(playerid,296.854187,-110.417602,1001.515625);
		SetPlayerFacingAngle(playerid,0.796721);
		SetPlayerVirtualWorld(playerid,0);
		SetCameraBehindPlayer(playerid);
	}
	else if(pickupid == lDialogpic[6]) // выход из аммо lDialog
	{
		SetPlayerInterior(playerid,0);
		SetPlayerPos(playerid,-1606.348632,674.347229,-5.242187);
		SetPlayerFacingAngle(playerid,0.651620);
		SetPlayerVirtualWorld(playerid,0);
		SetCameraBehindPlayer(playerid);
	}
	else if(pickupid == arpic[0]) // Vhod 51
	{
		if(IsACop(playerid) || PI[playerid][pMember] == TEAM_VDV)
		{
			SetPlayerPos(playerid, 291.1631,1836.4696,17.6406);
			SetPlayerVirtualWorld(playerid,0);
			SetPlayerInterior(playerid, 0);
			SetPlayerFacingAngle(playerid, 354.0381);
			SetCameraBehindPlayer(playerid);
		}
		else SendClientMessage(playerid, COLOR_RED, "У Вас нет пропуска!");
	}
	else if(pickupid == arpic[1]) // Vhod 51
	{
		if(IsACop(playerid) || PI[playerid][pMember] == TEAM_VDV)
		{
			SetPlayerPos(playerid, 278.6574,1835.4679,17.6481);
			SetPlayerVirtualWorld(playerid,0);
			SetPlayerInterior(playerid, 0);
			SetPlayerFacingAngle(playerid, 179.8231);
			SetCameraBehindPlayer(playerid);
		}
		else SendClientMessage(playerid, COLOR_RED, "У Вас нет пропуска!");
	}
	else if(pickupid == arpic[2]) // Vhod 51
	{
		if(IsACop(playerid) || PI[playerid][pMember] == TEAM_VDV)
		{
			SetPlayerPos(playerid, 145.2731,1947.0204,19.7697);
			SetPlayerVirtualWorld(playerid,0);
			SetPlayerInterior(playerid, 0);
			SetPlayerFacingAngle(playerid, 3.650848);
			SetCameraBehindPlayer(playerid);
		}
		else SendClientMessage(playerid, COLOR_RED, "У Вас нет пропуска!");
	}
	else if(pickupid == arpic[3]) // Vhod 51
	{
		if(IsACop(playerid) || PI[playerid][pMember] == TEAM_VDV)
		{
			SetPlayerPos(playerid, 145.3774,1935.9425,19.2709);
			SetPlayerVirtualWorld(playerid,0);
			SetPlayerInterior(playerid, 0);
			SetPlayerFacingAngle(playerid, 177.915008);
			SetCameraBehindPlayer(playerid);
		}
		else SendClientMessage(playerid, COLOR_RED, "У Вас нет пропуска!");
	}
	else if(pickupid == armypick[0]) // вход казарма
	{
		if(PI[playerid][pMember] != TEAM_VDV) return SendClientMessage(playerid, COLOR_RED, "Вы не состоите в национальной гвардии!");
	    FreezePlayer(playerid, 2000);
		SetPlayerPos(playerid, 1069.2201,-346.2259,2127.4299);
		SetPlayerFacingAngle(playerid, 89.8058);
		SetPlayerInterior(playerid, 1);
	    SetPlayerVirtualWorld(playerid, 1);
	    SetCameraBehindPlayer(playerid);
	}
	else if(pickupid == armypick[1]) // выход казарма
	{
		SetPlayerPos(playerid, 177.1952,1845.7089,17.6406);
		SetPlayerVirtualWorld(playerid, 0);
		SetPlayerInterior(playerid, 0);
		SetPlayerFacingAngle(playerid, 359.4075);
		SetCameraBehindPlayer(playerid);
	}
	/*else if(pickupid == magaz[0]) // вход в магазин одежды
	{
	    FreezePlayer(playerid, 2000);
		SetPlayerPos(playerid, 574.0755,2121.8513,1551.4937);
		SetPlayerFacingAngle(playerid,91.9179);
		SetPlayerInterior(playerid, 0);
	    SetPlayerVirtualWorld(playerid, 0);
	    SetCameraBehindPlayer(playerid);
	}
	else if(pickupid == magaz[1]) // выход с магазина одежды
	{
		SetPlayerPos(playerid, 1946.1234,2066.2090,15.7053);
		SetPlayerVirtualWorld(playerid, 0);
		SetPlayerInterior(playerid, 0);
		SetPlayerFacingAngle(playerid, 179.9654);
		SetCameraBehindPlayer(playerid);
	}*/
	else if(pickupid == armypick[2]) // вход оружейка
	{
		if(IsACop(playerid) || PI[playerid][pMember] == TEAM_VDV || IsAGang(playerid))
		{
			SetPlayerPos(playerid, 296.7808,-110.3697,1001.5156);
			SetPlayerVirtualWorld(playerid,1);
			FreezePlayer(playerid, 2000);
			SetPlayerInterior(playerid, 6);
			SetPlayerFacingAngle(playerid, 2.5433);
			SetCameraBehindPlayer(playerid);
	    }
	    else SendClientMessage(playerid, COLOR_RED, "У Вас нет пропуска!");
	}
	else if(pickupid == armypick[3]) // выход оружейка
	{
		SetPlayerPos(playerid,338.4714,1949.0690,22.0175);
		SetPlayerVirtualWorld(playerid,0);
		SetPlayerInterior(playerid, 0);
		FreezePlayer(playerid, 2000);
		SetPlayerFacingAngle(playerid, 90.9040);
		SetCameraBehindPlayer(playerid);
	}
	else if(pickupid == armshield)
	{
		if(PI[playerid][pMember] != TEAM_VDV) return SendClientMessage(playerid, COLOR_RED, "Вы не состоите в Воинской Части!");
		SendClientMessage(playerid, COLOR_LIME,"Вы надели бронежилет");
        SetArmour(playerid, 100);
		return 1;
	}
	else if(pickupid == armystol) // Столовая
	{
		if(PI[playerid][pMember] != TEAM_VDV) return SendClientMessage(playerid, COLOR_RED, "Вы не состоите в Армии!");
		if(PI[playerid][pHunger] >= 100) return SendClientMessage(playerid, COLOR_RED, "Вы не голодны!");
		PlayerPlaySound(playerid, 32200, 0.0, 0.0, 0.0);
		ClearAnimations(playerid);
		ApplyAnimation(playerid, "FOOD", "EAT_Burger", 4.0, 0, 0, 0, 0, 0,1);
		if(PI[playerid][pHunger] <= 75) GiveHunger(playerid, 25);
    	else SetHunger(playerid, 100);
		if(PI[playerid][pSex] == 1) MeAction(playerid, "съел кусочек пиццы");
		else MeAction(playerid, "съела кусочек пиццы");
		return 1;
	}
	else if(pickupid == sportpickup)
	{
		if(gym_cloakroom[playerid]) ShowPlayerDialog(playerid, 6446, 0, "{FFCC00}Спортзал", "{FFFFFF}\n\nВы хотите снять форму и закончить тренировку?\n\n", "Принять", "Отмена");
		else ShowPlayerDialog(playerid, 6446, 0, "{FFCC00}Спортзал", "{FFFFFF}\n\nВы хотите надеть форму и начать тренировку?\nСтоимость тренировки: {63BD4E}500 рублей\n\n", "Принять", "Отмена");
		return 1;
	}
	else if(pickupid == 3503)
	{
		ShowDialogRules(playerid, 1);
	}
    // else if(pickupid == porch_exit)
    // {
    // 	new porch = GetPVarInt(playerid, "EnterPlayerPorch");
    // 	FreezePlayer(playerid, 2000);
    // 	SetPlayerPos(playerid, PorchInfo[porch][pEnterX], PorchInfo[porch][pEnterY], PorchInfo[porch][pEnterZ]);
    // 	SetPlayerInterior(playerid, 0);
    // 	SetPlayerVirtualWorld(playerid, 0);
    // 	SetCameraBehindPlayer(playerid);
	// 	SetPVarInt(playerid, "EnterPlayerPorch", 0);
    // }

	for(new i; i < TOTALENTRANCE; i++) {
		if(pickupid == g_entrance[i][E_PICKUP]) return ShowPlayerEntraceMenu(playerid);
	}
    

    // for(new idx = 1; idx <= TOTALPORCH; idx++)
    // {
    // 	if(pickupid == PorchInfo[idx][pEnterPick])
    // 	{
    // 		FreezePlayer(playerid, 6000);
    // 		SetPVarInt(playerid, "EnterPlayerPorch", idx);
    // 		SetPlayerPos(playerid, -379.4518,1129.1179,2712.7734);
    // 		SetPlayerVirtualWorld(playerid, idx + 100);
    // 		SetPlayerInterior(playerid, 9);
    // 		SetPlayerFacingAngle(playerid, 359.4459);
    // 		return SetCameraBehindPlayer(playerid);
    // 	}
    // }
    // for(new idx = 1; idx <= TOTALPORCHHOUSE; idx++)
	// {
	// 	if(pickupid == PorchHouseInfo[idx][hPickup])
	// 	{
	// 		SetPVarInt(playerid, "EnterPlayerPorchHouse", idx);
	// 		new string[350];
	// 		if(PorchHouseInfo[idx][hOwnerID] == 0)
	// 		{
	// 			format(string,sizeof(string),"{ffffff}Квартира №%d\n\nПлата за аренду: {FFCC00}%d рублей{ffffff}\nСтатус: {00FF00}Свободно",idx%8,PorchHouseInfo[idx][hPrice]);
	// 			return ShowPlayerDialog(playerid, 3502+2, DIALOG_STYLE_MSGBOX,"{FFCC00}Информация",string,"Зарегистрироваться","Отмена");
	// 		}
	// 		else
	// 		{
	// 			format(string,sizeof(string),"{ffffff}Квартира №%d\n\nПлата за аренду: {FFCC00}%d рублей{ffffff}\n{FFFFFF}Владелец: {FFCC00}%s",idx%8,PorchHouseInfo[idx][hPrice], PorchHouseInfo[idx][hOwner]);
	// 			return ShowPlayerDialog(playerid, 3502+3, DIALOG_STYLE_MSGBOX,"{FFCC00}Информация",string,"Войти","Отмена");
	// 		}
	// 	}
	// }
	for(new idx = 1; idx <= TOTALBIZZ; idx++)
	{
		if(pickupid == BizzInfo[idx][bPickup])
		{
		    //if(BizzInfo[idx][bType] == 9 && PI[playerid][pLevel] < 3) return SendClientMessage(playerid, COLOR_RED, "Казино доступно с 3 уровня");
		    new string[128];
			if(!strcmp(BizzInfo[idx][bOwner],"None",true))
			{
				SetPVarInt(playerid, "PlayerBizz", idx);
				format(string,sizeof(string),"{FFFFFF}Номер бизнеса:\t№%i\nСтоимость:\t\t%i\n\nВы хотите войти в бизнес?",idx,BizzInfo[idx][bPrice]);
				if(BizzInfo[idx][bType] != 2 && BizzInfo[idx][bType] != 7) return ShowPlayerDialog(playerid, D_HEAL+9, 0, "{FFCC00}Бизнес", string, "Да", "Нет");
			}
			else
			{
				SetPVarInt(playerid, "PlayerBizz", idx);
				if(BizzInfo[idx][bType] != 2 && BizzInfo[idx][bType] != 7)
				{
					if(BizzInfo[idx][bEnter] > 0) format(string, sizeof(string), "{FFFFFF}Вход платный и составляет {FFCC00}%i рублей\n{ffffff}Вы уверены что хотите войти сюда?", BizzInfo[idx][bEnter]);
					ShowPlayerDialog(playerid, D_HEAL+26, 0, "Бизнес", string, "Да", "Нет");
                    return 1;
				}
			}
		}
		if(pickupid == BizzInfo[idx][bPickupExit])
		{
		    FreezePlayer(playerid, 3000);
			SetPlayerPos(playerid,BizzInfo[idx][bEntrx], BizzInfo[idx][bEntry], BizzInfo[idx][bEntrz]);
			SetPlayerInterior(playerid,0);
			SetPlayerVirtualWorld(playerid,0);
		}
	}
	/*if(pickupid == Pickup[3]) // sfpd
	{
		//if(PI[playerid][pMember] != TEAM_DPS) return SendClientMessage(playerid, COLOR_RED, "Вы не можете брать оружие!");
		//ShowPlayerDialog(playerid, D_ARMOURY, DIALOG_STYLE_LIST, "{FFCC000}Склад оружия", "USP-S (35 пт.)\nUMP-45 (35 пт.)\nДубинка (150 пт.)", "Выбрать", "Отмена");
		return 1;
	}*/
	if(pickupid == Pickup[4]) // fbi
	{
		if(PI[playerid][pMember] != TEAM_FSIN) return SendClientMessage(playerid, COLOR_RED, "Вы не можете брать оружие!");
		ShowPlayerDialog(playerid, D_ARMOURY+2, DIALOG_STYLE_LIST, "{FFCC00}Склад оружия", "USP-S (35 пт.)\nUMP-45 (35 пт.)\nДубинка (150 пт.)", "Выбрать", "Отмена");
		return 1;
	}
	if(pickupid == Pickup[6])
	{
		new pdddialog[1900];
		format(pdddialog, sizeof(pdddialog), "%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s", pdd_MSG[0], pdd_MSG[1], pdd_MSG[2], pdd_MSG[3], pdd_MSG[4], pdd_MSG[5], pdd_MSG[6], pdd_MSG[7]
		, pdd_MSG[8], pdd_MSG[9], pdd_MSG[10], pdd_MSG[11], pdd_MSG[12], pdd_MSG[13], pdd_MSG[14], pdd_MSG[15]);
		//format(pdddialog, sizeof(pdddialog), "%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s", pdd_MSG[0], pdd_MSG[1], pdd_MSG[2], pdd_MSG[3], pdd_MSG[4], pdd_MSG[5], pdd_MSG[6], pdd_MSG[7]
		//, pdd_MSG[8], pdd_MSG[9], pdd_MSG[10], pdd_MSG[11], pdd_MSG[12], pdd_MSG[13], pdd_MSG[14], pdd_MSG[15], pdd_MSG[16]);
		ShowPlayerDialog(playerid,D_NULL,DIALOG_STYLE_MSGBOX,"{33AAFF}Правила Дорожного Движения", pdddialog, "Закрыть", "");
	}
	if(pickupid == narkoenter[0])
	{
	    FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid,5);
		SetPlayerPos(playerid,234.1880,1863.6992,551.3129);
		SetPlayerFacingAngle(playerid, 270.0959);
		SetPlayerVirtualWorld(playerid, 0);
		SetCameraBehindPlayer(playerid);
	}
	if(pickupid == narkoenter[1])
	{
	    FreezePlayer(playerid, 2000);
		SetPlayerInterior(playerid,0);
		SetPlayerPos(playerid,2157.0691,-1614.5233,14.1602);
		SetPlayerFacingAngle(playerid,157.8982);
		SetPlayerVirtualWorld(playerid,0);
		SetCameraBehindPlayer(playerid);
	}
	if(pickupid == bankpick[0])
	{
	    FreezePlayer(playerid, 2000);
	    SetPlayerInterior(playerid,5);
	    SetPlayerPos(playerid, 499.9426,720.0388,2713.1746);
		SetPlayerFacingAngle(playerid,180.0000);
		SetPlayerVirtualWorld(playerid,1);
		SetCameraBehindPlayer(playerid);
	}
	if(pickupid == bankpick[1])
	{
	    SetPlayerInterior(playerid,0);
		SetPlayerPos(playerid, 1853.6118,2041.2291,15.8850);
		SetPlayerFacingAngle(playerid,0.00);
		SetPlayerVirtualWorld(playerid,0);
		SetCameraBehindPlayer(playerid);
	}
 	if(pickupid == sudpick[0])
	{
	    FreezePlayer(playerid, 2000);
	    SetPlayerInterior(playerid,5);
	    SetPlayerPos(playerid, 605.1932,2310.5132,1944.3199);
		SetPlayerFacingAngle(playerid,90.0725);
		SetPlayerVirtualWorld(playerid,1);
		SetCameraBehindPlayer(playerid);
	}
	if(pickupid == sudpick[1])
	{
	    SetPlayerInterior(playerid,0);
		SetPlayerPos(playerid, -139.4563,594.0095,12.1469);
		SetPlayerFacingAngle(playerid,172.7933);
		SetPlayerVirtualWorld(playerid,0);
		SetCameraBehindPlayer(playerid);
	}
 	if(pickupid == bankpickarz[0])
	{
	    FreezePlayer(playerid, 2000);
	    SetPlayerInterior(playerid,2);
	    SetPlayerPos(playerid, 499.9426,720.0388,2713.1746);
		SetPlayerFacingAngle(playerid,180.0000);
		SetPlayerVirtualWorld(playerid,2);
		SetCameraBehindPlayer(playerid);
	}
	if(pickupid == bankpickarz[1])
	{
	    SetPlayerInterior(playerid,0);
		SetPlayerPos(playerid,447.2590,599.7286,12.0067);
		SetPlayerFacingAngle(playerid,360.0000);
		SetPlayerVirtualWorld(playerid,0);
		SetCameraBehindPlayer(playerid);
	}
	if(pickupid == voenkomat_arzamas[0])
	{
	    FreezePlayer(playerid, 2000);
	    SetPlayerInterior(playerid,0);
	    SetPlayerPos(playerid,-1809.2692,-1381.8358,1597.9139);
		SetPlayerFacingAngle(playerid,360.0000);
		SetPlayerVirtualWorld(playerid,0);
		SetCameraBehindPlayer(playerid);
	}
	if(pickupid == voenkomat_arzamas[1])
	{
	    SetPlayerInterior(playerid,0);
		SetPlayerPos(playerid,-397.5334,596.3435,12.0010);
		SetPlayerFacingAngle(playerid,270.0000);
		SetPlayerVirtualWorld(playerid,0);
		SetCameraBehindPlayer(playerid);
	}
 	if(pickupid == voenkomat_bat[0])
	{
	    FreezePlayer(playerid, 2000);
	    SetPlayerInterior(playerid,0);
	    SetPlayerPos(playerid,-1809.2692,-1381.8358,1597.9139);
		SetPlayerFacingAngle(playerid,360.0000);
		SetPlayerVirtualWorld(playerid,1);
		SetCameraBehindPlayer(playerid);
	}
	if(pickupid == voenkomat_bat[1])
	{
	    SetPlayerInterior(playerid,0);
		SetPlayerPos(playerid,1917.1060,2302.6067,15.5697);
		SetPlayerFacingAngle(playerid,120.3207);
		SetPlayerVirtualWorld(playerid,0);
		SetCameraBehindPlayer(playerid);
	}
 	if(pickupid == vodolazipick[0])
	{
	    FreezePlayer(playerid, 2000);
	    SetPlayerInterior(playerid,0);
	    SetPlayerPos(playerid,2820.3472,-2560.2361,1.4167);
		SetPlayerFacingAngle(playerid,270.0000);
		SetPlayerVirtualWorld(playerid,0);
		SetCameraBehindPlayer(playerid);
	}
	if(pickupid == vodolazipick[1])
	{
	    SetPlayerInterior(playerid,0);
		SetPlayerPos(playerid,2814.4272,-2545.1553,11.3345);
		SetPlayerFacingAngle(playerid,270.0000);
		SetPlayerVirtualWorld(playerid,0);
		SetCameraBehindPlayer(playerid);
	}
	if(pickupid == parking_fine[0])
	{
		SendClientMessage(playerid, COLOR_RED, "У Вас нет транспорта");
		//SendClientMessage(playerid, COLOR_RED, "[BETA] Сообщите разработчику чтобы доделал эту систему");
	}
    if(pickupid == armskin)
  	{
  	    if(PI[playerid][pMember] != TEAM_SMI) return 1;
  	    if(PI[playerid][pMember] != TEAM_MZA) return 1;
	    if(PI[playerid][pRank] < 6) return ShowPlayerDialog(playerid, 15419, DIALOG_STYLE_LIST, "{FFCC00}Раздевалка", "Постовая\nСпортивная", "Выбрать", "Отмена");
        ShowPlayerDialog(playerid, 15419, DIALOG_STYLE_LIST, "{FFCC00}Раздевалка", "Постовая\nСпортивная\nПарадная", "Выбрать", "Отмена");
    }

	
	return 1;
}

public OnVehicleMod(playerid, vehicleid, componentid)
{
    switch(componentid)
    {
        case 1008..1010: if(IsPlayerInInvalidNosVehicle(playerid)) RemoveVehicleComponent(vehicleid, componentid);
    }
    if(!IsComponentidCompatible(GetVehicleModel(vehicleid), componentid)) RemoveVehicleComponent(vehicleid, componentid);
    if(componentid != 1010 && GetPlayerInterior(playerid) == 0 && GetPlayerState(playerid) == PLAYER_STATE_DRIVER && PI[playerid][pAdmin] != 6)
	{
		RemoveVehicleComponent(vehicleid, componentid);
		SetVehicleToRespawn(vehicleid);
		return 1;
	}
	return 1;
}

public OnVehiclePaintjob(playerid, vehicleid, paintjobid)
{
	if(GetPlayerInterior(playerid) == 0 && GetPlayerState(playerid) == PLAYER_STATE_DRIVER) return CheatKick(playerid, 6345);
	return 1;
}

public OnVehicleRespray(playerid, vehicleid, color1, color2)
{
	if(GetPlayerInterior(playerid) == 0 && GetPlayerState(playerid) == PLAYER_STATE_DRIVER)
	{
		if(GetPlayerHouse(playerid) && PI[playerid][PlayerCarID] == vehicleid)
		{
			PI[playerid][cColor][0] = color1;
			PI[playerid][cColor][1] = color2;
		}
		else
		{
			CheatKick(playerid, 1442);
		}
	}
	return 1;
}
public OnPlayerClickPlayer(playerid, clickedplayerid, source) {
	if(PI[playerid][pAdmin]) ShowPlayerDialog(playerid, CHECK, DIALOG_STYLE_LIST, GetName(clickedplayerid), \
	"Статистика игрока\nСведения античита\nПроверить наказания\nОружие игрока\nАкссесуары игрока\n[3+] Апелляции игрока\n[3+] Проверить IP", \
	"Далее", "Отмена");
	return 1;
}
public OnPlayerClickPlayerTextDraw(playerid, PlayerText:playertextid)
{

	if(playertextid == interact_txd_rules[playerid][0]) {
		
		progressPravila[playerid]++; 
		if(progressPravila[playerid] == 4) return DeleteRulesTextDraws(playerid);
		else return ShowDialogRules(playerid, progressPravila[playerid]);
	}
	else if(playertextid == interact_txd_rules[playerid][1]) {
		
		progressPravila[playerid]--;
		return ShowDialogRules(playerid, progressPravila[playerid]);

	}

	if(playertextid == PlayerText:INVALID_TEXT_DRAW)
    {
        if(Ujahhs[playerid] == 1)
        {
            PI[playerid][pInputCode] = -1;
			CancelSelectTextDraw(playerid);
	        for(new osa = 0; osa < 10; osa++) PlayerTextDrawHide(playerid, SecurityCode[playerid][osa]);
	        SendClientMessage(playerid, COLOR_RED, "Вы были кикнуты по причине отказа ввода графического пароля!");
	        Kick(playerid);
        }
        return 1;
    }
    if(playertextid == choicecars[playerid][21])
	{
       ShowPlayerDialog(playerid, D_JOINCARS+5, DIALOG_STYLE_MSGBOX, "{FFC000}Отмена покупки", "{FFFFFF}Вы хотите отменить покупку транспорта?", "Да", "Нет");
	}
	if(playertextid == choicecars[playerid][17])
	{
	    if(PI[playerid][pAutoLic] == 0) return SendClientMessage(playerid, COLOR_RED, "У Вас нет водительских прав категории B");
       	// if(!GetPlayerHouse(playerid) && !GetPlayerPorchHouse(playerid)) return SendClientMessage(playerid, COLOR_RED, "Для покупки транспорта Вам необходим дом или квартира");
       	if(!GetPlayerHouse(playerid)) return SendClientMessage(playerid, COLOR_RED, "Для покупки транспорта Вам необходим дом или квартира");
       	if(PI[playerid][cModel] > 400) return SendClientMessage(playerid, COLOR_RED, "У Вас уже есть транспорт. Продайте его, прежде чем покупать новый");
        new string[150];
        switch(InShop[playerid])
	    {
			case 1: format(string,sizeof(string),"{FFFFFF}Вы хотите приобрести %s за %i рублей?",VehicleNames[GetVehicleModel(PI[playerid][SalonCarID])-400],carsC[pPressed[playerid]][1]);
			case 2: format(string,sizeof(string),"{FFFFFF}Вы хотите приобрести %s за %i рублей?",VehicleNames[GetVehicleModel(PI[playerid][SalonCarID])-400],carsB[pPressed[playerid]][1]);
			case 3: format(string,sizeof(string),"{FFFFFF}Вы хотите приобрести %s за %i рублей?",VehicleNames[GetVehicleModel(PI[playerid][SalonCarID])-400],carsA[pPressed[playerid]][1]);
			case 4: format(string,sizeof(string),"{FFFFFF}Вы хотите приобрести %s за %i рублей?",VehicleNames[GetVehicleModel(PI[playerid][SalonCarID])-400],carsBike[pPressed[playerid]][1]);
	    }
        ShowPlayerDialog(playerid,D_JOINCARS+4,DIALOG_STYLE_MSGBOX,"{FFCC00}Купить транспорт",string,"Да","Нет");
	}
	if(playertextid == choicecars[playerid][18])
	{
		ShowPlayerDialog(playerid, D_JOB+54, 1, "{FFCC00}Цвета транспорта", "{FFFFFF}Введите первый и второй цвет транспорта через запятую:", "Принять", "Отмена");
	}
	if(playertextid == choicecars[playerid][8])
	{
        new string[64];
        if((GetTickCount() - PlayerLastTick[playerid]) < 500) return 1;
	    {
			pPressed[playerid]++;
			if(PI[playerid][SalonCarID] != INVALID_VEHICLE_ID) DestroyVehicle(PI[playerid][SalonCarID]);
			if(InShop[playerid] == 1)
			{
				if(pPressed[playerid]>sizeof(carsC))pPressed[playerid] = 0;
				PI[playerid][SalonCarID] = CreateVehicle(carsC[pPressed[playerid]][0],648.5434,82.5947,20.4591,270.0000,colors[playerid][0]=random(10),colors[playerid][1]=random(10),10000);
				format(string,sizeof(string),"%s",VehicleNames[carsC[pPressed[playerid]][0]-400]);
    			PlayerTextDrawSetString(playerid,choicecars[playerid][6],string);
				format(string,64,"%d",carsC[pPressed[playerid]][1]);
				PlayerTextDrawSetString(playerid,choicecars[playerid][11],string);
			}
			if(InShop[playerid] == 2)
			{
				if(pPressed[playerid]>sizeof(carsB))pPressed[playerid] = 0;
				PI[playerid][SalonCarID] = CreateVehicle(carsC[pPressed[playerid]][0],648.5434,82.5947,20.4591,270.0000,colors[playerid][0]=random(10),colors[playerid][1]=random(10),10000);
				format(string,sizeof(string),"%s",VehicleNames[carsB[pPressed[playerid]][0]-400]);
    			PlayerTextDrawSetString(playerid,choicecars[playerid][6],string);
				format(string,sizeof(string),"~w~%d",carsB[pPressed[playerid]][1]);
				PlayerTextDrawSetString(playerid,choicecars[playerid][11],string);
			}
			if(InShop[playerid] == 3)
			{
				if(pPressed[playerid]>sizeof(carsA))pPressed[playerid] = 0;
				PI[playerid][SalonCarID] = CreateVehicle(carsC[pPressed[playerid]][0],648.5434,82.5947,20.4591,270.0000,colors[playerid][0]=random(10),colors[playerid][1]=random(10),10000);
				format(string,sizeof(string),"%s",VehicleNames[carsA[pPressed[playerid]][0]-400]);
    			PlayerTextDrawSetString(playerid,choicecars[playerid][6],string);
				format(string,sizeof(string),"~w~%d",carsA[pPressed[playerid]][1]);
				PlayerTextDrawSetString(playerid,choicecars[playerid][11],string);
			}
			if(InShop[playerid] == 4)
			{
				if(pPressed[playerid]>sizeof(carsBike))pPressed[playerid] = 0;
				PI[playerid][SalonCarID] = CreateVehicle(carsC[pPressed[playerid]][0],648.5434,82.5947,20.4591,270.0000,colors[playerid][0]=random(10),colors[playerid][1]=random(10),10000);
				format(string,sizeof(string),"%s",VehicleNames[carsBike[pPressed[playerid]][0]-400]);
    			PlayerTextDrawSetString(playerid,choicecars[playerid][6],string);
				format(string,sizeof(string),"~w~%d",carsBike[pPressed[playerid]][1]);
				PlayerTextDrawSetString(playerid,choicecars[playerid][11],string);
			}
			PlayerLastTick[playerid] = GetTickCount();
			LinkVehicleToInterior(PI[playerid][SalonCarID],3);
			SetVehicleVirtualWorld(PI[playerid][SalonCarID],playerid);
			PutPlayerInVehicle(playerid,PI[playerid][SalonCarID],0);
			SetPlayerCameraPos(playerid, 2650.4348, -1924.8947, 2326.8867);
			SetPlayerCameraLookAt(playerid, 2649.5349, -1924.4620, 2326.7051);
	    }
	}
	if(playertextid == choicecars[playerid][7])
	{
        new string[64];
        if((GetTickCount() - PlayerLastTick[playerid]) < 500) return 1;
	    {
			pPressed[playerid]--;
			if(PI[playerid][SalonCarID] != INVALID_VEHICLE_ID) DestroyVehicle(PI[playerid][SalonCarID]);
			if(InShop[playerid] == 1)
			{
				if(pPressed[playerid] < 0) pPressed[playerid] = sizeof(carsC)-1;
				PI[playerid][SalonCarID] = CreateVehicle(carsC[pPressed[playerid]][0],648.5434,82.5947,20.4591,270.0000,colors[playerid][0]=random(10),colors[playerid][1]=random(10),10000);
				format(string,sizeof(string),"%s",VehicleNames[carsC[pPressed[playerid]][0]-400]);
				PlayerTextDrawSetString(playerid,choicecars[playerid][6],string);
				format(string,sizeof(string),"%d",carsC[pPressed[playerid]][1]);
				PlayerTextDrawSetString(playerid,choicecars[playerid][11],string);
			}
			if(InShop[playerid] == 2)
			{
				if(pPressed[playerid] < 0) pPressed[playerid] = sizeof(carsB)-1;
				PI[playerid][SalonCarID] = CreateVehicle(carsC[pPressed[playerid]][0],648.5434,82.5947,20.4591,270.0000,colors[playerid][0]=random(10),colors[playerid][1]=random(10),10000);
				format(string,sizeof(string),"%s",VehicleNames[carsB[pPressed[playerid]][0]-400]);
				PlayerTextDrawSetString(playerid,choicecars[playerid][6],string);
				format(string,sizeof(string),"%i",carsB[pPressed[playerid]][1]);
				PlayerTextDrawSetString(playerid,choicecars[playerid][11],string);
			}
			if(InShop[playerid] == 3)
			{
				if(pPressed[playerid] < 0) pPressed[playerid] = sizeof(carsA)-1;
				PI[playerid][SalonCarID] = CreateVehicle(carsA[pPressed[playerid]][0],648.5434,82.5947,20.4591,101.9068,colors[playerid][0]=random(10),colors[playerid][1]=random(10),10000);
				format(string,sizeof(string),"%s",VehicleNames[carsA[pPressed[playerid]][0]-400]);
				PlayerTextDrawSetString(playerid,choicecars[playerid][6],string);
				format(string,sizeof(string),"~w~%d",carsA[pPressed[playerid]][1]);
				PlayerTextDrawSetString(playerid,choicecars[playerid][11],string);
			}
			if(InShop[playerid] == 4)
			{
				if(pPressed[playerid] < 0) pPressed[playerid] = sizeof(carsBike)-1;
				PI[playerid][SalonCarID] = CreateVehicle(carsC[pPressed[playerid]][0],648.5434,82.5947,20.4591,270.0000,colors[playerid][0]=random(10),colors[playerid][1]=random(10),10000);
				format(string,sizeof(string),"%s",VehicleNames[carsBike[pPressed[playerid]][0]-400]);
				PlayerTextDrawSetString(playerid,choicecars[playerid][6],string);
				format(string,sizeof(string),"~w~%d",carsBike[pPressed[playerid]][1]);
				PlayerTextDrawSetString(playerid,choicecars[playerid][11],string);
			}
			PlayerLastTick[playerid] = GetTickCount();
			LinkVehicleToInterior(PI[playerid][SalonCarID],3);
			SetVehicleVirtualWorld(PI[playerid][SalonCarID],playerid);
			PutPlayerInVehicle(playerid,PI[playerid][SalonCarID],0);
			SetPlayerCameraPos(playerid, 2650.4348, -1924.8947, 2326.8867);
			SetPlayerCameraLookAt(playerid, 2649.5349, -1924.4620, 2326.7051);
	    }
	}
    for(new i = 0; i < 9; i++)
	{
		if(playertextid == SecurityCode[playerid][i])
		{
		    PlayerPlaySound(playerid, 17803, 0.0, 0.0, 0.0);
			//SendMes(playerid, COLOR_BLUE, "Использована цифра %i", mass_pass[playerid][i]);
		    if(GetPVarInt(playerid, "NumberDigits") == 0) return PI[playerid][pInputCode] += 1000 * (mass_pass[playerid][i]), SetPVarInt(playerid, "NumberDigits", GetPVarInt(playerid, "NumberDigits") + 1);
		    else if(GetPVarInt(playerid, "NumberDigits") == 1) return PI[playerid][pInputCode] += 100 * (mass_pass[playerid][i]), SetPVarInt(playerid, "NumberDigits", GetPVarInt(playerid, "NumberDigits") + 1);
		    else if(GetPVarInt(playerid, "NumberDigits") == 2) return PI[playerid][pInputCode] += 10 * (mass_pass[playerid][i]), SetPVarInt(playerid, "NumberDigits", GetPVarInt(playerid, "NumberDigits") + 1);
		    else if(GetPVarInt(playerid, "NumberDigits") == 3)
			{
				PI[playerid][pInputCode] += 1 * (mass_pass[playerid][i]), SetPVarInt(playerid, "NumberDigits", 0);
				if(PI[playerid][pInputCode] == PI[playerid][pSecurityCode])
				{
				    PlayerLogged[playerid] = true;
				    Hunger(playerid, 0);
   					SpawnPlayer(playerid);
				}
				else Kick(playerid), SendClientMessage(playerid, COLOR_RED, "Вы были кикнуты по причине ввода неверного графического пароля!");
				for(new f = 0; f < 10; f++) PlayerTextDrawHide(playerid,SecurityCode[playerid][f]);
				PI[playerid][pInputCode] = -1;
				Ujahhs[playerid] = 0;
				CancelSelectTextDraw(playerid);
			}
		}
	}

    return 1;
}
//==============================================================================
public OnPlayerClickTextDraw(playerid, Text:clickedid)
{
/*	if(clickedid == Menu1)
	{
	    ShowPlayerDialog(playerid, 9999, DIALOG_STYLE_MSGBOX, "Репорт", "Тестовая версия", "Назад", "Закрыть");
	}
	
	if(clickedid == Menu0)
	{
	    TextDrawHideForPlayer(playerid, Menu0);
	    TextDrawHideForPlayer(playerid, Menu1);
	    TextDrawHideForPlayer(playerid, Menu2);
	    TextDrawHideForPlayer(playerid, Menu3);
	    CancelSelectTextDraw(playerid);
	}
*/

	if(clickedid == Text:INVALID_TEXT_DRAW) {
		for(new i; i < 6; i++) {
			TextDrawDestroy(InfoInteract[playerid][i]);	
		}
		TextDrawHideForPlayer(playerid, Interact);	
	}


	as_OnPlayerClickTextDraw(playerid, Text:clickedid);
	if(clickedid == Interact_FlyTXD1[playerid]) {

		TextDrawHideForPlayer(playerid, FlyTXD);
		TextDrawDestroy(Interact_FlyTXD1[playerid]);
		TextDrawDestroy(Interact_FlyTXD2[playerid]);
		GetPlayerPos(playerid, FlyPlayer[playerid][fly_x], FlyPlayer[playerid][fly_y], FlyPlayer[playerid][fly_z]);
		TogglePlayerSpectating(playerid, false);
		SendSucces(playerid, "Вы вышли из режима полета и продолжили в месте прилета");
		CancelSelectTextDraw(playerid);
		return SetPlayerPos(playerid, FlyPlayer[playerid][fly_x], FlyPlayer[playerid][fly_y], FlyPlayer[playerid][fly_z]);


	} else if (clickedid == Interact_FlyTXD2[playerid]) {

		TextDrawHideForPlayer(playerid, FlyTXD);
		TextDrawDestroy(Interact_FlyTXD1[playerid]);
		TextDrawDestroy(Interact_FlyTXD2[playerid]);
		TogglePlayerSpectating(playerid, false);
		SendSucces(playerid, "Вы вышли из режима полета и продолжили в изначальном месте");
		CancelSelectTextDraw(playerid);
		return SetPlayerPos(playerid, FlyPlayer[playerid][fly_x], FlyPlayer[playerid][fly_y], FlyPlayer[playerid][fly_z]);
	}

    if(clickedid == Text:INVALID_TEXT_DRAW)
    {
        if(Ujahhs[playerid] == 1)
        {
            PI[playerid][pInputCode] = -1;
			CancelSelectTextDraw(playerid);
	        for(new osa = 0; osa < 10; osa++) PlayerTextDrawHide(playerid, SecurityCode[playerid][osa]);
	        SendClientMessage(playerid, COLOR_RED, "Вы были кикнуты по причине отказа ввода графического пароля!");
	        Kick(playerid);
        }
		else if(ClothesRound[playerid] == 1)
		{
		    SendClientMessage(playerid, COLOR_RED, "{ffffff}Сервер закрыл соединение! Для выхода из игры введите: /q(/quit)");
		    Kick(playerid);
		}
		else if(ClothesRound[playerid] == 2)
		{
		    TogglePlayerControllable(playerid,true);
			SetPlayerPos(playerid, 452.3130,-1492.2280,-10.7461);
			SetPlayerFacingAngle(playerid, 79.0676);
			SetPlayerVirtualWorld(playerid, InShopSkin[playerid]);
			SetPlayerInterior(playerid, 5);
			InShopSkin[playerid] = 0;
			SelectCharPlace[playerid] = 0;
			ClothesRound[playerid] = 0;
			SetCameraBehindPlayer(playerid);
			if(PI[playerid][pMember]) SetPlayerSkin(playerid, PI[playerid][pMemberSkin]);
			else SetPlayerSkin(playerid, PI[playerid][pModel]);
			for(new i; i < 4; i++) TextDrawHideForPlayer(playerid, Button[i]);
			CancelSelectTextDraw(playerid);
		}
  		else if(InShop[playerid] == 1)
		{
			BuyCloseCar(playerid);
			DeletePVar(playerid, "InShop");
			InShop[playerid] = 0;
			TogglePlayerControllable(playerid, true);
			for(new i; i<sizeof(choicecars[]); i++) PlayerTextDrawHide(playerid, choicecars[playerid][i]);
		}
		else if(InShop[playerid] == 2)
		{
			BuyCloseCar(playerid);
			DeletePVar(playerid, "InShop");
			InShop[playerid] = 0;
			TogglePlayerControllable(playerid, true);
			for(new i; i<sizeof(choicecars[]); i++) PlayerTextDrawHide(playerid, choicecars[playerid][i]);
		}
        return 1;
    }
//==============================================================================
	if(ClothesRound[playerid] == 1)
	{
		if(clickedid == SKIN_SELECT[1])
		{
			if(PI[playerid][pSex] == 1)
			{
				if(SelectCharPlace[playerid] == sizeof(JoinRegM)-1) SelectCharPlace[playerid] = 0;
				else SelectCharPlace[playerid]++;
				SetPlayerSkin(playerid, JoinRegM[SelectCharPlace[playerid]]);
				ChosenSkin[playerid] = JoinRegM[SelectCharPlace[playerid]];
			}
			else
			{
				if(SelectCharPlace[playerid] == sizeof(JoinRegF)-1) SelectCharPlace[playerid] = 0;
				else SelectCharPlace[playerid]++;
				SetPlayerSkin(playerid, JoinRegF[SelectCharPlace[playerid]]);
				ChosenSkin[playerid] = JoinRegF[SelectCharPlace[playerid]];
			}
		}
		else if(clickedid == SKIN_SELECT[2])
		{
			if(PI[playerid][pSex] == 1)
			{
			    if(SelectCharPlace[playerid] == 0) SelectCharPlace[playerid] = sizeof(JoinRegM)-1;
				else SelectCharPlace[playerid]--;
				SetPlayerSkin(playerid, JoinRegM[SelectCharPlace[playerid]]);
				ChosenSkin[playerid] = JoinRegM[SelectCharPlace[playerid]];
			}
			else
			{
			    if(SelectCharPlace[playerid] == 0) SelectCharPlace[playerid] = sizeof(JoinRegF)-1;
				else SelectCharPlace[playerid]--;
				SetPlayerSkin(playerid, JoinRegF[SelectCharPlace[playerid]]);
				ChosenSkin[playerid] = JoinRegF[SelectCharPlace[playerid]];
			}
		}
		else if(clickedid == SKIN_SELECT[3])
		{
			PI[playerid][pModel] = ChosenSkin[playerid];
			ChosenSkin[playerid] = 0;
			SelectCharPlace[playerid] = 0;
			ClothesRound[playerid] = 0;
			TogglePlayerControllable(playerid, 1);
			CreateAccount(playerid, PI[playerid][pPassword]);
			for(new i; i < 4; i++) TextDrawHideForPlayer(playerid, SKIN_SELECT[i]);
			CancelSelectTextDraw(playerid);
		}
	}
//==============================================================================
	else if(ClothesRound[playerid] == 2)
	{
		new string[170];
  		if(clickedid == SKIN_BUY[1])
		{
			if(PI[playerid][pSex] == 1)
			{
  			    if(SelectCharPlace[playerid] == sizeof(JoinShopM)-1) SelectCharPlace[playerid] = 0;
				else SelectCharPlace[playerid]++;
				SetPlayerSkin(playerid, JoinShopM[SelectCharPlace[playerid]][0]);
				format(string, sizeof(string), "~w~~n~~n~~n~~n~~n~~n~COST: ~g~%i рублей", JoinShopM[SelectCharPlace[playerid]][1]);
			}
			else
			{
				if(SelectCharPlace[playerid] == sizeof(JoinShopF)-1) SelectCharPlace[playerid] = 0;
				else SelectCharPlace[playerid]++;
				SetPlayerSkin(playerid, JoinShopF[SelectCharPlace[playerid]][0]);
				format(string, sizeof(string), "~w~~n~~n~~n~~n~~n~~n~COST: ~g~%i рублей", JoinShopF[SelectCharPlace[playerid]][1]);
			}
			GameTextForPlayer(playerid, string, 2000, 3);
		}
		else if(clickedid == SKIN_BUY[2])
		{
			if(PI[playerid][pSex] == 1)
			{
  			    if(SelectCharPlace[playerid] == sizeof(JoinShopM)-1) SelectCharPlace[playerid] = 0;
				else SelectCharPlace[playerid]++;
				SetPlayerSkin(playerid, JoinShopM[SelectCharPlace[playerid]][0]);
				format(string, sizeof(string), "~w~~n~~n~~n~~n~~n~~n~COST: ~g~%i рублей", JoinShopM[SelectCharPlace[playerid]][1]);
			}
			else
			{
				if(SelectCharPlace[playerid] == sizeof(JoinShopF)-1) SelectCharPlace[playerid] = 0;
				else SelectCharPlace[playerid]++;
				SetPlayerSkin(playerid, JoinShopF[SelectCharPlace[playerid]][0]);
				format(string, sizeof(string), "~w~~n~~n~~n~~n~~n~~n~COST: ~g~%i рублей", JoinShopF[SelectCharPlace[playerid]][1]);
			}
			GameTextForPlayer(playerid, string, 2000, 3);
		}
		else if(clickedid == SKIN_BUY[3])
		{
		    new b = GetPVarInt(playerid, "PlayerBizz");
		    new price = (PI[playerid][pSex] == 1) ? (JoinShopM[SelectCharPlace[playerid]][1]) : (JoinShopF[SelectCharPlace[playerid]][1]);
			if(GetMoney(playerid) < price) return SendClientMessage(playerid, COLOR_RED, "Недостаточно средств на счету!");
			PI[playerid][pModel] = (PI[playerid][pSex] == 1) ? (JoinShopM[SelectCharPlace[playerid]][0]) : (JoinShopF[SelectCharPlace[playerid]][0]);
			MysqlUpdatePlayerInt(playerid, "model", PI[playerid][pModel]);
			GiveMoney(playerid, -price);
			if(BizzInfo[b][bProduct] > 0)
			{
				BizzInfo[b][bMoney] += price / 4;
				BizzPay[b] += price / 4;
				BizzInfo[b][bProduct] -= price / 16;
				MysqlUpdateBizzInt(b, "money", BizzInfo[b][bMoney]);
				MysqlUpdateBizzInt(b, "product", BizzInfo[b][bProduct]);
			}
			TogglePlayerControllable(playerid,true);
			SetPlayerPos(playerid, -1774.0885,1770.4451,2377.4409);
			SetPlayerFacingAngle(playerid, 0.8909);
			SetPlayerVirtualWorld(playerid, InShopSkin[playerid]);
			SetPlayerInterior(playerid, 5);
			InShopSkin[playerid] = 0;
			SelectCharPlace[playerid] = 0;
			ClothesRound[playerid] = 0;
			SetCameraBehindPlayer(playerid);
			SetPlayerSkin(playerid, PI[playerid][pModel]);
			new house12 = 0;
			for(new i = TOTALHOUSE; i > 0; i --)
			{
				if(!strcmp(HouseInfo[i][hOwner],GetName(playerid),true)) house12++;
			}
			if(house12)
			{
			    new str[42], oneskin[14], twoskin[14], threeskin[14];

			    if(!PI[playerid][pSkin][0]) format(oneskin, sizeof(oneskin), "{F04245}(нет)");
				else format(oneskin, sizeof(oneskin), "{63BD4E}(%i)", PI[playerid][pSkin][0]);
			    if(!PI[playerid][pSkin][1]) format(twoskin, sizeof(twoskin), "{F04245}(нет)");
				else format(twoskin, sizeof(twoskin), "{63BD4E}(%i)", PI[playerid][pSkin][1]);
			    if(!PI[playerid][pSkin][2]) format(threeskin, sizeof(threeskin), "{F04245}(нет)");
				else format(threeskin, sizeof(threeskin), "{63BD4E}(%i)", PI[playerid][pSkin][2]);

			    format(str, sizeof(str), "{FFFFFF}Полка №1 %s\n", oneskin);
			    strcat(string, str);
			    format(str, sizeof(str), "{FFFFFF}Полка №2 %s\n", twoskin);
			    strcat(string, str);
			    format(str, sizeof(str), "{FFFFFF}Полка №3 %s\n", threeskin);
			    strcat(string, str);
			    strcat(string, "{FFFFFF}Оставить одежду на себе");

				ShowPlayerDialog(playerid, 1431, DIALOG_STYLE_LIST, "Куда положить одежду", string, "Выбрать", "");
			}
			for(new i; i < 4; i++) TextDrawHideForPlayer(playerid, SKIN_BUY[i]);
			CancelSelectTextDraw(playerid);
			SendClientMessage(playerid, COLOR_RED, "Вы купили одежду в магазине");

			FreezePlayer(playerid, 2500);
		}
	}
//==============================================================================
	if(clickedid == pOdmenPanel_TD[0])
	{
		SetPlayerInterior(playerid,GetPlayerInterior(PI[playerid][Spectating][0]));
		SetPlayerVirtualWorld(playerid,GetPlayerVirtualWorld(PI[playerid][Spectating][0]));
		TogglePlayerSpectating(playerid, 1);
		if(IsPlayerInAnyVehicle(PI[playerid][Spectating][0]))
		{
		   new carid = GetPlayerVehicleID(PI[playerid][Spectating][0]);
		   PlayerSpectateVehicle(playerid, carid);
		}
		else PlayerSpectatePlayer(playerid, PI[playerid][Spectating][0]);

		for(new i; i < sizeof pOdmenPanel_TD; i++) TextDrawShowForPlayer(playerid, pOdmenPanel_TD[i]);
    	for(new i; i < sizeof pOdminPanel_PTD[]; i++) PlayerTextDrawShow(playerid, pOdminPanel_PTD[playerid][i]);
	}

	if(clickedid == pOdmenPanel_TD[1])
	{
		new maxplayers = GetMaxPlayers();

		for(new id = PI[playerid][Spectating][0]+1, bool:secondloop; id < maxplayers; id++)
		{
			if(id == maxplayers && !secondloop)
			{
				secondloop = true, id = 0;
				continue;
			}
			if(PlayerLogged[id] == false) continue;
			switch(GetPlayerState(id))
			{
				case 1..3: {}
				default: continue;
			}
			new param_str[4];
			format(param_str, sizeof param_str, "%i", id);
			callcmd::spec(playerid, param_str);
			break;
		}
	}

	if(clickedid == pOdmenPanel_TD[2])
	{
		new maxplayers = GetMaxPlayers();

		for(new id = PI[playerid][Spectating][0]-1, bool:secondloop; id >= 0; id--)
		{
			if(id <= 0 && !secondloop)
			{
				secondloop = true, id = maxplayers;
				continue;
			}
			if(PlayerLogged[id] == false) continue;
			switch(GetPlayerState(id))
			{
				case 1..3: {}
				default: continue;
			}
			new param_str[4];
			format(param_str, sizeof param_str, "%i", id);
			callcmd::spec(playerid, param_str);
			break;
		}
	}

	new param_str[11];

	if(clickedid == pOdmenPanel_TD[3])
	{
		callcmd::specoff(playerid, "");
	}

	if(clickedid == pOdmenPanel_TD[4])
	{
		ShowPlayerStatsDialog(playerid, PI[playerid][Spectating][0]);
	}

	if(clickedid == pOdmenPanel_TD[5])
	{
		format(param_str, sizeof(param_str), "%i", PI[playerid][Spectating][0]);
		callcmd::gm(playerid, param_str);
	}

	if(clickedid == pOdmenPanel_TD[7])
	{
		format(param_str, sizeof(param_str), "%i", PI[playerid][Spectating][0]);
		callcmd::slap(playerid, param_str);
	}

	if(clickedid == pOdmenPanel_TD[8])
	{
		format(param_str, sizeof(param_str), "%i", PI[playerid][Spectating][0]);
		callcmd::jail(playerid, param_str);
	}

	if(clickedid == pOdmenPanel_TD[9])
	{
		format(param_str, sizeof(param_str), "%i", PI[playerid][Spectating][0]);
		callcmd::mute(playerid, param_str);
	}

	if(clickedid == pOdmenPanel_TD[10])
	{
		format(param_str, sizeof(param_str), "%i", PI[playerid][Spectating][0]);
		callcmd::kick(playerid, param_str);
	}

	if(clickedid == pOdmenPanel_TD[11])
	{
		format(param_str, sizeof(param_str), "%i", PI[playerid][Spectating][0]);
		callcmd::warn(playerid, param_str);
	}

	if(clickedid == pOdmenPanel_TD[12])
	{
		format(param_str, sizeof(param_str), "%i", PI[playerid][Spectating][0]);
		callcmd::nrp(playerid, param_str);
	}

	if(clickedid == pOdmenPanel_TD[13])
	{
		format(param_str, sizeof(param_str), "%i", PI[playerid][Spectating][0]);
		callcmd::dm(playerid, param_str);
	}

	if(clickedid == pOdmenPanel_TD[14])
	{
		format(param_str, sizeof(param_str), "%i", PI[playerid][Spectating][0]);
		callcmd::mg(playerid, param_str);
	}

	if(clickedid == pOdmenPanel_TD[15])
	{
		format(param_str, sizeof(param_str), "%i", PI[playerid][Spectating][0]);
		callcmd::jail(playerid, param_str);
	}

	return 1;
}

public OnPlayerExitedMenu(playerid)
{
    if(playerid == INVALID_PLAYER_ID) return SKick(playerid, 7434);
    if(GetPlayerMenu(playerid) == Menu:INVALID_MENU) return SKick(playerid, 7435);
	return 1;
}

public OnEnterExitModShop(playerid, enterexit, interiorid)
{
    if(enterexit == 1) return CheatKick(playerid, 2156);
    return true;
}

public OnPlayerInteriorChange(playerid, newinteriorid, oldinteriorid)
{
	if(newinteriorid > 0 && oldinteriorid == 0)
	{
		SetPlayerWeather(playerid, 1);
//		DestroyPlayerMapDraws(playerid);
	}
	else if(newinteriorid == 0 && oldinteriorid > 0)
	{
		//SetPlayerWeather(playerid, Weather);
//		CreatePlayerMapDraws(playerid);
	}
	return true;
}
//==============================================================================
#define KEY_AIM (128)

#define PRESSED(%0) \
	(((newkeys & (%0)) == (%0)) && ((oldkeys & (%0)) != (%0)))

#define HOLDING(%0) \
	((newkeys & (%0)) == (%0))

#define RELEASED(%0) \
	(((newkeys & (%0)) != (%0)) && ((oldkeys & (%0)) == (%0)))
//==============================================================================

//==============================================================================
public OnPlayerKeyStateChange(playerid, newkeys, oldkeys)
{

	if(newkeys & KEY_SPRINT && newkeys & KEY_JUMP && GetPlayerState(playerid) != 2) ClearAnimations(playerid), ApplyAnimation(playerid,"FAT","IDLE_tired",4.0,0,0,0,0,0);  
	if(newkeys == KEY_WALK && PlayerPickupID[playerid] >= 0) {
		return PlayerPickup(playerid, PlayerPickupID[playerid]);
	}
	if(newkeys & KEY_WALK) // левый альт
	{
		new vehicleiddddd = GetPlayerVehicleID(playerid); 					// - Заводим под переменную GetPlayerVehicleID
		if(vehicleiddddd > 0) 												// - Проверка в машине ли игрок
		{
			if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER) 			// - Проверка за рулём ли игрок
			{
				if(SpeedVehicle(playerid) < 20) return 1; 					// - Минимальная скорость, по умолчанию: 20
					else if(SpeedVehicle(playerid) > 100) return 1; 		// - Максимальная скорость, по умолчанию: 100
				const Float:velocity = 0.499; 								// - Тут можете менять как хотите. Но 0.999 вам думаю хватит
				new Float:X, Float:Y, Float:A; 								// - Создаём локальные переменные
				GetVehicleZAngle(vehicleiddddd, A); 						// - Узнаём угол поворота машины

				X = velocity * -floatcos(A - 90.0, degrees); 				// - Вычисляем скорость машины X
				Y = velocity * -floatsin(A - 90.0, degrees); 				// Вычисляем скорость машины Y

				SetVehicleVelocity(vehicleiddddd, X, Y, 0.0); 				// - Устанавливаем скорость машине
			}
		}
		
	}
	if(PlayerPickupID[playerid] == scooter_pickup){
			new string[100];
			format(string, sizeof(string), "Вы действительно хотите арендовать скутер?\n-----------------\n\n\n{FFF000}Стоимость скутера составит %d рублей.", scooter_price);
			ShowPlayerDialog(playerid, SCOOTER, DIALOG_STYLE_MSGBOX, "Аренда скутера", string, "Арендовать", "Отмена");
		}
	if(GetPVarInt(playerid,"Job") == 2)
	{
		if(newkeys == KEY_SECONDARY_ATTACK || newkeys == KEY_JUMP || newkeys == KEY_FIRE || newkeys == KEY_SPRINT)
		{
			SendClientMessage(playerid, COLOR_RED, "Вы уронили ящик");
			RemovePlayerAttachedObject(playerid,1);							// - Удаляем объект из рук
			ApplyAnimation(playerid,"PED","IDLE_tired",4.1,0,1,1,0,1);		// - Обнуляем анимацию
			SetPVarInt(playerid,"Job",1);									// - Устанавливаем момент работы игрока на 1..
			SetPlayerCheckpoint(playerid, 2350.9539,-258.6003,2.7890,1.5);	// - Создаём один из чекпоинтов
		}
	}
	if(PRESSED(KEY_SPRINT))
	{
		if(GetPVarInt(playerid, "Animation") == 1)
		{
			ClearAnimations(playerid);
			SetPlayerSpecialAction(playerid, 0);
			ApplyAnimation(playerid,"PED","IDLE_tired",4.1,0,1,1,0,1);
			DeletePVar(playerid,"Animation");
			TextDrawHideForPlayer(playerid, AnimDraw);
			return 1;
		}
	}
	if(GetPVarInt(playerid, "carryammo") == 1)
	{
	if(newkeys == KEY_SECONDARY_ATTACK ||newkeys == KEY_AIM || newkeys == KEY_JUMP || newkeys == KEY_SECONDARY_ATTACK || newkeys == KEY_FIRE)
	{
			SendClientMessage(playerid, COLOR_RED, "Вы уронили ящик с патронами!");
			RemovePlayerAttachedObject(playerid,1);							// - Удаляем объект из рук
			ApplyAnimation(playerid,"PED","IDLE_tired",4.1,0,1,1,0,1);		// - Обнуляем анимацию
			SetPVarInt(playerid,"carryammo", 0);
		}
	}
	if(GetPVarInt(playerid,"Job") == 2)
	{
		if(newkeys == KEY_SECONDARY_ATTACK || newkeys == KEY_JUMP || newkeys == KEY_SECONDARY_ATTACK || newkeys == KEY_FIRE || newkeys == KEY_CROUCH)
		{
			RemovePlayerAttachedObject(playerid,1);							// - Удаляем объект из рук
			ApplyAnimation(playerid,"PED","IDLE_tired",4.1,0,1,1,0,1);		// - Обнуляем анимацию
			SetPVarInt(playerid,"Job",1);									// - Устанавливаем момент работы игрока на 1..
			SetPlayerCheckpoint(playerid, 2350.9539,-258.6003,2.7890,1.5);	// - Создаём один из чекпоинтов
		}
	}

 	if(HOLDING(KEY_CROUCH) && IsPlayerInRangeOfPoint(playerid, 10.0, 1817.4700, 2132.5100, 15.5800))
	{
		if(PI[playerid][pMember] == TEAM_AO && PI[playerid][pRank] >= 4)
    	{
	    	if(shlak_ao_o == 1)
			{
		    	MoveDynamicObject(shlak_ao, 1817.4700, 2132.5100, 15.5800, 0.1, 0.0000, -90.0000, 90.0000);
		    	shlak_ao_o = 0;
		    	SCM(playerid,COLOR_RED,"Вы закрыли шлагбаум");
		    	SetPlayerChatBubble(playerid,"Закрывает шлагбаум",COLOR_RED,30.0,10000);
			}
			else
			{
			    MoveDynamicObject(shlak_ao, 1817.4700, 2132.5100, 15.5800, 0.1, 0.0000, -0.0000, 90.0000);
			    shlak_ao_o = 1;
			    SCM(playerid,COLOR_LIME,"Вы открыли шлагбаум");
			    SetPlayerChatBubble(playerid,"Открывает шлагбаум",COLOR_LIME,30.0,10000);
			}
		}
	}
	if ((newkeys & KEY_FIRE) && !(oldkeys & KEY_FIRE))
    {
        if(IsCreating[playerid] == true)
        {
            if(SettingFirstLoc[playerid] == true)
			{
		        const Float:fScale = 5.0;
				GetPlayerCameraPos(playerid, fPX, fPY, fPZ);
				GetPlayerCameraFrontVector(playerid, fVX, fVY, fVZ);
				object_x = fPX + floatmul(fVX, fScale);
				object_y = fPY + floatmul(fVY, fScale);
				object_z = fPZ + floatmul(fVZ, fScale);
				coordInfo[playerid][StartX] 		= fPX;
				coordInfo[playerid][StartY] 		= fPY;
				coordInfo[playerid][StartZ] 		= fPZ;
				coordInfo[playerid][StartLookX] 	= object_x;
				coordInfo[playerid][StartLookY] 	= object_y;
				coordInfo[playerid][StartLookZ] 	= object_z;
		        if(IsReSettingStart[playerid] == true)
		        {
					SendClientMessage(playerid, -1, "{8EFF8E}>{FFFFFF} Start position {8EFF8E}re-set.");
					ShowPlayerDialog(playerid, FLY_DIALOG_MENU, DIALOG_STYLE_LIST,"Next step?","Preview\nChange Start\nChange End\nChange Speed\nSave","Ok","Cancel");
					IsReSettingStart[playerid] 		= false;
					IsReSettingEnd[playerid] 		= false;
					SettingFirstLoc[playerid] 		= false;
					SettingLastLoc[playerid] 		= false;
				}
				else
				{
				    SendClientMessage(playerid, -1, "{8EFF8E}>{FFFFFF} Start position {8EFF8E}set.");
				    SendClientMessage(playerid, -1, "Now use {F58282}~k~~PED_FIREWEAPON~ {FFFFFF}to save the camera's position as the {F58282}end {FFFFFF}position.");
				    SettingLastLoc[playerid] = true;
				    SettingFirstLoc[playerid] = false;
				}
			}
			else if(SettingLastLoc[playerid] == true)
			{
			    const Float:fScale = 5.0;
		        new string[512];
			    format(string, sizeof(string), "Please enter the desired {F58282}movement{a9c4e4} time in milliseconds\n\nCurrent movement speed: \t{F58282}%i milliseconds\n{a9c4e4}Current rotation speed: \t{F58282}%i milliseconds\n\n\nNote: {a9c4e4}1 second = 1000 milliseconds", coordInfo[playerid][MoveSpeed], coordInfo[playerid][RotSpeed]);
			    ShowPlayerDialog(playerid, FLY_DIALOG_MOVE_SPEED, DIALOG_STYLE_INPUT, "Movement Speed", string,"Ok","Cancel");
				GetPlayerCameraPos(playerid, fPX, fPY, fPZ);
				GetPlayerCameraFrontVector(playerid, fVX, fVY, fVZ);
				object_x = fPX + floatmul(fVX, fScale);
				object_y = fPY + floatmul(fVY, fScale);
				object_z = fPZ + floatmul(fVZ, fScale);
				coordInfo[playerid][EndX] 			= fPX;
				coordInfo[playerid][EndY] 			= fPY;
				coordInfo[playerid][EndZ] 			= fPZ;
				coordInfo[playerid][EndLookX] 		= object_x;
				coordInfo[playerid][EndLookY] 		= object_y;
				coordInfo[playerid][EndLookZ] 		= object_z;
				if(IsReSettingEnd[playerid] == true)
				{
				    SendClientMessage(playerid, -1, "{8EFF8E}>{FFFFFF} End position {8EFF8E}re-set.");
				    ShowPlayerDialog(playerid, FLY_DIALOG_MENU, DIALOG_STYLE_LIST,"Next step?","Preview\nChange Start\nChange End\nChange Speed\nSave","Ok","Cancel");
		            IsReSettingStart[playerid] 		= false;
					IsReSettingEnd[playerid] 		= false;
					SettingFirstLoc[playerid] 		= false;
					SettingLastLoc[playerid] 		= false;
				}
				else
				{
				    SendClientMessage(playerid, -1, "{8EFF8E}>{FFFFFF} End position {8EFF8E}set.");
				    SettingLastLoc[playerid] = false;
				}
			}
		}
    }
  	if(HOLDING(KEY_CROUCH) && IsPlayerInRangeOfPoint(playerid, 10.0, 2092.2300, -2403.0000, 21.6900))
	{
		if(PI[playerid][pMember] == TEAM_MZY && PI[playerid][pRank] >= 4)
    	{
	    	if(shlak_smp_o == 1)
			{
		    	MoveDynamicObject(shlak_smp, 2092.2300, -2403.0000, 21.6900, 0.1, 0.0000, -90.0000, 0.0000);
		    	shlak_smp_o = 0;
		    	SCM(playerid,COLOR_RED,"Вы закрыли шлагбаум");
		    	SetPlayerChatBubble(playerid,"Закрывает шлагбаум",COLOR_RED,30.0,10000);
			}
			else
			{
			    MoveDynamicObject(shlak_smp, 2092.2300, -2403.0000, 21.6900, 0.1, 0.0000, 0.0000, 0.0000);
			    shlak_smp_o = 1;
			    SCM(playerid,COLOR_LIME,"Вы открыли шлагбаум");
			    SetPlayerChatBubble(playerid,"Открывает шлагбаум",COLOR_LIME,30.0,10000);
			}
		}
	}
  	if(HOLDING(KEY_CROUCH) && IsPlayerInRangeOfPoint(playerid, 10.0, 2579.8027, -2438.7542, 21.6200))
	{
		if(PI[playerid][pMember] == TEAM_DPS && PI[playerid][pRank] >= 4)
    	{
	    	if(shlak_dps_o == 1)
			{
		    	MoveDynamicObject(shlak_dps, 2579.8027, -2438.7542, 21.6200, 0.1, 0.0000, -90.0000, -90.0000);
		    	shlak_dps_o = 0;
		    	SCM(playerid,COLOR_RED,"Вы закрыли шлагбаум");
		    	SetPlayerChatBubble(playerid,"Закрывает шлагбаум",COLOR_RED,30.0,10000);
			}
			else
			{
			    MoveDynamicObject(shlak_dps, 2579.8574, -2438.7078, 21.6200, 0.1, 0.0000, 0.0000, -90.0000);
			    shlak_dps_o = 1;
			    SCM(playerid,COLOR_LIME,"Вы открыли шлагбаум");
			    SetPlayerChatBubble(playerid,"Открывает шлагбаум",COLOR_LIME,30.0,10000);
			}
		}
	}
	if(PI[playerid][P_IN_ENTRANCE] != -1)
	{
		for(new i; i < sizeof g_area_rooms; i ++)
		{
			if(IsPlayerInDynamicArea(playerid, g_area_rooms[i]))
			{
				new roomid = g_area_rooms[i] - g_area_rooms[0];

				ShowPlayerRoomInfo(playerid, PI[playerid][P_IN_ENTRANCE], roomid);

				break;
			}
		}

		if(IsPlayerInDynamicArea(playerid, AreaRoomExit))
		{
			new entranceid = PI[playerid][P_IN_ENTRANCE],
				roomid = PI[playerid][P_IN_ROOM];

			if(entranceid == -1 || roomid == -1)
				return 1;

			FreezePlayer(playerid, 2000);

			SetPlayerPos(playerid, coord_rooms[roomid][0], coord_rooms[roomid][1], coord_rooms[roomid][2]);
			SetPlayerVirtualWorld(playerid, entranceid + 1000);
			SetPlayerInterior(playerid, 0);

			PI[playerid][P_IN_ROOM] = -1;
		}
	}
   	if(HOLDING(KEY_CROUCH) && IsPlayerInRangeOfPoint(playerid, 10.0, 383.3500, 764.4400, 11.7700))
	{
		if(PI[playerid][pMember] == TEAM_PPS && PI[playerid][pRank] >= 4)
    	{
	    	if(shlak_pps_o == 1)
			{
		    	MoveDynamicObject(shlak_pps, 383.3500, 764.4400, 11.7700, 0.5, 0.0000, -90.0000, 158.8300);
		    	shlak_pps_o = 0;
		    	SCM(playerid,COLOR_RED,"Вы закрыли шлагбаум");
		    	SetPlayerChatBubble(playerid,"Закрывает шлагбаум",COLOR_RED,30.0,10000);
			}
			else
			{
			    MoveDynamicObject(shlak_pps, 383.3500, 764.4400, 11.7700, 0.5, 0.0000, 0.0000, 158.8300);
			    shlak_pps_o = 1;
			    SCM(playerid,COLOR_LIME,"Вы открыли шлагбаум");
			    SetPlayerChatBubble(playerid,"Открывает шлагбаум",COLOR_LIME,30.0,10000);
			}
		}
	}
   	if(HOLDING(KEY_CROUCH) && IsPlayerInRangeOfPoint(playerid, 10.0, 1959.6110, -2603.7477, 10.6154))
	{
		if(PI[playerid][pMember] == TEAM_SPARTAK && PI[playerid][pRank] >= 1)
    	{
	    	if(shlak_opg_o == 1)
			{
		    	MoveDynamicObject(shlak_opg, 1959.6110, -2603.7477, 10.6154, 0.5, 0.0000, 90.0000, -90.0000);
		    	shlak_opg_o = 0;
		    	SCM(playerid,COLOR_RED,"Вы закрыли шлагбаум");
		    	SetPlayerChatBubble(playerid,"Закрывает шлагбаум",COLOR_RED,30.0,10000);
			}
			else
			{
			    MoveDynamicObject(shlak_opg, 1959.6110, -2603.7477, 10.6154, 0.5, 0.0000, 0.0000, -90.0000);
			    shlak_opg_o = 1;
			    SCM(playerid,COLOR_LIME,"Вы открыли шлагбаум");
			    SetPlayerChatBubble(playerid,"Открывает шлагбаум",COLOR_LIME,30.0,10000);
			}
		}
	}
  	if(HOLDING(KEY_CROUCH) && IsPlayerInRangeOfPoint(playerid, 10.0, 2625.7300, 1792.3300, 2.3900))
	{
		if(PI[playerid][pMember] == TEAM_CSKA && PI[playerid][pRank] >= 1)
    	{
	    	if(shlak_opg2_o == 1)
			{
		    	MoveDynamicObject(shlak_opg2, 2625.7300, 1792.3300, 2.3900, 0.5, 0.0000, -90.0000, 0.0000);
		    	shlak_opg2_o = 0;
		    	SCM(playerid,COLOR_RED,"Вы закрыли шлагбаум");
		    	SetPlayerChatBubble(playerid,"Закрывает шлагбаум",COLOR_RED,30.0,10000);
			}
			else
			{
			    MoveDynamicObject(shlak_opg2, 2625.7300, 1792.3300, 2.3900, 0.5, 0.0000, 0.0000, 0.0000);
			    shlak_opg2_o = 1;
			    SCM(playerid,COLOR_LIME,"Вы открыли шлагбаум");
			    SetPlayerChatBubble(playerid,"Открывает шлагбаум",COLOR_LIME,30.0,10000);
			}
		}
	}
   	if(HOLDING(KEY_CROUCH) && IsPlayerInRangeOfPoint(playerid, 10.0, -19.5864, 1487.6664, 13.5000))
	{
		if(PI[playerid][pMember] == TEAM_DINAMO && PI[playerid][pRank] >= 1)
    	{
	    	if(shlak_opg3_o == 1)
			{
		    	MoveDynamicObject(shlak_opg3, -19.5864, 1487.6664, 13.5000, 0.5, 0.0000, 90.0000, 47.9799);
		    	shlak_opg3_o = 0;
		    	SCM(playerid,COLOR_RED,"Вы закрыли шлагбаум");
		    	SetPlayerChatBubble(playerid,"Закрывает шлагбаум",COLOR_RED,30.0,10000);
			}
			else
			{
			    MoveDynamicObject(shlak_opg3, -19.5864, 1487.6664, 13.5000, 0.5, 0.0000, 0.0000, 47.9799);
			    shlak_opg3_o = 1;
			    SCM(playerid,COLOR_LIME,"Вы открыли шлагбаум");
			    SetPlayerChatBubble(playerid,"Открывает шлагбаум",COLOR_LIME,30.0,10000);
			}
		}
	}
    if(HOLDING(KEY_CROUCH) && IsPlayerInRangeOfPoint(playerid, 10.0, 1900.4600, 2157.9600, 15.4700))
	{
		if(PI[playerid][pMember] == TEAM_ZENIT && PI[playerid][pRank] >= 1)
    	{
	    	if(shlak_chechen_o == 1)
			{
		    	MoveDynamicObject(shlak_chechen, 1900.4600, 2157.9600, 15.4700, 0.5, 0.0000, 0.0000, -90.0000);
		    	shlak_chechen_o = 0;
		    	SCM(playerid,COLOR_RED,"Вы закрыли шлагбаум");
		    	SetPlayerChatBubble(playerid,"Закрывает шлагбаум",COLOR_RED,30.0,10000);
			}
			else
			{
			    MoveDynamicObject(shlak_chechen, 1900.4600, 2157.9600, 15.4700, 0.5, 0.0000, 90.0000, -90.0000);
			    shlak_chechen_o = 1;
			    SCM(playerid,COLOR_LIME,"Вы открыли шлагбаум");
			    SetPlayerChatBubble(playerid,"Открывает шлагбаум",COLOR_LIME,30.0,10000);
			}
		}
	}
	if(newkeys == KEY_WALK)
	{
	    if(IsPlayerInRangeOfPoint(playerid, 5.0, 788.9500, 2517.3401, 11.4300))// фсб шлагбаум слева
		{
			if(IsACop(playerid))
			{
				switch(SDvers[0])
				{
				case 0:
					{
						MoveObject(Dvers[0], 788.9500, 2517.3401, 0.4300, 2.0, 0.0000, 0.0000, 30.3000);//o
						ApplyAnimation(playerid, "CRIB", "CRIB_Use_Switch",4.0,0,0,0,0,0);
						SetPlayerChatBubble(playerid,"{00FF00}Открывает ворота",-1,30.0,10000);
						PlayerPlaySound(playerid, 1190, 0.0, 0.0, 0.0);
						SDvers[0] = 1;
					}
				case 1:
					{
						MoveObject(Dvers[0], 788.9500, 2517.3401, 11.4300, 2.0, 0.0000, 0.0000, 30.3000);//з
						ApplyAnimation(playerid, "CRIB", "CRIB_Use_Switch",4.0,0,0,0,0,0);
						SetPlayerChatBubble(playerid,"{FE2E2E}Закрывает ворота",-1,30.0,10000);
						PlayerPlaySound(playerid, 1190, 0.0, 0.0, 0.0);
						SDvers[0] = 0;
					}
				}
			}
			return 1;
		}
      	if(IsPlayerInRangeOfPoint(playerid, 5.0, 755.2700, 2497.8601, 11.4300))// фсб шлагбаум справа
		{
			if(IsACop(playerid))
			{
				switch(SDvers[1])
				{
				case 0:
					{
						MoveObject(Dvers[1], 755.2700, 2497.8601, 0.4300, 2.0, 0.0000, 0.0000, 30.3000);//o
						ApplyAnimation(playerid, "CRIB", "CRIB_Use_Switch",4.0,0,0,0,0,0);
						SetPlayerChatBubble(playerid,"{00FF00}Открывает ворота",-1,30.0,10000);
						PlayerPlaySound(playerid, 1190, 0.0, 0.0, 0.0);
						SDvers[1] = 1;
					}
				case 1:
					{
						MoveObject(Dvers[1], 755.2700, 2497.8601, 11.4300, 2.0, 0.0000, 0.0000, 30.3000);//з
						ApplyAnimation(playerid, "CRIB", "CRIB_Use_Switch",4.0,0,0,0,0,0);
						SetPlayerChatBubble(playerid,"{FE2E2E}Закрывает ворота",-1,30.0,10000);
						PlayerPlaySound(playerid, 1190, 0.0, 0.0, 0.0);
						SDvers[1] = 0;
					}
				}
			}
			return 1;
		}
	}
  	if(newkeys == KEY_WALK && IsPlayerInRangeOfPoint(playerid, 3, -1412.8900, -1121.2300, 1520.9301))
	{
		if(PI[playerid][pMember] == TEAM_AO && PI[playerid][pRank] >= 1)
    	{
	    	if(dver_ao_o == 1)
			{
		    	MoveDynamicObject(dver_ao, -1412.8900, -1121.2300, 1520.9301, 0.5, 0.0000, 0.0000, 270.0000);
		    	dver_ao_o = 0;
		    	SCM(playerid,COLOR_RED,"Вы закрыли дверь");
		    	SetPlayerChatBubble(playerid,"Закрывает дверь",COLOR_RED,30.0,10000);
			}
			else
			{
			    MoveDynamicObject(dver_ao, -1412.8900, -1119.7100, 1520.9301, 0.5, 0.0000, 0.0000, 270.0000);
			    dver_ao_o = 1;
			    SCM(playerid,COLOR_LIME,"Вы открыли дверь");
			    SetPlayerChatBubble(playerid,"Открывает дверь",COLOR_LIME,30.0,10000);
			}
		}
	}
 	//ППС ДВЕРИ
    if(newkeys == KEY_WALK && IsPlayerInRangeOfPoint(playerid, 3, 469.7784, 1325.2921, 1722.5100))
	{
		if(PI[playerid][pMember] == TEAM_PPS && PI[playerid][pRank] >= 1)
    	{
	    	if(dver_pps_o == 1)
			{
		    	MoveDynamicObject(dver_pps, 469.7784, 1325.2921, 1722.5100, 0.5, 0.0000, 0.0000, 90.0000);
		    	dver_pps_o = 0;
		    	SCM(playerid,COLOR_RED,"Вы закрыли дверь");
		    	SetPlayerChatBubble(playerid,"Закрывает дверь",COLOR_RED,30.0,10000);
			}
			else
			{
			    MoveDynamicObject(dver_pps, 469.7784, 1324.0500, 1722.5100, 0.5, 0.0000, 0.0000, 90.0000);
			    dver_pps_o = 1;
			    SCM(playerid,COLOR_LIME,"Вы открыли дверь");
			    SetPlayerChatBubble(playerid,"Открывает дверь",COLOR_LIME,30.0,10000);
			}
		}
	}
	//ФСБ ДВЕРИ СПРАВА
    if(newkeys == KEY_WALK && IsPlayerInRangeOfPoint(playerid, 3, 176.6200, 437.8300, 1582.6700))
	{
		if(PI[playerid][pMember] == TEAM_FSIN && PI[playerid][pRank] >= 1)
    	{
	    	if(dver_fsb_o == 1)
			{
		    	MoveDynamicObject(dver_fsb, 176.62, 437.83, 1582.67, 0.5, 0.00, 0.00, 450.00);
		    	dver_fsb_o = 0;
		    	SCM(playerid,COLOR_RED,"Вы закрыли дверь");
		    	SetPlayerChatBubble(playerid,"Закрывает дверь",COLOR_RED,30.0,10000);
			}
			else
			{
			    MoveDynamicObject(dver_fsb, 176.62, 436.31, 1582.67, 0.5, 0.00, 0.00, 450.00);
			    dver_fsb_o = 1;
			    SCM(playerid,COLOR_LIME,"Вы открыли дверь");
			    SetPlayerChatBubble(playerid,"Открывает дверь",COLOR_LIME,30.0,10000);
			}
		}
	}
 	//ФСБ ДВЕРИ СЛЕВА
    if(newkeys == KEY_WALK && IsPlayerInRangeOfPoint(playerid, 3, 176.6200, 448.5000, 1582.7100))
	{
		if(PI[playerid][pMember] == TEAM_FSIN && PI[playerid][pRank] >= 1)
    	{
	    	if(dver2_fsb_o == 1)
			{
		    	MoveDynamicObject(dver2_fsb, 176.61, 448.50, 1582.7, 0.5, 0.00, 0.00, 270.00);
		    	dver2_fsb_o = 0;
		    	SCM(playerid,COLOR_RED,"Вы закрыли дверь");
		    	SetPlayerChatBubble(playerid,"Закрывает дверь",COLOR_RED,30.0,10000);
			}
			else
			{
			    MoveDynamicObject(dver2_fsb, 176.62, 450.00, 1582.71, 0.5, 0.00, 0.00, 270.00);
			    dver2_fsb_o = 1;
			    SCM(playerid,COLOR_LIME,"Вы открыли дверь");
			    SetPlayerChatBubble(playerid,"Открывает дверь",COLOR_LIME,30.0,10000);
			}
		}
	}
  	//ДПС ДВЕРЬ
    if(newkeys == KEY_WALK && IsPlayerInRangeOfPoint(playerid, 3, -94.9400, 742.7900, 1619.93))
	{
		if(PI[playerid][pMember] == TEAM_DPS && PI[playerid][pRank] >= 1)
    	{
	    	if(dver_dps_o == 1)
			{
		    	MoveDynamicObject(dver_dps, -94.9400, 742.7900, 1619.9301, 0.5, 0.00, 0.00, 90.00);
		    	dver_dps_o = 0;
		    	SCM(playerid,COLOR_RED,"Вы закрыли дверь");
		    	SetPlayerChatBubble(playerid,"Закрывает дверь",COLOR_RED,30.0,10000);
			}
			else
			{
			    MoveDynamicObject(dver_dps, -94.9400, 741.5000, 1619.9301, 0.5, 0.0000, 0.0000, 90.00);
			    dver_dps_o = 1;
			    SCM(playerid,COLOR_LIME,"Вы открыли дверь");
			    SetPlayerChatBubble(playerid,"Открывает дверь",COLOR_LIME,30.0,10000);
			}
		}
	}
   	if(newkeys == KEY_WALK && IsPlayerInRangeOfPoint(playerid, 3, -1412.8500, -1130.7200, 1520.9301))
	{
		if(PI[playerid][pMember] == TEAM_AO && PI[playerid][pRank] >= 1)
    	{
	    	if(dver2_ao_o == 1)
			{
		    	MoveDynamicObject(dver2_ao, -1412.8500, -1130.7200, 1520.9301, 0.5, 0.0000, 0.0000, 450.0000);
		    	dver2_ao_o = 0;
		    	SCM(playerid,COLOR_RED,"Вы закрыли дверь");
		    	SetPlayerChatBubble(playerid,"Закрывает дверь",COLOR_RED,30.0,10000);
			}
			else
			{
			    MoveDynamicObject(dver2_ao, -1412.7723, -1132.2384, 1520.9301, 0.5, 0.0000, 0.0000, 450.0000);
			    dver2_ao_o = 1;
			    SCM(playerid,COLOR_LIME,"Вы открыли дверь");
			    SetPlayerChatBubble(playerid,"Открывает дверь",COLOR_LIME,30.0,10000);
			}
		}
	}
  	if(HOLDING(KEY_CROUCH) && IsPlayerInRangeOfPoint(playerid, 10.0, 1891.0800, 1722.3900, 16.2200))
	{
		if(IsPlayerInAnyVehicle(playerid))
    	{
			callcmd::openvdv(playerid);
		}
	}
	if(IsPlayerInRangeOfPoint(playerid, 1.0, 833.1951,239.9840,1014.2498))
	{
		if(PI[playerid][pMember] != TEAM_VDV)
		return 1;

		ShowPlayerDialog
		(
			playerid, DIALOG_GUN_VDV, DIALOG_STYLE_LIST,
			"{FFCC00}Оружие Воинской Части (ВДВ)",
			"{FFCC00}1. {ffffff}Пистолет {0099FF}50 патронов\n\
			{FFCC00}2. {ffffff}AK-47 {0099FF}120 патронов\n\
			{FFCC00}3. {ffffff}Дубинка",
			"Создать", "Отмена"
		);
	}
	if(HOLDING(KEY_CROUCH)) // H
	{
		if(GetPVarInt(playerid, "have_jerrican") == 1)
		{
			new vehicleid = GetNearestVehicleID(playerid, 2.3);
			if(vehicleid != INVALID_VEHICLE_ID)
			{
				SetPVarInt(playerid, "jerrican_fill_car", vehicleid);

				ShowPlayerDialog
				(
					playerid, DIALOG_JERRICAN_FILL_CAR, DIALOG_STYLE_LIST,
					"{FFCC00}Канистра",
					"{FFFFFF}Вы хотите заправить этот транспорт с канистры?",
					"Да", "Нет"
				);
			}
		}
	}
	/*if(newkeys == 8)
	{
	    if(IsPlayerInAnyVehicle(playerid) && eBoost[playerid] != false)
	    {
	        new vehicleid = GetPlayerVehicleID(playerid);
			if(GetVehicleModel(vehicleid) == 402 || GetVehicleModel(vehicleid) == 415 || GetVehicleModel(vehicleid) == 429 || GetVehicleModel(vehicleid) == 436 || GetVehicleModel(vehicleid) == 451 || GetVehicleModel(vehicleid) == 461 || GetVehicleModel(vehicleid) == 466 || GetVehicleModel(vehicleid) == 480 || GetVehicleModel(vehicleid) == 494 || GetVehicleModel(vehicleid) == 502 || GetVehicleModel(vehicleid) == 503 || GetVehicleModel(vehicleid) == 521 || GetVehicleModel(vehicleid) == 522 || GetVehicleModel(vehicleid) == 541 || GetVehicleModel(vehicleid) == 560|| GetVehicleModel(vehicleid) == 581 || GetVehicleModel(vehicleid) == 604)
	        Boost[playerid] = SetTimerEx("BoostVehOne", 500, true, "i", GetPlayerVehicleID(playerid));
	        else if(GetVehicleModel(vehicleid) == 400 || GetVehicleModel(vehicleid) == 405 || GetVehicleModel(vehicleid) == 477 || GetVehicleModel(vehicleid) == 489 || GetVehicleModel(vehicleid) == 490 || GetVehicleModel(vehicleid) == 495 || GetVehicleModel(vehicleid) == 506 || GetVehicleModel(vehicleid) == 523 || GetVehicleModel(vehicleid) == 551 || GetVehicleModel(vehicleid) == 559 || GetVehicleModel(vehicleid) == 562 || GetVehicleModel(vehicleid) == 565 || GetVehicleModel(vehicleid) == 589  || GetVehicleModel(vehicleid) == 599)
	        Boost[playerid] = SetTimerEx("BoostVehTwo", 500, true, "i", GetPlayerVehicleID(playerid));

	        else if(GetVehicleModel(vehicleid) == 410 || GetVehicleModel(vehicleid) == 445 || GetVehicleModel(vehicleid) == 489 || GetVehicleModel(vehicleid) == 565 || GetVehicleModel(vehicleid) == 596 || GetVehicleModel(vehicleid) == 597 || GetVehicleModel(vehicleid) == 602)
	        Boost[playerid] = SetTimerEx("BoostVehThree", 500, true, "i", GetPlayerVehicleID(playerid));
		}
	}
 	else if(newkeys != 8)
	{
	    if(eBoost[playerid] != false)
	    {
	    	KillTimer(Boost[playerid]);
		}
	}*/
	if(newkeys == KEY_CROUCH)
	{
		for(new i = 1; i <= TOTALBIZZ; i++)
		{
			if(IsPlayerInRangeOfPoint(playerid, 10.0, BizzInfo[i][bEntrx], BizzInfo[i][bEntry], BizzInfo[i][bEntrz]) && BizzInfo[i][bType] == 7)
			{
                new cares[MAX_PLAYERS] = 0;
			    if(PI[playerid][PlayerCarID] == INVALID_VEHICLE_ID) return SendClientMessage(playerid, COLOR_RED, "Вы должны находится в своём личном транспорте, купите его в автосалоне");
				else if(!IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_RED, "Вы должны находится в транспорте!");
				else if(GetPlayerVehicleID(playerid) == PI[playerid][PlayerCarID][0]) cares[playerid]++;
				else if(GetPlayerVehicleID(playerid) == PI[playerid][PlayerCarID][1]) cares[playerid]++;
				else if(GetPlayerVehicleID(playerid) != PI[playerid][PlayerCarID]) return SendClientMessage(playerid, COLOR_RED, "Вы должны находится в вашем личном транспорте!");
				else if(GetVehicleModel(GetPlayerVehicleID(playerid)) == 462) return SendClientMessage(playerid, COLOR_RED, "Вы не можете тюнинговать мопед!");
				ShowPlayerDialog(playerid, D_CTO, DSM, "{FFCC00}СТО", "{FFFFFF}Вы действительно хотите протюнинговать свой транспорт?", "Да", "Нет");
				SetPVarInt(playerid, "CTObizzid", i);
			}
		}
 	    return 1;
	}
    else if((PRESSED(KEY_SECONDARY_ATTACK) || PRESSED(KEY_JUMP) || PRESSED(KEY_SPRINT)) && !IsPlayerInAnyVehicle(playerid))
    {
        if(UseWork[playerid] == 1 && IsPlayerAttachedObjectSlotUsed(playerid, 2))
        {
        	SendClientMessage(playerid, COLOR_RED, "Вы уронили руду");
        	startjob2[playerid] = false;
        	RemovePlayerAttachedObject(playerid,1);
        	RemovePlayerAttachedObject(playerid,2);
        	RemovePlayerAttachedObject(playerid,3);
			DisablePlayerCheckpoint(playerid);
			TogglePlayerControllable(playerid,1);
			ClearAnimations(playerid);
			new mcheckShahta = random(5);//Кол-во чекпоинтов
			{
				if(mcheckShahta == 0) SetPlayerCheckpoint(playerid, -22.4231,1073.5958,-84.1225-1,3.0);
				if(mcheckShahta == 1) SetPlayerCheckpoint(playerid, -9.9851,1083.8435,-84.1332-1,3.0);
				if(mcheckShahta == 2) SetPlayerCheckpoint(playerid, -45.4904,1065.5435,-84.1352-1,3.0);
				if(mcheckShahta == 3) SetPlayerCheckpoint(playerid, -33.4056,1067.2639,-84.1190-1,3.0);
				if(mcheckShahta == 4) SetPlayerCheckpoint(playerid, -26.2218,1084.3367,-84.1038-1,3.0);
			}
		}
	}
	for(new idx = 1; idx <= TOTALHOUSE; idx++)
	{
		if(newkeys == KEY_WALK && IsPlayerInRangeOfPoint(playerid,1,HouseInfo[idx][hEntrx], HouseInfo[idx][hEntry], HouseInfo[idx][hEntrz]))
		{
			SetPVarInt(playerid, "PlayerHouse", idx);
			new string[400];
			new klass[50];
			if(HouseInfo[idx][hDiscript] == 'A')
			{
			    klass = "низкий";
			}
			else if(HouseInfo[idx][hDiscript] == 'B')
			{
			    klass = "средний";
			}
			else if(HouseInfo[idx][hDiscript] == 'C')
			{
			    klass = "высокий";
			}
			else if(HouseInfo[idx][hDiscript] == 'D')
			{
			    klass = "элитный";
			}
			else if(HouseInfo[idx][hDiscript] == 'E')
			{
			    klass = "делюксовый [VIP]";
			}
			else if(HouseInfo[idx][hDiscript] == 'F')
			{
			    klass = "особняк";
			}
			else if(HouseInfo[idx][hDiscript] == 'G')
			{
			    klass = "квартира";
			}
			if(!strcmp(HouseInfo[idx][hOwner],"None",true))
			{
				format(string,sizeof(string),"{ffffff}Дом №:\t\t{FFCC00}%d\n{FFFFFF}Владелец:\t\t{FFCC00}государство\n{ffffff}Класс:\t\t\t{FFCC00}%s\n{ffffff}Стоимость:\t\t{FFCC00}%d рублей\n{ffffff}Оплата в день:\t\t{FFCC00}%d рублей\n\n{ffffff}Вы уверены, что хотите купить этот дом?",idx,klass,HouseInfo[idx][hPrice],GetHomeOplata(idx));
				return ShowPlayerDialog(playerid, D_JOINHOUSE, 0,"{FFCC00}Покупка дома",string,"Купить","Отмена");
			}
			else
			{
				format(string,sizeof(string),"{ffffff}Дом №:\t\t{FFCC00}%d\n{FFFFFF}Владелец:\t\t{FFCC00}%s\n{ffffff}Класс:\t\t\t{FFCC00}%s\n{ffffff}Стоимость:\t\t{FFCC00}%d рублей\n{ffffff}Оплата в день:\t\t{FFCC00}%d рублей",idx,HouseInfo[idx][hOwner],klass,HouseInfo[idx][hPrice],GetHomeOplata(idx));
				return ShowPlayerDialog(playerid, D_JOINHOUSE, 0,"{FFCC00}Дом занят",string,"Войти","Отмена");
			}
		}
	}
	for(new idx = 1; idx <= TOTALBIZZ; idx++)
	{
		if(newkeys == KEY_WALK && IsPlayerInRangeOfPoint(playerid, 1,BizzInfo[idx][bEntrx], BizzInfo[idx][bEntry], BizzInfo[idx][bEntrz]))
		{
		    new string[128];
			if(!strcmp(BizzInfo[idx][bOwner],"None",true))
			{
				SetPVarInt(playerid, "PlayerBizz", idx);
				if(BizzInfo[idx][bType] != 2 && BizzInfo[idx][bType] != 7)
				{
					new biz = GetPVarInt(playerid, "PlayerBizz");
					FreezePlayer(playerid, 2000);
					SetPlayerPos(playerid,BizzInfo[biz][bExitx], BizzInfo[biz][bExity], BizzInfo[biz][bExitz]);
					SetPlayerInterior(playerid,BizzInfo[biz][bInt]);
					SetPlayerVirtualWorld(playerid,BizzInfo[biz][bVirtual]);
					SetCameraBehindPlayer(playerid);
				}
			}
			else
			{
				SetPVarInt(playerid, "PlayerBizz", idx);
				if(BizzInfo[idx][bType] != 2 && BizzInfo[idx][bType] != 7)
				{
					if(BizzInfo[idx][bEnter] > 0)
				 	{
					 	format(string, sizeof(string), "{FFFFFF}Вход платный и составляет {FFCC00}%i рублей\n{ffffff}Вы уверены что хотите войти сюда?", BizzInfo[idx][bEnter]);
					 	ShowPlayerDialog(playerid, D_HEAL+26, 0, "Бизнес", string, "Да", "Нет");
					}
					else
					{
						FreezePlayer(playerid, 3000);
						SetPlayerPos(playerid,BizzInfo[idx][bExitx], BizzInfo[idx][bExity], BizzInfo[idx][bExitz]);
						SetPlayerInterior(playerid,BizzInfo[idx][bInt]);
						SetPlayerVirtualWorld(playerid,BizzInfo[idx][bVirtual]);
						SetCameraBehindPlayer(playerid);
					}
	                return 1;
				}
			}
		}
		if(newkeys == KEY_WALK && IsPlayerInRangeOfPoint(playerid, 1,BizzInfo[idx][bMenux],BizzInfo[idx][bMenuy],BizzInfo[idx][bMenuz]))
		{
		   	switch(BizzInfo[idx][bType])
			{
			    case 1: MagazineList(playerid);
			   // case 3: EatList(playerid, i);
			    case 4,5: BarList(playerid);
			    case 6: GunShopList(playerid);
			    case 8: SkinShopList(playerid);
			    case 10: ToolsList(playerid);
			    case 14: AptekaList(playerid);
			}
		}
	}
	new biz = GetPVarInt(playerid, "PlayerBizz");
    if(newkeys == KEY_WALK && IsPlayerInRangeOfPoint(playerid, 1,BizzInfo[biz][bExitx], BizzInfo[biz][bExity], BizzInfo[biz][bExitz]))
	{
		FreezePlayer(playerid, 2000);
		SetPlayerPos(playerid,BizzInfo[biz][bEntrx], BizzInfo[biz][bEntry], BizzInfo[biz][bEntrz]);
		SetPlayerInterior(playerid,0);
		SetPlayerVirtualWorld(playerid,0);
	}
	if(newkeys == KEY_WALK && IsPlayerInRangeOfPoint(playerid, 1, 438.6825,1538.8860,12.0150))
	{
		BarList(playerid);
	}
	if(newkeys == KEY_WALK && IsPlayerInRangeOfPoint(playerid, 5,1400.2689,1759.7856,-6.1160))
	{
		SetPlayerPos(playerid,1400.8164,1752.8652,3.6274);
	}
	if(newkeys == KEY_WALK && IsPlayerInRangeOfPoint(playerid, 5,1400.8164,1752.8652,3.6274))
	{
		SetPlayerPos(playerid,1400.2689,1759.7856,-6.1160);
	}
	/*if(newkeys == KEY_WALK && IsPlayerInRangeOfPoint(playerid, 5,1884.6431,1733.4447,15.3082))
	{
		SetPlayerPos(playerid,1887.6425,1733.3246,25.4109);
	}
	if(newkeys == KEY_WALK && IsPlayerInRangeOfPoint(playerid, 5,1887.6425,1733.3246,25.4109))
	{
		SetPlayerPos(playerid,1884.6431,1733.4447,15.3082);
	}
	if(HOLDING(KEY_CROUCH) && IsPlayerInRangeOfPoint(playerid, 10.0, 1897.0458,2153.9304,15.8087))
	{
	if(IsPlayerInAnyVehicle(playerid))
    {
			callcmd::open(playerid);
		}
	}
	if(HOLDING(KEY_CROUCH) && IsPlayerInRangeOfPoint(playerid, 10.0, 1897.0458,2153.9304,15.8087))
	{
	if(IsPlayerInAnyVehicle(playerid))
    {
			callcmd::open(playerid);
		}
	}*/
	if(PI[playerid][pMember] == TEAM_VDV)
	{
		if(IsPlayerInRangeOfPoint(playerid, 8.0, 1646.49, 1409.40, 12.00))
		{
			if(IsPlayerInVehicle(playerid, 578))
			{
				ShowPlayerDialog
				(
					playerid, DIALOG_BUY_METALL, DIALOG_STYLE_MSGBOX,
					"{FFCC00}Шахта",
					"{ffffff}Вы действительно хотите купить {FFCC00}500 кг. {FFFFFF}металла за {FFFFFF}4000 рублей?",
					"Да", "Нет"
				);
			}
		}
	}
	/*if(PRESSED(KEY_SUBMISSION))
	{
		if(GetPlayerState(playerid) != PLAYER_STATE_DRIVER) return 1;
		if(GetPVarInt(playerid, "InShop") || InShop[playerid]) return 1;
		new cars = 0, vehicleid = GetPlayerVehicleID(playerid), arend_id = INVALID_PLAYER_ID;
		for(new i; i != sizeof(BE_Bad_Vehs); i++)
		{
			if(GetVehicleModel(vehicleid) == BE_Bad_Vehs[i]) cars++;
		}
		if(GetArendCarID(vehicleid, arend_id) != (-1))
	    {
	        new rc = GetArendCarID(vehicleid);
	        if(ArendInfo[rc][aPlayerID] != playerid) return 1;
	    }
    	if(IsAPlane(vehicleid) || IsAVel(vehicleid)) return 1;
		if(Fuel[vehicleid] <= 0 && GetVehicleModel(vehicleid) != 462) return SendClientMessage(playerid, COLOR_RED, "В транспорте закончился бензин, необходима заправка!");
 	    new Float:vehhealth;
		GetVehicleHealth(vehicleid, vehhealth);
		if(vehhealth <= 400 && cars == 0) return SendClientMessage(playerid, COLOR_RED, "Транспорт заглох. Вы можете вызвать механика: /call");
		GetVehicleParamsEx(vehicleid,engine,lights,alarm,doors,bonnet,boot,objective);
		SetVehicleParamsEx(vehicleid,(Engine[vehicleid])?(false):(true),lights,alarm,doors,bonnet,boot,objective);
		Engine[vehicleid] = (Engine[vehicleid])?(false):(true);
		return 1;
	}
	if(PRESSED(KEY_SUBMISSION))
	{
		if(GetPlayerState(playerid) != PLAYER_STATE_DRIVER) return 1;
		if(InShop[playerid]) return 1;
		new cars = 0, vehicleid = GetPlayerVehicleID(playerid), arend_id = INVALID_PLAYER_ID;
		for(new i; i != sizeof(BE_Bad_Vehs); i++)
		{
			if(GetVehicleModel(vehicleid) == BE_Bad_Vehs[i]) cars++;
		}
		if(GetArendCarID(vehicleid, arend_id) != (-1))
		{
			new rc = GetArendCarID(vehicleid);
			if(ArendInfo[rc][aPlayerID] != playerid) return 1;
		}
		if(IsAVel(vehicleid)) return 1;
		if(Fuel[vehicleid] <= 0 && GetVehicleModel(vehicleid) != 462) return SendClientMessage(playerid, COLOR_RED, "В транспорте закончился бензин, необходима заправка!");
		new Float:vehhealth;
		GetVehicleHealth(vehicleid, vehhealth);
		if(vehhealth <= 400 && cars == 0) return SendClientMessage(playerid, COLOR_RED, "Машина поломана, вызовите механика!");
		if(GetVehicleModel(vehicleid) == 520) return 1;
		GetVehicleParamsEx(vehicleid,engine,lights,alarm,doors,bonnet,boot,objective);
		SetVehicleParamsEx(vehicleid,(Engine[vehicleid])?(false):(true),lights,alarm,doors,bonnet,boot,objective);
		Engine[vehicleid] = (Engine[vehicleid])?(false):(true);
		return 1;
	}*/
	if(pCuff[playerid][pCuffee] == playerid)
	{
		if(!IsPlayerInAnyVehicle(playerid))
		{
			if((newkeys & KEY_JUMP || newkeys & KEY_FIRE || newkeys & KEY_CROUCH || (newkeys & KEY_HANDBRAKE && newkeys & KEY_SECONDARY_ATTACK)))
			{
				ClearAnimations(playerid);

				//unfreeze_two_timer[playerid] = 3;
				FreezePlayer(playerid, 3000);

				ApplyAnimation(playerid,"FAT","IDLE_tired",3.0,1,0,0,0,3000,1);
				TogglePlayerControllable(playerid,0);
				SendClientMessage(playerid, COLOR_RED, "Вы не можете использовать это действие так как Вы в наручниках");
			}
		}
	}
	if(newkeys & KEY_WALK)//сдача на права
	{
	    if(IsPlayerInRangeOfPoint(playerid, 1, 1070.2537, 110.8849, 1049.7869))
        {
	        if(GetPVarInt(playerid, "LESSON") != 0) return SendClientMessage(playerid, COLOR_RED, "У Вас уже идет экзамен!");
	        ShowPlayerDialog(playerid, D_ASH, DIALOG_STYLE_MSGBOX, "{FFCC00}Экзамен по вождению", "1. Категория", "Выбрать", "Отмена");
	    }
	}
	if(newkeys & KEY_WALK)//устройство на работу в администрации области (АО)
	{
	    if(IsPlayerInRangeOfPoint(playerid, 1, -1426.1396,-1125.5704,1521.9399))
        {
			if(PI[playerid][pMember]) return SendClientMessage(playerid, COLOR_RED, "Вы состоите в организации!");
			ShowPlayerDialog(playerid, D_HEAL+17, 2, "{FFCC00}Свободные ваканскии", "{ffffff}Водитель маршрутки\t\t| {FFCC00}1 уровень\n{ffffff}Водитель такси\t\t| {FFCC00}2 уровень\n{ffffff}Механик\t\t\t| {FFCC00}5 уровень\n{ffffff}Дальнобойщик\t\t| {FFCC00}8 уровень\n{ffffff}Уволиться с работы", "Устроиться", "Закрыть");
	    }
	}
	if(newkeys & KEY_WALK)//устройство шахтёром
	{
	    if(IsPlayerInRangeOfPoint(playerid, 1, -246.62, 1051.08, -84.15))
		if(!UseWork[playerid])
		{
			return ShowPlayerDialog(playerid,9995,0,"{FFCC00}Работа шахтёра","{FFFFFF}Вы хотите устроиться на работу шахтера?","Да","Нет");
		}
		else if(UseWork[playerid] == 1)
		{
			return ShowPlayerDialog(playerid,9996,0,"{FFCC00}Работа шахтёра","{FFFFFF}Вы уверены что хотите завершить рабочий день?","Да","Нет");
		}
	}
	if(newkeys & KEY_WALK)//устройство дальнобойщиком
	{
        if(IsPlayerInRangeOfPoint(playerid, 2, 781.0366,751.7977,12.9307))
        {
	        if(GetPVarInt(playerid, "TruckerJob") == 1) return SendClientMessage(playerid, COLOR_RED, "Вы уже арендуете грузовик");
		    if(PI[playerid][pJob] != 6)
		    {
				SendClientMessage(playerid, COLOR_RED, "Вы не работаете дальнобойщиком!");
				return 1;
		    }
		    else
		    {
      		ShowPlayerDialog(playerid,ArendTruckerDialog,DIALOG_STYLE_LIST,"{FFCC00}Выберите уровень:","{FFFFFF}ЗИЛ\t\t{FFCC00}0 уровень{ffffff}\nКАМАЗ\t{FFCC00}5 уровень{ffffff}\nКАЗ\t\t{FFCC00}10 уровень{FFFFFF}","Выбрать","Отмена");
		    }
		}
	}
	if(newkeys & KEY_WALK)//устройство грузчиком
	{
        if(IsPlayerInRangeOfPoint(playerid, 1, 2355.0908,-261.2916,2.7890))
        {
		 	if(GetPVarInt(playerid,"InJob") == 0) ShowPlayerDialog(playerid,30000,DIALOG_STYLE_MSGBOX,"{FFCD00}Прораб:","{FFFFFF}Привет, не желаешь поработать?\nТебе нужно отнести ящики на склад.\nЗа 1 ящик мы платим 50 рублей, ты готов?","Да","Нет");
			else if(GetPVarInt(playerid,"InJob") == 1) ShowPlayerDialog(playerid,30001,DIALOG_STYLE_MSGBOX,"{FFCD00}Прораб:","{FFFFFF}Вы хотите завершить подработку грузчиком?","Да","Нет");
		}
	}
	if(newkeys & KEY_WALK)//устройство уборщиком
	{
        if(IsPlayerInRangeOfPoint(playerid, 1, 2301.0298, 1754.5848, 1.0300))
        {
		 	ShowPlayerDialog(playerid,2037,DIALOG_STYLE_MSGBOX,"{FFCC00}Аренда грузовика","{ffffff}Вы действительно хотите арендовать уборочную машину за {FFFFFF}100 {ffffff}рублей?","Арендовать","Отмена");
		}
	}
	if(newkeys & KEY_WALK)//Баня
	{
        if(IsPlayerInRangeOfPoint(playerid, 1, 2189.9546,-343.9691,2332.1599))
        {
		 	ShowPlayerDialog(playerid,D_BANYA,DIALOG_STYLE_MSGBOX,"{FFCC00}Абонемент","{ffffff}Вы желаете купить абонемент в бане за {FFFFFF}500 рублей?","Купить","Отмена");
		}
	}
	if(newkeys & KEY_WALK)//устройство водолазом
	{
        if(IsPlayerInRangeOfPoint(playerid, 1, 2816.5166,-1412.9590,4.2203))
        {
			//if(PI[playerid][pLevel] < 3) return SendClientMessage(playerid, COLOR_RED, "Для работы водолазом требуется 3-й уровень");
		 	if(GetPVarInt(playerid,"InJobVodolaz") == 0) ShowPlayerDialog(playerid,JobVodolaz,DIALOG_STYLE_MSGBOX,"{FFCD00}Работа водолаза","{FFFFFF}Вы хотите устроиться на работу водолаза?","Да","Нет");
			else if(GetPVarInt(playerid,"InJobVodolaz") == 1) ShowPlayerDialog(playerid,JobVodolaz1,DIALOG_STYLE_MSGBOX,"{FFCD00}Работа водолаза","{FFFFFF}Вы уверены что хотите завершить рабочий день?","Да","Нет");
		}
	}
	if(newkeys & KEY_WALK) //материалы ОПГ Южная
	{
        if(IsPlayerInRangeOfPoint(playerid, 1, 2102.6133,-1614.1257,2056.6399))
        {
		    if(PI[playerid][pMember] == TEAM_SPARTAK)
		    {
		        if(PI[playerid][pMember] == 7 && b_Sklad{5}) return SendClientMessage(playerid, COLOR_RED, "Доступ к складу Вашей мафии закрыт");
				ShowPlayerDialog(playerid, D_MAFIA, 2, "{FFCC00}Склад", "{FFCC00}1. {ffffff}Взять патроны\n{FFCC00}2. {ffffff}Положить патроны\n{FFCC00}3. {ffffff}Взять металл\n{FFCC00}4. {ffffff}Положить металл\n{FFCC00}5. {ffffff}Взять деньги\n{FFCC00}6. {ffffff}Положить деньги", "Принять", "Отмена");
			}
			return 1;
	    }
	}
	if(newkeys & KEY_WALK)//материалы ОПГ Ореховская
	{
        if(IsPlayerInRangeOfPoint(playerid, 1, 2102.6133,-1614.1257,2056.6399))
        {
		    if(PI[playerid][pMember] == TEAM_CSKA)
		    {
		        if(PI[playerid][pMember] == 8 && b_Sklad{5}) return SendClientMessage(playerid, COLOR_RED, "Доступ к складу Вашей мафии закрыт");
				ShowPlayerDialog(playerid, D_MAFIA, 2, "{FFCC00}Склад", "{FFCC00}1. {ffffff}Взять патроны\n{FFCC00}2. {ffffff}Положить патроны\n{FFCC00}3. {ffffff}Взять металл\n{FFCC00}4. {ffffff}Положить металл\n{FFCC00}5. {ffffff}Взять деньги\n{FFCC00}6. {ffffff}Положить деньги", "Принять", "Отмена");
			}
			return 1;
	    }
	}
	if(newkeys & KEY_WALK)//материалы ОПГ Солнцевская
	{
        if(IsPlayerInRangeOfPoint(playerid, 1, 2102.6133,-1614.1257,2056.6399))
        {
		    if(PI[playerid][pMember] == TEAM_DINAMO)
		    {
		        if(PI[playerid][pMember] == 9 && b_Sklad{5}) return SendClientMessage(playerid, COLOR_RED, "Доступ к складу Вашей мафии закрыт");
				ShowPlayerDialog(playerid, D_MAFIA, 2, "{FFCC00}Склад", "{FFCC00}1. {ffffff}Взять патроны\n{FFCC00}2. {ffffff}Положить патроны\n{FFCC00}3. {ffffff}Взять металл\n{FFCC00}4. {ffffff}Положить металл\n{FFCC00}5. {ffffff}Взять деньги\n{FFCC00}6. {ffffff}Положить деньги", "Принять", "Отмена");
			}
			return 1;
	    }
	}
	if(newkeys & KEY_WALK)//маты Чеченская Мафия (Чеченской Мафии)
	{
        if(IsPlayerInRangeOfPoint(playerid, 1, 58.2194,1099.5776,1913.1477))
        {
		    if(PI[playerid][pMember] == TEAM_ZENIT)
		    {
		        if(PI[playerid][pMember] == 9 && b_Sklad{5}) return SendClientMessage(playerid, COLOR_RED, "Доступ к складу Вашей мафии закрыт");
				ShowPlayerDialog(playerid, D_MAFIA, 2, "{FFCC00}Склад", "{FFCC00}1. {ffffff}Взять патроны\n{FFCC00}2. {ffffff}Положить патроны\n{FFCC00}3. {ffffff}Взять металл\n{FFCC00}4. {ffffff}Положить металл\n{FFCC00}5. {ffffff}Взять деньги\n{FFCC00}6. {ffffff}Положить деньги", "Принять", "Отмена");
			}
			return 1;
	    }
	}
	if(newkeys & KEY_WALK)//Боекомплект ППС
	{
       if(IsPlayerInRangeOfPoint(playerid, 1, 457.4017,1313.5282,1723.5200))
       {
           if(PI[playerid][pMember] != TEAM_PPS) return 1;
           ShowPlayerDialog(playerid, D_ARMOURY, DIALOG_STYLE_LIST, "{FFCC00}Оружие ППС", "{FFCC00}1. {ffffff}Пистолет {0099FF}(50 патронов)\n{FFCC00}2. {ffffff}M5 {0099FF}(120 патронов)\n{FFCC00}3. {ffffff}Дубинка", "Создать", "Отмена");
	   }
	}
 	if(newkeys & KEY_WALK)//Боекомплект ДПС
	{
       if(IsPlayerInRangeOfPoint(playerid, 1, -105.8641,752.5945,1620.9200))
       {
           if(PI[playerid][pMember] != TEAM_DPS) return 1;
           ShowPlayerDialog(playerid, D_ARMOURY, DIALOG_STYLE_LIST, "{FFCC00}Оружие ДПС", "{FFCC00}1. {ffffff}Пистолет {0099FF}(50 патронов)\n{FFCC00}2. {ffffff}M5 {0099FF}(120 патронов)\n{FFCC00}3. {ffffff}Дубинка", "Создать", "Отмена");
	   }
	}
 	if(newkeys & KEY_WALK)//Боекомплект ФСБ
	{
       if(IsPlayerInRangeOfPoint(playerid, 1, 180.4894,460.2450,1583.6801))
       {
           if(PI[playerid][pMember] != TEAM_FSIN) return 1;
           ShowPlayerDialog(playerid, D_ARMOURY_FSB, DIALOG_STYLE_LIST, "{FFCC00}Оружие ФСБ", "{FFCC00}1. {ffffff}Пистолет {0099FF}(50 патронов)\n{FFCC00}2. {ffffff}Desert Eagle {0099FF}(50 патронов)\n{FFCC00}3. {ffffff}M5 {0099FF}(120 патронов)\n{FFCC00}4. {ffffff}Дубинка", "Создать", "Отмена");
	   }
	}
	/*if(newkeys & KEY_WALK)//Дверь для выхода в боекомплект ППС
	{
       if(IsPlayerInRangeOfPoint(playerid, 1, 469.1220,1326.0233,1723.5200))
       {
			SetPlayerPos(playerid, 471.7585,1325.9316,1723.5200);
			SetPlayerFacingAngle(playerid, 90.0000);
	   }
	}*/
	if(newkeys & KEY_WALK)
	{
		// - Создание семьи
		if(PlayerToPoint(1.0, playerid, -1419.7555,-1126.8522,1521.9399))
		{
			ShowPlayerDialog(playerid, 701, DIALOG_STYLE_INPUT, "{FFCC00}Создание семьи","{FFFFFF}Вы действительно хотите создать семью?\nСтоимость: 500 000 рублей\nВведите название в строку ниже:","Создать","Закрыть");
		}
	}
	if(newkeys & 262144)
	{
		for(new i = 1; i <= TOTALATM; i++)
		{
			if(PlayerToPoint(1.0, playerid, ATMInfo[i][aX], ATMInfo[i][aY], ATMInfo[i][aZ])) ATMList(playerid);
		}
		new a = GetPVarInt(playerid, "PlayerHouse");
		if(PlayerToPoint(3.0, playerid, -1621.5793,1578.0673,2005.7100) && GetPlayerVirtualWorld(playerid) == HouseInfo[a][hVirtual])
		{
		    FreezePlayer(playerid, 2000);
			SetPlayerInterior(playerid, HouseInfo[a][hInt]);
			SetPlayerVirtualWorld(playerid, HouseInfo[a][hVirtual]);
			SetPlayerPosEx(playerid, HouseInfo[a][hExitx], HouseInfo[a][hExity], HouseInfo[a][hExitz]);
		}
		if(PlayerToPoint(8.0, playerid, HouseInfo[a][hExitx], HouseInfo[a][hExity], HouseInfo[a][hExitz]) && GetPlayerVirtualWorld(playerid) == HouseInfo[a][hVirtual])
        {
		    FreezePlayer(playerid, 2000);
			SetPlayerInterior(playerid, 0);
			SetPlayerVirtualWorld(playerid, 0);
			SetPlayerPosEx(playerid, HouseInfo[a][hEntrx], HouseInfo[a][hEntry], HouseInfo[a][hEntrz]);
		}
		if((IsPlayerInDynamicArea(playerid, AreaInfo[arBankMenu])) || (IsPlayerInDynamicArea(playerid, AreaInfo[arBankMenuArz])) && GetPlayerState(playerid) == PLAYER_STATE_ONFOOT) BankList(playerid);
	}
	if(newkeys == KEY_YES) // Y
	{
		if(GetPVarInt(playerid, "PassTarget") != MAX_PLAYERS+1) {
			new parid = GetPVarInt(playerid, "PassTarget");
			new sctring[1300], str[150];
			format(str,sizeof(str),"{ffffff}Имя Фамилия:\t\t\t%s\n",GetName(parid));
			strcat(sctring,str);
			format(str,sizeof(str),"{ffffff}Пол:\t\t\t\t%s\n",(PI[parid][pSex]==1)?("Мужской"):("Женский"));
			strcat(sctring,str);
			format(str,sizeof(str),"{ffffff}Лет в области:\t\t\t%d (%d/%d)\n",PI[parid][pLevel], PI[parid][pExp], (PI[parid][pLevel]+0)*4);
			strcat(sctring,str);
			if(PI[parid][pMember] != 0) format(str,sizeof(str),"{ffffff}Фракция:\t\t\t%s\n",Fraction_Name[PI[parid][pMember]]);
			else format(str,sizeof(str),"{ffffff}Фракция:\t\t\tНет\n");
			strcat(sctring,str);
			format(str,sizeof(str),"{ffffff}Работа:\t\t\t\t%s\n",Fraction_Rang[PI[parid][pMember]][PI[parid][pRank]], Job_Names[PI[parid][pJob]]);
			strcat(sctring,str);
			ShowPlayerDialog(playerid, 15143, DIALOG_STYLE_MSGBOX, "{FFCC00}Паспорт", sctring, "Закрыть", "");
			
			format(str, 128, "смотрит паспорт %s", GetName(parid));
			MeAction(playerid, str);

			SetPVarInt(playerid, "PassTarget", MAX_PLAYERS+1);
			return 1;
		}
		if(GetPVarInt(playerid, "HiTarget") != MAX_PLAYERS+1) { // ПОЖАТИЕ РУКИ
			new targetid = GetPVarInt(playerid, "HiTarget");
			if(!IsPlayerInRangeOfPlayer(2.0, playerid, targetid)) return SendClientMessage(playerid, COLOR_RED, "Игрок слишком далеко!"); 
			
			new Float:angle, string[64];
			GetPlayerFacingAngle(playerid, angle);
			SetPlayerFacingAngle(targetid, angle + 180);
			format(string, sizeof(string), "пожал(а) руку %s", GetName(targetid));
			MeAction(playerid, string);
			if(!IsPlayerInAnyVehicle(playerid)) ApplyAnimation(playerid,"GANGS","hndshkfa",4.0,0,0,0,0,0);
			if(!IsPlayerInAnyVehicle(targetid)) ApplyAnimation(targetid,"GANGS","hndshkfa",4.0,0,0,0,0,0);

			SetPVarInt(playerid, "HiTarget", MAX_PLAYERS+1);
			return 1;
		}
		if(IsPlayerInAnyVehicle(playerid)) {
			new vehicleid = GetPlayerVehicleID(playerid);
			if(vehicleid >= CAR_AO[0] && vehicleid <= CAR_AO[1]) ShowPlayerDialog(playerid, CARCONTROl, DIALOG_STYLE_LIST, "Управление автомобилем", "Открыть/закрыть капот\nОткрыть/закрыть багажник\nУстановить/убрать сирену", "Далее", "Закрыть");
			else ShowPlayerDialog(playerid, CARCONTROl, DIALOG_STYLE_LIST, "Управление автомобилем", "Открыть/закрыть капот\nОткрыть/закрыть багажник", "Далее", "Закрыть");
			return 1;
		}
		if(PI[playerid][pShowLic] != INVALID_PLAYER_ID) {
			new spid = PI[playerid][pShowLic];
			new string[64], infostr[300];
			format(string, 64, "Лицензии игрока {FFCC00}%s", GetName(spid));
			format(infostr, sizeof infostr, \
			"{FFFFFF}Лицензия на вождение транспортом: {FFCC00}%s\n\
			{FFFFFF}Лицензия на управление морским транспортом: {FFCC00}%s\n\
			{FFFFFF}Лицензия на управление летными аппаратами: {FFCC00}%s\n\
			{FFFFFF}Лицензия на оружие {FFCC00}%s\n",\
			(PI[spid][pAutoLic]) ? ("есть") : ("нет"),\
			(PI[spid][pLic][SEA_LIC]) ? ("есть") : ("нет"),\
			(PI[spid][pLic][FLY_LIC]) ? ("есть") : ("нет"),\
			(PI[spid][pLic][GUN_LIC]) ? ("есть") : ("нет"));

			ShowPlayerDialog(playerid, D_NULL, DIALOG_STYLE_MSGBOX, string, infostr, "Закрыть", "");
			PI[playerid][pShowLic] = INVALID_PLAYER_ID;
			format(string, 64, "просматривает лицензии %s", GetName(spid));
			MeAction(playerid, string);
			return 1;
		}
	    if(GetPVarInt(playerid, "KeyHeal") == 1)
	    {
   			new targetid = GetPVarInt(playerid, "PlayerHeal"), price = GetPVarInt(playerid, "MoneyHeal");
			if(GetMoney(playerid) < price)
			{
				SendMes(targetid, COLOR_RED, "У игрока %s недостаточно средств!", GetName(playerid));
				DeletePVar(playerid, "PlayerHeal");
				DeletePVar(playerid, "MoneyHeal");
				DeletePVar(playerid, "KeyHeal");
				return SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно денег!");
			}
			if(IsPlayerInAnyVehicle(targetid) && !IsPlayerInVehicle(playerid, GetPlayerVehicleID(targetid)))
				return SendClientMessage(playerid, COLOR_RED, "Игрок должен находится вместе с Вами в машине!");
			TransferMoney(-1, targetid, price);
			TransferMoney(playerid, -1, price);
			PI[playerid][pHealthS] = PI[playerid][pHeal] = 100;
			SetHealth(playerid, 100.0);
			if(GetPlayerDrunkLevel(playerid) > 0) SetPlayerDrunkLevel(playerid, 0);
			SendMes(playerid, COLOR_GREEN, "%s %s вылечил Вас за %i рублей", Fraction_Rang[PI[targetid][pMember]][PI[targetid][pRank]], GetName(targetid), price);
			SendMes(targetid, COLOR_GREEN, "Вы вылечили %s за %i рублей", GetName(playerid), price);
			if(Medicines[targetid]) Medicines[targetid]--;
			DeletePVar(playerid, "PlayerHeal");
			DeletePVar(playerid, "MoneyHeal");
			DeletePVar(playerid, "KeyHeal");
	    	return 1;
  		}
  		else if(GetPVarInt(playerid, "KeyDrugs") == 1)
  		{
  		    new targetid = GetPVarInt(playerid, "PlayerDrugs"), price = GetPVarInt(playerid, "DrugsPrice"), gramm = GetPVarInt(playerid, "PlayerDrugsKG");
			if(GetMoney(playerid) < price)
			{
				SendMes(targetid, COLOR_RED, "У покупателя %s недостаточно средств!", GetName(playerid));
				DeletePVar(playerid, "PlayerDrugs");
				DeletePVar(playerid, "DrugsPrice");
				DeletePVar(playerid, "PlayerDrugsKG");
				DeletePVar(playerid, "KeyDrugs");
				return SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно денег!");
			}
			TransferMoney(playerid, -1, price);
			TransferMoney(-1, targetid, price);
			PI[targetid][pDrugs] -= gramm;
			PI[playerid][pDrugs] += gramm;
			new string[100];
			SendMes(targetid, COLOR_GREEN, "Вы продали наркотики (%i грамм) за %i  рублей. Наркотиков в кармане: %i", gramm, price, PI[targetid][pDrugs]);
			SendMes(playerid, COLOR_GREEN, "Вы купили наркотики у %s (%i грамм). Цена: %i  рублей", GetName(targetid), gramm, price);
			if(PI[playerid][pSex] == 1) format(string, sizeof(string), "достал пакетик и передал его %s", GetName(targetid));
			else format(string, sizeof(string), "достала пакетик и передала его %s", GetName(targetid));
			MeAction(playerid, string);
			DeletePVar(playerid, "PlayerDrugs");
			DeletePVar(playerid, "DrugsPrice");
			DeletePVar(playerid, "PlayerDrugsKG");
			DeletePVar(playerid, "KeyDrugs");
			return 1;
  		}
  		else if(GetPVarInt(playerid, "KeyZone") == 1)
  		{
  		    new targetid = GetPVarInt(playerid, "PlayerZone"), price = GetPVarInt(playerid, "ZonePrice"), i = GetPVarInt(playerid, "ZoneID");
			if(GetMoney(playerid) < price)
			{
				SendMes(targetid, COLOR_RED, "У игрока %s недостаточно средств!", GetName(playerid));
				DeletePVar(playerid, "PlayerZone");
				DeletePVar(playerid, "ZonePrice");
				DeletePVar(playerid, "ZoneID");
				DeletePVar(playerid, "KeyZone");
				return SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно денег!");
			}
			GZInfo[i][gFrak] = PI[playerid][pMember];
			GangZoneStopFlashForAll(GangZone[i]);
			GangZoneHideForAll(GangZone[i]);
			GangZoneShowForAll(GangZone[i],GetGangZoneColor(i));
			SaveGZ(i);
			TransferMoney(playerid, -1, price);
			TransferMoney(-1, targetid, price);
			new string[100];
			SendMes(targetid, COLOR_GREEN, "Вы продали зону %s за %i рублей", GetName(playerid), price);
			SendMes(playerid, COLOR_GREEN, "Вы купили зону у %s. Цена: %i рублей", GetName(targetid), price);
			format(string, sizeof(string), "[R] %s продает зону банде %s (%s)", GetName(targetid), Fraction_Name[PI[playerid][pMember]], GetName(playerid));
			SendFMes(PI[targetid][pMember], COLOR_LIGHTRED, string);
			format(string, sizeof(string), "[R] %s покупает зону у банды %s (%s)", GetName(playerid), Fraction_Name[PI[targetid][pMember]], GetName(targetid));
			SendFMes(PI[playerid][pMember], COLOR_LIGHTRED, string);
			DeletePVar(playerid, "PlayerZone");
			DeletePVar(playerid, "ZonePrice");
			DeletePVar(playerid, "ZoneID");
			DeletePVar(playerid, "KeyZone");
			return 1;
  		}
  		else if(GetPVarInt(playerid, "KeyGun") == 1)
  		{
  		    new targetid = GetPVarInt(playerid, "PlayerGun"), weapon = GetPVarInt(playerid, "PlayerGun_"), price = GetPVarInt(playerid, "PlayerGPrice"), ammo = GetPVarInt(playerid, "PlayerGAmmo");
			if(GetMoney(playerid) < price)
			{
				SendMes(targetid,COLOR_RED, "У игрока %s недостаточно средств!", GetName(playerid));
				DeletePVar(playerid, "PlayerGun");
				DeletePVar(playerid, "PlayerGun_");
				DeletePVar(playerid, "PlayerGAmmo");
				DeletePVar(playerid, "PlayerGPrice");
				DeletePVar(playerid, "KeyGun");
				return SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно денег!");
			}
			TransferMoney(playerid, -1, price);
			TransferMoney(-1, targetid, price);
			PI[targetid][pPatron] -= ammo;
			GivePlayerWeaponAC(playerid, weapon, ammo);
			new string[100];
			SendMes(targetid, COLOR_BLUE, "Игрок %s купил У Вас оружие за %i рублей", GetName(playerid),price);
			SendMes(playerid, COLOR_BLUE, "Игрок %s продал Вам оружие за %i рублей", GetName(targetid), price);
			if(PI[playerid][pSex] == 1) format(string, sizeof(string), "сделал оружие и передал в руки %s", GetName(targetid));
			else format(string, sizeof(string), "сделала оружие и передала в руки %s", GetName(targetid));
			MeAction(playerid, string);
			DeletePVar(playerid, "PlayerGun");
			DeletePVar(playerid, "PlayerGun_");
			DeletePVar(playerid, "PlayerGAmmo");
			DeletePVar(playerid, "PlayerGPrice");
			DeletePVar(playerid, "KeyGun");
			return 1;
  		}
  		else if(GetPVarInt(playerid, "KeyInvite") == 1)
  		{
			new fractionid = GetPVarInt(playerid, "offerfractionid");
			new offer = GetPVarInt(playerid, "offerplayer");
			new mes[128];
			for(new i; i < 10; i++)
			{
				new skinid = Fraction_Skin[fractionid][i];
				if(!skinid) break;
				if(!i) format(mes, sizeof(mes), "Скин %d [%d]", i+1, skinid);
				else format(mes, sizeof(mes), "%s\nСкин %d [%d]", mes, i+1, skinid);
			}
			ShowPlayerDialog(offer, D_INVITESKIN, 2, "{FFCC00}Выбор скина", mes, "Принять", "");
			return 1;
  		}
  		else if(GetPVarInt(playerid, "KeyCar") == 1)
  		{
		    new targetid = GetPVarInt(playerid, "CarPlayer"), price = GetPVarInt(playerid, "CarPrice");
		    new numbercar = GetPVarInt(playerid,"NumberCar");
			switch(numbercar)
			{
				case 1:
				{
				    if(GetMoney(playerid) < price)
					{
						SendMes(targetid, COLOR_RED, "У игрока %s недостаточно средств!", GetName(playerid));
						DeletePVar(playerid, "CarPrice");
						DeletePVar(playerid, "CarPlayer");
						DeletePVar(playerid, "KeyCar");
						SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно денег!");
						return 1;
					}
					PI[playerid][cModel][0] = PI[targetid][cModel][0];
					PI[playerid][cClass][0] = PI[targetid][cClass][0];
					PI[playerid][cFuel][0] = PI[targetid][cFuel][0];
					PI[playerid][cColor][0] = PI[targetid][cColor][0];
					PI[playerid][cColor][1] = PI[targetid][cColor][1];
					PI[playerid][cCost][0] = PI[targetid][cCost][0];
					PI[playerid][cVehcom][0] = PI[targetid][cVehcom][0];

					PI[playerid][cX][0] = PI[targetid][cX][0];
					PI[playerid][cY][0] = PI[targetid][cY][0];
					PI[playerid][cZ][0] = PI[targetid][cZ][0];
					PI[playerid][cA][0] = PI[targetid][cA][0];

					sscanf(PI[targetid][cVehcom][0], "p<,>a<i>[14]",PI[targetid][cVehcoms]);
					PI[playerid][cPaintjob][0] = PI[targetid][cPaintjob][0];
					PI[targetid][cModel][0] = 0;
					PI[targetid][cClass][0] = 0;
					PI[targetid][cFuel][0] = 45;
					PI[targetid][cColor][0] = PI[targetid][cColor][1] = PI[targetid][cCost][0] = 0;
					format(PI[targetid][cVehcom][0],64,"0,0,0,0,0,0,0,0,0,0,0,0,0,0");
					sscanf(PI[targetid][cVehcom][0], "p<,>a<i>[14]", PI[targetid][cVehcoms]);
					PI[targetid][cPaintjob][0] = 3;
					foreach(new i: Player)
		           	{
				    	if(PI[i][pVehicleKey][0] == PI[targetid][PlayerCarID][0])
				    	{
			        	    PI[i][pVehicleKey][0] = 0;
						}
					}
					DestroyVehicle(PI[playerid][PlayerCarID][0]);
					DestroyVehicle(PI[targetid][PlayerCarID][0]);
					PI[targetid][PlayerCarID][0] = INVALID_VEHICLE_ID;
					SendClientMessage(targetid, COLOR_LIME, "Поздравляем с продажей транспортного средства");
					SendClientMessage(playerid, COLOR_LIME, "Вы успешно купили транспорт");
					PI[playerid][pRegVehicle] = 0;
					MysqlUpdatePlayerInt(playerid, "veh_reg", PI[playerid][pRegVehicle]);
					MysqlUpdatePlayerStr(playerid, "veh_number", PI[playerid][pNumberVehicle]);
					SaveAccount(playerid);
					SaveAccount(targetid);
					TransferMoney(playerid, -1, price);
					TransferMoney(1, targetid, price);
					new string[128];
					format(string, sizeof(string), "Игрок %s купил транспорт 1 %s [%i] за %dр у игрока %s", GetName(playerid), VehicleNames[GetVehicleModel(PI[targetid][PlayerCarID][0])-400], GetPlayerVehicleID(targetid), price, GetName(targetid));
					SendLog("BuyCar", string);
					format(string, sizeof(string), "Игрок %s продал транспорт 1 %s [%i] за %dр игроку %s", GetName(targetid), VehicleNames[GetVehicleModel(PI[targetid][PlayerCarID][0])-400], GetPlayerVehicleID(targetid), price, GetName(playerid));
					SendLog("SellCar", string);
					DeletePVar(playerid, "CarPrice");
					DeletePVar(playerid, "CarPlayer");
					DeletePVar(playerid, "KeyCar");
					DeletePVar(playerid, "NumberCar");
					SaveAcc();
					return 1;
		  		}
				case 2:
				{
				    if(GetMoney(playerid) < price)
					{
						SendMes(targetid, COLOR_RED, "У игрока %s недостаточно средств!", GetName(playerid));
						DeletePVar(playerid, "CarPrice");
						DeletePVar(playerid, "CarPlayer");
						DeletePVar(playerid, "KeyCar");
						SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно денег!");
						return 1;
					}
					PI[playerid][cModel][1] = PI[targetid][cModel][1];
					PI[playerid][cClass][1] = PI[targetid][cClass][1];
					PI[playerid][cFuel][1] = PI[targetid][cFuel][1];
					PI[playerid][cColor1][0] = PI[targetid][cColor1][0];
					PI[playerid][cColor1][1] = PI[targetid][cColor1][1];
					PI[playerid][cCost][1] = PI[targetid][cCost][0];
					PI[playerid][cVehcom][1] = PI[targetid][cVehcom][1];
					sscanf(PI[targetid][cVehcom][1], "p<,>a<i>[14]",PI[targetid][cVehcoms1]);
					PI[playerid][cPaintjob][1] = PI[targetid][cPaintjob][1];

					PI[playerid][cX][1] = PI[targetid][cX][1];
					PI[playerid][cY][1] = PI[targetid][cY][1];
					PI[playerid][cZ][1] = PI[targetid][cZ][1];
					PI[playerid][cA][1] = PI[targetid][cA][1];

					PI[targetid][cModel][1] = 0;
					PI[targetid][cClass][1] = 0;
					PI[targetid][cFuel][1] = 45;
					PI[targetid][cColor1][0] = PI[targetid][cColor1][1] = PI[targetid][cCost][1] = 0;
					format(PI[targetid][cVehcom][1],64,"0,0,0,0,0,0,0,0,0,0,0,0,0,0");
					sscanf(PI[targetid][cVehcom][1], "p<,>a<i>[14]", PI[targetid][cVehcoms1]);
					PI[targetid][cPaintjob][1] = 3;
					foreach(new i: Player)
		           	{
				    	if(PI[i][pVehicleKey][1] == PI[targetid][PlayerCarID][1])
				    	{
			        	    PI[i][pVehicleKey][1] = 0;
						}
					}
					DestroyVehicle(PI[playerid][PlayerCarID][1]);
					LoadMyCar(playerid);
					DestroyVehicle(PI[targetid][PlayerCarID][1]);
					PI[targetid][PlayerCarID][1] = INVALID_VEHICLE_ID;
					//LoadMyCar(targetid);
					SendClientMessage(targetid, COLOR_LIME, "Поздравляем с продажей транспортного средства");
					SendClientMessage(playerid, COLOR_LIME, "Вы успешно купили транспорт");
					PI[playerid][pRegVehicle] = 0;
					MysqlUpdatePlayerInt(playerid, "veh_reg", PI[playerid][pRegVehicle]);
					MysqlUpdatePlayerStr(playerid, "veh_number", PI[playerid][pNumberVehicle]);
					SaveAccount(playerid);
					SaveAccount(targetid);
					TransferMoney(playerid, -1, price);
					TransferMoney(1, targetid, price);
					new string[128];
					format(string, sizeof(string), "Игрок %s купил транспорт 2 %s [%i] за %dр у игрока %s", GetName(playerid), VehicleNames[GetVehicleModel(PI[targetid][PlayerCarID][1])-400], GetPlayerVehicleID(targetid), price, GetName(targetid));
					SendLog("BuyCar", string);
					format(string, sizeof(string), "Игрок %s продал транспорт 2 %s [%i] за %dр игроку %s", GetName(targetid), VehicleNames[GetVehicleModel(PI[targetid][PlayerCarID][1])-400], GetPlayerVehicleID(targetid), price, GetName(playerid));
					SendLog("SellCar", string);
					DeletePVar(playerid, "CarPrice");
					DeletePVar(playerid, "CarPlayer");
					DeletePVar(playerid, "KeyCar");
					DeletePVar(playerid, "NumberCar");
					SaveAcc();
					return 1;
				}
			}
  			return 1;
		}
  		else if(GetPVarInt(playerid, "KeyTicket") == 1)
  		{
  		    new targetid = GetPVarInt(playerid, "TicketPlayer"), price = GetPVarInt(playerid, "TicketSumma");
			if(GetMoney(playerid) < price)
			{
				SendMes(targetid, COLOR_RED, "У игрока %s недостаточно средств!", GetName(playerid));
				DeletePVar(playerid, "TicketPlayer");
				DeletePVar(playerid, "TicketSumma");
				DeletePVar(playerid, "TicketReason");
				DeletePVar(playerid, "KeyTicket");
				SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно денег!");
				return 1;
			}
			TransferMoney(-1, targetid, price);
			TransferMoney(playerid, -1, price);
			SendMes(playerid, COLOR_GREEN, "Вы оплатили штраф на %i рублей офицеру %s", price, GetName(targetid));
			SendMes(targetid, COLOR_GREEN, "%s оплатил штраф в размере %i рублей", GetName(playerid), price);
			DeletePVar(playerid, "TicketPlayer");
			DeletePVar(playerid, "TicketSumma");
			DeletePVar(playerid, "TicketReason");
			DeletePVar(playerid, "KeyTicket");
  		    return 1;
  		}
  		else if(GetPVarInt(playerid, "KeyJail") == 1)
  		{
  		    new targetid = GetPVarInt(playerid, "JailPlayer"), price = GetPVarInt(playerid, "JailSumma");
			if(GetMoney(playerid) < price)
			{
				new string[128];
				format(string, sizeof(string), "У него нет столько денег");
	            SendClientMessage(playerid, COLOR_RED, string);
				DeletePVar(playerid, "JailPlayer");
				DeletePVar(playerid, "JailSumma");
				DeletePVar(playerid, "JailReason");
				DeletePVar(playerid, "KeyJail");
				SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно денег!");
				return 1;
			}
			TransferMoney(-1, targetid, price);
			TransferMoney(playerid, -1, price);
			SendMes(playerid, COLOR_LIME, "Вы оплатили % рублей адвокату %s", price, GetName(targetid));
			SendMes(targetid, COLOR_LIME, "Вы выпустили %s за % рублей!", GetName(playerid), price);
			DeletePVar(playerid, "JailPlayer");
			DeletePVar(playerid, "JailSumma");
			DeletePVar(playerid, "JailReason");
			DeletePVar(playerid, "KeyJail");
			PI[playerid][pJailTime] = 1;
			ResetPlayerWeaponsAC(playerid);
  		    return 1;
  		}
  		/*if(KostiName[playerid] != INVALID_PLAYER_ID)
		{
    		new dice = random(5) + 2;
   			new dice1 = random(5) + 2;
			if(!ProxDetectorS(6.0, playerid, KostiName[playerid])) return SendClientMessage(playerid, COLOR_RED, "Игрок не рядом с Вами!");
			if(Predlog[playerid] != 0) return SendClientMessage(playerid, COLOR_RED, "Вы не можете принять игру!");
			new fiski = PI[playerid][pCash];
			new fiski1 = PI[KostiName[playerid]][pCash];
			if(fiski < KostiMoney[playerid] || fiski1 < KostiMoney[KostiName[playerid]])
			{
			    SendClientMessage(playerid, COLOR_RED, "У игрока нет столько денег");
			    SendClientMessage(KostiName[playerid], COLOR_RED, "У игрока нет столько денег");
			    callcmd::canceldice(playerid);
				callcmd::canceldice(KostiName[playerid]);
			    return 0;
			}
			new string[128];
	    	format(string, sizeof(string), "%s и %s бросили кости. Результат: {FFCC00}%i:%i", GetName(KostiName[playerid]), GetName(playerid), dice, dice1);
	    	ProxDetector(13.0, playerid, string, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE);
	    	if(dice > dice1)
	    	{
		    	ex_GiveMoney(KostiName[playerid], KostiMoney[playerid]);
	        	PI[KostiName[playerid]][pCash] += KostiMoney[playerid];
	        	PI[playerid][pCash] -= KostiMoney[playerid];
				SendClientMessage(KostiName[playerid], COLOR_LIME, "Поздравляем! Вы выиграли!");
				SendClientMessage(playerid, COLOR_RED, "К сожалению, Вы проиграли!");
				format(string, 20, "+%d RUB", KostiMoney[playerid]);
				GameTextForPlayer(KostiName[playerid], string, 3000, 5);
				format(string, 20, "-%d RUB", KostiMoney[playerid]);
				GameTextForPlayer(playerid, string, 3000, 5);
		    }
		    else if(dice < dice1)
		    {
			    ex_GiveMoney(playerid, KostiMoney[playerid]);
		        PI[KostiName[playerid]][pCash] -= KostiMoney[playerid];
	        	PI[playerid][pCash] += KostiMoney[playerid];
				SendClientMessage(KostiName[playerid], COLOR_LIME, "Поздравляем! Вы выиграли!");
				SendClientMessage(playerid, COLOR_RED, "К сожалению, Вы проиграли!");
				format(string, 20, "+%d RUB", KostiMoney[playerid]);
				GameTextForPlayer(KostiName[playerid], string, 3000, 5);
				format(string, 20, "-%d RUB", KostiMoney[playerid]);
				GameTextForPlayer(playerid, string, 3000, 5);
		    }
		    else if(dice == dice1)
		    {
		        SendClientMessage(playerid, COLOR_ORANGE, "Игра закончилась в ничью!");
		        SendClientMessage(KostiName[playerid], COLOR_ORANGE, "Игра закончилась в ничью!");
		    }
			format(string, 14, "Выпало: %i", dice1);
			SetPlayerChatBubble(playerid, string, COLOR_LIME, 30.0, 10000);
			format(string, 14, "Выпало: %i", dice);
			SetPlayerChatBubble(KostiName[playerid], string, COLOR_LIME, 30.0, 10000);
		 	ZapretDice[playerid] = ZapretDice[KostiName[playerid]] = 0;
			KostiMoney[playerid] = KostiMoney[KostiName[playerid]] = 0;
			Predlog[KostiName[playerid]] = 0;
			KostiName[KostiName[playerid]] = KostiName[playerid] = INVALID_PLAYER_ID;
			return 1;
		}
		else if(GetPVarInt(playerid, "KeySim") == 1)*/
		if(KostiName[playerid] != INVALID_PLAYER_ID)
		{
    		new dice = random(5) + 2;
   			new dice1 = random(5) + 2;
			if(!ProxDetectorS(6.0, playerid, KostiName[playerid])) return SendClientMessage(playerid, COLOR_DARKORANGE, "Игрок не рядом с вами!");
			if(Predlog[playerid] != 0) return SendClientMessage(playerid, COLOR_DARKORANGE, "Вы не можете принять игру!");
			new fiski = PI[playerid][pCash];
			new fiski1 = PI[KostiName[playerid]][pCash];
			if(fiski < KostiMoney[playerid] || fiski1 < KostiMoney[KostiName[playerid]])
			{
			    SendClientMessage(playerid, COLOR_DARKORANGE, "У игрока нет столько денег");
			    SendClientMessage(KostiName[playerid], COLOR_DARKORANGE, "У игрока нет столько денег");
			    callcmd::canceldice(playerid);
				callcmd::canceldice(KostiName[playerid]);
			    return 0;
			}
			new string[128];
	    	format(string, sizeof(string), "%s и %s бросили кости. Результат: {ffcc00}%i:%i", GetName(KostiName[playerid]), GetName(playerid), dice, dice1);
	    	ProxDetector(13.0, playerid, string, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE);
	    	if(dice > dice1)
	    	{
	    		ex_GiveMoney(KostiName[playerid], KostiMoney[playerid]);
	        	PI[KostiName[playerid]][pCash] += KostiMoney[playerid];
		        SendClientMessage(KostiName[playerid], COLOR_LIME, "Поздравляем! Вы выиграли!");
		        SendClientMessage(playerid, COLOR_DARKORANGE, "К сожалению, Вы проиграли!");
		        format(string, 20, "~g~+%d Рублей", KostiMoney[playerid]);
		        GameTextForPlayer(KostiName[playerid], string, 3000, 1);
		        format(string, 20, "~r~-%d Рублей", KostiMoney[playerid]);
		        GameTextForPlayer(playerid, string, 3000, 1);
		    }
		    else if(dice < dice1)
		    {
		    	ex_GiveMoney(playerid, -KostiMoney[playerid]);
	        	PI[playerid][pCash] += KostiMoney[playerid];
		        SendClientMessage(playerid, COLOR_LIME, "Поздравляем! Вы выиграли!");
		        SendClientMessage(KostiName[playerid], COLOR_DARKORANGE, "К сожелению, Вы проиграли");
		        format(string, 20, "~g~+%d Рублей", KostiMoney[playerid]);
		        GameTextForPlayer(playerid, string, 3000, 1);
		        format(string, 20, "~r~-%d Рублей", KostiMoney[playerid]);
		        GameTextForPlayer(KostiName[playerid], string, 3000, 1);
		    }
		    else if(dice == dice1)
		    {
		        SendClientMessage(playerid, COLOR_ORANGE, "Игра закончилась в ничью!");
		        SendClientMessage(KostiName[playerid], COLOR_ORANGE, "Игра закончилась в ничью!");
		    }
			format(string, 14, "Выпало: %i", dice1);
			SetPlayerChatBubble(playerid, string, COLOR_LIME, 30.0, 10000);
			format(string, 14, "Выпало: %i", dice);
			SetPlayerChatBubble(KostiName[playerid], string, COLOR_LIME, 30.0, 10000);
		 	ZapretDice[playerid] = ZapretDice[KostiName[playerid]] = 0;
			KostiMoney[playerid] = KostiMoney[KostiName[playerid]] = 0;
			Predlog[KostiName[playerid]] = 0;
			KostiName[KostiName[playerid]] = KostiName[playerid] = INVALID_PLAYER_ID;
			return 1;
		}
		else if(GetPVarInt(playerid, "KeySim") == 1)
		{
			new targetid = GetPVarInt(playerid, "PlayerSim"), price = GetPVarInt(playerid, "SimPrice");
			if(GetMoney(playerid) < price)
			{
				SendMes(targetid, COLOR_RED, "У игрока %s недостаточно средств!", GetName(playerid));
				DeletePVar(playerid, "PlayerSim");
				DeletePVar(playerid, "SimPrice");
				DeletePVar(playerid, "KeySim");
				SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно денег!");
				return 1;
			}
			TransferMoney(-1, targetid, price);
			TransferMoney(playerid, -1, price);
			SendMes(playerid, COLOR_GREEN, "Вы приобрели SIM-карту у %s за %i рублей", GetName(targetid), price);
			SendMes(targetid, COLOR_GREEN, "%s купил У Вас SIM-карту за %i рублей", GetName(playerid), price);
			PI[playerid][pPhoneNumber] = PI[targetid][pPhoneNumber];
			PI[targetid][pPhoneNumber] = 1;
			MysqlUpdatePlayerInt(playerid, "phonenumber", PI[playerid][pPhoneNumber]);
			MysqlUpdatePlayerInt(targetid, "phonenumber", PI[targetid][pPhoneNumber]);
			SendMes(playerid, COLOR_LIME, "Ваш новый номер: {FFCC00}%i", PI[playerid][pPhoneNumber]);
			DeletePVar(playerid, "PlayerSim");
			DeletePVar(playerid, "SimPrice");
			DeletePVar(playerid, "KeySim");
  		    return 1;
		}
		else if(GetPVarInt(playerid, "sellexamlic") == 1)
		{
		    new targetid = GetPVarInt(playerid, "idselllic"), rcv = GetPVarInt(playerid, "changelic");
			new type[28], price;
			switch(rcv)
			{
			    case 1: price = 1000;
			    case 2: price = 3000;
			    case 3: price = 10000;
			    case 4: price = 30000;
			    case 5: price = 50000;
			}
			if(GetMoney(playerid) < price)
			{
				SendMes(targetid, COLOR_RED, "У игрока %s недостаточно средств!", GetName(playerid));
				DeletePVar(playerid, "sellexamlic");
				DeletePVar(playerid, "idselllic");
				DeletePVar(playerid, "changelic");
				return SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно денег!");
			}
			new Float:x, Float:y, Float:z;
			GetPlayerPos(targetid, x, y, z);
			if(!IsPlayerInRangeOfPoint(playerid, 10.0, x, y, z))
			{
				DeletePVar(playerid, "sellexamlic");
				DeletePVar(playerid, "idselllic");
				DeletePVar(playerid, "changelic");
				return SendClientMessage(playerid, COLOR_RED, "Вы далеко друг от друга");
			}
			if(rcv == 2)
			{

				PI[playerid][pLic][1] = 1;
				type = "лицензию на судоходство";
			}
			if(rcv == 3)
			{
				PI[playerid][pLic][2] = 1;
				type = "лицензию на полеты";
			}
			if(rcv == 4)
			{
				PI[playerid][pLic][3] = 1;
				type = "лицензию на оружие";
			}
			if(rcv == 5)
			{
				new i = GetPVarInt(playerid, "PlayerBizz");
				BizzInfo[i][bLic] = 1;
				MysqlUpdateBizzInt(i, "lic", BizzInfo[i][bLic]);
				type = "лицензию на бизнес";
			}
			TransferMoney(-1, targetid, price);
			TransferMoney(playerid, -1, price);
			SendMes(targetid, COLOR_GREEN, "Вы купили %s у %s. Цена: %i рублей", type, GetName(playerid), price);
			SendMes(playerid, COLOR_GREEN, "Вы продали %s игроку %s за %i рублей", GetName(targetid), type, price);
			new string[128];
			if(PI[playerid][pSex] == 1) format(string, sizeof(string), "[LIC] %s %s [%i] продал %s игроку %s [%i] за %i рублей", Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], GetName(playerid), playerid, GetName(targetid), targetid, price);
			else format(string, sizeof(string), "[LIC] %s %s [%i] продала %s игроку %s [%i] за %i рублей", Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], GetName(playerid), playerid, GetName(targetid), targetid, price);
			SendFMes(PI[playerid][pMember], COLOR_LIME, string);
			DeletePVar(playerid, "sellexamlic");
			DeletePVar(playerid, "idselllic");
			DeletePVar(playerid, "changelic");
		    return 1;
		}
	}
	else if(newkeys == KEY_NO) // N
	{
		if(GetPVarInt(playerid, "PassTarget") != MAX_PLAYERS+1) {
			new parid = GetPVarInt(playerid, "PassTarget");
			SendErr(parid, "Игрок отказался просмотреть ваш паспорт");
			SendSucces(playerid, "Вы отказались от просмотра паспорта");
			SetPVarInt(playerid, "PassTarget", MAX_PLAYERS+1);
			return 1;
		}
		if(GetPVarInt(playerid, "HiTarget") != MAX_PLAYERS+1) {
			SendErr(playerid, "Вы отказались от пожатия руки");
			SendErr(GetPVarInt(playerid, "HiTarget"), "Игрок отказался от пожатия руки");
			SetPVarInt(playerid, "HiTarget", MAX_PLAYERS+1);
			return 1;
		}
		if(PI[playerid][pShowLic] != INVALID_PLAYER_ID) {
			SendErr(PI[playerid][pShowLic], "Игрок отказался от просмотра ваших лицензий");
			SendClientMessage(playerid, COLOR_BLUE, "Вы отказались от просмотра лицензий");
			PI[playerid][pShowLic] = INVALID_PLAYER_ID;
			return 1;
		}
	    if(GetPVarInt(playerid, "KeyHeal") == 1)
	    {
	        new targetid = GetPVarInt(playerid, "PlayerHeal");
	    	SendClientMessage(playerid, COLOR_RED, "Вы отказались от предложения");
			SendClientMessage(targetid, COLOR_RED, "Игрок отказался от предложения");
			DeletePVar(playerid, "PlayerHeal");
			DeletePVar(playerid, "MoneyHeal");
			DeletePVar(playerid, "KeyHeal");
	    	return 1;
    	}
    	else if(GetPVarInt(playerid, "KeyDrugs") == 1)
    	{
    	    new targetid = GetPVarInt(playerid, "PlayerDrugs");
			SendClientMessage(playerid, COLOR_RED, "Вы отказались от предложения");
			SendClientMessage(targetid, COLOR_RED, "Игрок отказался от предложения");
			DeletePVar(playerid, "PlayerDrugs");
			DeletePVar(playerid, "DrugsPrice");
			DeletePVar(playerid, "PlayerDrugsKG");
			DeletePVar(playerid, "KeyDrugs");
			return 1;
    	}
    	else if(GetPVarInt(playerid, "KeyZone") == 1)
    	{
    	    new targetid = GetPVarInt(playerid, "PlayerZone");
    	    SendClientMessage(playerid, COLOR_RED, "Вы отказались от предложения");
			SendClientMessage(targetid, COLOR_RED, "Игрок отказался от предложения");
			DeletePVar(playerid, "PlayerZone");
			DeletePVar(playerid, "ZonePrice");
			DeletePVar(playerid, "ZoneID");
			DeletePVar(playerid, "KeyZone");
			return 1;
    	}
    	else if(GetPVarInt(playerid, "KeyGun") == 1)
    	{
    	    new targetid = GetPVarInt(playerid, "PlayerGun");
    	    SendClientMessage(playerid, COLOR_RED, "Вы отказались от предложения");
			SendClientMessage(targetid, COLOR_RED, "Игрок отказался от предложения");
			DeletePVar(playerid, "PlayerGun");
			DeletePVar(playerid, "PlayerGun_");
			DeletePVar(playerid, "PlayerGAmmo");
			DeletePVar(playerid, "PlayerGPrice");
			DeletePVar(playerid, "KeyGun");
			return 1;
    	}
    	else if(GetPVarInt(playerid, "KeyInvite") == 1)
    	{
    	    new targetid = GetPVarInt(playerid, "PlayerInvite");
    	    SendClientMessage(playerid, COLOR_RED, "Вы отказались от предложения");
			SendClientMessage(targetid, COLOR_RED, "Игрок отказался от предложения");
			DeletePVar(playerid, "offerfractionid");
			DeletePVar(playerid, "offerplayer");
			DeletePVar(playerid, "actplayerid");
			DeletePVar(playerid, "PlayerInvite");
			DeletePVar(playerid, "KeyInvite");
			return 1;
    	}
    	else if(GetPVarInt(playerid, "KeyCar") == 1)
    	{
    	    new targetid = GetPVarInt(playerid, "CarPlayer");
    	    SendClientMessage(playerid, COLOR_RED, "Вы отказались от предложения");
			SendClientMessage(targetid, COLOR_RED, "Игрок отказался от предложения");
			DeletePVar(playerid, "CarPrice");
			DeletePVar(playerid, "CarPlayer");
			DeletePVar(playerid, "KeyCar");
    	    return 1;
		}
		else if(GetPVarInt(playerid, "KeyTicket") == 1)
		{
		    new targetid = GetPVarInt(playerid, "TicketPlayer");
		   	SendClientMessage(playerid, COLOR_RED, "Вы отказались от предложения");
			SendClientMessage(targetid, COLOR_RED, "Игрок отказался от предложения");
		   	DeletePVar(playerid, "TicketPlayer");
			DeletePVar(playerid, "TicketSumma");
			DeletePVar(playerid, "TicketReason");
			DeletePVar(playerid, "KeyTicket");
		    return 1;
		}
		else if(KostiName[playerid] != INVALID_PLAYER_ID)
  		{
  		    SendClientMessage(playerid, COLOR_RED, "Вы отказались от предложения");
			SendClientMessage(KostiName[playerid], COLOR_RED, "Игрок отказался от предложения");
  		    Predlog[playerid] = Predlog[KostiName[playerid]] =
			KostiMoney[playerid] = KostiMoney[KostiName[playerid]] =
			ZapretDice[playerid] = ZapretDice[KostiName[playerid]] = 0;
			KostiName[KostiName[playerid]] = KostiName[playerid] = INVALID_PLAYER_ID;
			return 1;
		}
		else if(GetPVarInt(playerid, "KeyJail") == 1)
		{
		    new targetid = GetPVarInt(playerid, "JailPlayer");
		   	SendClientMessage(playerid, COLOR_RED, "Вы отказались от предложения");
			SendClientMessage(targetid, COLOR_RED, "Игрок отказался от предложения");
		   	DeletePVar(playerid, "JailPlayer");
			DeletePVar(playerid, "JailSumma");
			DeletePVar(playerid, "JailReason");
			DeletePVar(playerid, "KeyJail");
		    return 1;
		}
		else if(GetPVarInt(playerid, "KeySim") == 1)
		{
			new targetid = GetPVarInt(playerid, "PlayerSim");
		   	SendClientMessage(playerid, COLOR_RED, "Вы отказались от предложения");
			SendClientMessage(targetid, COLOR_RED, "Игрок отказался от предложения");
		   	DeletePVar(playerid, "PlayerSim");
			DeletePVar(playerid, "SimPrice");
			DeletePVar(playerid, "KeySim");
		    return 1;
		}
		if(GetPVarInt(playerid, "sellexamlic") == 1)
		{
			new targetid = GetPVarInt(playerid, "idselllic");
			SendClientMessage(playerid, COLOR_RED, "Вы отказались от предложения");
			SendClientMessage(targetid, COLOR_RED, "Игрок отказался от предложения");
			DeletePVar(playerid, "sellexamlic");
			DeletePVar(playerid, "idselllic");
			DeletePVar(playerid, "changelic");
			return 1;
		}
	}
	if(PRESSED(KEY_ACTION))
	{
		if(GetPlayerState(playerid) != PLAYER_STATE_DRIVER) return 1;
		if(InShop[playerid]) return 1;
		new cars = 0, vehicleid = GetPlayerVehicleID(playerid), arend_id = INVALID_PLAYER_ID;
		for(new i; i != sizeof(BE_Bad_Vehs); i++)
		{
			if(GetVehicleModel(vehicleid) == BE_Bad_Vehs[i]) cars++;
		}
		if(GetArendCarID(vehicleid, arend_id) != (-1))
		{
		 	 new rc = GetArendCarID(vehicleid);
		 	 if(ArendInfo[rc][aPlayerID] != playerid) return 1;
		}
		if(IsAVel(vehicleid)) return 1;
		//if(Fuel[vehicleid] <= 0 && GetVehicleModel(vehicleid) != 462) return SendClientMessage(playerid, COLOR_RED, "В транспорте закончился бензин, необходима заправка!");
		new Float:vehhealth;
		GetVehicleHealth(vehicleid, vehhealth);
		if(vehhealth <= 400 && cars == 0) return SendClientMessage(playerid, COLOR_RED, "Машина поломана, вызовите механика!");
		if(GetVehicleModel(vehicleid) == 520) return 1;
		GetVehicleParamsEx(vehicleid,engine,lights,alarm,doors,bonnet,boot,objective);
		SetVehicleParamsEx(vehicleid,(Engine[vehicleid])?(false):(true),lights,alarm,doors,bonnet,boot,objective);
		Engine[vehicleid] = (Engine[vehicleid])?(false):(true);
		return 1;
	}
	if(PRESSED(KEY_FIRE))
	{
		if(GetPlayerState(playerid) != PLAYER_STATE_DRIVER) return 1;
		new cars = 0, vehicleid = GetPlayerVehicleID(playerid);
		for(new i; i != sizeof(BE_Bad_Vehs); i++)
		{
			if(GetVehicleModel(vehicleid) == BE_Bad_Vehs[i]) cars++;
		}
		if(cars > 0) return 1;
		if(IsAVel(vehicleid) || IsABoat(vehicleid)) return 1;
		GetVehicleParamsEx(vehicleid,engine,lights,alarm,doors,bonnet,boot,objective);
		SetVehicleParamsEx(vehicleid,engine,(Lights[vehicleid])?(false):(true),alarm,doors,bonnet,boot,objective);
		Lights[vehicleid] = (Lights[vehicleid])?(false):(true);
//		PlayerPlaySound(playerid, 4604, 0.0, 0.0, 0.0);
		return 1;
	}
	if(!IsACop(playerid) || !IsAArmy(playerid) || !IsAMayor(playerid))
	{
	    if(!PI[playerid][pAdmin])
	    {
	        if(!UseWork[playerid])
	        {
				for(new i; i < sizeof(AreaInfo[arGreenZone]); i++)
			    {
			        if(IsPlayerInDynamicArea(playerid, AreaInfo[arGreenZone][i]))
			        {
			            new index = GetPlayerAnimationIndex(playerid);
						if(index >= 1136 && index <= 1138 || index == 504 || index == 505 || index == 1141 || (oldkeys & 128 && newkeys & 16))
						{
					    	if(GetPlayerWeapon(playerid) != 43 && GetPlayerSpecialAction(playerid) != SPECIAL_ACTION_DRINK_SPRUNK && GetPlayerSpecialAction(playerid)!= SPECIAL_ACTION_DRINK_WINE && GetPlayerSpecialAction(playerid)!= SPECIAL_ACTION_SMOKE_CIGGY && GetPlayerSpecialAction(playerid) != SPECIAL_ACTION_DRINK_BEER)
							{
						 		ApplyAnimation(playerid, "FAT", "IDLE_tired", 3.0, 1, 0, 0, 1, 3000);

								//clear_animations_delay[playerid] = 3;

						 		if(!GetPVarInt(playerid, "SwitchingTextdraw"))
						 		{
							 		PlayerTextDrawShow(playerid, GreenZoneText[playerid][0]);
							 		PlayerTextDrawShow(playerid, GreenZoneText[playerid][1]);
							 		PlayerTextDrawShow(playerid, GreenZoneText[playerid][2]);
							 		PlayerTextDrawShow(playerid, GreenZoneText[playerid][3]);
							 		PlayerTextDrawShow(playerid, GreenZoneText[playerid][4]);
							 		PlayerTextDrawShow(playerid, GreenZoneText[playerid][5]);
							 		PlayerTextDrawShow(playerid, GreenZoneText[playerid][6]);
							 		PlayerTextDrawShow(playerid, GreenZoneText[playerid][7]);

									//warning_green_zone_timer[playerid] = 3;

							 		SetPVarInt(playerid, "SwitchingTextdraw", 1);
						 		}
					 		}
				 		}
					}
				}
			}
		}
	}
	if(!IsPlayerInAnyVehicle(playerid))
	{
		if((oldkeys & 128 && newkeys & 16))
		{
			if(IsPlayerInRangeOfPoint(playerid, 4.0,-341.2002,438.6825,2513.6538) || IsPlayerInRangeOfPoint(playerid, 2.0,-340.8946,434.3313,2513.7161))
			{
				if(!gym_cloakroom[playerid]) return SendClientMessage(playerid, COLOR_WHITE, "Вы не переоделись!");
				switch(random(3))
				{
					case 1:
					{
						PlayerPlaySound(playerid, (random(2)==0)?(17805):(17806), 0.0, 0.0, 0.0);
						PI[playerid][pSportExp]++;
						new string[20];
						if(PI[playerid][pSportExp] <= 1000) format(string, sizeof(string), "%d/1000", PI[playerid][pSportExp]);
						else if(PI[playerid][pSportExp] <= 3000) format(string, sizeof(string), "%d/3000", PI[playerid][pSportExp]);
						else if(PI[playerid][pSportExp] <= 6000) format(string, sizeof(string), "%d/6000", PI[playerid][pSportExp]);
						else format(string, sizeof(string), "%d", PI[playerid][pSportExp]);
						GameTextForPlayer(playerid, string, 500, 6);
						if(PI[playerid][pSportExp] == 1000)
						{
							SendClientMessage(playerid,COLOR_LIME,"Вы выучили новый стиль боя 'Бокс' 1000 ударов, используйте /fstyle 1");
							PI[playerid][pFightStyle] = 5;
							SendClientMessage(playerid, COLOR_WHITE, "Осталось открыть 2 стиля боя, требуется еще 2000 ударов");
						}
						if(PI[playerid][pSportExp] == 3000)
						{
							SendClientMessage(playerid,COLOR_LIME,"Вы выучили новый стиль боя 'Кунг-фу' 3000 ударов, используйте /fstyle 2");
							PI[playerid][pFightStyle] = 6;
							SendClientMessage(playerid, COLOR_WHITE, "Осталось открыть 1 стиль боя, требуется еще 3000 ударов");
						}
						if(PI[playerid][pSportExp] == 6000)
						{
							SendClientMessage(playerid,COLOR_LIME,"Вы выучили новый стиль боя 'Кикбокс' 6000 ударов, используйте /fstyle 3");
							PI[playerid][pFightStyle] = 7;
							SendClientMessage(playerid, COLOR_WHITE, "Вы выучили все стили боя! Поздравляем!");
						}
					}
				}
			}
		}
	}
	return 1;
}

public OnPlayerPickUpPickupEx(playerid, pickupid, action_type, action_id)
{
    if(PlayerPickupID[playerid] == pickupid) return 1;
	PlayerPickupID[playerid] = pickupid;
	SetTimerEx("ResetAntiFloodPick", 3000, 0, "i", playerid);
	if(GetPVarInt(playerid, "PickupTime") > gettime()) return 1;
	SetPVarInt(playerid, "PickupTime", gettime()+3);

    for(new i; i < sizeof USE_ALT; i++) PlayerTextDrawShow(playerid, USE_ALT[i]);
	SetTimerEx("HideNoticeTextDraw", 2500, false, "i", playerid);
	return 1;
}

/*public OnPlayerUpdate(playerid)
{
    player_afk_time[playerid] = 0;
	return 1;
}*/


public OnActorStreamIn(actorid, forplayerid) {


	return 1;
}
public OnActorStreamOut(actorid, forplayerid) {


	return 1;
}


forward OnPlayerTargetPlayer(playerid, targetid);
forward OnPlayerEndTargetPlayer(playerid, targetid);


public OnPlayerUpdate(playerid)
{
	if(!IsPlayerConnected(playerid))
	{
		Kick(playerid);
		return 0;
	}
	PI[playerid][pAFK] = 0;

	if(noclipdata[playerid][cameramode] == CAMERA_MODE_FLY)
	{
		new keys,ud,lr;
		GetPlayerKeys(playerid,keys,ud,lr);

		if(noclipdata[playerid][mode] && (GetTickCount() - noclipdata[playerid][lastmove] > 100))
		{
		    MoveCamera(playerid);
		}
		if(noclipdata[playerid][udold] != ud || noclipdata[playerid][lrold] != lr)
		{
			if((noclipdata[playerid][udold] != 0 || noclipdata[playerid][lrold] != 0) && ud == 0 && lr == 0){
				StopPlayerObject(playerid, noclipdata[playerid][flyobject]);
				noclipdata[playerid][mode]      = 0;
				noclipdata[playerid][accelmul]  = 0.0;
			}
			else
			{
				noclipdata[playerid][mode] = GetMoveDirectionFromKeys(ud, lr);
				MoveCamera(playerid);
			}
		}
		noclipdata[playerid][udold] = ud; noclipdata[playerid][lrold] = lr;
	}

	new targetid = GetPlayerTargetPlayer(playerid);
	if(targetid != INVALID_PLAYER_ID) OnPlayerTargetPlayer(playerid, targetid);
	else if(GetPVarInt(playerid, "TargetPlayerEx")) {
		OnPlayerEndTargetPlayer(playerid, GetPVarInt(playerid, "TargetPlayerEx"));
		DeletePVar(playerid, "TargetPlayerEx");
	}


	
 	new speed_test = GetPVarInt(playerid, "speed_test");
	if(speed_test > 10)
		LimitVehicleSpeed_ts(playerid, speed_test);

	return 1;
}

new InteractionTimer[MAX_PLAYERS];

public OnPlayerTargetPlayer(playerid, targetid) {
	if(GetPVarInt(playerid, "TargetPlayerEx") == targetid) return 1;
	SetPVarInt(playerid, "TargetPlayerEx", targetid);
	InteractionTimer[playerid] = SetTimerEx("OpenInteraction",3000,false,"d",playerid);
	return 1;
}

public OnPlayerEndTargetPlayer(playerid, targetid) {
	return 1;
}

publics OpenInteraction(playerid) {

	TextDrawShowForPlayer(playerid, Interact); // базовый текстдрав

	InfoInteract[playerid][2] = TextDrawCreate(57.979507, 57.166584, "interaction:interaction3");
	TextDrawLetterSize(InfoInteract[playerid][2], 0.000000, 0.000000);
	TextDrawTextSize(InfoInteract[playerid][2], 522.401733, 332.500335);
	TextDrawAlignment(InfoInteract[playerid][2], 1);
	TextDrawColor(InfoInteract[playerid][2], 0xFFFFFF00);
	TextDrawSetShadow(InfoInteract[playerid][2], 0);
	TextDrawSetOutline(InfoInteract[playerid][2], 0);
	TextDrawFont(InfoInteract[playerid][2], 4);


	InfoInteract[playerid][3] = TextDrawCreate(57.979507, 57.166584, "interaction:interaction4");
	TextDrawLetterSize(InfoInteract[playerid][3], 0.000000, 0.000000);
	TextDrawTextSize(InfoInteract[playerid][3], 522.401733, 332.500335);
	TextDrawAlignment(InfoInteract[playerid][3], 1);
	TextDrawColor(InfoInteract[playerid][3], 0xFFFFFF00);
	TextDrawSetShadow(InfoInteract[playerid][3], 0);
	TextDrawSetOutline(InfoInteract[playerid][3], 0);
	TextDrawFont(InfoInteract[playerid][3], 4);

	InfoInteract[playerid][4] = TextDrawCreate(57.979507, 57.166584, "interaction:interaction5");
	TextDrawLetterSize(InfoInteract[playerid][4], 0.000000, 0.000000);
	TextDrawTextSize(InfoInteract[playerid][4], 522.401733, 332.500335);
	TextDrawAlignment(InfoInteract[playerid][4], 1);
	TextDrawColor(InfoInteract[playerid][4], 0xFFFFFF00);
	TextDrawSetShadow(InfoInteract[playerid][4], 0);
	TextDrawSetOutline(InfoInteract[playerid][4], 0);
	TextDrawFont(InfoInteract[playerid][4], 4);

	InfoInteract[playerid][5] = TextDrawCreate(57.979507, 57.166584, "interaction:interaction6");
	TextDrawLetterSize(InfoInteract[playerid][5], 0.000000, 0.000000);
	TextDrawTextSize(InfoInteract[playerid][5], 522.401733, 332.500335);
	TextDrawAlignment(InfoInteract[playerid][5], 1);
	TextDrawColor(InfoInteract[playerid][5], 0xFFFFFF00);
	TextDrawSetShadow(InfoInteract[playerid][5], 0);
	TextDrawSetOutline(InfoInteract[playerid][5], 0);
	TextDrawFont(InfoInteract[playerid][5], 4);

	SelectTextDraw(playerid, 0xFFFFFFFF);

	new name[MAX_PLAYER_NAME];

	GetPlayerName(GetPVarInt(playerid, "TargetPlayerEx"), name, sizeof(name));
	
	for(new i; i < sizeof(name); i++) {
		name[i] = toupper(name[i]);
	}

	InfoInteract[playerid][6] = TextDrawCreate(286.735015, 230.416732, name);
	TextDrawLetterSize(InfoInteract[playerid][6], 0.273835, 1.144997);
	TextDrawAlignment(InfoInteract[playerid][6], 1);
	TextDrawColor(InfoInteract[playerid][6], -1);
	TextDrawSetShadow(InfoInteract[playerid][6], 256);
	TextDrawSetOutline(InfoInteract[playerid][6], 0);
	TextDrawBackgroundColor(InfoInteract[playerid][6], 51);
	TextDrawFont(InfoInteract[playerid][6], 1);
	TextDrawSetProportional(InfoInteract[playerid][6], 1);


	return 1;
}




public OnPlayerStreamIn(playerid, forplayerid)
{
	return 1;
}

public OnPlayerStreamOut(playerid, forplayerid)
{
	return 1;
}

public OnVehicleStreamIn(vehicleid, forplayerid)
{
	return 1;
}

public OnVehicleStreamOut(vehicleid, forplayerid)
{
	return 1;
}

#include <../../files/ban.inc>

//==============================================================================
public OnDialogResponse(playerid, dialogid, response, listitem, inputtext[])
{
    if(playerid == INVALID_PLAYER_ID) return SKick(playerid, 7433);
	if(GetPVarInt(playerid, "DialogResponseTime") > GetTickCount()) return CheatKick(playerid, 2178);
	else SetPVarInt(playerid, "DialogResponse", GetTickCount()+230);
	if(strlen(inputtext) > 0)
	{
		for(new i; i < strlen(inputtext); i++)
		{
	     	if(inputtext[i] == '%') inputtext[i] = '#';
	     	else if(inputtext[i] == '{' && inputtext[i+7] == '}') strdel(inputtext, i, i+8);
		}
	}
	if(PlayerLogged[playerid] == true)
	{
		if(response) PlayerPlaySound(playerid, 1054, 0.0, 0.0, 0.0);
		else PlayerPlaySound(playerid, 1054, 0.0, 0.0, 0.0);
	}

	// carsharing_OnDialogResponse(playerid, dialogid, response, listitem, inputtext);

	switch(dialogid)
	{
		case CARCONTROl: {
			if(!response) return 1;
			if(listitem == 0) {
				new param[7];
				GetVehicleParamsEx(GetPlayerVehicleID(playerid),param[0],param[1],param[2],param[3],param[4],param[5],param[6]);
				if(param[4]) param[4] = 0;
				else param[4] = 1;
				SetVehicleParamsEx(GetPlayerVehicleID(playerid),param[0],param[1],param[2],param[3],param[4],param[5],param[6]);
				SendSucces(playerid, "Капот закрыт/открыт");
			} else if(listitem == 1) {
				new param[7];
				GetVehicleParamsEx(GetPlayerVehicleID(playerid),param[0],param[1],param[2],param[3],param[4],param[5],param[6]);
				if(param[5]) param[5] = 0;
				else param[5] = 1;
				SetVehicleParamsEx(GetPlayerVehicleID(playerid),param[0],param[1],param[2],param[3],param[4],param[5],param[6]);
				SendSucces(playerid, "Багажник закрыт/открыт");
			} else if(listitem == 2) {
				new vehicleid = GetPlayerVehicleID(playerid);
				if(!Siren[vehicleid]) {
					Siren[vehicleid] = CreateObject(18646, 10.0, 10.0, 10.0, 0, 0, 0);
					AttachObjectToVehicle(Siren[vehicleid], vehicleid, 0.0, 0.75, 0.275, 0.0, 0.1, 0.0);
					SendSucces(playerid, "Сирена установлена");
				} else {
					DestroyObject(Siren[vehicleid]);
					SendSucces(playerid, "Сирена убрана");

				}
				
			}
		}
		case FLY_ANSWER: {
			if(response) {
				GetPlayerPos(playerid, FlyPlayer[playerid][fly_x], FlyPlayer[playerid][fly_y], FlyPlayer[playerid][fly_z]);
				TogglePlayerSpectating(playerid, false);
				SendClientMessage(playerid, COLOR_AFK, "Вы вышли из режима спектатора и продолжили в месте прилета");
				return SetPlayerPos(playerid, FlyPlayer[playerid][fly_x], FlyPlayer[playerid][fly_y], FlyPlayer[playerid][fly_z]);
			}
			else {
				TogglePlayerSpectating(playerid, false);
				SendClientMessage(playerid, COLOR_AFK, "Вы вышли из режима спектатора и продолжили в месте начала полета");
				return SetPlayerPos(playerid, FlyPlayer[playerid][fly_x], FlyPlayer[playerid][fly_y], FlyPlayer[playerid][fly_z]);
			}
		}
		case DIALOG_ANIMATION:
	    {
	        if(!response) return true;

	        SelectAnimation(playerid, listitem);
	        return true;
	    }
		/*
	    // *************** | Регистрация\Авторизация | *************** // 
	    // case 1:
	    // {
	    //     if(response)
		// 	{
		// 	    string = EOS;
		// 	    for(new i; i < 7; i++) strcat(string, RulesSO[i]);
		// 		SPD(playerid, 2, DIALOG_STYLE_MSGBOX,"Правила и соглашение",string,"Далее","Отмена");
		// 	}
	    //     else { SCM(playerid, lightred, "Вы были кикнуты с сервера! Чтобы выйти из игры, введите /q (/quit)"), Kick(playerid); }
		// }
		// case 2:
		// {
		// 	if(response)
		// 	{
		// 	    stringer[0] = EOS;
		// 	    for(new i; i < 7; i++) strcat(stringer, RulesST[i]);
		// 		SPD(playerid, 3, DIALOG_STYLE_MSGBOX,"Правила и соглашение",stringer,"Далее","Отмена");
		// 	}
	    //     else { SCM(playerid, lightred, "Вы были кикнуты с сервера! Чтобы выйти из игры, введите /q (/quit)"), Kick(playerid); }
		// }
		// case 3:
		// {
		//     if(response) return SPD(playerid,4,DIALOG_STYLE_INPUT,"Приглашение от игрока", "Введите ник игрока, пригласившего Вас на сервер\nТак-же Вы можете ввести промокод, если таковой имеется", "Далее", "Пропустить");
		//     else { SCM(playerid, lightred, "Вы были кикнуты с сервера! Чтобы выйти из игры, введите /q (/quit)"), Kick(playerid); }
		// }
		// case 4:
		// {
		// 	if(response)
		// 	{
		// 		new temp[26];
		// 	    mysql_real_escape_string(inputtext, temp);
		// 	    if(!strcmp(inputtext, PlayerInfo[playerid][pName], true))
		// 		{
		// 			 SCM(playerid, white, "Нельзя указывать собственный ник. Если вы не знаете других игроков нажмите кнопку 'Пропустить'");
		// 			 return SPD(playerid,4,DIALOG_STYLE_INPUT,"Приглашение от игрока", "Введите ник игрока, пригласившего Вас на сервер\nТак-же Вы можете ввести промокод, если таковой имеется", "Далее", "Пропустить");
		// 		}
		// 	    new string[65];
		// 		format(string, sizeof(string), "SELECT * FROM `accounts` WHERE `pName` = '%s'", temp);
		// 		mysql_function_query(connects, string, true, "CheckReferal", "ds", playerid, temp);
		// 		SetPVarString(playerid, "referal", temp);
		// 	}
		// 	else return SPD(playerid, 5, DIALOG_STYLE_MSGBOX, "Пол персонажа", "Выберите пол вашего персонажа.", "Мужской", "Женский");
		// }
		// case 5:
		// {
		//     new rand;
		//     if(response)
		//     {
		//         PlayerInfo[playerid][pSex] = 1;
		//         rand = random(sizeof(Player_Skin_Male));
		// 		PlayerInfo[playerid][pChar] = Player_Skin_Male[rand];
		// 	}
		//     else
		//     {
		//         PlayerInfo[playerid][pSex] = 2;
		//         rand = random(sizeof(Player_Skin_Female));
		// 		PlayerInfo[playerid][pChar] = Player_Skin_Female[rand];
		// 	}
		// 	SPD(playerid, 6, DIALOG_STYLE_INPUT, "Регистрация", "Введите пароль для вашего сервера.\nОн будет запрашиваться при каждом входе на сервер.\n\nПримечения:\n\
		// 	- Пароль должен быть сложным (Пример: s9cQ17)\n- Пароль должен состоять из цифр и букв\n- Максимальная длина пароля от 6 до 20 символов.", "Далее", "Выйти");
		// }
		// case 6:
		// {
		//     if(response)
		//     {
		// 		if(!strlen(inputtext)) return SPD(playerid, 6, DIALOG_STYLE_INPUT, "Регистрация", "Введите пароль для вашего сервера.\nОн будет запрашиваться при каждом входе на сервер.\n\nПримечения:\n\
		// 		- Пароль должен быть сложным (Пример: s9cQ17)\n- Пароль должен состоять из цифр и букв\n- Максимальная длина пароля от 6 до 20 символов.", "Далее", "Выйти");
		// 	    if(strlen(inputtext) < 6 || strlen(inputtext) > 20)
		// 	    {
		// 	   		SPD(playerid, 6, DIALOG_STYLE_INPUT, "Регистрация", "Введите пароль для вашего сервера.\nОн будет запрашиваться при каждом входе на сервер.\n\nПримечения:\n\
		// 			- Пароль должен быть сложным (Пример: s9cQ17)\n- Пароль должен состоять из цифр и букв\n- Максимальная длина пароля от 6 до 20 символов.", "Далее", "Выйти");
		// 			return SCM(playerid, white, "Пароль не может быть меньше 6 и больше 20 символов.");
		// 		}
		// 		for(new i = strlen(inputtext); i != 0; --i)
		// 		switch(inputtext[i])
		// 		{
		// 			case 'А'..'Я', 'а'..'я', '=', ' ':
		// 			{
		// 				SPD(playerid, 6, DIALOG_STYLE_INPUT, "Регистрация", "Введите пароль для вашего сервера.\nОн будет запрашиваться при каждом входе на сервер.\n\nПримечения:\n\
		// 				- Пароль должен быть сложным (Пример: s9cQ17)\n- Пароль должен состоять из цифр и букв\n- Максимальная длина пароля от 6 до 20 символов.", "Далее", "Выйти");
		// 				return SCM(playerid, white, "В пароле не должно быть русских символов!");
		// 			}
		// 		}
		// 		strmid(PlayerInfo[playerid][pKey], inputtext, 0, strlen(inputtext), 64);
		// 		RegStock(playerid);
		// 	}
		// 	else { SCM(playerid, lightred, "Вы были кикнуты с сервера! Чтобы выйти из игры, введите /q (/quit)"), Kick(playerid); }

		// }
		// case 7:
		// {
		//     if(response)
		//     {
		// 	    if(!strlen(inputtext))
		// 		{
		// 	    	stringer[0] = EOS;
		// 			format(stringer, 190, "Добро пожаловать на \n\nИмя персонажа %s\nВремя на авторизацию: %i секунд", PlayerInfo[playerid][pName],player_kick_time{playerid});
	    // 			SPD(playerid, 7, DIALOG_STYLE_PASSWORD, "Авторизация", stringer, "Войти", "Выйти");
		// 		}
		// 		OnPlayerLogin(playerid,inputtext);
		// 	}
		// 	else { SCM(playerid, lightred, "Вы были кикнуты с сервера! Чтобы выйти из игры, введите /q (/quit)"), Kick(playerid); }
		// }

*/

//==============================================================================
     	case DIALOG_FULL_ACCESS:
		{
			if(!response) return 1;

			switch(listitem)
			{
				case 0:
				{
				    ShowPlayerDialog(playerid, DIALOG_FULL_ACCESS + 1, DIALOG_STYLE_INPUT, "{FFCC00}Выдать полный доступ", "{FFFFFF}Укажите ник администратора, которому нужно выдать полный доступ к серверу:", "Далее", "Назад");
				}

				case 1:
				{
				    mysql_tquery(dbHandle, "SELECT * FROM fullaccess", "show_admin_full_access", "i", playerid);
				}
			}
		}

		case DIALOG_FULL_ACCESS + 1:
		{
			if(!response) return 1;

			new fmt_query[128];

			format(fmt_query, sizeof fmt_query, "SELECT `name` from fullaccess where name = '%s'", inputtext);
			mysql_tquery(dbHandle, fmt_query, "check_player_full_access", "is", playerid, inputtext);

		}

		// case DIALOG_FULL_ACCESS + 2:
		// {
		// 	if(!response) return 1;

		// 	new r_format[32], a_str[32];

		// 	format(r_format, sizeof r_format, "admin_name_id_%d", listitem);
		// 	GetPVarString(playerid, r_format, a_str, sizeof a_str);

		// 	SetPVarString(playerid, "full_access_name", a_str);

		// 	new full_id = GetPlayerListitemValue(playerid, listitem);
		// 	SetPVarInt(playerid, "full_access_id", full_id);

		// 	ShowPlayerDialog(playerid, DIALOG_FULL_ACCESS + 3, DIALOG_STYLE_LIST, "{FFCC00}Выберите действие:", "{E7D41F}1. {FFFFFF}Изменить название ранга\n{E7D41F}2. {FFFFFF}Снять с администратора FullDostup", "Выбрать", "Отмена");

		// }

		// case DIALOG_FULL_ACCESS+3:
		// {
		// 	if(!response) return 1;

		// 	switch(listitem)
		// 	{
		// 	case 0: ShowPlayerDialog(playerid, DIALOG_FULL_ACCESS + 4, DIALOG_STYLE_INPUT, "{FFCC00}Укажите название ранга", "{FFFFFF}Укажите название ранга для администратора:", "Выбрать", "Отмена");
		// 	case 1:
		// 		{

		// 			new fmt_query[128], ac_name[24];

		// 			GetPVarString(playerid, "full_access_name", ac_name, sizeof(ac_name));

		// 			if(GetPlayerID(ac_name) != INVALID_PLAYER_ID)
		// 			{
		// 				SendMes(GetPlayerID(ac_name), COLOR_RED, "Администратор %s отобрал у Вас полный доступ", GetName(playerid));
		// 				DeletePVar(GetPlayerID(ac_name), "IsAFullDostup");
		// 			}

		// 			format(fmt_query, sizeof fmt_query, "DELETE FROM fullaccess WHERE id = '%d'", GetPVarInt(playerid, "full_access_id"));
		// 			mysql_tquery(dbHandle, fmt_query, "", "");

		// 			SendMes(playerid, COLOR_RED, "FullDostup снят с администратора %s", ac_name);

		// 			DeletePVar(playerid, "full_access_id");
		// 			DeletePVar(playerid, "full_access_name");
		// 		}
		// 	}

		// }

		// case DIALOG_FULL_ACCESS+4:
		// {
		// 	if(!response) return 1;

		// 	new fmt_query[128], ac_name[24];

		// 	GetPVarString(playerid, "full_access_name", ac_name, sizeof(ac_name));

		// 	format(fmt_query, sizeof fmt_query, "UPDATE fullaccess SET rank = '%s' WHERE id = '%d'", inputtext, GetPVarInt(playerid, "full_access_id"));
		// 	mysql_tquery(dbHandle, fmt_query, "", "");

		// 	if(GetPlayerID(ac_name) != INVALID_PLAYER_ID) strmid(full_access_rank[GetPlayerID(ac_name)], inputtext, 0, strlen(inputtext), 64);

		// 	SendMes(playerid, COLOR_GREEN, "Вы изменили ранг администратору %s на %s", ac_name, inputtext);

		// 	DeletePVar(playerid, "full_access_id");
		// 	DeletePVar(playerid, "full_access_name");

		//  }
		// case 3502:
		// {
		// 	if(!response) return 1;
		// 	switch(listitem)
		// 	{
		// 		case 0:
		// 		{
		// 			new porch = GetPVarInt(playerid, "EnterPlayerPorch");
		// 			new Query[128];
		// 			mysql_format(dbHandle, Query, sizeof Query, "SELECT `hOwner`, `hPrice`, `hDays` FROM `porch_house` WHERE (`id` > '%d' and `id` < '%d') ORDER BY `id` ASC ", PorchInfo[porch][pFirstFlat]-1, (sizeof PorchFlatsCoord) + PorchInfo[porch][pFirstFlat]);
		// 			mysql_tquery(dbHandle, Query, "@_ShowPorchFlats", "d", playerid);
		// 		}
		// 		case 1:
		// 		{
		// 			if(GetPlayerPorchHouse(playerid) == 0) return SendClientMessage(playerid, COLOR_RED, "Вы не арендуете квартиру");
		// 			if(GetPVarInt(playerid, "EnterPlayerPorch") == 0)
		// 			{
		// 				SetPVarInt(playerid, "EnterPlayerPorch", floatround(GetPlayerPorchHouse(playerid) / 9, floatround_floor) + 1);
		// 			}
		// 			if(GetPVarInt(playerid, "EnterPlayerPorch") != floatround(GetPlayerPorchHouse(playerid) / 9, floatround_floor) + 1 ) return SendClientMessage(playerid, COLOR_RED, "Вы не арендуете квартиру в этом доме");
		// 			ShowPlayerDialog(playerid, 3502+4, DIALOG_STYLE_LIST, "{FFCC00}Меню жильца", "{FFFFFF}1. Оплатить проживание\n2. Забрать транспорт\n3. Выселиться из квартиры", "Выбрать", "Отмена");
		// 		}
		// 	}
			
		// }
		// case 3502+1:
		// {
		// 	if(!response) return SetPVarInt(playerid, "EnterPlayerPorchHouse", 0);
		// 	new porch = GetPVarInt(playerid, "EnterPlayerPorch");
		// 	new flat = GetPVarInt(playerid, "EnterPlayerPorchHouse");
		// 	if(PI[playerid][pCash] < PorchHouseInfo[flat][hPrice]) return SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно денег");
		// 	if(GetPlayerHouse(playerid) != 0) return SendClientMessage(playerid, COLOR_RED, "У Вас уже есть дом/квартира/отель");
		// 	if(GetPlayerPorchHouse(playerid) != 0) return SendClientMessage(playerid, COLOR_RED, "У Вас уже есть дом/квартира/отель");
		// 	PI[playerid][pCash] -= PorchHouseInfo[flat][hPrice];
		// 	PorchHouseInfo[flat][hDays] = 1;
		// 	PorchHouseInfo[flat][hOwnerID] = PI[playerid][pID];
		// 	strmid(PorchHouseInfo[flat][hOwner], PI[playerid][pName], 0, strlen(PI[playerid][pName]), MAX_PLAYER_NAME);
		// 	MysqlUpdatePlayerInt(playerid, "cash", PI[playerid][pCash]);
		// 	new Query[170];
		// 	mysql_format(dbHandle, Query, sizeof Query, "UPDATE `porch_house` SET `hOwner` = '%s', `hOwnerID` = '%d', `hDays` = '%d' WHERE `id` = '%d'", PI[playerid][pName], PI[playerid][pID], PorchHouseInfo[flat][hDays], flat);
		// 	mysql_tquery(dbHandle, Query, "", "");
		// 	print(Query);
		// 	SendClientMessage(playerid, COLOR_BLUE, "Поздравляем, Вы успешно арендовали квартиру!");
		// 	SetPlayerPos(playerid, PorchHouseInfo[flat][hEntrx], PorchHouseInfo[flat][hEntry], PorchHouseInfo[flat][hEntrz]);
		// 	DestroyDynamicMapIcon(PorchHouseInfo[flat][hMIcon]);
		// 	DestroyDynamicPickup(PorchHouseInfo[flat][hPickup]);
		// 	PorchHouseInfo[flat][hMIcon] = CreateDynamicMapIcon(PorchHouseInfo[flat][hEntrx], PorchHouseInfo[flat][hEntry], PorchHouseInfo[flat][hEntrz], 32, 0,porch + 100,9,-1,150.0);
		// 	PorchHouseInfo[flat][hPickup] = CreateDynamicPickup(1272, 1, PorchHouseInfo[flat][hEntrx], PorchHouseInfo[flat][hEntry], PorchHouseInfo[flat][hEntrz], porch + 100,9);
		// 	PI[playerid][pSpawnChange] = 4;
		// 	FreezePlayer(playerid, 2000);
		// 	return 1;
		// }
		// case 3502+2:
		// {
		// 	if(!response) return SetPVarInt(playerid, "EnterPlayerPorchHouse", 0);
		// 	if(GetPlayerHouse(playerid) != 0) return SendClientMessage(playerid, COLOR_RED, "У Вас уже есть дом/квартира/отель");
		// 	if(GetPlayerPorchHouse(playerid) != 0) return SendClientMessage(playerid, COLOR_RED, "У Вас уже есть дом/квартира/отель");
		// 	new temp = GetPVarInt(playerid, "EnterPlayerPorchHouse");
		// 	new string[128];
		// 	format(string, sizeof string, "{FFFFFF}Вы действительно хотите заселиться в квартиру №%d?\nРегистрация стоит %d рублей.", temp % 8, PorchHouseInfo[temp][hPrice]);
		// 	return ShowPlayerDialog(playerid, 3502+1, DIALOG_STYLE_MSGBOX, "{FFE408}Подтверждение регистрации", string, "Выбрать", "Отмена");
		// }
		// case 3502+3:
		// {
		// 	if(!response) return SetPVarInt(playerid, "EnterPlayerPorchHouse", 0);
		// 	new flat = GetPVarInt(playerid, "EnterPlayerPorchHouse");
		// 	SetPlayerPos(playerid, -690.9328,-457.4834,3147.080);
		// 	SetPlayerVirtualWorld(playerid, flat + 100);
		// 	SetPlayerInterior(playerid, 10);
		// 	SetPlayerFacingAngle(playerid, 360.0000);
		// 	SetCameraBehindPlayer(playerid);
		// 	return 1;
		// }
		// case 3502+4:
		// {
		// 	if(!response) return 1;
		// 	if(GetPlayerPorchHouse(playerid) == 0) return SendClientMessage(playerid, COLOR_RED, "Вы не арендуете квартиру");
		// 	if(GetPVarInt(playerid, "EnterPlayerPorch") != floatround(GetPlayerPorchHouse(playerid) / 9, floatround_floor) + 1 ) return SendClientMessage(playerid, COLOR_RED, "Вы не арендуете квартиру в этом доме");
		// 	new pflat = GetPlayerPorchHouse(playerid);
		// 	switch(listitem)
		// 	{
		// 		case 0:	
		// 		{
		// 			new string[128];
		// 			format(string, sizeof string, "{FFFFFF}Оплаченных дней: %d/30\nЕжедневная плата: %d\n\nНа сколько дней Вы хотите оплатить квартиру?", PorchHouseInfo[pflat][hDays], 3000);
		// 			ShowPlayerDialog(playerid, 3502+5, DIALOG_STYLE_INPUT, "{FFCC00}Оплата проживания", string, "Оплатить", "Отмена");
		// 		}
		// 		case 1:
		// 		{
		// 			if(PI[playerid][cModel] == 0) return SendClientMessage(playerid, COLOR_RED, "У Вас нет авто!");
     	// 			LoadMyCar(playerid);
		// 			SendClientMessage(playerid, COLOR_GREEN, "Вы успешно заспавнили свое авто");
		// 		}
		// 		case 2:
		// 		{
		// 			new Query[200];
		// 			PI[playerid][pSpawnChange] = 0;
		// 			SendClientMessage(playerid, COLOR_ORANGE, "Вы отказались от аренды квартиры");
		// 			if(PI[playerid][PlayerCarID] != INVALID_VEHICLE_ID)
		// 			{
		// 				DestroyVehicle(PI[playerid][PlayerCarID]);
		// 				PI[playerid][PlayerCarID] = INVALID_VEHICLE_ID;
		// 			}
		// 			MysqlUpdatePlayerInt(playerid, "spawnchange", PI[playerid][pSpawnChange]);
		// 			new porch = floatround(GetPlayerPorchHouse(playerid) / 9, floatround_floor) + 1;
		// 			strmid(PorchHouseInfo[pflat][hOwner], "None", 0, strlen("None"), MAX_PLAYER_NAME);
		// 			PorchHouseInfo[pflat][hDays] = 0;
		// 			PorchHouseInfo[pflat][hOwnerID] = 0;
		// 			mysql_format(dbHandle, Query, sizeof Query, "UPDATE `porch_house` SET `hOwner` = 'none', `hOwnerID` = '0', `hDays` = '0' WHERE `id` = '%d'", pflat);
		// 			mysql_tquery(dbHandle, Query, "", "");
		// 			DestroyDynamicMapIcon(PorchHouseInfo[pflat][hMIcon]);
		// 			DestroyDynamicPickup(PorchHouseInfo[pflat][hPickup]);
		// 			PorchHouseInfo[pflat][hMIcon] = CreateDynamicMapIcon(PorchHouseInfo[pflat][hEntrx], PorchHouseInfo[pflat][hEntry], PorchHouseInfo[pflat][hEntrz], 32, 0,porch + 100,9,-1,150.0);
		// 			PorchHouseInfo[pflat][hPickup] = CreateDynamicPickup(1273, 1, PorchHouseInfo[pflat][hEntrx], PorchHouseInfo[pflat][hEntry], PorchHouseInfo[pflat][hEntrz], porch + 100, 9);
		// 		}
		// 	}
		// }
		case FLY_DIALOG_MENU:
	    {
	        if(response)
	        {
		        switch(listitem)
		        {
					case 0: //Preview
					{
					    PreviewMovement(playerid);
					}
					case 1: //Change start
					{
					    DestroyPlayerObject(playerid, noclipdata[playerid][flyobject]);
						IsReSettingEnd[playerid] 	= false;
						SettingLastLoc[playerid] 	= false;
					    IsReSettingStart[playerid] = true;
					    SettingFirstLoc[playerid]  = true;
					    noclipdata[playerid][flyobject] = CreatePlayerObject(playerid, 19300, coordInfo[playerid][StartX], coordInfo[playerid][StartY], coordInfo[playerid][StartZ], 0.0, 0.0, 0.0);
                        TogglePlayerSpectating(playerid, true);
						AttachCameraToPlayerObject(playerid, noclipdata[playerid][flyobject]);
						SetPVarInt(playerid, "FlyMode", 1);
						noclipdata[playerid][cameramode] = CAMERA_MODE_FLY;
					}
					case 2: //Change end
					{
					    DestroyPlayerObject(playerid, noclipdata[playerid][flyobject]);
						IsReSettingStart[playerid] 	= false;
						SettingFirstLoc[playerid] 	= false;
					    IsReSettingEnd[playerid] = true;
					    SettingLastLoc[playerid] = true;
					    IsCreating[playerid] 	 = true;
					    SetCameraBehindPlayer(playerid);
					    noclipdata[playerid][flyobject] = CreatePlayerObject(playerid, 19300, coordInfo[playerid][EndX], coordInfo[playerid][EndY], coordInfo[playerid][EndZ], 0.0, 0.0, 0.0);
                        TogglePlayerSpectating(playerid, true);
						AttachCameraToPlayerObject(playerid, noclipdata[playerid][flyobject]);
						SetPVarInt(playerid, "FlyMode", 1);
						noclipdata[playerid][cameramode] = CAMERA_MODE_FLY;
					}
					case 3: //Change speed
					{
					    new string[512];
					    format(string, sizeof(string), "Please enter the desired {F58282}movement{a9c4e4} time in milliseconds\n\nCurrent movement speed: \t{F58282}%i milliseconds\n{a9c4e4}Current rotation speed: \t{F58282}%i milliseconds\n\n\nNote: {a9c4e4}1 second = 1000 milliseconds", coordInfo[playerid][MoveSpeed], coordInfo[playerid][RotSpeed]);
					    ShowPlayerDialog(playerid, FLY_DIALOG_MOVE_SPEED, DIALOG_STYLE_INPUT, "Movement Speed", string,"Ok","Cancel");
					}
					case 4: //Export
					{
					    ShowPlayerDialog(playerid, FLY_DIALOG_EXPORTNAME, DIALOG_STYLE_INPUT, "Save movement","Enter a name for the movement","Ok","Cancel");
					}
		        }
			}
			else
			{
				CancelFlyMode(playerid);
				IsCreating[playerid] = false;
			}
		}
		case FLY_DIALOG_ROT_SPEED:
	    {
	        if(response)
	        {
	            if(strlen(inputtext))
	            {
		            if(IsNumeric(inputtext))
		            {
		                coordInfo[playerid][RotSpeed] = strval(inputtext);
		                ShowPlayerDialog(playerid, FLY_DIALOG_MENU, DIALOG_STYLE_LIST,"Next step?","Preview\nChange Start\nChange End\nChange Speed\nSave","Ok","Cancel");
	                    IsReSettingStart[playerid] = false;
						IsReSettingEnd[playerid]   = false;
					}
		            else
		            {
		                new string[512];
	    				format(string, sizeof(string), "Please enter the desired {F58282}rotation{a9c4e4} time in milliseconds\n\nCurrent movement speed: \t{F58282}%i milliseconds\n{a9c4e4}Current rotation speed: \t{F58282}%i milliseconds\n{FF0000}NUMBERS ONLY!\n\n{F58282}Note: {a9c4e4}1 second = 1000 milliseconds", coordInfo[playerid][MoveSpeed], coordInfo[playerid][RotSpeed]);
		                ShowPlayerDialog(playerid, FLY_DIALOG_ROT_SPEED, DIALOG_STYLE_INPUT, "Rotation Speed", string,"Ok","Cancel");
		            }
				}
				else
				{
				    new string[512];
    				format(string, sizeof(string), "Please enter the desired {F58282}rotation{a9c4e4} time in milliseconds\n\nCurrent movement speed: \t{F58282}%i milliseconds\n{a9c4e4}Current rotation speed: \t{F58282}%i milliseconds\n{FF0000}You need to enter a value\n\n{F58282}Note: {a9c4e4}1 second = 1000 milliseconds", coordInfo[playerid][MoveSpeed], coordInfo[playerid][RotSpeed]);
        			ShowPlayerDialog(playerid, FLY_DIALOG_ROT_SPEED, DIALOG_STYLE_INPUT, "Rotation Speed", string,"Ok","Cancel");
				}
	        }
	        else
	        {
	            new string[512];
    			format(string, sizeof(string), "Please enter the desired {F58282}movement{a9c4e4} time in milliseconds\n\nCurrent movement speed: \t{F58282}%i milliseconds\n{a9c4e4}Current rotation speed: \t{F58282}%i milliseconds\n\n\n{F58282}Note: {a9c4e4}1 second = 1000 milliseconds", coordInfo[playerid][MoveSpeed], coordInfo[playerid][RotSpeed]);
                ShowPlayerDialog(playerid, FLY_DIALOG_MOVE_SPEED, DIALOG_STYLE_INPUT, "Movement Speed",string,"Ok","Cancel");
	        }
	    }
	    case FLY_DIALOG_EXPORTNAME:
	    {
	        if(response)
	        {
                if(strlen(inputtext))
                {
					ExportMovement(playerid, inputtext);
				}
				else
				{
				    ShowPlayerDialog(playerid, FLY_DIALOG_EXPORTNAME, DIALOG_STYLE_INPUT, "Save movement","Enter a name for the movement\n{FF0000}You need to enter a text","Ok","Cancel");
				}
			}
	        else
	        {
	            ShowPlayerDialog(playerid, FLY_DIALOG_MENU, DIALOG_STYLE_LIST,"Next step?","Preview\nChange Start\nChange End\nChange Speed\nSave","Ok","Cancel");
	        }
	    }
	    case FLY_DIALOG_CLOSE_NEW:
	    {
	        if(response)
	        {
	            IsCreating[playerid]      = true;
				SettingFirstLoc[playerid] = true;
				FlyMode(playerid);
	        }
	        else
	        {
	            SendClientMessage(playerid, -1, "You exited the camera movement editor.");
				CancelFlyMode(playerid);
	            IsCreating[playerid] = false;
	        }
	    }
		case FLY_DIALOG_MENU_SETTINGS:
		{
			if(response)
			{
				switch(listitem)
				{
					case 0:
					{
						if(player_show_name_tags[playerid] == true)
						{
							foreach(new idx : Player)
								ShowPlayerNameTagForPlayer(playerid, idx, false);

							SendClientMessage(playerid, COLOR_LIME, "Вы выключили изображения ников");
						}
						else if(player_show_name_tags[playerid] == false)
						{
							foreach(new idx : Player)
								ShowPlayerNameTagForPlayer(playerid, idx, true);

							SendClientMessage(playerid, COLOR_LIME, "Вы включили изображения ников");
						}
					}
					case 1:
					{
						for(new i = 0; i < 100; i++)
						{
							SendClientMessage(playerid, -1, "");
							if(i == 100) break;
						}
					}
				}
			}
		}
		case D_REMOVESUPPORT:
		{
			if(!response) return 0;

			new r_format[32], a_str[32], p_text[90];

			format(r_format, sizeof r_format, "leader_name_id_%d", listitem);
			GetPVarString(playerid, r_format, a_str, sizeof a_str);


			format(p_text, sizeof p_text, "{FFFFFF}Вы действительно хотите снять OFFLINE хелпера %s?", a_str);

			SetPVarString(playerid, "LEADER_NAME", a_str);

			ShowPlayerDialogEx(playerid, D_REMOVESUPPORT1, DIALOG_STYLE_MSGBOX, "{3498db}>> Снятие хелпера", p_text, "Да", "Нет");

		}

		case D_REMOVESUPPORT1:
		{
			if(!response) return 0;

			new a_name[24], string[128];
			GetPVarString(playerid, "LEADER_NAME", a_name, sizeof a_name);

			if(GetPlayerID(a_name) != INVALID_PLAYER_ID) PI[GetPlayerID(a_name)][pSupport] = 0;

			mysql_format(dbHandle, string, sizeof(string), "DELETE FROM "T_SUPPORT" WHERE `name`='%s'", a_name);
			mysql_tquery(dbHandle, string, "", "");
			//mysql_format(dbHandle, string, sizeof(string), "UPDATE "T_ACCOUNTS" SET `admin` = '0' WHERE `name` = '%s'", a_name);
			//mysql_tquery(dbHandle, string, "", "");

			STRING_GLOBAL[0] = EOS;
			format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "[{3498db}A{95a5a6}] %s снял %s с должности хелпера", GetName(playerid), a_name);
			SendAdminMessage(COLOR_ADMIN, STRING_GLOBAL);

			STRING_GLOBAL[0] = EOS;
			format(STRING_GLOBAL, 128, "Хелпер %s был успешно снят с поста", a_name);
			SendClientMessage(playerid, -1, STRING_GLOBAL);
		}
		case SCOOTER: {
			if(!response) return 1;
			else {

				if(PI[playerid][pCash] < scooter_price) return SendClientMessage(playerid, -1, "Недостаточно средств!");
				PI[playerid][pCash] -= scooter_price;
				SendClientMessage(playerid, -1, "Вы арендовали скутер!");
				DestroyVehicle(scooter[playerid]);
				new Float:player_x, Float:player_y, Float:player_z;
				GetPlayerPos(playerid, player_x, player_y, player_z);
				scooter[playerid] = CreateVehicle(462, player_x, player_y, player_z+1, 1, 1, 1, -1);
				PutPlayerInVehicle(playerid, scooter[playerid], 0);
				return 1;
			}
		}
		case CLIST:{

			if(!response) return 1;
			new str[128], id = GetPVarInt(playerid, "SetColorPlayerID");
			switch(listitem) {
				case 0: {
					SetPlayerColorEx(id, 0xFF0000ff);
					str = "Вы установили красный клист";
				}
				case 1: {
					SetPlayerColorEx(id, 0xffde5aff);
					str = "Вы установили желтый клист";
				}
				case 2: {
					SetPlayerColorEx(id, 0xff630fff);
					str = "Вы установили оранжевый клист";
				}
				case 3: {
					SetPlayerColorEx(id, 0xdc143cff);
					str = "Вы установили малиновый клист";
				}
				case 4: {
					SetPlayerColorEx(id, 0xd7d7d7ff);
					str = "Вы установили серый клист";
				}
				case 5: {
					SetPlayerColorEx(id, 0x000000ff);
					str = "Вы установили черный клист";
				}
				case 6: {
					SetPlayerColorEx(id, 0x00a86bff);
					str = "Вы установили зеленый клист";
				}
			}
			new res_str[128];
			format(res_str, sizeof(res_str), "%s игроку %s", str, GetName(id));
			SendClientMessage(playerid, -1, res_str);
			format(res_str, sizeof(res_str), "Ваш клист был изменен администратором %s", GetName(playerid));
			SendClientMessage(id, COLOR_BLUE, res_str);
			return 1;
		}

		case D_REMOVEYOUTUBER:
		{
			if(!response) return 0;

			new r_format[32], a_str[32], p_text[90];

			format(r_format, sizeof r_format, "leader_name_id_%d", listitem);
			GetPVarString(playerid, r_format, a_str, sizeof a_str);


			format(p_text, sizeof p_text, "{FFFFFF}Вы действительно хотите снять OFFLINE ютубера %s?", a_str);

			SetPVarString(playerid, "LEADER_NAME", a_str);

			ShowPlayerDialogEx(playerid, D_REMOVEYOUTUBER, DIALOG_STYLE_MSGBOX, "{3498db}>> Снятие ютубера", p_text, "Да", "Нет");

		}

		case D_REMOVEYOUTUBER1:
		{
			if(!response) return 0;

			new a_name[24], string[128];
			GetPVarString(playerid, "LEADER_NAME", a_name, sizeof a_name);

			if(GetPlayerID(a_name) != INVALID_PLAYER_ID) PI[GetPlayerID(a_name)][pYouTuber] = 0;

			mysql_format(dbHandle, string, sizeof(string), "DELETE FROM "T_YOUTUBER" WHERE `name`='%s'", a_name);
			mysql_tquery(dbHandle, string, "", "");
			//mysql_format(dbHandle, string, sizeof(string), "UPDATE "T_ACCOUNTS" SET `admin` = '0' WHERE `name` = '%s'", a_name);
			//mysql_tquery(dbHandle, string, "", "");

			STRING_GLOBAL[0] = EOS;
			format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "[A] %s снял %s с должности хелпера", GetName(playerid), a_name);
			SendAdminMessage(COLOR_GREY, STRING_GLOBAL);

			STRING_GLOBAL[0] = EOS;
			format(STRING_GLOBAL, 128, "Ютубер %s был успешно снят с поста", a_name);
			SendClientMessage(playerid, -1, STRING_GLOBAL);
		}
  		/*case dLego:
	    {
	        if(response)
	        {
	            if(listitem == 0) ShowPlayerDialog(playerid, dLegotutorial, DIALOG_STYLE_MSGBOX, \
				"Инструкция","{FFFFFF}Горячие клавиши:\n\n{008080}Escape {FFFFFF}- чтобы выйти из редактора,\nили выбора объекта\n{008080}Shift {FFFFFF}- чтобы вращать камеру\nво время редактирования",\
				"Готово","Назад");
	            if(listitem == 1) ShowPlayerDialog(playerid, dLegocreate, DIALOG_STYLE_INPUT, \
				"Создание объекта","Введите ID модели объекта для того чтобы его создать\nОбъект появится перед вами, далее вы будете изменять его\n\nМаксимальный ID объекта - 19469",\
				"Создать","Назад");
				if(listitem == 2) SelectObject(playerid);
    			if(listitem == 3) ShowPlayerDialog(playerid, dLegodeleteobj, DIALOG_STYLE_MSGBOX, \
				"Удаление объектов","{FFFFFF}Вы действительно хотите удалить все созданные объекты?",\
				"Да","Назад");
	        }
	    }
	    case dLegocreate:
	    {
			if(!response) return callcmd::createobject(playerid);
			if(!strval(inputtext)) return ShowPlayerDialog(playerid, dLegocreate, DIALOG_STYLE_INPUT, \
			"Создание объекта","Введите ID модели объекта для того чтобы его создать\nОбъект появится перед вами, далее вы будете изменять его\n\nМаксимальный ID объекта - 19469\n{FF0000}Ошибка: Недопустимое значение!",\
			"Создать","Назад");
			new Float:X, Float:Y, Float:Z;
			GetPlayerPos(playerid, X, Y, Z);
			new objectid = CreateObject(strval(inputtext), X+1, Y+1, Z+1, 0.0,0.0,0.0);
			EditObject(playerid, objectid);
			SetPVarInt(playerid, "ModelID", strval(inputtext));
			Createdobject[objectid] = true;
		}
  		case dLegoselect:
	    {
			new objectid = GetPVarInt(playerid, "SelectedObject");
			if(response) EditObject(playerid, objectid);
			else DestroyObject(objectid) && CancelEdit(playerid);
	    }
	    case dLegodeleteobj:
	    {
	        if(!response) return callcmd::createobject(playerid);
			for(new i = 0; i < MAX_OBJECTS; i++)
			{
				if(Createdobject[i] == true)
				{
					DestroyObject(i);
				}
	  		}
	  		SendClientMessage(playerid,COLOR_GREY,"Все созданные объекты удалены");
	    }
	    case dLegotutorial: if(!response) return callcmd::createobject(playerid);*/
		case DIALOG_MENU_CMD:
		{
			if(response)
			{
				switch(listitem)
				{
					case 0: ShowPlayerDialogOrgList(playerid);
					case 1: ShowPlayerDialogWorksCmds(playerid);
					case 2: ShowPlayerDialogFamilyCmds(playerid);
					case 3: ShowPlayerDialogPropertyCmds(playerid);
					case 4: ShowPlayerDialogCommunCmds(playerid);
					case 5: ShowPlayerDialogOtherCmds(playerid);
				}
			}
		}
		case DIALOG_RADIO:
		{
            if(response)
			{
				switch(listitem)
				{
				    case 0: ShowPlayerConnectToRadio(playerid);
					case 1: ShowPlayerRadioInfo(playerid);
				}
			}
		}
		case DIALOG_MENU:
		{
			if(response)
			{
				switch(listitem)
				{
				    case 0: ShowPlayerStatsDialog(playerid, playerid);
					case 1: ShowPlayerDialogCommands(playerid);
					case 2: ShowPlayerDialogSecurity(playerid);
					case 3: ShowPlayerDialogHelpAdm(playerid); //ShowPlayerDialogSettings
					case 4: ShowDialogRules(playerid, 1);
					case 5: ShowPlayerDialogChangeNonRpName(playerid); 
					case 6: ShowPlayerDialogSettings(playerid);
					case 7: ShowPlayerDialog(playerid, D_GPS, DIALOG_STYLE_LIST, "{FFCC00}GPS", "\
					{FFCC00}1. {ffffff}Важные места\n\
					{FFCC00}2. {ffffff}Подработки\n\
					{FFCC00}3. {ffffff}Развлечения\n\
					{FFCC00}4. {ffffff}Государственные организации\n\
					{FFCC00}5. {ffffff}Нелегальные организации\n\
					{FFCC00}6. {ffffff}Бизнесы\n\
					{FFCC00}7. {ffffff}Ближайшие объекты\n\
					{FFCC00}8. {ffffff}Работы\n\
					{FFCC00}9. {ffffff}Районы области", "Выбрать", "Отмена");
					case 8: ShowPlayerDialogRadio(playerid);
					case 9: ShowPlayerDialogDonateList(playerid);
				}
			}
		}
		case DIALOG_MENU_SECURITY+1: {
			if(!response) return 1;
			format(query, sizeof query, "SELECT PerfomanceIDCode FROM accounts WHERE name = '%s'", GetName(playerid));
			mysql_query(dbHandle, query);
			new persalt[11], percode[ENC_MAX];
			cache_get_row(0, 0, percode, dbHandle, ENC_MAX);

			format(query, sizeof query, "SELECT PerfomanceIDSalt FROM accounts WHERE name = '%s'", GetName(playerid));
			mysql_query(dbHandle, query);
			cache_get_row(0, 0, persalt, dbHandle, 11);

			new result[ENC_MAX];
			SHA256_PassHash(inputtext, persalt, result, ENC_MAX-1);

			if(strcmp(result, percode, false)) {
				new string[200];
				format(string, 200, "{FF0000}[ERROR]{FFFFFF} Расшифровать данные по стандарту BrilliantIDStandart не удалось!\n\n\
				{FFF000}Предположительно: введенный код неправильный и не дает результата при попытке расшифровать данные");
				ShowPlayerDialog(playerid, D_NULL, DIALOG_STYLE_MSGBOX, "{FFCC00}BrilliantID", string, "Закрыть", "");
				return 1;
			} else {
				PI[playerid][pPERID_Logged] = true;
				return PlayerSecurity(playerid);
			}

		}
		/*case 3502+5:
		{
			if(!response) return 1;
			new h_days,
			 	pflat = GetPlayerPorchHouse(playerid),
			 	string[144];
			if(sscanf(inputtext, "d", h_days) || h_days < 1) 
			{
				format(string, sizeof string, "{FFFFFFF}Оплаченных дней: %d/30\nЕжедневная плата: %d\n\nНа сколько дней Вы хотите оплатить квартиру?", PorchHouseInfo[pflat][hDays], 3000);
				return ShowPlayerDialog(playerid, 3502+5, DIALOG_STYLE_INPUT, "{00D11A}Оплата проживания", string, "Оплатить", "Отмена");
			}
			if(PI[playerid][pCash] < h_days* 3000) return SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно денег");
			if(h_days + PorchHouseInfo[pflat][hDays] > 30) return SendClientMessage(playerid, COLOR_RED, "Вы не можете оплатить квартиру больше, чем на 30 суток");
			PI[playerid][pCash] -= h_days* 3000;
			PorchHouseInfo[pflat][hDays] += h_days;
			mysql_format(dbHandle, string, sizeof string, "UPDATE `porch_house` SET `hDays` = '%d' WHERE `id` = '%d'", PorchHouseInfo[pflat][hDays], pflat);
			mysql_tquery(dbHandle, string, "", "");
			MysqlUpdatePlayerInt(playerid, "cash", PI[playerid][pCash]);
			format(string, sizeof string, "Вы оплатили проживание на %d дней", h_days);
			SendClientMessage(playerid, COLOR_BLUE, string);
			return 1;
		}*/
		case 8420:
		{
			if(response)
			{
				switch(listitem)
				{
					case 0:
					{
					   if(IsPlayerAttachedObjectSlotUsed(objectplayerid, 2)) RemovePlayerAttachedObject(objectplayerid, 2);
					   SetPlayerAttachedObject(objectplayerid,2,19137,2,0.100000,0.000000,0.000000,0.000000,0.000000,0.000000,1.000000,1.000000,1.000000);
					   return 1;
					}
					case 1:
					{
						if(IsPlayerAttachedObjectSlotUsed(objectplayerid, 5)) RemovePlayerAttachedObject(objectplayerid, 5);
						SetPlayerAttachedObject(objectplayerid,5, 19270, 2, 0.111052, 0.021643, -0.000846, 92.280899, 92.752510, 358.071044, 1.200000, 1.283168, 1.200000);
						return 1;
					}
					case 2:
					{
						if(IsPlayerAttachedObjectSlotUsed(objectplayerid, 4)) RemovePlayerAttachedObject(objectplayerid, 4);
						SetPlayerAttachedObject(objectplayerid,4, 18646, 2, 0.111052, 0.021643, -0.000846, 92.280899, 92.752510, 358.071044, 1.200000, 1.283168, 1.200000);
						return 1;
					}
					case 3:
					{
						if(IsPlayerAttachedObjectSlotUsed(objectplayerid, 5)) RemovePlayerAttachedObject(objectplayerid, 5);
						SetPlayerAttachedObject(objectplayerid,5, 19163, 2, 0.111052, 0.021643, -0.000846, 100.280899, 100.752510, 445.071044, 1.100000, 1.300000, 1.300000);
						return 1;
					}
					case 4:
					{
						if(IsPlayerAttachedObjectSlotUsed(objectplayerid, 0)) RemovePlayerAttachedObject(objectplayerid, 0);
						SetPlayerAttachedObject(objectplayerid,0, 18915, 2, 0.1, 0.03, -0.005, 90.0, 180.0, 90.0);
						return 1;
					}
					case 5:
					{
						if(IsPlayerAttachedObjectSlotUsed(objectplayerid, 0)) RemovePlayerAttachedObject(objectplayerid, 0);
						SetPlayerAttachedObject(objectplayerid,0, 18912, 2, 0.1, 0.03, -0.005, 90.0, 180.0, 90.0);
						return 1;
					}
					case 6:
					{
						if(IsPlayerAttachedObjectSlotUsed(objectplayerid, 0)) RemovePlayerAttachedObject(objectplayerid, 0);
						SetPlayerAttachedObject(objectplayerid,0, 18916, 2, 0.1, 0.03, -0.005, 90.0, 180.0, 90.0);
						return 1;
					}
					case 7:
					{
						if(IsPlayerAttachedObjectSlotUsed(objectplayerid, 0)) RemovePlayerAttachedObject(objectplayerid, 0);
						SetPlayerAttachedObject(objectplayerid,0, 18917, 2, 0.1, 0.03, -0.005, 90.0, 180.0, 90.0);
						return 1;
					}
					case 8:
					{
						if(IsPlayerAttachedObjectSlotUsed(objectplayerid, 0)) RemovePlayerAttachedObject(objectplayerid, 0);
						SetPlayerAttachedObject(objectplayerid,0, 18918, 2, 0.1, 0.03, -0.005, 90.0, 180.0, 90.0);
						return 1;
					}
					case 9:
					{
						if(IsPlayerAttachedObjectSlotUsed(objectplayerid, 4)) RemovePlayerAttachedObject(objectplayerid, 4);
						SetPlayerAttachedObject(objectplayerid,4, 3528, 2, 0.111052, 0.021643, -0.000846, 92.280899, 92.752510, 358.071044, 0.100000, 0.100000, 0.100000);
						return 1;
					}
					case 10:
					{
						if(IsPlayerAttachedObjectSlotUsed(objectplayerid, 4)) RemovePlayerAttachedObject(objectplayerid, 4);
						SetPlayerAttachedObject(objectplayerid,4, 18643, 2, 0.111052, 0.021643, -0.000846, 92.280899, 92.752510, 358.071044, 1.200000, 1.283168, 1.200000);
						return 1;
					}
					case 11:
					{
						if(IsPlayerAttachedObjectSlotUsed(objectplayerid, 0) || IsPlayerAttachedObjectSlotUsed(objectplayerid, 1) || IsPlayerAttachedObjectSlotUsed(objectplayerid, 4))
						{
							RemovePlayerAttachedObject(objectplayerid, 0);
							RemovePlayerAttachedObject(objectplayerid, 1);
							RemovePlayerAttachedObject(objectplayerid, 4);
						}
						SetPlayerAttachedObject(objectplayerid,0, 18693, 5, 1.983503, 1.558882, -0.129482, 86.705787, 308.978118, 268.198822, 1.500000, 1.500000, 1.500000);
						SetPlayerAttachedObject(objectplayerid,1, 18693, 6, 1.983503, 1.558882, -0.129482, 86.705787, 308.978118, 268.198822, 1.500000, 1.500000, 1.500000);
						SetPlayerAttachedObject(objectplayerid,4, 18965, 2, 0.111052, 0.021643, -0.000846, 92.280899, 92.752510, 358.071044, 1.200000, 1.283168, 1.200000);
						return 1;
					}
					case 12:
					{
						if(IsPlayerAttachedObjectSlotUsed(objectplayerid, 5)) RemovePlayerAttachedObject(objectplayerid, 5);
						SetPlayerAttachedObject(objectplayerid,5, 19078, 1, 0.329150, -0.072101, 0.156082, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000);

						return 1;
					}
					case 13:
					{
						if(IsPlayerAttachedObjectSlotUsed(objectplayerid, 5)) RemovePlayerAttachedObject(objectplayerid, 5);
						SetPlayerAttachedObject(objectplayerid,5, 354, 1, 0.329150, -0.072101, 0.156082, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000);
						return 1;
					}
					case 14:
					{
						if(IsPlayerAttachedObjectSlotUsed(objectplayerid, 1)) RemovePlayerAttachedObject(objectplayerid, 1);
						SetPlayerAttachedObject(objectplayerid,1, 356, 6, 0.013610, -0.021393, -0.144862, 2.354303, 354.413848, 0.219168, 3.034477, 3.000000, 3.000000);
						return 1;
					}
					case 15:
					{

						if(IsPlayerAttachedObjectSlotUsed(objectplayerid, 1)) RemovePlayerAttachedObject(objectplayerid, 1);
						SetPlayerAttachedObject(objectplayerid,1, 19086, 8, -0.049768, -0.014062, -0.108385, 87.458297, 263.478149, 184.123764, 0.622413, 1.041609, 1.012785);

						return 1;
					}
					case 16:
					{
						if(IsPlayerAttachedObjectSlotUsed(objectplayerid, 0)) RemovePlayerAttachedObject(objectplayerid, 0);
						SetPlayerAttachedObject(objectplayerid,0, 19078, 1, -1.097527, -0.348305, -0.008029, 0.000000, 0.000000, 0.000000, 8.073966, 8.073966, 8.073966);
						return 1;
					}
					case 17:
					{
						RemovePlayerAttachedObject(objectplayerid, 0);
						RemovePlayerAttachedObject(objectplayerid, 1);
						RemovePlayerAttachedObject(objectplayerid, 2);
						RemovePlayerAttachedObject(objectplayerid, 3);
						RemovePlayerAttachedObject(objectplayerid, 4);
						RemovePlayerAttachedObject(objectplayerid, 5);
						RemovePlayerAttachedObject(objectplayerid, 6);
						RemovePlayerAttachedObject(objectplayerid, 7);
						RemovePlayerAttachedObject(objectplayerid, 8);
						RemovePlayerAttachedObject(objectplayerid, 9);
						return 1;
					}
				}
			}
		}
		case 666661:
		{
			if(!response) return 1;
		}
  		case D_GUNCJOB:
  		{
	        if(!response) return 1;
	        new string[128];
	        SetPlayerSkin(playerid, GetPVarInt(playerid, "GSkin"));
	        format(string, 50,"Вы закончили работу. Заработано: %i  Рублей.",GetPVarInt(playerid, "GUN")*GCASH);
	        SendClientMessage(playerid,COLOR_ORANGE,string);
	        PI[playerid][pWorkSalary] = 0;
	        ex_GiveMoney(playerid,GetPVarInt(playerid, "GUN")*GCASH);//ex_GiveMoney замените на свою систему выдачи денег.
	    	RemovePlayerAttachedObject(playerid, 3);
	    	PlayerTextDrawHide(playerid, StatusWork[playerid][0]);
	    	PlayerTextDrawHide(playerid, StatusWork[playerid][1]);
	    	PlayerTextDrawHide(playerid, StatusWork[playerid][2]);
	    	PlayerTextDrawHide(playerid, StatusWork[playerid][3]);
	    	PlayerTextDrawHide(playerid, StatusWork[playerid][4]);
	        DeletePVar(playerid, "Gunjob");
	        DeletePVar(playerid, "GUN");
	        DeletePVar(playerid, "Gjob");
	        DeletePVar(playerid, "GSkin");
	        DisablePlayerCheckpoint(playerid);
	        return 1;
    	}
		case 30000:
	 	{
	        if(!response) return true;											// - Если нажал отмена
	        SendClientMessage(playerid,0xFFFFFFAA,"Вы начали работу грузчика!");
	        SendClientMessage(playerid,COLOR_YELLOW,"Направляйтесь к красному чекпоинту!");
	        SendClientMessage(playerid,COLOR_YELLOW,"После того, как закончите работу, встаньте на синий пикап одежды");
	        SendClientMessage(playerid,COLOR_YELLOW,"Если Вы уйдёте далеко от места работы, то Ваша зарплата анулируется");
	        SetPVarInt(playerid,"PSkin",GetPlayerSkin(playerid));				// - Сохраним скин игрока
	        SetPlayerSkin(playerid,16);											// - Установим игроку скин
	        SetPVarInt(playerid,"InJob",1);										// - Устанавливаем игроку работу.
	        SetPVarInt(playerid,"Job",1);										// - Устанавливаем момент работы, 1 - идём брать вещи. 2 - несём вещи.
	        SetPlayerCheckpoint(playerid, 2350.9539,-258.6003,2.7890,1.5);		// - Создаём один из чекпоинтов
   		}
	 	case 30001:
		{
			if(!response) return true;
		    {
	            new str[128];
	            format(str,sizeof(str),"Рабочий день завершен. Ваш заработок составляет: %d руб.",GetPVarInt(playerid,"JobY")*JOB_CASH);
	            SendClientMessage(playerid,COLOR_YELLOW,str);					// Выводим текст
	            DisablePlayerCheckpoint(playerid);								// Удаляем чекпоинт
	            ApplyAnimation(playerid,"PED","IDLE_tired",4.1,0,1,1,0,1);		// Обнуляем анимацию
	            RemovePlayerAttachedObject(playerid,1);							// Удаляем объект из рук
	            GiveMoney(playerid,GetPVarInt(playerid,"JobY")*JOB_CASH);		// Выдаём деньги
	            SetPlayerSkin(playerid,GetPVarInt(playerid,"PSkin"));
	            DeletePVar(playerid,"Job");										// Удаляем PVar с моментом работы
	            DeletePVar(playerid,"InJob");									// Удаляем PVar с работой
	            DeletePVar(playerid,"JobY");									// Удаляем PVar с колличеством вещей
	            DeletePVar(playerid,"PSkin");									// Удаляем PVar с одеждой
      		}
   		}
		case 9995:// Если не на работе, то показываем чтоб устроиться
	    {
			if(response)
			{
				SetPVarInt(playerid, "OldLessSkin",GetPlayerSkin(playerid));
	   			if(IsPlayerAttachedObjectSlotUsed(playerid,1)) RemovePlayerAttachedObject(playerid,1);// забрали кирку
				UseWork[playerid] = 1;
				SetPlayerSkin(playerid,16);
				SetPlayerAttachedObject(playerid, 1, 18634, 6, 0.075000,0.002999,0.154000, 98.399978,-69.600013,1.100000);
				SendClientMessage(playerid, COLOR_BLUE, "Вы начали работу шахтёра!");
				SendClientMessage(playerid, COLOR_YELLOW, "Местонахождение руды отмечено на карте красным чекпоинтом");
				SendClientMessage(playerid, COLOR_YELLOW, "Добытое сырьё относите в кузницу");
				SendClientMessage(playerid, COLOR_YELLOW, "Если Вы уйдёте далеко от места работы, то Ваша зарплата анулируется");
				new mcheckShahta = random(3);//Кол-во чекпоинтов
				{
					if(mcheckShahta == 0) SetPlayerCheckpoint(playerid, 2316.0361,1649.5638,-37.7585-1,3.0);
					if(mcheckShahta == 1) SetPlayerCheckpoint(playerid, 2324.9434,1660.3811,-37.7068-1,3.0);
					if(mcheckShahta == 2) SetPlayerCheckpoint(playerid, 2331.0259,1654.2983,-37.6525-1,3.0);
				}
				ClearAnimations(playerid);
			}
			return 1;
		}
		case 9996:// Если на работе, то показваем, что желаете ли закончить рабочий день
		{
	 		if(response)
			{
				new string[100];
				new money = kg[playerid]*426;
				UseWork[playerid] = 0;// Игрок не шахтер
			  	SetPlayerSkin(playerid, GetPVarInt(playerid, "OldLessSkin"));
			   	DisablePlayerCheckpoint(playerid);// Убираем чп.
	  			format(string, sizeof(string), "Рабочий день завершен. Вы добыли: %d кг руды",kg[playerid]);
				SendClientMessage(playerid, COLOR_BLUE, string);
			   	format(string, sizeof(string), "Заработано %d рублей.",kg[playerid]*426,kg[playerid]);
	  			SendClientMessage(playerid, COLOR_BLUE, string);
		   	    format(string, sizeof(string), "~g~+%i RUB",kg[playerid]*426,kg[playerid]);
				GameTextForPlayer(playerid, string, 5000, 1);
			   	TransferMoney(-1,playerid,money);
			   	kg[playerid] = 0;
	            RemovePlayerAttachedObject(playerid,1);
			   	RemovePlayerAttachedObject(playerid,2);// забрали тачку
			   	RemovePlayerAttachedObject(playerid,3);// забрали тачку
			}
			return 1;
		}
		/*case 2278:
		if(response)
		{
			new mati;
			new string[256];
			mati = strval(inputtext);
			new oplata = mati*30;
			if(mati < 1 || mati > 200) return SendClientMessage(playerid,COLOR_RED,"Нельзя купить больше 50 кг металла или меньше 1кг");
			if(PI[playerid][pGunAmount] >= 200) return SendClientMessage(playerid,COLOR_YELLOW,"У вас уже есть металл");
			if(PI[playerid][pCash] < mati*50) return SendClientMessage(playerid, COLOR_RED,"У вас недостаточно денег");
			{
				metall -= mati;
				PI[playerid][pCash]-=oplata;
				PI[playerid][pGunAmount] += mati;
				format(string,sizeof(string),"Вы купили %d кг металла за %d рублей.",mati,mati*50);
				SendClientMessage(playerid,COLOR_BLUE,string);
				return true;
			}
		}*/
			case 3793:
			{
				if(!response) return 1;
				ShowPlayerDialog(playerid, 3794, DIALOG_STYLE_LIST, "{FFCC00}Помощь", "{FFCC00}1.{FFFFFF} Начало игры\n2. Список игроков\n3. Транспорт\n4. Общее\n5. Работа\n6. Оружие и убийство\n7. Получение документов\n8. Задания", "Далее", "Отмена");
				return 1;
			}
			case 3794:
		   	{
			if(!response) return 1;
			new string[2000];
			switch(listitem)
			{
				case 0:
				{
					string = "\0";
					strcat(string, "{FFFFFF}Приветствуем Вас на проекте "SERVER_NAME"\n\n");
					strcat(string, "Наш проект придерживается режима игры по ролям (RolePlay), где\n");
					strcat(string, "каждый игрок выбирает для себя собственную персонализаию со всеми\n");
					strcat(string, "Вытекающими из этого особенностями личности игрового персонажа\n\n");
					strcat(string, "Следующее руководство по началу игры поможет Вам разобраться с осноВами\n");
					strcat(string, "ролевых процессов, началу и развитию игры на проекте");
					ShowPlayerDialog(playerid, 3795, DIALOG_STYLE_MSGBOX, "{FFCC00}Начало игры", string, "Назад", "Закрыть");
				}
				case 1:
				{
					string = "\0";
					strcat(string, "{FFFFFF}В начале Вашей игры Вы оказываетесь на вокзале по каким-либо причинам,\n");
					strcat(string, "однако полностью без денег. Что уже случилось с Вами определяете лишь Вы:\n");
					strcat(string, "приехали ли Вы с другой страны или города; Вас ограбили по приезду,\n");
					strcat(string, "поэтому денег не осталось; Вы потеряли память и не помните, что с Вами\n");
					strcat(string, "случилось и кто Вы есть. Уже на данном этапе Вы выбираете свой путь:\n");
					strcat(string, "пойти и пытаться искать выход из ситуации, либо же оставаться человеком\n");
					strcat(string, "без дома и денег - все зависит только от личных предпочтений.\n");
					strcat(string, "Стоит учесть, что каким-то образом с Вами остался\n");
					strcat(string, "Ваш паспорт, что, опять же, придумываете Вы сами");
					ShowPlayerDialog(playerid, 3795, DIALOG_STYLE_MSGBOX, "{FFCC00}Предыстория", string, "Назад", "Закрыть");
				}
				case 2:
				{
					string = "\0";
					strcat(string, "{FFFFFF}На проекте существует множество способов зарабатывания денег:\n");
					strcat(string, "от попрошайничества до ведения бизнеса в виде казино,\n");
					strcat(string, "однако изначально стоит заняться чем-то нейтральным.\n\n");
					
					
					strcat(string, "В качестве начального зарабатывания денег вполне подойдет любая\n");
					strcat(string, "из представленных доступных подработок, которые можно найти путем\n");
					strcat(string, "написания команды /gps и выбора пункта подработки.\n\n");
					
					
					strcat(string, "Такой труд не требует никаких умственных навыков, однако Вам вполне стоит\n");
					strcat(string, "запастись силами и терпением, ведь только от них зависит количество заработанных\n");
					strcat(string, "Вами денег. Добраться до подобного вида заработка представляется возможным либо\n");
					strcat(string, "заказом такси (на что У Вас денег нет), либо просьбой кого-либо подвезти,\n");
					strcat(string, "арендой скутера, а также платой за проезд на маршрутном такси или автобусе");
					ShowPlayerDialog(playerid, 3795, DIALOG_STYLE_MSGBOX, "{FFCC00}Первоначальный заработок", string, "Назад", "Закрыть");
				}
				case 3:
				{
					string = "\0";
					strcat(string, "{FFFFFF}Каждая подработка требует от себя траты времени и терпения для\n");
					strcat(string, "достижения конечного результата в виде получения денег.\n\n");
					
					
					strcat(string, "Суть состоит в том, что Вам сначала нужно встать на метку, характерную картинкой одежды,\n");
					strcat(string, "после чего нажать клавишу Alt и проследовать дальнейшим инструкциям,\n");
					strcat(string, "которые отразятся У Вас в чате.\n\n");
					
					
					strcat(string, "После того, как будет заработано некоторое\n");
					strcat(string, "количество средств, на полученные деньги можно купить права, телефон вместе c\n");
					strcat(string, "SIM-картой, либо же накопить средства на покупку полноценной квартиры");
					ShowPlayerDialog(playerid, 3795, DIALOG_STYLE_MSGBOX, "{FFCC00}Шаги к приобретению первого имущества", string, "Назад", "Закрыть");
				}
				case 4:
				{
					string = "\0";
					strcat(string, "{FFFFFF}Если же Вы накопили достаточно средств для покупки квартиры и машины,\n");
					strcat(string, "то стоит сразу поговорить о категориях прав. Права получаются в специальном месте,\n");
					strcat(string, "которое называется автошкола, а найти ее путем набора команды /gps\n");
					strcat(string, "и поиска соответствующего пункта в разделе общественные места.\n\n");
					
					
					strcat(string, "Стоит подметить, что на сервере представляется возможным управление\n");
					strcat(string, "транспортом без наличия водительских прав, однако из-за недостатка опыта\n");
					strcat(string, "Ваш персонаж не сможет корректно управлять автомобилем, а также есть\n");
					strcat(string, "Вероятность того, что его попросят остановиться полицейские.\n\n");
					
					
					strcat(string, "Всего существуют 4 категории удостоверений, дающих права на управление\n");
					strcat(string, "автомобилем определенной категории:1) Категория прав А предоставляет возможность на\n");
					strcat(string, "управление мотоциклами и стоит 4000 рублей;\n");
					strcat(string, "2) Категория прав B представляет возможность на\n");
					strcat(string, "управление легковых автомобилей и стоит 5000 рублей;\n");
					strcat(string, "3) Категория прав C представляет возможность на управление грузовых автомобилей\n");
					strcat(string, "(для ориентира: грузовик дальнобойщика) и стоит 5500 рублей;\n");
					strcat(string, "4) Категория прав D представляет возможность на управление транспортных автомобилей\n");
					strcat(string, "(для ориентира: маршрутное такси) и стоит 6500 рублей;");
					ShowPlayerDialog(playerid, 3795, DIALOG_STYLE_MSGBOX, "{FFCC00}Водительские права", string, "Назад", "Закрыть");
				}
				case 5:
				{
					string = "\0";
					strcat(string, "{FFFFFF}Выбирать свое средство передвижение исключительно Ваше дело,\n");
					strcat(string, "а следующим шагом определения себя в новом и непонятном мире\n");
					strcat(string, "станет поиск интересующего себя занятия.\n\n");


					strcat(string, "На сервере представлено 15 фракций и 11 работ. К сожалению, но подобный вид\n");
					strcat(string, "деятельности требуется выполнение определенного критерия: наличия уровня,\n");
					strcat(string, "так называемых прожитых в области лет, установленных персонально на каждую\n");
					strcat(string, "трудовую занятость. Список доступных фракций: администрация\n");
					strcat(string, "(области и двух городов), полиция (ДПС, ППС, ФСБ),\n");
					strcat(string, "скорая медицинская помощь (СМП двух городов), воинская часть,\n");
					strcat(string, "телерадиокомпания (ТРК в двух городах), организованная преступная группировка\n");
					strcat(string, "(три ОПГ в разных городах), мафия (две мафии в разных городах).\n\n");


					strcat(string, "{FFFFFF}Список доступных работ: водитель маршрутки, водитель такси,\n");
					strcat(string, "машинист, уборщик улиц, механик, дальнобойщик, развозчик продуктов/топлива,\n");
					strcat(string, "сотрудник МЧС, водитель мусоровоза, инкассатор. Необходимый критерий в виде уровня,\n");
					strcat(string, "а также осуществление трудоустройства представляется возможным в администрации области,\n");
					strcat(string, "которую можно найти через написание команды /gps, открытия раздела организации\n");
					strcat(string, "и соответствующей фракции.\n\n");


					strcat(string, "Необходимо подметить, что фракция, где критерии для вступления определяются\n");
					strcat(string, "ролевым путем, не является работой по определению на проекте");
					ShowPlayerDialog(playerid, 3795, DIALOG_STYLE_MSGBOX, "{FFCC00}Доступные работы и устройство в организацию", string, "Назад", "Закрыть");
				}
				case 6:
				{
					string = "\0";
					strcat(string, "{FFFFFF}Первым способом вложения своего труда может стать армия - фракция,\n");
					strcat(string, "которая называется воинская часть (ВЧ). В России, где происходят действия игры,\n");
					strcat(string, "правительство выпустило закон о свободной военной службе, когда призыв носит\n");
					strcat(string, "характер собеседования и теряет свое прямое значение определения.\n");
					strcat(string, "На солдатов распространяются установки трудового кодекса, соответственно они\n");
					strcat(string, "получают зарплату и могут уволиться по собственному желанию.\n");


					strcat(string, "Для вступления в любую фракцию нужно научиться четырем вещам:\n");
					strcat(string, "1) Понимание ролевой игры. Представьте, что Вы - это Ваш персонаж.\n");
					strcat(string, "Что бы Вы сделали? Как бы Вы поступили в определенной ситуации?\n");
					strcat(string, "Помните, что хоть Ваш персонаж способен технически на многое из-за\n");
					strcat(string, "реализации игровых систем, но с точки зрения игрового мира,\n");
					strcat(string, "он сильно ограничен в выполнении своевольных действий.\n");
					strcat(string, "Вы можете спрыгнуть с крыши трехэтажного здания в реальной жизни,\n");
					strcat(string, "безусловно, однако стоит принять, что эффект будет явно\n");
					strcat(string, "плачевным - мыслите точно также о действиях своего героя;\n");


					strcat(string, "2) Знание игровых терминов. На сервере существует свод правил,\n");
					strcat(string, "который необходим к исполнению всеми игроками. За невыполнение правил сервера,\n");
					strcat(string, "к игроку будут применены некоторые отрицательные санкции, ограничивающие ему\n");
					strcat(string, "доступ к игровому миру (деморган), выдача блокировки чата\n");
					strcat(string, "(Вы не можете что-либо писать в чат, выдача блокировки аккаунта и прочие меры.)\n");
					strcat(string, "Список всех терминов описан в своде правил, которые можно найти в\n");
					strcat(string, "соответствующем пункте путем ввода команды /mn;");
					ShowPlayerDialog(playerid, 3795, DIALOG_STYLE_MSGBOX, "{FFCC00}Необходимые правила для вступленяи в организацию", string, "Назад", "Закрыть");
				}
				case 7:
				{
					string = "\0";
					strcat(string, "{FFFFFF}3) Умение различать чаты. На сервере существуют два типа чата:\n");
					strcat(string, "игровой чат (IC чат), где описываются строго игровые вещи,\n");
					strcat(string, "Взятые исключительно с игрового мира, а также внеигровой чат (ООС чат),\n");
					strcat(string, "куда описываются все вещи, взятые с нашего реального мира.\n");
					strcat(string, "ООС чат характеризуется наличием парного знака скобок с\n");
					strcat(string, "двух разных сторон, что выглядит как ((сообщение));\n\n");


					strcat(string, "4) Умение применять команды отыгровок. Как бы то ни было,\n");
					strcat(string, "но большинство действий происходит посредством написания команд через чат,\n");
					strcat(string, "которые описывают точные действия игрового персонажа, а также действия,\n");
					strcat(string, "происходящие вокруг. К примеру, на сервере отсутствует анимация того,\n");
					strcat(string, "как Вы в знак похвалы показали своему другу большой палец, но это можно\n");
					strcat(string, "написать в чате с помощью специальной команды и\n");
					strcat(string, "создать у своего друга представление о произведенном действии");
					ShowPlayerDialog(playerid, 3795, DIALOG_STYLE_MSGBOX, "{FFCC00}Получение документов", string, "Назад", "Закрыть");
				}
 				case 8:
				{
					string = "\0";
					strcat(string, "{FFFFFF}Для получения подробной информации об отыгровочных командах,\n");
					strcat(string, "игры на сервере и правилах следует проследовать на наш официальный\n");
					strcat(string, "сайт в соответствующий пункт помощи: "PROJECT_SITE"/help\n\n");


					strcat(string, "Ссылки на наши ресурсы:\n");
					strcat(string, ""PROJECT_SITE" - сайт проекта\n");
					strcat(string, ""PROJECT_FORUM" - форум проекта\n");
					strcat(string, ""VKONTAKTE_COMMUNITY" - группа ВКонтакте проекта\n\n");


					strcat(string, "Просим Вас соблюдать правила и придерживаться ролевого режима сервера, приятного времяпровождения :)");
					ShowPlayerDialog(playerid, 3795, DIALOG_STYLE_MSGBOX, "{FFCC00}Будь с нами", string, "Назад", "Закрыть");
				}
      			case 9:
				{
					string = "\0";
					strcat(string, "{FFFFFF}Для получения подробной информации об отыгровочных командах,\n");
					strcat(string, "игры на сервере и правилах следует проследовать на наш официальный\n");
					strcat(string, "сайт в соответствующий пункт помощи: "PROJECT_SITE"/help\n\n");


					strcat(string, "Ссылки на наши ресурсы:\n");
					strcat(string, ""PROJECT_SITE" - сайт проекта\n");
					strcat(string, ""PROJECT_FORUM" - форум проекта\n");
					strcat(string, ""VKONTAKTE_COMMUNITY" - группа ВКонтакте проекта\n\n");


					strcat(string, "Просим Вас соблюдать правила и придерживаться ролевого режима сервера, приятного времяпровождения :)");
					ShowPlayerDialog(playerid, 3795, DIALOG_STYLE_MSGBOX, "{FFCC00}Будь с нами", string, "Назад", "Закрыть");
				}
			}
		}
		case 3795:
		{
			if(!response) return 1;
			else ShowPlayerDialog(playerid, 3794, DIALOG_STYLE_LIST, "{FFCC00}Помощь", "{FFCC00}1.{FFFFFF} Начало игры\n{FFCC00}2.{FFFFFF} Предыстория\n{FFCC00}3.{FFFFFF} Первоначальный заработок\n{FFCC00}4.{FFFFFF} Шаги к приобретению первого имущества\n{FFCC00}5.{FFFFFF} Водительские права\n{FFCC00}6.{FFFFFF} Доступные работы и устройство в организацию\n{FFCC00}8.{FFFFFF} Дополнение списка необходимых правил\n{FFCC00}9.{FFFFFF} Будь с нами!", "Выбрать", "Назад");
		}
		/*case 9996:// Если на работе, то показваем, что желаете ли закончить рабочий день
		{
			if(response)
			{
				new string[100];
				new money = kg[playerid]*426;
				UseWork[playerid] = 0;// Игрок не шахтер
			  	SetPlayerSkin(playerid, GetPVarInt(playerid, "OldLessSkin"));
			   	DisablePlayerCheckpoint(playerid);// Убираем чп.
				format(string, sizeof(string), "Рабочий день завершен!");
				SendClientMessage(playerid, COLOR_YELLOW, string);
				format(string, sizeof(string), "Получено за работу: {00FF00}%d рублей",kg[playerid]*3,kg[playerid]);
				SendClientMessage(playerid, COLOR_WHITE, string);
				format(string, sizeof(string), "Всего перенесено сырья: {FFCC00}%d кг", kg[playerid]);
				SendClientMessage(playerid, COLOR_WHITE, string);
		   	    format(string, sizeof(string), "~g~+ %i RUB",kg[playerid]*3,kg[playerid]);
				GameTextForPlayer(playerid, string, 5000, 1);
			   	TransferMoney(-1,playerid,money);
			   	kg[playerid] = 0;
		        RemovePlayerAttachedObject(playerid,1);
			   	RemovePlayerAttachedObject(playerid,2);// забрали тачку
			   	RemovePlayerAttachedObject(playerid,3);// забрали тачку
			}
			return 1;
		}*/
		case 2278:
		if(response)
		{
				new mati;
				new string[256];
				mati = strval(inputtext);
				new oplata = mati*30;
				if(mati < 1 || mati > 200) return SendClientMessage(playerid,COLOR_RED,"Нельзя купить больше 50 кг металла или меньше 1кг");
				if(PI[playerid][pGunAmount] >= 200) return SendClientMessage(playerid,COLOR_RED,"У Вас уже есть металл");
				if(PI[playerid][pCash] < mati*50) return SendClientMessage(playerid, COLOR_RED,"Недостаточно средств");
				{
					metall -= mati;
					PI[playerid][pCash]-=oplata;
					PI[playerid][pGunAmount] += mati;
					format(string,sizeof(string),"Вы купили %d кг металла за %d рублей.",mati,mati*50);
					SendClientMessage(playerid,COLOR_BLUE,string);
					return true;
				}
			}
		case D_JOINCARS+4:
		{
			if(!response) return 1;
			//if(GetPlayerHouse(playerid) || GetPlayerPorchHouse(playerid)) BuyCar(playerid);
			if(GetPlayerHouse(playerid)) BuyCar(playerid);
		}
		case D_SPEC+1:
		{
			if(!response) return 1;
			TogglePlayerSpectating(playerid, 0);
		    PlayerTextDrawHide(playerid, PI[playerid][SpecTxt]);
			CancelSelectTextDraw(playerid);
		}
		case D_SPEC+2:
		{
			if(PI[playerid][pAdmin] >= 3)
			{
				new Text[600];
				format(Text, 64, "/warn %i %s",PI[playerid][Spectating][0],inputtext);
				CallLocalFunction("OnPlayerCommandText", "is", playerid, Text);
			}
		}
		case D_SPEC+3:
		{
			if(PI[playerid][pAdmin] >= 3)
			{
				new Text[600];
				format(Text, 64, "/mute %i %s",PI[playerid][Spectating][0],inputtext);
				CallLocalFunction("OnPlayerCommandText", "is", playerid, Text);
			}
		}
		case D_JOINCARS+5:
		{
			if(!response) return 1;
			BuyCloseCar(playerid);
			CancelSelectTextDraw(playerid);
		}
   		case 1456:
	    {
	        if(response)
	        {
	            if(listitem == 0)
	            {
	                toolsbuy[playerid] = 1;
	                if(PI[playerid][pCash] < 1000)
	                {
	                    SCM(playerid,COLOR_RED,"У Вас недостаточно денег");
	                }
					else
					{
					    GiveMoney(playerid,-1000);
						SCM(playerid,COLOR_BLUE,"Вы купили игрушку. Чтобы использовать, выйдите на улицу и напишите /tools");
					}
	            }
	            if(listitem == 1)
	            {
	                toolsbuy[playerid] = 2;
	                if(PI[playerid][pCash] < 2800)
	                {
	                    SCM(playerid,COLOR_RED,"У Вас недостаточно денег");
	                }
					else
					{
					    GiveMoney(playerid,-2800);
                		SCM(playerid,COLOR_BLUE,"Вы купили игрушку. Чтобы использовать, выйдите на улицу и напишите /tools");
					}
	            }
	            if(listitem == 2)
	            {
	                toolsbuy[playerid] = 3;
	                if(PI[playerid][pCash] < 2500)
	                {
	                    SCM(playerid,COLOR_RED,"У Вас недостаточно денег");
	                }
					else
					{
					    GiveMoney(playerid,-2500);
                		SCM(playerid,COLOR_BLUE,"Вы купили игрушку. Чтобы использовать, выйдите на улицу и напишите /tools");
					}
	            }
	            if(listitem == 3)
	            {
	                toolsbuy[playerid] = 4;
	                if(PI[playerid][pCash] < 2600)
	                {
	                    SCM(playerid,COLOR_RED,"У Вас недостаточно денег");
	                }
					else
					{
					    GiveMoney(playerid,-2600);
                		SCM(playerid,COLOR_BLUE,"Вы купили игрушку. Чтобы использовать, выйдите на улицу и напишите /tools");
					}
	            }
	            if(listitem == 4)
	            {
	                toolsbuy[playerid] = 5;
	                if(PI[playerid][pCash] < 6200)
	                {
	                    SCM(playerid,COLOR_RED,"У Вас недостаточно денег");
	                }
					else
					{
					    GiveMoney(playerid,-6200);
                		SCM(playerid,COLOR_BLUE,"Вы купили игрушку. Чтобы использовать, выйдите на улицу и напишите /tools");
					}
	            }
	            if(listitem == 5)
	            {
	                toolsbuy[playerid] = 6;
	                if(PI[playerid][pCash] < 800)
	                {
	                    SCM(playerid,COLOR_RED,"У Вас недостаточно денег");
	                }
					else
					{
					    GiveMoney(playerid,-800);
                		SCM(playerid,COLOR_BLUE,"Вы купили игрушку. Чтобы использовать, выйдите на улицу и напишите /tools");
					}
	            }
	        }
	    }
   		case 1458:
	    {
	        if(response)
	        {
	            if(listitem == 0)
	            {
	                if(PI[playerid][pCash] < 1000)
	                {
	                    SCM(playerid,COLOR_RED,"У Вас недостаточно денег");
	                }
					else
					{
					    GiveMoney(playerid,-1000);
					    PI[playerid][pAptechka]++;
						SCM(playerid,COLOR_LIME, "Вы купили аптечку. (введите /healme для того чтобы использовать её)");
					}
	            }
	            if(listitem == 1)
	            {
	                if(PI[playerid][pCash] < 2000)
	                {
	                    SCM(playerid,COLOR_RED,"У Вас недостаточно денег");
	                }
					else
					{
					    GiveMoney(playerid,-2000);
                		PI[playerid][pMask]++;
                		SCM(playerid,COLOR_BLUE,"Вы купили маску");
					}
	            }
	        }
	    }
		// CTO
		case D_CTO:
		{
			if(response)
			{
				if(GetPlayerState(playerid) != 2) return SendClientMessage(playerid, COLOR_RED, "Вы должны находится за рулем своего авто!");
				ShowSTODialog(playerid);
				TogglePlayerControllable(playerid, false);
				SetPVarInt(playerid, "UsedCTO", 1);
			}
		}
		case 672:
		{
			if(!response) return 1;
			new money = PI[playerid][pWorkSalary]*2;
    		SetPlayerSkin(playerid, GetPVarInt(playerid, "OldMinerSkin"));
            SendMes(playerid, COLOR_BLUE, "Вы закончили работу, Ваш заработок: %i  рублей",money);
			if(IsPlayerAttachedObjectSlotUsed(playerid, 3)) RemovePlayerAttachedObject(playerid, 3);
			if(IsPlayerAttachedObjectSlotUsed(playerid, 4)) RemovePlayerAttachedObject(playerid, 4);
			PlayerTextDrawHide(playerid, StatusWork[playerid][0]);
			PlayerTextDrawHide(playerid, StatusWork[playerid][1]);
			PlayerTextDrawHide(playerid, StatusWork[playerid][2]);
			PlayerTextDrawHide(playerid, StatusWork[playerid][3]);
			PlayerTextDrawHide(playerid, StatusWork[playerid][4]);
			DeletePVar(playerid, "OldMinerSkin");
			UseWork[playerid] = 0;
			DeletePVar(playerid, "MinerCount");
			DeletePVar(playerid, "MinerKG_One");
			new str[32];
			format(str, sizeof(str), "~g~+%d RUB", money);
			GameTextForPlayer(playerid,str,3000,1);
			PI[playerid][pWorkSalary] = 0;
			TransferMoney(-1,playerid,money);
			return 1;
		}
		case 674:
		{
			if(!response) return 1;
			if(GetPVarInt(playerid,"pgunobject"))
			{
				new objectid = GetPVarInt(playerid,"pgunobject");
				if(IsValidDynamicObject(objectid)) DestroyDynamicObject(objectid);
				DeletePVar(playerid,"pgunobject");
			}
			new money = PI[playerid][pWorkSalary]*80;
			DeletePVar(playerid,"workamountgun");
			RemovePlayerAttachedObject(playerid,0);
			UseWork[playerid] = 0;
			if(PI[playerid][pMember]) SetPlayerSkin(playerid,PI[playerid][pMemberSkin]);
			else SetPlayerSkin(playerid,PI[playerid][pModel]);
			SendMes(playerid, COLOR_YELLOW, "Вы закончили работу. {ffffff}Ваш заработок: %d рублей", money);
			PlayerTextDrawHide(playerid, StatusWork[playerid][0]);
			PlayerTextDrawHide(playerid, StatusWork[playerid][1]);
			PlayerTextDrawHide(playerid, StatusWork[playerid][2]);
			PlayerTextDrawHide(playerid, StatusWork[playerid][3]);
			PlayerTextDrawHide(playerid, StatusWork[playerid][4]);
			new str[32];
			format(str, sizeof(str), "~g~+%d RUB", money);
			GameTextForPlayer(playerid,str,3000,1);
			TransferMoney(-1, playerid, money);
			PI[playerid][pWorkSalary] = 0;
			DisablePlayerCheckpoint(playerid);
			DeletePVar(playerid,"varioty");
			return 1;
		}
		case DIALOG_TELEPORT_LIST:
		{
			if(response)
			{
				if(!(0 <= listitem <= sizeof teleport_list - 1)) return 1;

				SetPlayerVirtualWorld(playerid, 0);
				SetPlayerInterior(playerid, 0);
				if(GetPlayerState(playerid) == 2) SetVehiclePos(GetPlayerVehicleID(playerid), teleport_list[listitem][t_pos_x], teleport_list[listitem][t_pos_y], teleport_list[listitem][t_pos_z]);
				else SetPlayerPos(playerid,teleport_list[listitem][t_pos_x], teleport_list[listitem][t_pos_y], teleport_list[listitem][t_pos_z]);
				SetPlayerFacingAngle(playerid, teleport_list[listitem][t_pos_angle]);
				GameTextForPlayer(playerid, "~y~TELEPORT", 2000, 5);
				return 1;
			}
		}
		case DIALOG_CMDS_ORGANIZATIONS_LIST:
		{
			if(response)
			{
				ShowPlayerDialog
				(
					playerid, DIALOG_CMDS_ORGANIZATIONS, DIALOG_STYLE_MSGBOX,
					"{FFCC00}Команды организаций",
					help_cmds_org_list[listitem][ORG_INFO],
					"Назад", "Закрыть"
				);
			}
			return 1;
		}
		case DIALOG_CMDS_ORGANIZATIONS:
		{
			if(response) ShowPlayerDialogOrgList(playerid);
		}
		case DIALOG_EDIT:
		{
			switch(listitem)
			{
				case 0:
				{
					new fmt_msg[148+100];

					format
					(
						fmt_msg, sizeof fmt_msg,
						"%s\n\
						1. Отправить\n\
						2. Редактировать\n\
						3. Удалить и отправить администрации\n\
						4. Удалить",
						edit_list[dialog_listitem[playerid]][aText]
					);

					ShowPlayerDialog
					(
						playerid, DIALOG_EDIT, DIALOG_STYLE_LIST,
						edit_list[dialog_listitem[playerid]][aName],
						fmt_msg,
						"Ок", "Отмена"
					);
				}
				case 1:
				{
					edit_list[dialog_listitem[playerid]][aStatus] = 2;
				}
				case 2:
				{
					if(response)
					{
						ShowPlayerDialog
						(
							playerid, DIALOG_EDIT_CHANGE, DIALOG_STYLE_INPUT,
							edit_list[dialog_listitem[playerid]][aName],
							edit_list[dialog_listitem[playerid]][aText],
							"Ок", "Отмена"
						);
					}
				}
				case 3:
				{
					new id = GetPlayerID(edit_list[dialog_listitem[playerid]][aName]);

					static const fmt_msg[] = "[AD] %s [%d] пожаловался на объявление %s [%d]: %s";
					new string[sizeof(fmt_msg)+(-2+128)];
					format(string, sizeof(string), fmt_msg, PI[playerid][pName], playerid, PI[id][pName], id, edit_list[dialog_listitem[playerid]][aText]);
					SendAdminMessage(COLOR_GREY, string);
					
					edit_list[dialog_listitem[playerid]][aEditName] = EOS;
					edit_list[dialog_listitem[playerid]][aName] = EOS;
					edit_list[dialog_listitem[playerid]][aPhone] = EOS;
					edit_list[dialog_listitem[playerid]][aStatus] = 0;
					edit_list[dialog_listitem[playerid]][aText] = EOS;

				}
				case 4:
				{
					new id = GetPlayerID(edit_list[dialog_listitem[playerid]][aName]);

					static const fmt_msg[] = "%s %s [%d] отклонил Ваше объявление";
					new string[sizeof(fmt_msg)+(-2+128)];
					//format(string, sizeof(string), fmt_msg, GetPlayerRankName(playerid), PI[playerid][pName], playerid);
					format(string, sizeof(string), fmt_msg, Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], PI[playerid][pName], playerid);
					SendClientMessage(id, COLOR_RED, string);

					edit_list[dialog_listitem[playerid]][aEditName] = EOS;
					edit_list[dialog_listitem[playerid]][aName] = EOS;
					edit_list[dialog_listitem[playerid]][aPhone] = EOS;
					edit_list[dialog_listitem[playerid]][aStatus] = 0;
					edit_list[dialog_listitem[playerid]][aText] = EOS;
				}
			}
		}
		case DIALOG_SEND_EDIT:
		{
			if(response)
			{
				if(PI[playerid][pCash] < GetPVarInt(playerid, "pricead"))
					return SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно денег");

				new text[128];

				GetPVarString(playerid, "textad", text, sizeof text);

				for(new i = 0; i < 15; i++)
				{
					if(edit_list[i][aStatus] != 0) continue;

					//edit_list[i][aStatus] = 1;
					edit_list[i][aEditName] = PI[playerid][pName];
					format(edit_list[i][aName], MAX_PLAYER_NAME, "%s", PI[playerid][pName]);
					//edit_list[i][aName] = PI[playerid][NAME];
					edit_list[i][aPhone] = 228228;

					format(edit_list[i][aText], 128, "%s", text);
					//edit_list[i][aText] = text;
					break;
				}
		    	/*TOTALADVERT[PI[playerid][pNews]-1]++;
				strmid(AdvertInfo[TOTALADVERT[PI[playerid][pNews]-1]][PI[playerid][pNews]-1][aText],params[0],0,strlen(params[0]),128);
				strmid(AdvertInfo[TOTALADVERT[PI[playerid][pNews]-1]][PI[playerid][pNews]-1][aName],GetName(playerid),0,strlen(GetName(playerid)),MAX_PLAYER_NAME);
				AdvertInfo[TOTALADVERT[PI[playerid][pNews]-1]][PI[playerid][pNews]-1][aPhone] = PI[playerid][pPhoneNumber];
				TransferMoney(playerid, -1, strlen(params[0]) * AdvertPrice[PI[playerid][pNews]-1]);
				if(PI[playerid][pNews] == 1)
				{
					FracBank[8] += strlen(params[0]) * AdvertPrice[PI[playerid][pNews]-1];
					MysqlUpdateOtherInt("lsnbank", FracBank[8]);
				}
				if(PI[playerid][pNews] == 2)
				{
					FracBank[9] += strlen(params[0]) * AdvertPrice[PI[playerid][pNews]-1];
					MysqlUpdateOtherInt("sfnbank", FracBank[9]);
				}
				if(PI[playerid][pNews] == 3)
				{
					FracBank[10] += strlen(params[0]) * AdvertPrice[PI[playerid][pNews]-1];
					MysqlUpdateOtherInt("lvnbank", FracBank[10]);
				}
				SendClientMessage(playerid, COLOR_LIME, "Ваше объявление было отправлено на обработку");
				SendFMes(TEAM_SMI, COLOR_LIME, "В редакцию поступило новое объявление!");
				format(string, sizeof(string), "~r~Paid %d рублей~n~~w~Message contained: %d Characters", strlen(params[0]) * AdvertPrice[PI[playerid][pNews]-1], strlen(params[0]));
				GameTextForPlayer(playerid, string, 5000, 5);
				AdvertTime_ = gettime() + 15;*/

				SendClientMessage(playerid, COLOR_LIME, "Ваше объявление было отправлено в СМИ для редакции");

				SendFMes(TEAM_SMI, COLOR_LIME, "[R][Для утверждения]: Пришло новое объявление в редакцию");
				SendFMes(TEAM_MZA, COLOR_LIME, "[R][Для утверждения]: Пришло новое объявление в редакцию");

			}
		}
		case DIALOG_CREATE_GUN:
		{
			if(response)
			{
				new index = dialog_listitem_values[playerid][listitem];
				SetPVarInt(playerid, "gun_listem", index);

				PlayerCheckRecipe(playerid, listitem);

				ShowPlayerDialog
				(
					playerid, DIALOG_CREATE_GUN_PATRON, DIALOG_STYLE_INPUT,
					"Патроны",
					"Введите количество патронов:",
					"Далее", "Отмена"
				);
			}
		}
		case DIALOG_CREATE_GUN_PATRON:
		{
			if(response)
			{
				if(!strlen(inputtext))
				{
					ShowPlayerDialog
					(
						playerid, DIALOG_CREATE_GUN_PATRON, DIALOG_STYLE_INPUT,
						"Патроны",
						"Введите количество патронов:",
						"Далее", "Отмена"
					);
				}

				new count = strval(inputtext);

				if(PI[playerid][pPatron] < count) return SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно патронов");

				new index = GetPVarInt(playerid, "gun_listem");

				if(PI[playerid][pGunAmount] < count) return SendClientMessage(playerid, COLOR_WARNING, "У Вас недостаточно металла!");

				PI[playerid][pGunAmount] -= gunlist[index][gun_metal];
				PI[playerid][pPatron] -= count;

				GivePlayerWeaponAC(playerid, gunlist[index][gun_id], count);

				new string[128];
				if(PI[playerid][pSex] == 1) format(string, sizeof(string), "сделал %s с %d патронами.", gunlist[index][gun_name], count);
				else format(string, sizeof(string), "сделал %s с %d патронами.", gunlist[index][gun_name], count);
				MeAction(playerid, string);
			}
		}
		case DIALOG_SHOW_EDIT:
		{
			if(response)
			{
				dialog_listitem[playerid] = listitem;

				if(edit_list[dialog_listitem[playerid]][aStatus] != 0)
					return ShowPlayerDialogEditList(playerid);

				new fmt_msg[148+100];

				format
				(
					fmt_msg, sizeof fmt_msg,
					"%s\n\
					1. Отправить\n\
					2. Редактировать\n\
					3. Удалить и отправить администрации\n\
					4. Удалить",
					edit_list[dialog_listitem[playerid]][aText]
				);

				ShowPlayerDialog
				(
					playerid, DIALOG_EDIT, DIALOG_STYLE_LIST,
					edit_list[dialog_listitem[playerid]][aName],
					fmt_msg,
					"Ок", "Отмена"
				);

				edit_list[dialog_listitem[playerid]][aStatus] = 1;

				format(edit_list[dialog_listitem[playerid]][aEditName], MAX_PLAYER_NAME, "%s", PI[playerid][pName]);

			}
		}
		case DIALOG_EDIT_CHANGE:
		{
			if(response)
			{
				if(!strlen(inputtext))
				{
					ShowPlayerDialog
					(
						playerid, DIALOG_EDIT_CHANGE, DIALOG_STYLE_INPUT,
						edit_list[dialog_listitem[playerid]][aName],
						edit_list[dialog_listitem[playerid]][aText],
						"Ок", "Отмена"
					);
				}

				strmid(edit_list[dialog_listitem[playerid]][aText], inputtext, 0, strlen(inputtext), 128);

				//format(edit_list[dialog_listitem[playerid]][aText], 64, "%s", strval(inputtext));
				edit_list[dialog_listitem[playerid]][aStatus] = 2;

				GiveMoney(playerid, 100);

				new fmt_msg[9];
				format(fmt_msg, sizeof fmt_msg, "~g~+100 rub");
				GameTextForPlayer(playerid, fmt_msg, 1500, 1);

			}
		}
		case DIALOG_MENU_HELP_ADM:
		{
			switch(listitem)
			{
			case 0:
			{
 			    if(PI[playerid][pMuted] > 0) return SendClientMessage(playerid, 0xff6600AA, "У Вас затычка. Узнать подробней: /time");
				ShowPlayerDialog(playerid, 13212, DIALOG_STYLE_INPUT, "{FFCC00}Вопрос", "{FFFFFF}Введите свой вопрос.\n{FFFFFF}Он должен быть кратким и ясным", "Отправить","Назад");

			}
			case 1:
			{
				if(PI[playerid][pMuted] > 0) return SendClientMessage(playerid, 0xff6600AA, "У Вас затычка. Узнать подробней: /time");
				ShowPlayerDialog(playerid, 13213, DIALOG_STYLE_INPUT, "{FFCC00}Жалоба на игрока", "{FFFFFF}Введите свою жалобу для администрации сервера\n{FFFFFF}Она должна быть краткой и ясной,\n{FFFFFF}обязательно укажите его {FFCC00}ID {FFFFFF}и {FFCC00}причины жалобы", "Отправить","Назад");
			}
			}
		}
  		case DIALOG_MENU_RULE_SERVER:
		{
			ShowDialogRules(playerid, 1);
		}
		case DIALOG_MENU_DONATE:
		{
			if(response)
			{
				switch(listitem)
				{
					case 0:
					{
						ShowPlayerDialog
						(
							playerid, DIALOG_MENU_DONATE_CONVERT, DIALOG_STYLE_INPUT,
							"{FFCC00}Конвертирование валюты",
							"{ffffff}Введите кол-во кредитов\n\
							{FFCC00}1 кредит = 1000 рублей",
							"Купить", "Отмена"
						);
					}
					case 1:
					{
				    	if(PI[playerid][pCredits] < 30) return SendClientMessage(playerid, COLOR_RED, "Недостаточно кредитов!");
				   	 	ShowPlayerDialog(playerid, D_JOB+179, 1, "{FFCC00}Смена ника", "{FFFFFF}Введите будущий ник:", "Принять", "Назад");
					}
					case 2:
					{
						if(PI[playerid][pCredits] < 50)
							return SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно кредитов для снятия предупреждения"), SendClientMessage(playerid, COLOR_RED, "Пополнение кредитов: {FFCC00}"PROJECT_SITE"");

						if(PI[playerid][pWarn] == 0)
							return SendClientMessage(playerid, COLOR_RED, "На Вашем аккаунте нет предупреждений");

						format(query, sizeof(query), "DELETE FROM `unwarn` WHERE `name` = '%s'", PI[playerid][pName]);
						mysql_query(dbHandle, query);
						format(query, sizeof(query), "DELETE FROM `warns` WHERE `nick` = '%s'", PI[playerid][pName]);
						mysql_query(dbHandle, query);

						PI[playerid][pWarn] = 0;

						format(query, sizeof(query), "UPDATE `accounts` SET `warn` = '%d' WHERE `id` = '%d'", PI[playerid][pWarn], PI[playerid][pID]);
						mysql_query(dbHandle, query);

						SendClientMessage(playerid, COLOR_LIME, "Все предупреждения с Вашего аккаунта были сняты");

						PI[playerid][pCredits] -= 50;

						format(query, sizeof query, "UPDATE accounts SET donate_money=%d WHERE id=%d", PI[playerid][pCredits], PI[playerid][pID]);
						mysql_query(dbHandle, query);
					}
					case 3:
					{
						if(PI[playerid][pCredits] < 20)
							return SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно кредитов для снятия розыска"), SendClientMessage(playerid, COLOR_RED, "Пополнение кредитов: {FFCC00}"ACCOUNT_REPLENISHMENT"");

						if(PI[playerid][pWanted] == 0)
							return SendClientMessage(playerid, COLOR_RED, "На Вашем аккаунте нет розыска");

						PI[playerid][pWanted] = 0;

						SendClientMessage(playerid, COLOR_LIME, "Вы сняли розыск со своего аккаунта");

						format(query, sizeof(query), "UPDATE `accounts` SET `wanted` = '0' WHERE `id` = '%d'", PI[playerid][pID]);
						mysql_query(dbHandle, query);

						PI[playerid][pCredits] -= 20;

						format(query, sizeof query, "UPDATE accounts SET donate_money=%d WHERE id=%d", PI[playerid][pCredits], PI[playerid][pID]);
						mysql_query(dbHandle, query);
					}
					case 4:
					{
						if(PI[playerid][pCredits] < 100)
							return SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно кредитов для покупки военного билета"), SendClientMessage(playerid, COLOR_RED, "Пополнение кредитов: {FFCC00}"ACCOUNT_REPLENISHMENT"");

						if(PI[playerid][pVoennik] == 1)
							return SendClientMessage(playerid, COLOR_RED, "У Вас уже есть военный билет");

						SendClientMessage(playerid, COLOR_BLUE, "Вы купили военный билет");

						PI[playerid][pVoennik] = 1;

						new fmt_query[70];

						format(fmt_query, sizeof fmt_query, "UPDATE accounts SET voen=1 WHERE id=%d", PI[playerid][pID]);
						mysql_query(dbHandle, fmt_query);

						PI[playerid][pCredits] -= 100;

						format(fmt_query, sizeof fmt_query, "UPDATE accounts SET donate_money=%d WHERE id=%d", PI[playerid][pCredits], PI[playerid][pID]);
						mysql_query(dbHandle, fmt_query);
					}
					case 5:
					{
						if(PI[playerid][pCredits] < 10)
							return SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно кредитов для покупки EXP"), SendClientMessage(playerid, COLOR_RED, "Пополнение кредитов: {FFCC00}"ACCOUNT_REPLENISHMENT"");

						PI[playerid][pExp] ++;

						if(PI[playerid][pExp] > (PI[playerid][pLevel]) * 3)
						{
							PI[playerid][pExp] = 0;
							PI[playerid][pLevel] ++,
							SetPlayerScore(playerid, PI[playerid][pLevel]);
							SendClientMessage(playerid, 0x3399FFFF, "Поздравляем! Ваш уровень повышен");
						}

						SendClientMessage(playerid, COLOR_LIME, "Вы купили +1 EXP");

						PI[playerid][pCredits] -= 10;

						new fmt_query[120];
						format(fmt_query, sizeof fmt_query, "UPDATE accounts SET donate_money=%d,exp=%d,lvl=%d WHERE id=%d", PI[playerid][pCredits], PI[playerid][pExp], PI[playerid][pLevel], PI[playerid][pID]);
						mysql_query(dbHandle, fmt_query);
					}
					case 6:
					{
						if(PI[playerid][pCredits] < 100)
							return SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно кредитов для повышения уровня"), SendClientMessage(playerid, COLOR_RED, "Пополнение кредитов: {FFCC00}"ACCOUNT_REPLENISHMENT"");

						PI[playerid][pExp] = 0;
						PI[playerid][pLevel] ++,
						SetPlayerScore(playerid, PI[playerid][pLevel]);
						SendClientMessage(playerid, 0x3399FFFF, "Поздравляем! Ваш уровень повышен");

						PI[playerid][pCredits] -= 100;

						new fmt_query[120];
						format(fmt_query, sizeof fmt_query, "UPDATE accounts SET donate_money=%d,exp=%d,lvl=%d WHERE id=%d", PI[playerid][pCredits], PI[playerid][pExp], PI[playerid][pLevel], PI[playerid][pID]);
						mysql_query(dbHandle, fmt_query);
					}
					case 7:
					{
						ShowPlayerDialog
						(
							playerid, DIALOG_MENU_DONATE_BUY_SKILL, DIALOG_STYLE_LIST,
							"{FFCC00}Навыки оружия",
							"{FFCC00}1. {ffffff}Все навыки {0099FF}(200 кр.)",
							"Далее", "Назад"
						);
					}
					case 8:
					{
						ShowPlayerDialog
						(
							playerid, DIALOG_MENU_DONATE_BUY_VIP, DIALOG_STYLE_LIST,
							"{FFCC00}Покупка VIP",
							"{FFCC00}1. {ffffff}7 дней {0099FF}(60 кр.)\n\
							{FFCC00}2. {ffffff}30 дней {0099FF}(200 кр.)\n\
							{FFCC00}3. {ffffff}365 дней {0099FF}(600 кр.)",
							"Купить", "Назад"
						);
					}
					case 9:
			    	{
						new string[128];
						format(string, sizeof(string), "В данный момент У Вас %i кредитов", PI[playerid][pCredits]);
						SendClientMessage(playerid, COLOR_BLUE, string);
			    	}
					case 10:
			    	{
			        	new Query[135];
						format(Query, sizeof(Query), "SELECT `sum`,`status`,`id` FROM `gdonate_payments` WHERE `account` = '%s' AND `status` > 0", GetName(playerid));
 						mysql_tquery(dbHandle, Query, "gdonat_callback", "d", playerid);
					}
			    }
			}
		}
		case DIALOG_MENU_DONATE_BUY_VIP:
		{
			if(response)
			{
				switch(listitem)
				{
					case 0:
					{
						if(PI[playerid][pCredits] < 60)
							return SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно кредитов для покупки VIP аккаунта на 7 дней"), SendClientMessage(playerid, COLOR_RED, "Пополнение кредитов: {FFCC00}"ACCOUNT_REPLENISHMENT"");
                        new year, month, day;
                        new current_date = getdate(year, month, day);
						PI[playerid][pVip] = 1;
            			PI[playerid][pVipTime] = current_date + 7;

						SendClientMessage(playerid, COLOR_LIME, "Вы приобрели VIP аккаунт на 7 дней");
						SendClientMessage(playerid, COLOR_LIME, "Посмотреть список доступных функций Вы можете на форуме: {FFCC00}"PROJECT_FORUM"");
						SendClientMessage(playerid, COLOR_LIME, "Или введя команду: {FFCC00}/viphelp");
					}
					case 1:
					{
						if(PI[playerid][pCredits] < 200)
							return SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно кредитов для покупки VIP аккаунта на 30 дней"), SendClientMessage(playerid, COLOR_RED, "Пополнение кредитов: {FFCC00}"ACCOUNT_REPLENISHMENT"");
                        new year, month, day;
                        new current_date = getdate(year, month, day);
						PI[playerid][pVip] = 1;
           				PI[playerid][pVipTime] = current_date + 30;

						SendClientMessage(playerid, COLOR_LIME, "Вы приобрели VIP аккаунт на 30 дней");
						SendClientMessage(playerid, COLOR_LIME, "Посмотреть список доступных функций Вы можете в группе: {FFCC00}"PROJECT_FORUM"");
						SendClientMessage(playerid, COLOR_LIME, "Или введя команду: {FFCC00}/viphelp");
					}
					case 2:
					{
						if(PI[playerid][pCredits] < 600)
							return SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно кредитов для покупки VIP аккаунта на 365 дней");
                        new year, month, day;
                        new current_date = getdate(year, month, day);
						PI[playerid][pVip] = 1;
            			PI[playerid][pVipTime] = current_date + 365;

						SendClientMessage(playerid, COLOR_LIME, "Вы приобрели VIP аккаунт на 365 дней");
						SendClientMessage(playerid, COLOR_LIME, "Посмотреть список доступных функций Вы можете в группе: {FFCC00}"PROJECT_FORUM"");
						SendClientMessage(playerid, COLOR_LIME, "Или введя команду: {FFCC00}/viphelp");
					}
				}
			}
			if(!response)
			{
				ShowPlayerDialogDonateList(playerid);
			}
		}
		case DIALOG_MENU_DONATE_CONVERT:
		{
			if(!response) return callcmd::donate(playerid);
		    if(strval(inputtext) < 1 || strval(inputtext) > 15000) return SendClientMessage(playerid, COLOR_RED, "Количество от 1 до 15000 кредитов!");
			if(PI[playerid][pCredits] < strval(inputtext)) return SendClientMessage(playerid, COLOR_RED, "Недостаточно кредитов!");
			PI[playerid][pCredits] -= strval(inputtext);
			new string[128];
			format(string, sizeof(string), "Вы купили %i рублей за %d кредитов", strval(inputtext)*1000, strval(inputtext));
			SendClientMessage(playerid, COLOR_LIME, string);
			TransferMoney(-1,playerid,strval(inputtext)*1000);
			return 1;
		}
		case DIALOG_MENU_DONATE_CHANGE_NAME:
		{
			if(response)
			{
				new len = strlen(inputtext);
				if(4 <= len <= 20)
				{
					new bool: valid_name = true;
					for(new idx; idx < len; idx ++)
					{
						switch(inputtext[idx])
						{
							case 'a'..'z', 'A'..'Z', '[', ']', '_': continue;
							default:
								valid_name = false;
						}
					}

					if(!strcmp(PI[playerid][pName], inputtext, true))
					{
						SendClientMessage(playerid, 0xFF6600FF, "Вы уже используете это имя");
					}
					else if(valid_name)
					{

						format(query, sizeof query, "SELECT id FROM accounts WHERE login='%s' LIMIT 1", inputtext);
						mysql_tquery(dbHandle, query, "OnPlayerCheckDonateName", "ds", playerid, inputtext);
					}
					else
					{
						SendClientMessage(playerid, 0xFF6600FF, "Имя уже используется или содержит недопустимые символы");
						SendClientMessage(playerid, 0xFFFFFFFF, "Используйте латинские букВы a-z A-Z, а также символы [ ] _");
					}
				}
				else SendClientMessage(playerid, 0xFF6600FF, "Недопустимый формат ввода");
			}
			if(!response)
			{
				ShowPlayerDialogDonateList(playerid);
			}
		}
		case DIALOG_MENU_DONATE_BUY_SKILL:
  		{
    		if(PI[playerid][pCredits] < 200) return SendClientMessage(playerid, COLOR_RED, "У Вас нет столько кредитов!");
      		PI[playerid][pCredits] -= 200;
	        for(new i; i < 8; i++) PI[playerid][pSkill][i] = 100;
	        new Query[300];
			format(Query, sizeof(Query), "UPDATE `accounts` SET sdpistol=%i,deserteagle=%i,shotgun=%i,mp5=%i,ak47=%i,m4=%i,pistol=%i,microuzi=%i WHERE id=%i",
			PI[playerid][pSkill], PI[playerid][pSkill][1], PI[playerid][pSkill][2], PI[playerid][pSkill][3], PI[playerid][pSkill][4], PI[playerid][pSkill][5], PI[playerid][pSkill][6], PI[playerid][pGunSkill][7], PI[playerid][pID]);
			mysql_tquery(dbHandle, Query, "", "");
			SendClientMessage(playerid, COLOR_LIME, "Вы купили все навыки");
		}
		case DIALOG_GUN_VDV:
		{
			if(response)
			{
				switch(listitem)
				{
					case 0:
					{
						GivePlayerWeaponAC(playerid, 23, 50);
						SendClientMessage(playerid, COLOR_BLUE, "Вы взяли пистолет (50 патронов)");
					}
					case 1:
					{
						GivePlayerWeaponAC(playerid, 30, 120);
						SendClientMessage(playerid, COLOR_BLUE, "Вы взяли AK-47 (120 патронов)");
					}
					case 2:
					{
						GivePlayerWeaponAC(playerid, 3, 1);
						SendClientMessage(playerid, COLOR_BLUE, "Вы взяли дубинку");
					}
				}
			}
		}
  		case DIALOG_JERRICAN_FILL_CAR:
		{
			new vehicleid = GetPVarInt(playerid, "jerrican_fill_car");
			DeletePVar(playerid, "jerrican_fill_car");

			if(response && vehicleid)
			{
				new Float: x, Float: y, Float: z;
				GetVehiclePos(vehicleid, x, y, z);

				if(IsPlayerInRangeOfPoint(playerid, 2.0, x, y, z))
				{
					if(Fuel[GetPlayerVehicleID(playerid)] >= 0)
					
					{
						Fuel[GetPlayerVehicleID(playerid)] += 20;

						ApplyAnimation(playerid, "CRIB", "CRIB_Use_Switch", 4.0, 0, 0, 0, 0, 0, 0);

						DeletePVar(playerid, "have_jerrican");

						RemovePlayerAttachedObject(playerid, 3);
						SendClientMessage(playerid, 0x99CC00FF, "Транспорт заправлен");
					}
					else SendClientMessage(playerid, 0xCECECEFF, "В бензобак этого транспорта столько не поместится");
				}
				else SendClientMessage(playerid, 0x999999FF, "Вы находитесь слишком далеко от транспорта");
			}
		}
		case DIALOG_SELECT_RECIPE:
		{
			if(response)
			{
				switch(listitem)
				{
					case 0: ShowDialogBuyRecipeGuns(playerid);
					case 1: ShowDialogBuyRecipeGuns_2(playerid);
					case 2: ShowDialogBuyRecipeGuns_3(playerid);
					case 3: ShowDialogBuyRecipeGuns_4(playerid);
					case 4: ShowDialogBuyRecipeGuns_5(playerid);
					case 5: ShowDialogBuyRecipeGuns_6(playerid);
				}
			}
		}
		case DIALOG_BUY_RECIPE_GUNS:
		{
			if(response)
			{
				switch(listitem)
				{
					case 0:
					{
						if(PI[playerid][pRECIPE_9MM] == 1)
						{
                            ShowDialogSelectRecipe(playerid);
						    return SendClientMessage(playerid, COLOR_RED, "Вы уже купили этот рецепт");
						}

						if(PI[playerid][pCash] < 20000)
						{
                            ShowDialogSelectRecipe(playerid);
							return SendClientMessage(playerid, COLOR_RED, "У Вас нет денег");
						}

						GiveMoney(playerid, -20000);
						PI[playerid][pRECIPE_9MM] = 1;

						SendClientMessage(playerid, COLOR_BLUE, "Вы купили рецепт {FFCC00}\"9mm\" {0099FF}за 20000 рублей");
						ShowDialogSelectRecipe(playerid);
					}
					case 1:
					{
						if(PI[playerid][pRECIPE_SDPISTOL] == 1)
						    return SendClientMessage(playerid, COLOR_RED, "Вы уже купили этот рецепт");

						if(PI[playerid][pCash] < 40000)
							return SendClientMessage(playerid, COLOR_RED, "У Вас нет денег");

						GiveMoney(playerid, -40000);
						PI[playerid][pRECIPE_9MM] = 1;

						SendClientMessage(playerid, COLOR_BLUE, "Вы купили рецепт {FFCC00}\"SDPistol\" {0099FF}за 40000 рублей");
						ShowDialogSelectRecipe(playerid);
					}
					case 2:
					{
						if(PI[playerid][pRECIPE_DEAGLE] == 1)
						    return SendClientMessage(playerid, COLOR_RED, "Вы уже купили этот рецепт");

						if(PI[playerid][pCash] < 100000)
							return SendClientMessage(playerid, COLOR_RED, "У Вас нет денег");

						GiveMoney(playerid, -100000);
						PI[playerid][pRECIPE_DEAGLE] = 1;

						SendClientMessage(playerid, COLOR_BLUE, "Вы купили рецепт {FFCC00}\"Deagle\" {0099FF}за 100000 рублей");
						ShowDialogSelectRecipe(playerid);
					}
				}
			}
			if(!response)
			{
                ShowDialogSelectRecipe(playerid);
			}
		}
	    /*case 701:
		{
			new string[120];
			if(PI[playerid][pCash] < 500000)
			    return SendClientMessage(playerid, COLOR_RED, "Для создания семьи необходимо 500 000 рублей");
			if(PI[playerid][pFamilySozd] != 0)
			    return SendClientMessage(playerid, COLOR_RED,"У Вас уже есть семья! Нельзя создавать больше 1-ой семьи");
			if(PI[playerid][pFamily] != 0)
			    return SendClientMessage(playerid, COLOR_RED,"Вы состоите в семье! Необходимо покинуть семью, чтобы создать свою");
			if (strlen (inputtext) < 2 || strlen (inputtext) > 12 )
			    return ShowPlayerDialog(playerid,701,DIALOG_STYLE_INPUT,"{FFFFFF}Создание семьи","{FFFFFF}Название семьи не может быть больше 12 символов!\n{FFFFFF}Для создании семьи необходимо иметь 300 рублей\nПеред созданием семьи рекомендуем ознакомиться с разделом 'Информация'\n\nНазвание семьи можено будет изменить в дальнейшем\nВведите название семьи:","Далее","Закрыть");

			new temp [32], newfam_id;
			mysql_real_escape_string (inputtext, temp) ;
			format(string, sizeof string, "INSERT INTO "T_FAMILY" ( `fam_name`, `fam_creator`, `fam_members_amount`, `fam_data` ) VALUES ( '%s', '%s', '1', NOW( ))", temp, GetName(playerid));
			mysql_function_query (dbHandle, string, false, "", "");
			newfam_id = family_count + 1;
			PI[playerid][pFamily] = newfam_id;
			SetPVarInt(playerid,"family",PI[playerid][pFamily]);
			PI[playerid][pCash] -= 500000;
			strmid (family_info [newfam_id][f_name], temp, 0, strlen(temp), strlen(temp)+5);
			strmid (family_info [newfam_id] [f_creator], GetName(playerid), 0, strlen(GetName(playerid)), strlen(GetName(playerid))+5);
			family_info [newfam_id] [f_chat_color] = 0;
			family_info [newfam_id] [f_members_amount] = 1;
			family_info [newfam_id] [f_online] = 1;
			new year, month,day;
			getdate(year, month, day);
			format(family_info [newfam_id] [f_creating_data], 32,"%02d/%02d/%d",year,month,day);
			PI[playerid][pFamilySozd] = 1;
			//SendClientMessage(playerid, COLOR_BLUE, "Поздравляем! Вы завели новую семью:{FFCC00} %s", family_info [newfam_id] [f_name]);
			//SendClientMessage(playerid, COLOR_BLUE, "Доступные команды:{FFCC00} /f /fb /foff /finvite /funinvite(off) /frang /fleave");
   			SendClientMessage(playerid, COLOR_BLUE, "Доступные команды:{FFCC00} /f /fb /foff /finvite /funinvite(off) /frang /fleave");
	        format(string, sizeof(string), "{FFFFFF}Поздравляем!\nВы завели новую семью {FFCC00}%s", family_info [newfam_id] [f_name]);
			ShowPlayerDialog(playerid, 0, DIALOG_STYLE_MSGBOX, "{FFCC00}Создание семьи", string, "Закрыть", "");
			SaveAccount(playerid);
			family_count ++;
		}
		case 702:
		{
		    if(!response) return true;
		    //
		    new fam_id = PI[playerid][pFamily], String[256];
		    //
			switch(listitem)
			{
				case 0:
				{
				    new zam_text[64];
					if(!family_info [fam_id] [f_creator_zam]) zam_text = "Нет заместителя";
				 	else format(zam_text,sizeof(zam_text), "%s", family_info [fam_id] [f_creator_zam]);
					format(String,sizeof(String),"{FFFFFF}Название семьи: {%s}%s\n\n{FFFFFF}Состав семьи: всего %d игрок(ов)\nДата создания семьи: %s\n\nСоздатель семьи: %s\nЗаместитель семьи: %s\n\nОнлайн семьи: {43CD80}%d игрок(ов)",
				 	family_chat_color [family_info [fam_id] [f_chat_color]],family_info [fam_id] [f_name],family_info [fam_id] [f_members_amount],family_info [fam_id] [f_creating_data],family_info [fam_id] [f_creator],zam_text,family_info [fam_id] [f_online]);
					ShowPlayerDialog(playerid,705,DIALOG_STYLE_MSGBOX,"{FFCC00}Информация о семье",String,"Назад","");
				}
				case 1:
				{
				    if(PI[playerid][pFamilySozd] > 0) return SendClientMessage(playerid, COLOR_RED,"Вы создатель семьи и не можете из неё выйти!");
					format(String, sizeof(String), "{%s}[%s] {FFD39B}%s [%d] покинул семью по собственному желанию",family_chat_color [family_info [fam_id] [f_chat_color]], family_info [fam_id] [f_name], GetName(playerid), playerid);
    				family_message(PI[playerid][pFamily],-1, String);
					SendClientMessage(playerid,COLOR_RED,"Вы покинули семью по собственному желанию");
					family_info [fam_id] [f_online] -= 1;
					family_info [fam_id] [f_members_amount] -= 1;
					// Запрос в базу fam_members_amount -1;
					format(String, sizeof String, "UPDATE "T_FAMILY" SET `fam_members_amount` = '%d' WHERE `fam_id` = '%d' LIMIT 1",family_info [fam_id] [f_members_amount], fam_id);
					mysql_function_query(dbHandle, String, false, "","");
					PI[playerid][pFamily] = 0;
					PI[playerid][pFamilyZam] = 0;
					SetPVarInt(playerid,"family",fam_id);
					SaveAccount(playerid);
				}
				case 2:
				{
					new color_dialog [ 356 ];
					format(color_dialog,sizeof(color_dialog),"{%s}-----\n{%s}-----\n{%s}-----\n{%s}-----\n{%s}-----\n{%s}-----\n{%s}-----\n{%s}-----\n{%s}-----\n{%s}-----\n{%s}-----\n{%s}-----\n{%s}-----\n{%s}-----\n{%s}-----\n{%s}-----\n{%s}-----\n{%s}-----\n{%s}-----\n{%s}-----\n{%s}-----\n{%s}-----",family_chat_color [ 0 ],family_chat_color [ 1 ],family_chat_color [ 2 ],family_chat_color [ 3 ],family_chat_color [ 4 ]
					,family_chat_color [ 5 ],family_chat_color [ 6 ],family_chat_color [ 7 ],family_chat_color [ 8 ],family_chat_color [ 9 ],family_chat_color [ 10 ],family_chat_color [ 11 ],family_chat_color [ 12 ],family_chat_color [ 13 ],family_chat_color [ 14 ],family_chat_color [ 15 ],family_chat_color [ 16 ],family_chat_color [ 17 ],family_chat_color [ 18 ],family_chat_color [ 19 ],family_chat_color [ 20 ],family_chat_color [ 21 ]);
					ShowPlayerDialog(playerid,706,DIALOG_STYLE_LIST,"{FFCC00}Цвет чата",color_dialog,"Выбрать","Назад");
				}
				case 3:
				{
				    if(PI[playerid][pFamilySozd] == 0) return SendClientMessage(playerid, COLOR_RED,"Название семьи может менять только создатель");
					ShowPlayerDialog(playerid,708,DIALOG_STYLE_INPUT,"{FFCC00}Название семьи","{FFFFFF}Введите новое название семьи:","Далее","Закрыть");
				}
    			case 4:
				{
			 		new str[MAX_PLAYER_NAME+2], string[520], numb;
				 	foreach(Player, i)
				 	{
						if(PI[i][pFamily] == fam_id)
						{
					  		format(str, MAX_PLAYER_NAME+2,"%s\n",GetName(i)),strcat(string,str);
					  		DialogSlot[playerid][++numb] = i;
					  	}
				 	}
				 	ShowPlayerDialog(playerid,711,DIALOG_STYLE_LIST,"{FFCC00}Игроки онлайн", string, "Выбрать","Назад");
				}
				case 5: ShowPlayerDialog(playerid,6456,DIALOG_STYLE_LIST,"{FFCC00}Склад", "Взять патроны\nПоложить патроны\nВзять наркотики\nПоложить наркотики\nВзять деньги\nПоложить деньги", "Выбрать","Назад");
			}
		}*/
		/*case 702:
		{
			if(!response) return 1;
			//
			new fam_id = PI[playerid][pFamily];
			//
			switch(listitem)
			{
			case 0:
				{
					new zam_text[64], famonline = 0;
					if(!family_info [fam_id] [f_creator_zam]) zam_text = "Нет заместителя";
					else format(zam_text,sizeof(zam_text), "%s", family_info [fam_id] [f_creator_zam]);

					foreach(new i: Player)
					{
						if(PI[playerid][pFamily] == PI[i][pFamily]) famonline++;
					}

					STRING_GLOBAL[0] = EOS;
					format(STRING_GLOBAL,sizeof(STRING_GLOBAL),"{FFFFFF}Название семьи: {%s}%s\n\n{FFFFFF}Состав семьи: всего {3399FF}%d{FFFFFF} игрок(ов)\nДата создания семьи: {3399FF}%s{FFFFFF}\n\nСоздатель семьи: {3399FF}%s{FFFFFF}\nЗаместитель семьи: {3399FF}%s{FFFFFF}\n\nОнлайн семьи: {3399FF}%d{FFFFFF} игрок(ов)",
					family_chat_color [family_info [fam_id] [f_chat_color]],family_info [fam_id] [f_name],family_info [fam_id] [f_members_amount],family_info [fam_id] [f_creating_data],family_info [fam_id] [f_creator],zam_text, famonline);
					ShowPlayerDialogEx(playerid,705,DIALOG_STYLE_MSGBOX, "{3399FF} Информация о семье",STRING_GLOBAL,"Назад","");
				}
			case 1:
				{
					if(PI[playerid][pFamilySozd] > 0) return SendErr(playerid, "Вы создатель семьи и не можете из неё выйти");

					STRING_GLOBAL[0] = EOS;
					format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "{%s}[%s] {FFFFFF}%s[%d] покинул семью по собственному желанию",family_chat_color [family_info [fam_id] [f_chat_color]], family_info [fam_id] [f_name], GetName(playerid), playerid);
					family_message(PI[playerid][pFamily], -1, STRING_GLOBAL);
					SendInf(playerid, "Вы покинули семью по собственному желанию");
					family_info [fam_id] [f_members_amount] -= 1;

					STRING_GLOBAL[0] = EOS;
					format(STRING_GLOBAL, 128, "UPDATE "T_FAMILY" SET `fam_members_amount` = '%d' WHERE `fam_id` = '%d' LIMIT 1",family_info [fam_id] [f_members_amount], fam_id);
					mysql_function_query(dbHandle, STRING_GLOBAL, false, "","");
					PI[playerid][pFamily] = 0;
					PI[playerid][pFamilyZam] = 0;
					MysqlUpdatePlayerInt(playerid, "family", PI[playerid][pFamily]);
					MysqlUpdatePlayerInt(playerid, "familyzam", PI[playerid][pFamilyZam]);
				}
			case 2:
				{
					STRING_GLOBAL[0] = EOS;
					format(STRING_GLOBAL,sizeof(STRING_GLOBAL),"{%s}-----\n{%s}-----\n{%s}-----\n{%s}-----\n{%s}-----\n{%s}-----\n{%s}-----\n{%s}-----\n{%s}-----\n{%s}-----\n{%s}-----\n{%s}-----\n{%s}-----\n{%s}-----\n{%s}-----\n{%s}-----\n{%s}-----\n{%s}-----\n{%s}-----\n{%s}-----\n{%s}-----\n{%s}-----",family_chat_color [ 0 ],family_chat_color [ 1 ],family_chat_color [ 2 ],family_chat_color [ 3 ],family_chat_color [ 4 ]
					,family_chat_color [ 5 ],family_chat_color [ 6 ],family_chat_color [ 7 ],family_chat_color [ 8 ],family_chat_color [ 9 ],family_chat_color [ 10 ],family_chat_color [ 11 ],family_chat_color [ 12 ],family_chat_color [ 13 ],family_chat_color [ 14 ],family_chat_color [ 15 ],family_chat_color [ 16 ],family_chat_color [ 17 ],family_chat_color [ 18 ],family_chat_color [ 19 ],family_chat_color [ 20 ],family_chat_color [ 21 ]);
					ShowPlayerDialogEx(playerid,706,DIALOG_STYLE_LIST, "{3399FF} Цвет чата",STRING_GLOBAL,"Выбрать","Назад");
				}
			case 3:
				{
					if(PI[playerid][pFamilySozd] == 0) return SendErr(playerid, "Название семьи может менять только создатель");
					ShowPlayerDialogEx(playerid,708,DIALOG_STYLE_INPUT, "{3399FF} Название семьи","{FFFFFF}Введите новое название семьи:","Далее","Закрыть");
				}
			case 4:
			    {
			        if(PI[playerid][pFamilySozd] == 0) return SendErr(playerid, "Место появление может менять только создатель");
					if(GetPlayerHouse(playerid) == 0) return SendErr(playerid, "У Вас нет дома");

			        SendInf(playerid, "Вы успешно изменили место появления семьи");

			        new i = GetPVarInt(playerid, "PlayerHouse");

					family_info [ PI[playerid][pFamily] ] [ f_spawn ] [ 0 ] = HouseInfo[i][hExitx] ;
					family_info [ PI[playerid][pFamily] ] [ f_spawn ] [ 1 ] = HouseInfo[i][hExity] ;
					family_info [ PI[playerid][pFamily] ] [ f_spawn ] [ 2 ] = HouseInfo[i][hExitz] ;

			        //GetPlayerPos ( playerid, family_info [ PI[playerid][pFamily] ] [ f_spawn ] [ 0 ], family_info [ PI[playerid][pFamily] ] [ f_spawn ] [ 1 ], family_info [ PI[playerid][pFamily] ] [ f_spawn ] [ 2 ] ) ;
					GetPlayerFacingAngle ( playerid, family_info [ PI[playerid][pFamily] ] [ f_spawn ] [ 3 ] ) ;

					family_info [ PI[playerid][pFamily] ] [ f_spawn_int ] = HouseInfo[i][hInt] ;
					family_info [ PI[playerid][pFamily] ] [ f_spawn_virt ] = HouseInfo[i][hVirtual] ;

					new sql_string [200];
					mysql_format(dbHandle, sql_string, 200, "UPDATE "T_FAMILY" SET `f_spawn` = '%f,%f,%f,%f,%d,%d' WHERE `fam_id` = '%d' LIMIT 1",
					family_info [ PI[playerid][pFamily] ] [ f_spawn ] [ 0 ], family_info [ PI[playerid][pFamily] ] [ f_spawn ] [ 1 ], family_info [ PI[playerid][pFamily] ] [ f_spawn ] [ 2 ],
					family_info [ PI[playerid][pFamily] ] [ f_spawn ] [ 3 ], family_info [ PI[playerid][pFamily] ] [ f_spawn_int ], family_info [ PI[playerid][pFamily] ] [ f_spawn_virt ],  PI[playerid][pFamily] );
					mysql_query(dbHandle, sql_string);
			    }
			case 5:
			    {
			        if(family_info [ PI[playerid][pFamily] ] [ f_spawn_virt ] == 0) return SendErr(playerid, "У Вас не выбран дом семьи");
			        if(!PlayerToPoint(30.0, playerid, HouseInfo[family_info [ PI[playerid][pFamily] ] [ f_spawn_virt ]][hExitx], HouseInfo[family_info [ PI[playerid][pFamily] ] [ f_spawn_virt ]][hExity], HouseInfo[family_info [ PI[playerid][pFamily] ] [ f_spawn_virt ]][hExitz])) return SendErr(playerid, "Использовать можно только в доме семьи");
			        format(STRING_GLOBAL, sizeof(STRING_GLOBAL), ""newgreen"Положить наркотики. (Наркотиков на складе: %d)\n"newgreen"Положить патроны. (Патрон на складе: %d)\n"newgreen"Положить металл. (Металла на складе: %d)\n"newgreen"Положить деньги. (На складе: %d рублей)\n"nwhite"Взять наркотики. (Наркотиков на складе: %d)\nВзять патроны. (Патрон на складе: %d)\nВзять металл. (Металла на складе: %d)\nВзять деньги. (На складе: %d рублей)",
			        family_info [ PI[playerid][pFamily] ] [ f_drugs ], family_info [ PI[playerid][pFamily] ] [ f_patron ], family_info [ PI[playerid][pFamily] ] [ f_metall ], family_info [ PI[playerid][pFamily] ] [ f_money ], family_info [ PI[playerid][pFamily] ] [ f_drugs ], family_info [ PI[playerid][pFamily] ] [ f_patron ], family_info [ PI[playerid][pFamily] ] [ f_metall ], family_info [ PI[playerid][pFamily] ] [ f_money ]);
			    	ShowPlayerDialogEx(playerid, 2171, DIALOG_STYLE_LIST, "{3399FF} Общак семьи", STRING_GLOBAL, "Далее", "Закрыть");
				}
			case 6:
			    {
			        if(PI[playerid][pFamilySozd] == 0) return SendErr(playerid, "Этот раздел доступен лишь создателю");
			        if(family_info [ PI[playerid][pFamily] ] [ f_spawn_virt ] == 0) return SendErr(playerid, "У вас не установлен дом семьи");
			        ShowPlayerDialogEx(playerid,dEditFamilyVehicle,DIALOG_STYLE_LIST, "{3399FF} Управление автомобилями семьи","{3399FF}1. {FFFFFF}Респавн транспорта\n{3399FF}2. {FFFFFF}Сменить место спавна автомобиля\n{3399FF}3. {FFFFFF}Изменить модель автомобиля\n{3399FF}4. {FFFFFF}Купить автомобиль","Выбрать","Назад");
			    }
			case 7:
			    {
			        if(PI[playerid][pFamilySozd] == 0) return SendErr(playerid, "Этот раздел доступен лишь создателю");
			        SetPVarInt ( playerid, "ofm_list_page", 1 ) ;
					new query_string [ 126 ] ;
					mysql_format ( dbHandle, query_string, sizeof query_string, "SELECT `name`,`datavhod` FROM `accounts` WHERE `family` = '%d' AND `online` = '0'", PI [ playerid ] [ pFamily ] ) ;
					mysql_tquery ( dbHandle, query_string, "callback_offamily", "i", playerid ) ;
			    }
			case 8:
				{
					new str[MAX_PLAYER_NAME+2], numb;
					STRING_GLOBAL[0] = EOS;
					foreach(Player, i)
					{
						if(PI[i][pFamily] == fam_id)
						{
							format(str, MAX_PLAYER_NAME+2,"%s\n",GetName(i)),strcat(STRING_GLOBAL,str);
							DialogSlot[playerid][++numb] = i;
						}
					}
					ShowPlayerDialogEx(playerid,711,DIALOG_STYLE_LIST, "{FFCC00} Игроки онлайн", STRING_GLOBAL, "Выбрать","Назад");
				}
			}
		}
  case dEditFamilyVehicle:
		{
			if(!response) return pc_cmd_family(playerid);
			if ( listitem == 0 )
			{
			    for(new i = TOTALVEH; i > 0; i --)
				{
					if(VehInfo[i][vFamily] != PI[playerid][pFamily]) continue;
					if(s_IsVehicleOccupied(VehInfo[i][vVehicle])) continue;
					AC_SetVehicleToRespawn(VehInfo[i][vVehicle]);
				}

				format(STRING_GLOBAL, 128, "{%s}[%s]{FFFFFF} %s[%d]: заспавнил незанятые машины",family_chat_color [family_info [PI[playerid][pFamily]] [f_chat_color]], family_info [PI[playerid][pFamily]] [f_name], GetName(playerid), playerid);
				family_message(PI[playerid][pFamily], -1, STRING_GLOBAL);
			}
			else if ( listitem == 1 )
			{
       			if ( GetPlayerVehicleID ( playerid ) == INVALID_VEHICLE_ID )return SendErr ( playerid, "Функция доступна только в автомобиле" ) ;
       			if(PlayerToPoint(30.0, playerid, HouseInfo[family_info [ PI[playerid][pFamily] ] [ f_spawn_virt ]][hEntrx], HouseInfo[family_info [ PI[playerid][pFamily] ] [ f_spawn_virt ]][hEntry], HouseInfo[family_info [ PI[playerid][pFamily] ] [ f_spawn_virt ]][hEntrz]))
				{
	       			for(new i; i < sizeof(AreaInfo[arGreenZone]); i++)
					{
						if(IsPlayerInDynamicArea(playerid, AreaInfo[arGreenZone][i]))
						{
				 			SendErr(playerid, "Здесь запрещено парковать машину");
				 			return 1;
						}
					}
				    for(new veh_id = TOTALVEH; veh_id > 0; veh_id --)
				    {
						if ( VehInfo [ veh_id ] [ vFamily ] != PI [ playerid ] [ pFamily ] ) return 1;
						if(VehInfo [ veh_id ] [ vVehicle ] != GetPlayerVehicleID ( playerid )) return 1;
						new vehicle = VehInfo [ veh_id ] [ vVehicle ];
						GetVehiclePos ( vehicle, VehInfo [ vehicle ] [ vPos_X ], VehInfo [ vehicle ] [ vPos_Y ], VehInfo [ vehicle ] [ vPos_Z ] ) ;
						GetVehicleZAngle( vehicle, VehInfo [ vehicle ] [ vPos_FA ] ) ;

						VehInfo [ vehicle ] [ vModel ] = GetVehicleModel ( GetPlayerVehicleID ( playerid ) );
						DestroyVehicle ( vehicle ) ;
						//VehInfo [ vehicle ] [ vVehicle ] = INVALID_VEHICLE_ID ;
						VehInfo [ veh_id ] [ vVehicle ] = CreateVehicle ( VehInfo [ vehicle ] [ vModel ], VehInfo [ vehicle ] [ vPos_X ], VehInfo [ vehicle ] [ vPos_Y ], VehInfo [ vehicle ] [ vPos_Z ], VehInfo [ vehicle ] [ vPos_FA ], VehInfo [ vehicle ] [ vColor ] [ 0 ] , VehInfo [ vehicle ] [ vColor ] [ 1 ], 900 ) ;

						GetVehicleParamsEx(vehicle, engine, lights, alarm, doors, bonnet, boot, objective);
						SetVehicleParamsEx(vehicle, false, lights, alarm, doors, bonnet, boot, objective);

						new sql_string[300];
						mysql_format(dbHandle, sql_string, 300, "UPDATE "T_VEHICLE" SET `x` = '%f',`y` = '%f',`z` = '%f',`fa` = '%f' WHERE `id` = '%d'",
						VehInfo [ vehicle ] [ vPos_X ], VehInfo [ vehicle ] [ vPos_Y ], VehInfo [ vehicle ] [ vPos_Z ], VehInfo [ vehicle ] [ vPos_FA ],
						veh_id );
						mysql_query ( dbHandle, sql_string ) ;

						SendInf(playerid, "Место спавна автомобиля успешно изменено");
						ShowPlayerDialogEx(playerid,dEditFamilyVehicle,DIALOG_STYLE_LIST, "{3399FF} Управление автомобилями семьи","{3399FF}1. {FFFFFF}Сменить место спавна автомобиля\n{3399FF}2. {FFFFFF}Изменить модель автомобиля\n{3399FF}3. {FFFFFF}Купить автомобиль","Выбрать","Назад");
					}
				}
				else SendErr(playerid, "Доступно рядом с домом семьи");
			}
			else if ( listitem == 2 )
			{
			    STRING_GLOBAL = "";
			    if ( GetPlayerVehicleID ( playerid ) == INVALID_VEHICLE_ID )return SendErr ( playerid, "Функция доступна только в автомобиле" ) ;
			    for(new veh_id = TOTALVEH; veh_id > 0; veh_id --)
				{
	     			if ( VehInfo[ veh_id ] [ vFamily ] != PI [ playerid ] [ pFamily ] ) continue;
	     			if(VehInfo [ veh_id ] [ vVehicle ] != GetPlayerVehicleID ( playerid )) continue;

					new m_param ;
					if ( PI[playerid][pFamily] != 0 ) m_param = 1 ;
					else return SendErr(playerid, "Нет машин для вашей семьи");
					new line_string [ 128 ] ;

					for ( new j = 0; j < 15; j ++ )
					{
						if ( model_change [ m_param ] [ j ] == 0 ) break ;
						format ( line_string, 128, "- {3399FF}%s{FFFFFF}, Цена: {3399FF}%d{FFFFFF}\n", VehicleNames [ model_change [ m_param ] [ j ] - 400 ], model_change [ m_param ] [ j ] * 1000 * WorkSalary[7] ) ;
						strcat(STRING_GLOBAL, line_string ) ;
					}
					ShowPlayerDialogEx(playerid,dModelFamilyEdit,DIALOG_STYLE_LIST, "{3399FF} Модель автомобиля", STRING_GLOBAL, "Купить", "Закрыть");
				}
			}
			else if ( listitem == 3 )
			{
			    STRING_GLOBAL = "";
			    format(STRING_GLOBAL, 256, "{FFFFFF}Вы собираетесь приобрести семеный транспорт.\nИзначально Вам будет выдан скутер.\n\nЦена: {3399FF}%d{FFFFFF} рублей", 462*1000*WorkSalary[7]);
				ShowPlayerDialogEx(playerid, dBuyFamilyVehicle, DIALOG_STYLE_MSGBOX, "{3399FF} Покупка автомобиля", STRING_GLOBAL, "Купить", "Закрыть");
			}
			return 1 ;
		}*/
  		/*case 6456:
		{
		    if(!response) return callcmd::fmenu(playerid);
			switch(listitem)
			{
			    case 0:
				{
				    if(!PI[playerid][pFamilySozd]) return SendClientMessage(playerid, COLOR_RED,"Доступно только создателю семьи!");
					SetPVarInt(playerid,"VzFam",1);
					ShowPlayerDialog(playerid,6457,DIALOG_STYLE_INPUT,"{FFCC00}Материалы", "{ffffff}Введите сколько хотите взять:", "Выбрать","Назад");
				}
				case 1:
				{
					SetPVarInt(playerid,"PutFam",1);
					ShowPlayerDialog(playerid,6458,DIALOG_STYLE_INPUT,"{FFCC00}Материалы", "{ffffff}Введите сколько хотите положить:", "Выбрать","Назад");
				}
				case 2:
				{
				    if(!PI[playerid][pFamilySozd]) return SendClientMessage(playerid, COLOR_RED,"Доступно только создателю семьи!");
				    SetPVarInt(playerid,"VzFam",2);
				    ShowPlayerDialog(playerid,6457,DIALOG_STYLE_INPUT,"{FFCC00}Наркотики", "{ffffff}Введите сколько хотите взять:", "Выбрать","Назад");
				}
				case 3:
				{
					SetPVarInt(playerid,"PutFam",2);
					ShowPlayerDialog(playerid,6458,DIALOG_STYLE_INPUT,"{FFCC00}Наркотики", "{ffffff}Введите сколько хотите положить:", "Выбрать","Назад");
				}
				case 4:
				{
				    if(!PI[playerid][pFamilySozd]) return SendClientMessage(playerid, COLOR_RED,"Доступно только создателю семьи!");
				    SetPVarInt(playerid,"VzFam",3);
				    ShowPlayerDialog(playerid,6457,DIALOG_STYLE_INPUT,"{FFCC00}Деньги", "{ffffff}Введите сколько хотите взять:", "Выбрать","Назад");
				}
				case 5:
				{
					SetPVarInt(playerid,"PutFam",3);
					ShowPlayerDialog(playerid,6458,DIALOG_STYLE_INPUT,"{FFCC00}Деньги", "{ffffff}Введите сколько хотите положить:", "Выбрать","Назад");
				}
			}
		}
		case 711:
		{
			if(!response) return callcmd::fmenu(playerid);
			{
			    STRING_GLOBAL = "";
			    new famonline = 0;
			    foreach(new i: Player)
				{
					if(PI[playerid][pFamily] == PI[i][pFamily]) famonline++;
				}

				if(family_info [ PI[playerid][pFamily] ] [ f_spawn_virt ] == 0)
				{
				    format(STRING_GLOBAL, 402, "{3399FF}1. {FFFFFF}Информация о семье\n{3399FF}2. {FFFFFF}Покинуть семью\n{3399FF}3. {FFFFFF}Изменить цвет рации семьи\n{3399FF}4. {FFFFFF}Смена названия семьи\n{3399FF}5. {FFFFFF}Дом семьи: {FF6347}Нет{FFFFFF}\n{3399FF}6. {FFFFFF}Общак семьи\n{3399FF}7. {FFFFFF}Автопарк семьи\n{3399FF}8. {FFFFFF}Весь состав семьи\n{3399FF}9. {FFFFFF}Члены семьи онлайн: {3399FF}%d{FFFFFF} человек(а)", famonline);
					ShowPlayerDialogEx(playerid, 702, DIALOG_STYLE_LIST, "{3399FF} Меню семьи", STRING_GLOBAL, "Выбор", "Выход");
				}
				else
				{
				    format(STRING_GLOBAL, 402, "{3399FF}1. {FFFFFF}Информация о семье\n{3399FF}2. {FFFFFF}Покинуть семью\n{3399FF}3. {FFFFFF}Изменить цвет рации семьи\n{3399FF}4. {FFFFFF}Смена названия семьи\n{3399FF}5. {FFFFFF}Дом семьи: {3399FF}№%d{FFFFFF}\n{3399FF}6. {FFFFFF}Общак семьи\n{3399FF}7. {FFFFFF}Автопарк семьи\n{3399FF}8. {FFFFFF}Весь состав семьи\n{3399FF}9. {FFFFFF}Члены семьи онлайн: {3399FF}%d{FFFFFF} человек(а)", family_info [ PI[playerid][pFamily] ] [ f_spawn_virt ], famonline);
					ShowPlayerDialogEx(playerid, 702, DIALOG_STYLE_LIST, "{3399FF} Меню семьи", STRING_GLOBAL, "Выбор", "Выход");
				}
			}
			SetPVarInt(playerid,"UsePlayer",listitem+1);
			ShowPlayerDialogEx(playerid,712,DIALOG_STYLE_LIST, "{3399FF} Выбор действия","{3399FF}1. {FFFFFF}Назначить заместителем\n{3399FF}2. {FFFFFF}Выгнать из семьи\n{3399FF}3. {FFFFFF}Передать лидерство семьи","Выбрать","Назад");
		}
	case 712:
		{
			new dialogPLid = DialogSlot[playerid][GetPVarInt(playerid,"UsePlayer")];
			if(!response)
			{
			    new famonline = 0;
			    foreach(new i: Player)
				{
					if(PI[playerid][pFamily] == PI[i][pFamily]) famonline++;
				}

				STRING_GLOBAL[0] = EOS;
				if(family_info [ PI[playerid][pFamily] ] [ f_spawn_virt ] == 0)
				{
				    format(STRING_GLOBAL, 402, "{3399FF}1. {FFFFFF}Информация о семье\n{3399FF}2. {FFFFFF}Покинуть семью\n{3399FF}3. {FFFFFF}Изменить цвет рации семьи\n{3399FF}4. {FFFFFF}Смена названия семьи\n{3399FF}5. {FFFFFF}Дом семьи: {FF6347}Нет{FFFFFF}\n{3399FF}6. {FFFFFF}Общак семьи\n{3399FF}7. {FFFFFF}Автопарк семьи\n{3399FF}8. {FFFFFF}Весь состав семьи\n{3399FF}9. {FFFFFF}Члены семьи онлайн: {3399FF}%d{FFFFFF} человек(а)", famonline);
					ShowPlayerDialogEx(playerid, 702, DIALOG_STYLE_LIST, "{3399FF} Меню семьи", STRING_GLOBAL, "Выбор", "Выход");
				}
				else
				{
				    format(STRING_GLOBAL, 402, "{3399FF}1. {FFFFFF}Информация о семье\n{3399FF}2. {FFFFFF}Покинуть семью\n{3399FF}3. {FFFFFF}Изменить цвет рации семьи\n{3399FF}4. {FFFFFF}Смена названия семьи\n{3399FF}5. {FFFFFF}Дом семьи: {3399FF}№%d{FFFFFF}\n{3399FF}6. {FFFFFF}Общак семьи\n{3399FF}7. {FFFFFF}Автопарк семьи\n{3399FF}8. {FFFFFF}Весь состав семьи\n{3399FF}9. {FFFFFF}Члены семьи онлайн: {3399FF}%d{FFFFFF} человек(а)", family_info [ PI[playerid][pFamily] ] [ f_spawn_virt ], famonline);
					ShowPlayerDialogEx(playerid, 702, DIALOG_STYLE_LIST, "{3399FF} Меню семьи", STRING_GLOBAL, "Выбор", "Выход");
				}
			}
			if(response)
			{
				switch(listitem)
				{
				case 0:
					{
						// Проверяем есть ли заместитель у фракции
						if(PI[playerid][pFamilySozd] == 0) return SendErr(playerid, "Назначать заместителя может только создатель");
						STRING_GLOBAL[0] = EOS;
						mysql_format(dbHandle, STRING_GLOBAL,sizeof(STRING_GLOBAL),"SELECT `name` FROM "T_ACCOUNTS" WHERE `family` = '%d' AND `familyzam` = '1'", PI[playerid][pFamily]);
						mysql_function_query(dbHandle, STRING_GLOBAL,true,"OnMySQL_Query","ddd",playerid,100,dialogPLid);
					}
				case 1:
					{
						if(PI[playerid][pFamilySozd] == 0 && PI[playerid][pFamilyZam] == 0) return SendErr(playerid, "Выгонять из семьи может только заместитель и создатель");
						if(dialogPLid == playerid) return SendErr(playerid, "Вы не можете выгнать самого себя");
						if(PI[playerid][pFamily] != PI[dialogPLid][pFamily]) return SendErr(playerid, "Данный игрок не состоит в Вашей семье");

						STRING_GLOBAL[0] = EOS;
						format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "%s выгнал(а) Вас из семьи", GetName(playerid));
						SendClientMessage(dialogPLid, COLOR_BLUE, STRING_GLOBAL);

						STRING_GLOBAL[0] = EOS;
						format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "Вы выгнали %s из семьи",GetName(dialogPLid));
						SendClientMessage(playerid, COLOR_BLUE, STRING_GLOBAL);

						STRING_GLOBAL[0] = EOS;
						format(STRING_GLOBAL,sizeof(STRING_GLOBAL),"{%s}[%s]{FFFFFF} %s выгнал игрока %s из семьи",family_chat_color [family_info[PI[playerid][pFamily]] [f_chat_color ]],family_info [PI[playerid][pFamily]] [f_name],GetName(playerid),GetName(dialogPLid));
						family_message(PI[playerid][pFamily], -1, STRING_GLOBAL);
						family_info [ PI[playerid][pFamily] ] [ f_members_amount ] -= 1;
						PI[dialogPLid][pFamily] = 0;
						PI[dialogPLid][pFamilyZam] = 0;
						MysqlUpdatePlayerInt(dialogPLid, "family", PI[dialogPLid][pFamily]);
						MysqlUpdatePlayerInt(dialogPLid, "familyzam", PI[dialogPLid][pFamilyZam]);
						//
						STRING_GLOBAL[0] = EOS;
						format ( STRING_GLOBAL, 128, "UPDATE "T_FAMILY" SET `fam_members_amount` = '%d' WHERE `fam_id` = '%d' LIMIT 1",family_info [PI[playerid][pFamily]] [f_members_amount], PI[playerid][pFamily]);
						mysql_function_query ( dbHandle, STRING_GLOBAL, false, "", "" ) ;
					}
				case 2:
				    {
				        if(PI[playerid][pFamilySozd] == 0) return SendErr(playerid, "Выгонять из семьи может только создатель");
				        if(dialogPLid == playerid) return SendErr(playerid, "Вы не можете назначить самого себя");
						if(PI[playerid][pFamily] != PI[dialogPLid][pFamily]) return SendErr(playerid, "Данный игрок не состоит в Вашей семье");

				        STRING_GLOBAL[0] = EOS;
						format(STRING_GLOBAL,sizeof(STRING_GLOBAL),"{%s}[%s]{FFFFFF} %s назначил %s новым лидером семьи",family_chat_color [family_info[PI[playerid][pFamily]] [f_chat_color ]],family_info [PI[playerid][pFamily]] [f_name],GetName(playerid),GetName(dialogPLid));
						family_message(PI[playerid][pFamily], -1, STRING_GLOBAL);

				        PI[dialogPLid][pFamilySozd] = 1;
						MysqlUpdatePlayerInt(dialogPLid, "familysozd", PI[dialogPLid][pFamilySozd]);
						PI[dialogPLid][pFamilyZam] = 0;
						MysqlUpdatePlayerInt(dialogPLid, "familyzam", PI[dialogPLid][pFamilyZam]);

						PI[playerid][pFamilySozd] = 0;
						MysqlUpdatePlayerInt(playerid, "familysozd", PI[playerid][pFamilySozd]);
						PI[playerid][pFamilyZam] = 0;
						MysqlUpdatePlayerInt(playerid, "familyzam", PI[playerid][pFamilyZam]);

				        strmid (family_info [PI[dialogPLid][pFamily]] [f_creator], GetName(dialogPLid), 0, strlen(GetName(dialogPLid)), strlen(GetName(dialogPLid))+5);
						new sql_string [200];
						mysql_format(dbHandle, sql_string, 200, "UPDATE "T_FAMILY" SET `fam_creator` = '%s' WHERE `fam_id` = '%d' LIMIT 1",
						family_info [ PI[dialogPLid][pFamily] ] [ f_creator ],  PI[dialogPLid][pFamily] );
						mysql_query(dbHandle, sql_string);
				    }
				}
			}
		}
	case 704:
		{
			if(response)
			{
			    new famonline = 0;
			    foreach(new i: Player)
				{
					if(PI[playerid][pFamily] == PI[i][pFamily]) famonline++;
				}

    			STRING_GLOBAL[0] = EOS;
				if(family_info [ PI[playerid][pFamily] ] [ f_spawn_virt ] == 0)
				{
				    format(STRING_GLOBAL, 402, "{3399FF}1. {FFFFFF}Информация о семье\n{3399FF}2. {FFFFFF}Покинуть семью\n{3399FF}3. {FFFFFF}Изменить цвет рации семьи\n{3399FF}4. {FFFFFF}Смена названия семьи\n{3399FF}5. {FFFFFF}Дом семьи: {FF6347}Нет{FFFFFF}\n{3399FF}6. {FFFFFF}Общак семьи\n{3399FF}7. {FFFFFF}Автопарк семьи\n{3399FF}8. {FFFFFF}Весь состав семьи\n{3399FF}9. {FFFFFF}Члены семьи онлайн: {3399FF}%d{FFFFFF} человек(а)", famonline);
					ShowPlayerDialogEx(playerid, 702, DIALOG_STYLE_LIST, "{3399FF} Меню семьи", STRING_GLOBAL, "Выбор", "Выход");
				}
				else
				{
				    format(STRING_GLOBAL, 402, "{3399FF}1. {FFFFFF}Информация о семье\n{3399FF}2. {FFFFFF}Покинуть семью\n{3399FF}3. {FFFFFF}Изменить цвет рации семьи\n{3399FF}4. {FFFFFF}Смена названия семьи\n{3399FF}5. {FFFFFF}Дом семьи: {3399FF}№%d{FFFFFF}\n{3399FF}6. {FFFFFF}Общак семьи\n{3399FF}7. {FFFFFF}Автопарк семьи\n{3399FF}8. {FFFFFF}Весь состав семьи\n{3399FF}9. {FFFFFF}Члены семьи онлайн: {3399FF}%d{FFFFFF} человек(а)", family_info [ PI[playerid][pFamily] ] [ f_spawn_virt ], famonline);
					ShowPlayerDialogEx(playerid, 702, DIALOG_STYLE_LIST, "{3399FF} Меню семьи", STRING_GLOBAL, "Выбор", "Выход");
				}
			}
			ShowPlayerDialogEx(playerid,101 ,DIALOG_STYLE_MSGBOX, "{3399FF} Состав семьи", STRING_GLOBAL, "Назад","" ) ;
		}
	case 705:
		{
		    new famonline = 0;
	 		foreach(new i: Player)
			{
				if(PI[playerid][pFamily] == PI[i][pFamily]) famonline++;
			}

			STRING_GLOBAL[0] = EOS;
   			if(family_info [ PI[playerid][pFamily] ] [ f_spawn_virt ] == 0)
			{
			    format(STRING_GLOBAL, 402, "{3399FF}1. {FFFFFF}Информация о семье\n{3399FF}2. {FFFFFF}Покинуть семью\n{3399FF}3. {FFFFFF}Изменить цвет рации семьи\n{3399FF}4. {FFFFFF}Смена названия семьи\n{3399FF}5. {FFFFFF}Дом семьи: {FF6347}Нет{FFFFFF}\n{3399FF}6. {FFFFFF}Общак семьи\n{3399FF}7. {FFFFFF}Автопарк семьи\n{3399FF}8. {FFFFFF}Весь состав семьи\n{3399FF}9. {FFFFFF}Члены семьи онлайн: {3399FF}%d{FFFFFF} человек(а)", famonline);
				ShowPlayerDialogEx(playerid, 702, DIALOG_STYLE_LIST, "{3399FF} Меню семьи", STRING_GLOBAL, "Выбор", "Выход");
			}
			else
			{
			    format(STRING_GLOBAL, 402, "{3399FF}1. {FFFFFF}Информация о семье\n{3399FF}2. {FFFFFF}Покинуть семью\n{3399FF}3. {FFFFFF}Изменить цвет рации семьи\n{3399FF}4. {FFFFFF}Смена названия семьи\n{3399FF}5. {FFFFFF}Дом семьи: {3399FF}№%d{FFFFFF}\n{3399FF}6. {FFFFFF}Общак семьи\n{3399FF}7. {FFFFFF}Автопарк семьи\n{3399FF}8. {FFFFFF}Весь состав семьи\n{3399FF}9. {FFFFFF}Члены семьи онлайн: {3399FF}%d{FFFFFF} человек(а)", family_info [ PI[playerid][pFamily] ] [ f_spawn_virt ], famonline);
				ShowPlayerDialogEx(playerid, 702, DIALOG_STYLE_LIST, "{3399FF} Меню семьи", STRING_GLOBAL, "Выбор", "Выход");
			}
		}
	case 706:
		{
			if(PI[playerid][pFamilySozd] == 0 && PI[playerid][pFamilyZam] == 0) return SendErr(playerid, "Цвет чата семьи может менять только создатель и заместитель семьи");

			new famonline = 0;
 			foreach(new i: Player)
			{
				if(PI[playerid][pFamily] == PI[i][pFamily]) famonline++;
			}

			new fam_id = PI[playerid][pFamily];
			if(response)
			{
				family_info [fam_id] [f_chat_color] = listitem;

				STRING_GLOBAL[0] = EOS;
				if(family_info [ PI[playerid][pFamily] ] [ f_spawn_virt ] == 0)
				{
				    format(STRING_GLOBAL, 402, "{3399FF}1. {FFFFFF}Информация о семье\n{3399FF}2. {FFFFFF}Покинуть семью\n{3399FF}3. {FFFFFF}Изменить цвет рации семьи\n{3399FF}4. {FFFFFF}Смена названия семьи\n{3399FF}5. {FFFFFF}Дом семьи: {FF6347}Нет{FFFFFF}\n{3399FF}6. {FFFFFF}Общак семьи\n{3399FF}7. {FFFFFF}Автопарк семьи\n{3399FF}8. {FFFFFF}Весь состав семьи\n{3399FF}9. {FFFFFF}Члены семьи онлайн: {3399FF}%d{FFFFFF} человек(а)", famonline);
					ShowPlayerDialogEx(playerid, 702, DIALOG_STYLE_LIST, "{3399FF} Меню семьи", STRING_GLOBAL, "Выбор", "Выход");
				}
				else
				{
				    format(STRING_GLOBAL, 402, "{3399FF}1. {FFFFFF}Информация о семье\n{3399FF}2. {FFFFFF}Покинуть семью\n{3399FF}3. {FFFFFF}Изменить цвет рации семьи\n{3399FF}4. {FFFFFF}Смена названия семьи\n{3399FF}5. {FFFFFF}Дом семьи: {3399FF}№%d{FFFFFF}\n{3399FF}6. {FFFFFF}Общак семьи\n{3399FF}7. {FFFFFF}Автопарк семьи\n{3399FF}8. {FFFFFF}Весь состав семьи\n{3399FF}9. {FFFFFF}Члены семьи онлайн: {3399FF}%d{FFFFFF} человек(а)", family_info [ PI[playerid][pFamily] ] [ f_spawn_virt ], famonline);
					ShowPlayerDialogEx(playerid, 702, DIALOG_STYLE_LIST, "{3399FF} Меню семьи", STRING_GLOBAL, "Выбор", "Выход");
				}
				//
				STRING_GLOBAL[0] = EOS;
				format(STRING_GLOBAL, 128, "UPDATE "T_FAMILY" SET `fam_chat_color` = '%d' WHERE `fam_id` = '%d' LIMIT 1",family_info [fam_id] [f_chat_color], fam_id);
				mysql_function_query(dbHandle, STRING_GLOBAL, false, "", "");

				STRING_GLOBAL[0] = EOS;
				format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "{%s}[%s]{FFFFFF} %s[%d]: изменил(а) цвет чата семьи",family_chat_color [family_info[fam_id] [f_chat_color]],family_info [fam_id] [f_name],GetName(playerid),playerid);
				family_message(fam_id,-1, STRING_GLOBAL);
			}
			else
			{
				STRING_GLOBAL[0] = EOS;
				if(family_info [ PI[playerid][pFamily] ] [ f_spawn_virt ] == 0)
				{
				    format(STRING_GLOBAL, 402, "{3399FF}1. {FFFFFF}Информация о семье\n{3399FF}2. {FFFFFF}Покинуть семью\n{3399FF}3. {FFFFFF}Изменить цвет рации семьи\n{3399FF}4. {FFFFFF}Смена названия семьи\n{3399FF}5. {FFFFFF}Дом семьи: {FF6347}Нет{FFFFFF}\n{3399FF}6. {FFFFFF}Общак семьи\n{3399FF}7. {FFFFFF}Автопарк семьи\n{3399FF}8. {FFFFFF}Весь состав семьи\n{3399FF}9. {FFFFFF}Члены семьи онлайн: {3399FF}%d{FFFFFF} человек(а)", famonline);
					ShowPlayerDialogEx(playerid, 702, DIALOG_STYLE_LIST, "{3399FF} Меню семьи", STRING_GLOBAL, "Выбор", "Выход");
				}
				else
				{
				    format(STRING_GLOBAL, 402, "{3399FF}1. {FFFFFF}Информация о семье\n{3399FF}2. {FFFFFF}Покинуть семью\n{3399FF}3. {FFFFFF}Изменить цвет рации семьи\n{3399FF}4. {FFFFFF}Смена названия семьи\n{3399FF}5. {FFFFFF}Дом семьи: {3399FF}№%d{FFFFFF}\n{3399FF}6. {FFFFFF}Общак семьи\n{3399FF}7. {FFFFFF}Автопарк семьи\n{3399FF}8. {FFFFFF}Весь состав семьи\n{3399FF}9. {FFFFFF}Члены семьи онлайн: {3399FF}%d{FFFFFF} человек(а)", family_info [ PI[playerid][pFamily] ] [ f_spawn_virt ], famonline);
					ShowPlayerDialogEx(playerid, 702, DIALOG_STYLE_LIST, "{3399FF} Меню семьи", STRING_GLOBAL, "Выбор", "Выход");
				}
			}
		}
	case 707:
		{
			new familyid = GetPVarInt(playerid,"family_id");
			if(!response)
			{
				DeletePVar(playerid,"family_id");
				DeletePVar(playerid,"family_playerid");
			}
			else
			{
				PI[playerid][pFamily] = familyid;
				MysqlUpdatePlayerInt(playerid, "family", PI[playerid][pFamily]);

				STRING_GLOBAL[0] = EOS;
				format(STRING_GLOBAL,sizeof(STRING_GLOBAL),"{%s}[%s]{FFFFFF} %s[%d] вступил(а) в семью",family_chat_color [ family_info [ PI[playerid][pFamily]] [ f_chat_color ] ],family_info [ PI[playerid][pFamily] ] [ f_name ],GetName(playerid),playerid);
				family_message(PI[playerid][pFamily],-1, STRING_GLOBAL);
				family_info [ PI[playerid][pFamily]] [ f_members_amount ] += 1;

				STRING_GLOBAL[0] = EOS;
				format(STRING_GLOBAL, 128, "UPDATE "T_FAMILY" SET `fam_members_amount` = '%d' WHERE `fam_id` = '%d' LIMIT 1",family_info [PI[playerid][pFamily]] [f_members_amount], PI[playerid][pFamily]);
				mysql_function_query(dbHandle, STRING_GLOBAL, false, "", "");

				new year, month, day,
				fmt_query[70+MAX_PLAYER_NAME];

				getdate(year, month, day);
				format(fmt_query, sizeof fmt_query, "UPDATE accounts SET family_date = '%d.%d.%d' WHERE name = '%s'", day, month, year, GetName(playerid));
				mysql_query(dbHandle, fmt_query);

				DeletePVar(playerid,"family_id");
				DeletePVar(playerid,"family_playerid");
			}
		}
	case 708:
		{
			if(response)
			{
				if (strlen ( inputtext ) < 2 || strlen (inputtext ) > 12) return ShowPlayerDialogEx(playerid,708,DIALOG_STYLE_INPUT, "{3399FF} Название семьи","{FFFFFF}Введите новое название семьи:","Далее","Закрыть");
				format(family_info [PI[playerid][pFamily]] [f_name], 32 , inputtext);

				STRING_GLOBAL[0] = EOS;
				format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "{FFFFFF}%s[%d]: изменил(а) название семьи на {%s}%s",GetName(playerid),playerid,family_chat_color [family_info [PI[playerid][pFamily]] [f_chat_color]],inputtext);
				family_message(PI[playerid][pFamily], -1, STRING_GLOBAL);

				STRING_GLOBAL[0] = EOS;
				format(STRING_GLOBAL, 128, "UPDATE "T_FAMILY" SET `fam_name` = '%s' WHERE `fam_id` = '%d'",inputtext, PI[playerid][pFamily]);
				mysql_function_query ( dbHandle, STRING_GLOBAL, false, "", "");
			}
		}*/
		case DIALOG_BUY_RECIPE_GUNS_2:
		{
			if(response)
			{
			    switch(listitem)
			    {
					case 0:
					{
						if(PI[playerid][pRECIPE_TEK9] == 1)
						    return SendClientMessage(playerid, COLOR_RED, "Вы уже купили этот рецепт");

						if(PI[playerid][pCash] < 50000)
							return SendClientMessage(playerid, COLOR_RED, "У Вас нет денег");

						GiveMoney(playerid, -50000);
						PI[playerid][pRECIPE_TEK9] = 1;

						SendClientMessage(playerid, COLOR_BLUE, "Вы купили рецепт {FFCC00}\"TEK-9\" {0099FF}за 50000 рублей");
						ShowDialogSelectRecipe(playerid);
					}
					case 1:
					{
						if(PI[playerid][pRECIPE_UZY] == 1)
						    return SendClientMessage(playerid, COLOR_RED, "Вы уже купили этот рецепт");

						if(PI[playerid][pCash] < 75000)
							return SendClientMessage(playerid, COLOR_RED, "У Вас нет денег");

						GiveMoney(playerid, -75000);
						PI[playerid][pRECIPE_UZY] = 1;

						SendClientMessage(playerid, COLOR_BLUE, "Вы купили рецепт {FFCC00}\"Узи\" {0099FF}за 75000 рублей");
						ShowDialogSelectRecipe(playerid);
					}
					case 2:
					{
						if(PI[playerid][pRECIPE_MP5] == 1)
						    return SendClientMessage(playerid, COLOR_RED, "Вы уже купили этот рецепт");

						if(PI[playerid][pCash] < 120000)
							return SendClientMessage(playerid, COLOR_RED, "У Вас нет денег");

						GiveMoney(playerid, -120000);
						PI[playerid][pRECIPE_MP5] = 1;

						SendClientMessage(playerid, COLOR_BLUE, "Вы купили рецепт {FFCC00}\"MP5\" {0099FF}за 120000 рублей");
						ShowDialogSelectRecipe(playerid);
					}
			    }
			}
			if(!response)
			{
                ShowDialogSelectRecipe(playerid);
			}
		}
		case DIALOG_BUY_RECIPE_GUNS_3:
		{
			if(response)
			{
				switch(listitem)
				{
					case 0:
					{
						if(PI[playerid][pRECIPE_SHOTGUN] == 1)
						    return SendClientMessage(playerid, COLOR_RED, "Вы уже купили этот рецепт");

						if(PI[playerid][pCash] < 120000)
							return SendClientMessage(playerid, COLOR_RED, "У Вас нет денег");

						GiveMoney(playerid, -120000);
						PI[playerid][pRECIPE_SHOTGUN] = 1;

						SendClientMessage(playerid, COLOR_BLUE, "Вы купили рецепт {FFCC00}\"Шотган\" {0099FF}за 120000 рублей");
						ShowDialogSelectRecipe(playerid);
					}
					case 1:
					{
						if(PI[playerid][pRECIPE_BLEED] == 1)
						    return SendClientMessage(playerid, COLOR_RED, "Вы уже купили этот рецепт");

						if(PI[playerid][pCash] < 150000)
							return SendClientMessage(playerid, COLOR_RED, "У Вас нет денег");

						GiveMoney(playerid, -150000);
						PI[playerid][pRECIPE_BLEED] = 1;

						SendClientMessage(playerid, COLOR_BLUE, "Вы купили рецепт {FFCC00}\"Обрез\" {0099FF}за 150000 рублей");
						ShowDialogSelectRecipe(playerid);
					}
					case 2:
					{
						if(PI[playerid][pRECIPE_COMBAT_SHOTGUN] == 1)
						    return SendClientMessage(playerid, COLOR_RED, "Вы уже купили этот рецепт");

						if(PI[playerid][pCash] < 200000)
							return SendClientMessage(playerid, COLOR_RED, "У Вас нет денег");

						GiveMoney(playerid, -200000);
						PI[playerid][pRECIPE_COMBAT_SHOTGUN] = 1;

						SendClientMessage(playerid, COLOR_BLUE, "Вы купили рецепт {FFCC00}\"Боевой дробовик\" {0099FF}за 200000 рублей");
						ShowDialogSelectRecipe(playerid);
					}
				}
			}
			if(!response)
			{
                ShowDialogSelectRecipe(playerid);
			}
		}
		case DIALOG_BUY_RECIPE_GUNS_4:
		{
			if(response)
			{
				switch(listitem)
				{
					case 0:
					{
						if(PI[playerid][pRECIPE_AK47] == 1)
						    return SendClientMessage(playerid, COLOR_RED, "Вы уже купили этот рецепт");

						if(PI[playerid][pCash] < 200000)
							return SendClientMessage(playerid, COLOR_RED, "У Вас нет денег");

						GiveMoney(playerid, -200000);
						PI[playerid][pRECIPE_AK47] = 1;

						SendClientMessage(playerid, COLOR_BLUE, "Вы купили рецепт {FFCC00}\"AK-47\" {0099FF}за 200000 рублей");
						ShowDialogSelectRecipe(playerid);
					}
					case 1:
					{
						if(PI[playerid][pRECIPE_M4] == 1)
						    return SendClientMessage(playerid, COLOR_RED, "Вы уже купили этот рецепт");

						if(PI[playerid][pCash] < 300000)
							return SendClientMessage(playerid, COLOR_RED, "У Вас нет денег");

						GiveMoney(playerid, -300000);
						PI[playerid][pRECIPE_M4] = 1;

						SendClientMessage(playerid, COLOR_BLUE, "Вы купили рецепт {FFCC00}\"M4\" {0099FF}за 300000 рублей");
						ShowDialogSelectRecipe(playerid);
					}
				}
			}
			if(!response)
			{
                ShowDialogSelectRecipe(playerid);
			}
		}
		case DIALOG_BUY_RECIPE_GUNS_5:
		{
			if(response)
			{
				switch(listitem)
				{
					case 0:
					{
						if(PI[playerid][pRECIPE_COUNTRY_RIFLE] == 1)
						    return SendClientMessage(playerid, COLOR_RED, "Вы уже купили этот рецепт");

						if(PI[playerid][pCash] < 150000)
							return SendClientMessage(playerid, COLOR_RED, "У Вас нет денег");

						GiveMoney(playerid, -150000);
						PI[playerid][pRECIPE_COUNTRY_RIFLE] = 1;

						SendClientMessage(playerid, COLOR_BLUE, "Вы купили рецепт {FFCC00}\"Contry Rifle\" {0099FF}за 150000 рублей");
						ShowDialogSelectRecipe(playerid);
					}
					case 1:
					{
						if(PI[playerid][pRECIPE_SNIPER_RIFLE] == 1)
						    return SendClientMessage(playerid, COLOR_RED, "Вы уже купили этот рецепт");

						if(PI[playerid][pCash] < 300000)
							return SendClientMessage(playerid, COLOR_RED, "У Вас нет денег");

						GiveMoney(playerid, -300000);
						PI[playerid][pRECIPE_SNIPER_RIFLE] = 1;

						SendClientMessage(playerid, COLOR_BLUE, "Вы купили рецепт {FFCC00}\"Sniper Rifle\" {0099FF}за 300000 рублей");
						ShowDialogSelectRecipe(playerid);
					}
				}
			}
			if(!response)
			{
                ShowDialogSelectRecipe(playerid);
			}
		}
		case DIALOG_BUY_RECIPE_GUNS_6:
		{
			if(response)
			{
				switch(listitem)
				{
					case 0:
					{
						if(PI[playerid][pRECIPE_SMOKE_GRENADE] == 1)
						    return SendClientMessage(playerid, COLOR_RED, "Вы уже купили этот рецепт");

						if(PI[playerid][pCash] < 150000)
							return SendClientMessage(playerid, COLOR_RED, "У Вас нет денег");

						GiveMoney(playerid, -150000);
						PI[playerid][pRECIPE_SMOKE_GRENADE] = 1;

						SendClientMessage(playerid, COLOR_BLUE, "Вы купили рецепт {FFCC00}\"Дымовая граната\" {0099FF}за 150000 рублей");
						ShowDialogSelectRecipe(playerid);
					}
					case 1:
					{
						if(PI[playerid][pRECIPE_COCTAIL_MOLOTOV] == 1)
						    return SendClientMessage(playerid, COLOR_RED, "Вы уже купили этот рецепт");

						if(PI[playerid][pCash] < 300000)
							return SendClientMessage(playerid, COLOR_RED, "У Вас нет денег");

						GiveMoney(playerid, -300000);
						PI[playerid][pRECIPE_COCTAIL_MOLOTOV] = 1;

						SendClientMessage(playerid, COLOR_BLUE, "Вы купили рецепт {FFCC00}\"Коктейль молотова\" {0099FF}за 300000 рублей");
						ShowDialogSelectRecipe(playerid);
					}
					case 2:
					{
						if(PI[playerid][pRECIPE_GRENADE] == 1)
						    return SendClientMessage(playerid, COLOR_RED, "Вы уже купили этот рецепт");

						if(PI[playerid][pCash] < 600000)
							return SendClientMessage(playerid, COLOR_RED, "У Вас нет денег");

						GiveMoney(playerid, -600000);
						PI[playerid][pRECIPE_GRENADE] = 1;

						SendClientMessage(playerid, COLOR_BLUE, "Вы купили рецепт {FFCC00}\"Взрывчатая граната\" {0099FF}за 300000 рублей");
						ShowDialogSelectRecipe(playerid);
					}
				}
			}
			if(!response)
			{
                ShowDialogSelectRecipe(playerid);
			}
		}
  case D_TEMPRABOTA:
		{
       		if(response)
			{
				switch(listitem)
				{
   	    			case 0:
	    			{
						SendClientMessage(playerid, COLOR_BLUE, "Вы уволились с работы");
						PI[playerid][pJob] = 0;
					}
	    			case 1:
	    			{
						SendClientMessage(playerid, COLOR_BLUE, "Вы устроились на работу маршрутчика");
						PI[playerid][pJob] = JOB_BUS;
	    			}
	    			case 2:
	    			{
						SendClientMessage(playerid, COLOR_BLUE, "Вы устроились на работу таксиста");
						PI[playerid][pJob] = JOB_TAXI;
	    			}
	    			case 3:
	    			{
						SendClientMessage(playerid, COLOR_BLUE, "Вы устроились на работу дальнобойщика");
						PI[playerid][pJob] = JOB_TRUCKER;
					}
  					case 4:
	    			{
						SendClientMessage(playerid, COLOR_BLUE, "Вы устроились на работу автомеханика");
						PI[playerid][pJob] = JOB_MECHANIC;
					}
	    		}
			}
			SaveAccount(playerid);
        }
  case D_GPS:
		{
			if(!response) return 1;
			new locname[1024], Float:X, Float:Y, Float:Z;
			switch(listitem)
			{
			    case 0: ShowPlayerDialog(playerid, 10001, DIALOG_STYLE_LIST, "{FFCC00}Общественные места", "{FFCC00}1. {ffffff}Пляж\n{FFCC00}2. {ffffff}Военкомат г. Арзамас\n{FFCC00}3. {ffffff}Военкомат пгт. Батырево\n{FFCC00}4. {ffffff}Концертный зал г. Арзамас\n{FFCC00}5. {ffffff}Концертный зал г. Южный (клуб 8 bit)\n{FFCC00}6. {ffffff}Автовокзал пгт. Батырево\n{FFCC00}7. {ffffff}Автовокзал г. Арзамас\n{FFCC00}8. {ffffff}Ж/Д Вокзал г. Южный\n{FFCC00}10. {ffffff}Автосалон г. Арзамас\n{FFCC00}11. {ffffff}Автосалон г. Южный\n{FFCC00}12. {ffffff}Автошкола\n{FFCC00}13. {ffffff}Стадион г. Арзамас\n{FFCC00}14. {ffffff}Банк г. Арзамас\n{FFCC00}15. {ffffff}Банк г. Южный\n{FFCC00}16. {ffffff}Банк пгт. Батырево\n{FFCC00}18. {ffffff}Анашан\n{FFCC00}19. {ffffff}Церковь г. Южный\n{FFCC00}20. {ffffff}Церковь г. Южный\n{FFCC00}21. {ffffff}Церковь с. Роговичи\
				\n{FFCC00}24.{ffffff} Церковь г. Бусаево\n{FFCC00}25.{ffffff} Церковь пгт. Батырево\n{FFCC00}26.{ffffff} Штрафстоянка\n{FFCC00}27.{ffffff} Причал для ловли рыбы\n{FFCC00}28.{ffffff} Рынок", "Выбрать", "Назад");
                case 1:	ShowPlayerDialog(playerid, 10002, DIALOG_STYLE_LIST, "{FFCC00}Подработки", "{FFCC00}1. {ffffff}Лесорубы {0099FF}\t\tпгт. Батырево\n{FFCC00}2. {ffffff}Шахта{0099FF}\t\tпгт. Батырево\n{FFCC00}3. {ffffff}Грузчики{0099FF}\t\tп. Гарель\n{FFCC00}4. {ffffff}Водолазы{0099FF}\t\tг. Южный (3 ур.)\n{FFCC00}5. {ffffff}Ферма{0099FF}\t\tп. Роговичи\n{FFCC00}6. {ffffff}Грузчики{0099FF}\t\tГарель", "Выбрать", "Назад");
                case 2: ShowPlayerDialog(playerid, 10003, DIALOG_STYLE_LIST, "{FFCC00}Развлечения", "{FFCC00}1. {ffffff}Регистрация на пейнтбол\n{FFCC00}2. {ffffff}Мотогонки\n{FFCC00}3. {ffffff}Гонки на картингах\n{FFCC00}4. {ffffff}Заплыв (пляж)\n{FFCC00}5. {ffffff}Прогулка на вертолете\n{FFCC00}6. {ffffff}Прогулка на лодке\n{FFCC00}7. {ffffff}Парашютный клуб г. Арзамас\n{FFCC00}8. {ffffff}Парашютный клуб пгт. Батырево\n{FFCC00}9. {ffffff}Парашютный клуб г. Южный\n{FFCC00}10. {ffffff}Дерби\n{FFCC00}11. {ffffff}Забег (стадион)\n{FFCC00}12. {ffffff}Гонки на лодках\n{FFCC00}13. {ffffff}Арена", "Выбрать", "Назад");
				case 3: ShowPlayerDialog(playerid, 10004, DIALOG_STYLE_LIST, "{FFCC00}Организации", "{FFCC00}1. {ffffff}Администрация Области\n{FFCC00}2. {ffffff}Полиция (отдел ППС)\n{FFCC00}3. {ffffff}Полиция (отдел ДПС)\n{FFCC00}4.{ffffff} Федеральная Служба Безопасности\n{FFCC00}5.{ffffff} Воинская Часть\n{FFCC00}6.{ffffff} Центральная Больница\n{FFCC00}7.{ffffff} Средство Массовой Информации (г. Арзамас)\n{FFCC00}8.{ffffff} Средство Массовой Информации (г. Южный)", "Выбрать", "Назад");
				case 4: ShowPlayerDialog(playerid, 10005, DIALOG_STYLE_LIST, "{FFCC00}Нелегальные организации", "{FFCC00}1. {ffffff}ОПГ Южная\n{FFCC00}2. {ffffff}ОПГ Ореховская\n{FFCC00}3. {ffffff}ОПГ Солнцевская\n{FFCC00}4.{ffffff} Чеченская мафия", "Выбрать", "Назад");
				case 5: ShowPlayerDialog(playerid, 10006, DIALOG_STYLE_LIST, "{FFCC00}Бизнесы", "{ffffff}Столовая\nМагазин 24/7\nПродукты 24/7\nСТО\nСтоловая \"Батырчик\"\nАЗС \"У Батырево\"\nКазино г. Южный\nСТО\nСпортзал \"Качок-петушок\"\nМини-маркет 24/7\nКазино г. Арзамас\nМагазин 24/7\nСТО\nПродукты 24/7\nНотариус\nАгенство недвижимости\nАгенство недвижимости\nСпортзал \"Бей мусаров\"\nМагазин одежды\nМагазин одежды\nМагазин одежды\nПродукты 24/7", "Выбрать", "Назад");
				case 6: ShowPlayerDialog(playerid, 10007, DIALOG_STYLE_LIST, "{FFCC00}Ближайшие объекты", "{FFCC00}1.{FFCC00} Ближайшая АЗС\n{FFCC00}2. {FFCC00}Ближайший 24/7\n{FFCC00}3. {ffffff}Ближайший банкомат\n{FFCC00}4.{ffffff} Ближайший туалет", "Выбрать", "Назад");
				case 7: ShowPlayerDialog(playerid, 10008, DIALOG_STYLE_LIST, "{FFCC00}Работы", "{FFCC00}1. {ffffff}Стоянка маршруток\t\t{0099FF}пгт. Батырево\n{FFCC00}2. {ffffff}Стоянка маршруток\t\t{0099FF}г. Южный\n{FFCC00}3. {ffffff}Стоянка маршруток\t\t{0099FF}г. Арзамас\n{FFCC00}4. {ffffff}База механиков\t\t{0099FF}пгт. Батырево\n{FFCC00}5. {ffffff}Стоянка маршруток\t\t{0099FF}г. Южный\n{FFCC00}6. {ffffff}База механиков\t\t{0099FF}г. Арзамас\n{FFCC00}7. {ffffff}База МЧС\t\t{0099FF}пгт. Батырево\n{FFCC00}8. {ffffff}База дальнобойщиков\n{FFCC00}9. {ffffff}Склад товаров\n{FFCC00}10. {ffffff}База развозчиков\n{FFCC00}11. {ffffff}Поезд с патронами\t{0099FF}Для армии\n{FFCC00}12. {ffffff}Железнодорожное депо\n{FFCC00}13. {ffffff}Свалка №1\n{FFCC00}14. {ffffff}Свалка №2\n{FFCC00}15. {ffffff}Стоянка инкассаторов\t\t{0099FF}г. Южный\n{FFCC00}16. {ffffff}Стоянка инкассаторов\t\t{0099FF}г. Арзамас\n{FFCC00}17. {ffffff}Стоянка мусоровозов\t\t{0099FF}г. Арзамас\
				\n{FFCC00}19. {ffffff}Стоянка мусоровозов\t\t{0099FF}г. Южный\n{FFCC00}20. {ffffff}Стоянка уборщиков улиц\t\t{0099FF}г. Южный\n{FFCC00}21. {ffffff}Стоянка уборщиков улиц\t\t{0099FF}пгт. Батырево\n{FFCC00}22. {ffffff}Таксопарки\n{FFCC00}23. {ffffff}Космодром\n{FFCC00}24. {ffffff}Топливный склад", "Выбрать", "Назад");
				case 8: ShowPlayerDialog(playerid, 10009, DIALOG_STYLE_LIST, "{FFCC00}Районы области", "{FFCC00}1. {ffffff}Арзамас\n{FFCC00}2. {ffffff}г. Южный\n{FFCC00}3. {ffffff}пгт. Батырево\n{FFCC00}4. {ffffff}д. Гарель\n{FFCC00}5. {ffffff}г. Эдово\n{FFCC00}6. {ffffff}г. Лыткарино\n{FFCC00}7. {ffffff}р-н Нижегородск (Кремль)\n{FFCC00}8. {ffffff}с. Роговичи\n{FFCC00}9. {ffffff}Рублевка г. Южный\n{FFCC00}10. {ffffff}Рублевка г. Арзамас\n{FFCC00}11. {ffffff}Областной порт", "Выбрать", "Назад");
			}
			if(listitem > 8) GPSPlayer_(playerid, X, Y, Z, locname);
			return 1;
		}
		case 10003:
		{
			if(!response) return callcmd::gps(playerid, inputtext);
			new locname[30], Float:X, Float:Y, Float:Z;
			switch(listitem)
			{
				case 0: X = 2436.6392, Y = -1914.3640, Z = 22.0043, locname = "Регистрация на Пейнтбол";
				case 1: X = 1913.7758, Y = 2183.2507, Z = 15.7060, locname = "Мотогонки";
				case 2: X = -286.6531, Y = 578.0708, Z = 12.8447, locname = "Гонки на картингах";
				case 3: X = 1895.3615, Y = 1722.2618, Z = 15.7717, locname = "Заплыв (пляж)";
				case 4: X = 1795.7133, Y = 2046.0565, Z = 15.8691, locname = "Прогулка на вертолете";
				case 5: X = 2581.9688, Y = -2415.3818, Z = 21.9879, locname = "Прогулка на лодке";
				case 6: X = 2581.9688, Y = -2415.3818, Z = 21.9879, locname = "Парашютный клуб г. Арзамас";
				case 7: X = 2581.9688, Y = -2415.3818, Z = 21.9879, locname = "Парашютный клуб пгт. Батырево";
				case 8: X = 2581.9688, Y = -2415.3818, Z = 21.9879, locname = "Парашютный клуб г. Южный";
				case 9: X = 2581.9688, Y = -2415.3818, Z = 21.9879, locname = "Дерби";
				case 10: X = 2581.9688, Y = -2415.3818, Z = 21.9879, locname = "Забег (стадион)";
				case 11: X = 2581.9688, Y = -2415.3818, Z = 21.9879, locname = "Гонки на лодках";
				case 12: X = 2581.9688, Y = -2415.3818, Z = 21.9879, locname = "Арена";
			}
			GPSPlayer_(playerid, X, Y, Z, locname);
			return 1;
		}
		case 10004:
		{
		    if(!response) return callcmd::gps(playerid,inputtext);
			new locname[100], Float:X, Float:Y, Float:Z;
			switch(listitem)
			{
			    case 0: X = 1923.1288, Y = -2235.0562, Z = 11.2581, locname = "Администрация Области"; // GPS AO
				case 1: X = 405.0315, Y = 756.8331, Z = 12.0700, locname = "Полиция (отдел ППС)";
				case 2: X = 2578.6694, Y = -2416.6538, Z = 21.9888, locname = "Полиция (отдел ДПС)";
				case 3: X = 812.8378, Y = 2435.0642, Z = 12.2100, locname = "Федеральная Служба Безопаности";
				case 4: X = 1736.9955, Y = 1763.2067, Z = 15.3263, locname = "Воинская Часть";
				case 5: X = 2089.9868, Y = -2395.3284, Z = 21.9430, locname = "Центральная Больница";
				case 6: X = -318.1783, Y = 823.2277, Z = 13.0635, locname = "Средство Массовой Информации г. Арзамас";
				case 7: X = 2127.4338, Y = -1956.5875, Z = 20.2422, locname = "Средство Массовой Информации г. Южный";
			}
			GPSPlayer_(playerid, X, Y, Z, locname);
			return 1;
		}
		case 10001:
        {
 			if(!response) return callcmd::gps(playerid, inputtext);
 			new locname[100], Float:X, Float:Y, Float:Z;
			switch(listitem)
			{
			    case 0: X = 2703.3530, Y = 2050.6687, Z = 12.0683, locname = "Пляж";
			    case 1: X = -396.2647, Y = 596.3719, Z = 12.0010, locname = "Военкомат г. Арзамас";
				case 2: X = 1913.5386, Y = 2300.3440, Z = 15.5697, locname = "Военкомат пгт. Батырево";
			    case 3: X = 207.0892, Y = 24.1166, Z = 12.4385, locname = "Концертный зал г. Арзамас";
			    case 4: X = 2549.7639, Y = -2198.8774, Z = 21.9627, locname = "Концертный зал г. Южный (клуб 8 bit)";
			    case 5: X = 1904.1274, Y = 2084.0317, Z = 15.7053, locname = "Автовокзал пгт. Батырево";
			    case 6: X = 409.6475, Y = 1562.7699, Z = 12.0400, locname = "Автовокзал г. Арзамас";
			    case 7: X = 2521.1709, Y = -2126.5791, Z = 21.9640, locname = "Ж/Д вокзал г. Южный";
			    case 8: X = 653.4518, Y = 980.8691, Z = 12.0600, locname = "Автосалон г. Арзамас";
			    case 9: X = 2321.4395, Y = -1804.1813, Z = 22.4540, locname = "Автосалон г. Южный";
			    case 10: X = 2185.1606, Y = -2195.9888, Z = 22.0478, locname = "Автошкола";
			    case 11: X = -119.4131, Y = 360.5742, Z = 12.9856, locname = "Стадион г. Арзамас";
			    case 12: X = 446.7626, Y = 603.1105, Z = 12.0000, locname = "Банк г. Арзамас";
			    case 13: X = 2376.7109, Y = -2143.1892, Z = 21.9571, locname = "Банк г. Южный";
			    case 14: X = 1853.6174, Y = 2043.1251, Z = 15.8850, locname = "Банк пгт. Батырево";
			    case 15: X = 2475.8735, Y = -736.3178, Z = 12.0969, locname = "Анашан";
			    case 16: X = 2675.9204, Y = -2534.8667, Z = 21.8659, locname = "Церковь г. Южный";
			    case 17: X = 1912.7196, Y = 2301.6548, Z = 15.6633, locname = "Церковь с. Роговичи";
			    case 18: X = 1912.7196, Y = 2301.6548, Z = 15.6633, locname = "Церковь г. Бусаево";
			    case 19: X = 1912.7196, Y = 2301.6548, Z = 15.6633, locname = "Церковь пгт. Батырево";
			    case 20: X = 1912.7196, Y = 2301.6548, Z = 15.6633, locname = "Штрафстоянка";
			    case 21: X = 1912.7196, Y = 2301.6548, Z = 15.6633, locname = "Причал для ловли рыбы";
			    case 22: X = 1912.7196, Y = 2301.6548, Z = 15.6633, locname = "Рынок";
			}
			GPSPlayer_(playerid, X, Y, Z, locname);
			return 1;
		}
		case 10005:
        {
 			if(!response) return callcmd::gps(playerid, inputtext);
 			new locname[32], Float:X, Float:Y, Float:Z;
			switch(listitem)
			{
			    case 0: X = 2050.1042, Y = -2587.5776, Z = 10.8149, locname = "ОПГ Южная";
			    case 1: X = 2622.9934, Y = 1772.8123, Z = 2.5900, locname = "ОПГ Ореховская";
   				case 2: X = -44.9701, Y = 1517.1692, Z = 13.8203, locname = "ОПГ Солнцевская";
   				case 3: X = 1944.3744, Y = 2181.4910, Z = 15.7100, locname = "Чеченская Мафия";
			}
			GPSPlayer_(playerid, X, Y, Z, locname);
			return 1;
		}
		case 10006:
        {
 			if(!response) return callcmd::gps(playerid, inputtext);
 			new locname[1024], Float:X, Float:Y, Float:Z;
			switch(listitem)
			{
			    case 0: X = 1850.2355, Y = 2198.4666, Z = 15.8359, locname = "Продукты 24/7";
			    case 1: X = 2067.1851,  Y = 1884.0758, Z = 15.9428, locname = "СТО";
   				case 2: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "Продукты 24/7";
   				case 3: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "Магазин 24/7";
   				case 4: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "АЗС \"У Батырево\"";
   				case 5: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "Продукты 24/7";
   				case 6: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "Продукты 24/7";
   				case 7: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "Продукты 24/7";
   				case 8: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "Продукты 24/7";
   				case 9: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "Столовая \"Бухаевка\"";
   				case 10: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "АЗС \"Южная\"";
   				case 11: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "СТО";
   				case 12: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "Казино г. Южный";
   				case 13: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "Магазин 24/7";
   				case 14: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "Аптека";
   				case 15: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "Магазин 24/7";
   				case 16: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "АЗС \"Железнодорожная\"";
   				case 17: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "Магазин 24/7";
   				case 18: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "Продукты 24/7";
   				case 19: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "СТО";
   				case 20: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "Магазин 24/7";
   				case 21: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "Спортзал \"Качок-петушок\"";
   				case 22: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "Ком. клуб \"Метла\"";
   				case 23: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "Магазин 24/7";
   				case 24: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "АЗС \"АЗСмас\"";
   				case 25: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "СТО";
   				case 26: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "Базар \"Алтынь\"";
   				case 27: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "Казино г. Арзамас";
   				case 28: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "Магазин 24/7";
   				case 29: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "24/7 | АНТЕЙ";
   				case 30: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "Продукты 24/7";
   				case 31: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "АЗС \"У Дальнобоя\"";
   				case 32: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "Магазин 24/7";
   				case 33: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "Продукты \"Юность\"";
   				case 34: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "Аптека \"Наш Доктор\"";
   				case 35: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "Продукты";
   				case 36: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "24/7 | Версетти";
   				case 37: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "СТО | Чинкахуинка";
   				case 38: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "СТО";
   				case 39: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "Продукты 24/7";
   				case 40: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "Комп. клуб \"ЯзАдРоТ\"";
   				case 41: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "Аптека";
   				case 42: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "Нотариус";
   				case 43: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "Агенство недвижимости";
   				case 44: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "Агенство недвижимости";
   				case 45: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "Нотариус";
   				case 46: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "Магазин 24/7";
   				case 47: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "Спортзал \"Бей мусаров\"";
   				case 48: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "Комп. клуб \"Амазинг\"";
   				case 49: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "Столовая";
   				case 50: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "Аптека";
   				case 51: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "Аптека";
   				case 52: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "Аптека";
   				case 53: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "Магазин одежды";
   				case 54: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "Банька-парилка";
   				case 55: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "Магазин одежды";
   				case 56: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "Баня";
   				case 57: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "Магазин одежды";
   				case 58: X = 1911.6057, Y = 1684.7407, Z = 15.8325, locname = "Продукты 24/7";
			}
			GPSPlayer_(playerid, X, Y, Z, locname);
			return 1;
		}
		case 10222:
        {
 			if(!response) return callcmd::gps(playerid, inputtext);
 			new locname[30], Float:X, Float:Y, Float:Z;
			switch(listitem)
			{
				case 0: X = 552.5573, Y = -1278.3199, Z = 17.2482, locname = "Автосалон Los Santos";
				case 1: X = -1973.6605, Y = 288.4330, Z = 35.1719, locname = "Автосалон San Fierro";
				case 2: X = 2467.4592, Y = 1323.8057, Z = 10.7980, locname = "Автосалон Las Venturas";
				case 3: X = 2128.2168, Y = -1132.3344, Z = 25.5627, locname = "Мотосалон Los Santos";
				case 4: X = 2446.4431, Y = 2376.1890, Z = 12.1635, locname = "Пункт выдачи номеров";
				case 5: X = 972.8504, Y = -1257.3068, Z = 16.9538, locname = "Тюнинг Los Santos";
				case 6: X = -1935.9734, Y = 235.3671, Z = 34.3125, locname = "Тюнинг San Fierro";
				case 7: X = 2386.954101, Y = 1037.186279, Z = 10.820312, locname = "Тюнинг Las Venturas";
			}
			GPSPlayer_(playerid, X, Y, Z, locname);
			return 1;
		}
		case 10007:
		{
		    if(!response) return callcmd::gps(playerid, inputtext);
	 		new locname[30], Float:X, Float:Y, Float:Z;
		    switch(listitem)
		    {
		        case 0:
				{
				    new max_distance = 100000;
					new id_bizz = -1;
					new vehicleid = GetPlayerVehicleID(playerid);
				    for(new i = 1; i <= TOTALBIZZ; i++)
				    {
				        if(BizzInfo[i][bType] != 2) continue;
				        new here_distance =
							(!IsPlayerInAnyVehicle(playerid)) ?
							floatround(GetPlayerDistanceFromPoint(playerid, BizzInfo[i][bEntrx], BizzInfo[i][bEntry], BizzInfo[i][bEntrz])) :
							floatround(GetVehicleDistanceFromPoint(vehicleid, BizzInfo[i][bEntrx], BizzInfo[i][bEntry], BizzInfo[i][bEntrz]));
				        if(here_distance < max_distance)
						{
							id_bizz = i;
							max_distance = here_distance;
						}
					}
					if(max_distance == -1 || id_bizz == -1) return 1;
					X = BizzInfo[id_bizz][bEntrx], Y = BizzInfo[id_bizz][bEntry], Z = BizzInfo[id_bizz][bEntrz];
					strcat(locname, BizzInfo[id_bizz][bName]);
				}
    			case 1:
				{
				    new max_distance = 100000;
					new id_bizz = -1;
					new vehicleid = GetPlayerVehicleID(playerid);
				    for(new i = 1; i <= TOTALBIZZ; i++)
				    {
				        if(BizzInfo[i][bType] != 1) continue;
				        new here_distance =
							(!IsPlayerInAnyVehicle(playerid)) ?
							floatround(GetPlayerDistanceFromPoint(playerid, BizzInfo[i][bEntrx], BizzInfo[i][bEntry], BizzInfo[i][bEntrz])) :
							floatround(GetVehicleDistanceFromPoint(vehicleid, BizzInfo[i][bEntrx], BizzInfo[i][bEntry], BizzInfo[i][bEntrz]));
				        if(here_distance < max_distance)
						{
							id_bizz = i;
							max_distance = here_distance;
						}
					}
					if(max_distance == -1 || id_bizz == -1) return 1;
					X = BizzInfo[id_bizz][bEntrx], Y = BizzInfo[id_bizz][bEntry], Z = BizzInfo[id_bizz][bEntrz];
					strcat(locname, BizzInfo[id_bizz][bName]);
				}
				case 2:
				{
				    new max_distance = 100000;
					new id_atm = -1;
					new vehicleid = GetPlayerVehicleID(playerid);
				    for(new i = 1; i <= TOTALATM; i++)
				    {
				        new here_distance =
							(!IsPlayerInAnyVehicle(playerid)) ?
							floatround(GetPlayerDistanceFromPoint(playerid, ATMInfo[i][aX], ATMInfo[i][aY], ATMInfo[i][aZ])) :
							floatround(GetVehicleDistanceFromPoint(vehicleid, ATMInfo[i][aX], ATMInfo[i][aY], ATMInfo[i][aZ]));
				        if(here_distance < max_distance)
						{
							id_atm = i;
							max_distance = here_distance;
						}
					}
					if(max_distance == -1 || id_atm == -1) return 1;
					X = ATMInfo[id_atm][aX], Y = ATMInfo[id_atm][aY], Z = ATMInfo[id_atm][aZ], locname = "Ближайший банкомат";
				}
				case 3:
				{
	                //SendClientMessage(playerid, COLOR_RED, "[BETA] Сообщите разработчику чтобы доделал эту систему");
				}
		    }
		    GPSPlayer_(playerid, X, Y, Z, locname);
			return 1;
		}
		case 10008:
		{
		if(!response) return callcmd::gps(playerid, inputtext);
		new locname[590], Float:X, Float:Y, Float:Z;
		switch(listitem)
		{
			case 0: X = 1900.6174, Y = 2098.9895, Z = 15.7053, locname = "Стоянка маршруток пгт.Батырево";
			case 1: X = 2153.7222, Y = -1788.6769, Z = 18.9576, locname = "Стоянка маршруток г.Южный";
			case 2: X = 404.0653, Y = 1496.6260, Z = 12.0689, locname = "Стоянка маршруток г.Арзамас";
			case 3: X = 1744.8934, Y = 2447.9456, Z = 15.9306, locname = "База механиков пгт.Батырево";
			case 4: X = 2156.3179, Y = -1830.9398, Z = 18.8113, locname = "База механиков г.Южный";
			case 5: X = -426.2201, Y = 1028.4199, Z = 12.0010, locname = "База механиков г.Арзамас";
			case 6: X = 1811.6017, Y =2494.3550, Z = 15.6639, locname = "База МЧС пгт.Батырево";
			case 7: X = 789.4298, Y = 748.9471, Z = 12.0000, locname = "База дальнобойщиков";
			case 8: X = 2322.1501, Y = 434.9944, Z = 21.8652, locname = "Склад товаров";
			case 9: X = 2322.1501, Y = 434.9944, Z = 21.8652, locname = "База развозчиков";
			case 10: X = 2322.1501, Y = 434.9944, Z = 21.8652, locname = "Поезд патронов для армии";
			case 11: X = 2322.1501, Y = 434.9944, Z = 21.8652, locname = "Железнодорожное депо";
			case 12: X = 2322.1501, Y = 434.9944, Z = 21.8652, locname = "Свалка №1";
			case 13: X = 2322.1501, Y = 434.9944, Z = 21.8652, locname = "Свалка №2";
			case 14: X = 2322.1501, Y = 434.9944, Z = 21.8652, locname = "Стоянка инкассаторов г.Арзамас";
			case 15: X = 2322.1501, Y = 434.9944, Z = 21.8652, locname = "Стоянка инкассаторов г.Южный";
			case 16: X = 2322.1501, Y = 434.9944, Z = 21.8652, locname = "Стоянка мусоровозов г.Арзамас";
			case 17: X = 2322.1501, Y = 434.9944, Z = 21.8652, locname = "Стоянка мусоровозов г.Южный";
			case 18: X = 2322.1501, Y = 434.9944, Z = 21.8652, locname = "Стоянка уборщиков улиц г.Южный";
			case 19: X = 2322.1501, Y = 434.9944, Z = 21.8652, locname = "Стоянка уборщиков улиц г.Арзамас";
			case 20: X = 2322.1501, Y = 434.9944, Z = 21.8652, locname = "Таксопарк г.Арзамас";
			case 21: X = 2322.1501, Y = 434.9944, Z = 21.8652, locname = "Таксопарк г.Южный";
			case 22: X = 2322.1501, Y = 434.9944, Z = 21.8652, locname = "Таксопарк пгт.Батырево";
			case 23: X = 497.1562, Y = 434.9944, Z = 21.8652, locname = "Космодром";
			case 24: X = 2322.1501, Y = 434.9944, Z = 21.8652, locname = "Топливный склад";
		}
		GPSPlayer_(playerid, X, Y, Z, locname);
		return 1;
		}
	 	case 10009:
		{
		if(!response) return callcmd::gps(playerid, inputtext);
		new locname[590], Float:X, Float:Y, Float:Z;
		switch(listitem)
		{
			case 0: X = 136.0148, Y = 817.4156, Z = 11.5400, locname = "Арзамас";
			case 1: X = 2549.8933, Y = -2189.6729, Z = 21.4843, locname = "г.Южный";
			case 2: X = 1882.9934, Y = 2179.8171, Z = 15.3509, locname = "пгт.Батырево";
			case 3: X = 2817.7866, Y = -456.3621, Z = 19.4200, locname = "д.Гарель";
			case 4: X = -2346.8569, Y = 2506.1555, Z = 42.1176, locname = "г.Эдово";
			case 5: X = -2177.2844, Y = -18.3293, Z = 26.5406, locname = "г.Лыткарино";
			case 6: X = 1811.6017, Y =2494.3550, Z = 15.6639, locname = "р-н Нижегородск";
			case 7: X = 864.9855, Y = -337.2408, Z = 3.7604, locname = "с. Роговичи";
			case 9: X = 2454.3560, Y = -808.8625, Z = 12.2100, locname = "Рублевка г.Южный";
			case 10: X = -284.6338, Y = 1274.3016, Z = 12.2420, locname = "Рублевка г.Арзамас";
			case 11: X = 2322.1501, Y = 434.9944, Z = 21.8652, locname = "Областной порт";
		}
		GPSPlayer_(playerid, X, Y, Z, locname);
		return 1;
		}
		case 10002:
		{
			if(!response) return callcmd::gps(playerid, inputtext);
			SetPVarInt(playerid, "GPSWORK", 1);
			switch(listitem)
			{
			    case 0: SetPlayerMapIcon(playerid, 1, 1570.6893,2883.8989,12.1700, 11, 0, MAPICON_GLOBAL), SendClientMessage(playerid, COLOR_OMEGOV, "Место отмечено У Вас на GPS, чтобы оно отобразилось подвигайтесь"); // лесорубы пгт. Батырево
				case 1: SetPlayerMapIcon(playerid, 2, 1711.9441,1282.7200,12.2100, 11, 0, MAPICON_GLOBAL), SendClientMessage(playerid, COLOR_OMEGOV, "Место отмечено У Вас на GPS, чтобы оно отобразилось подвигайтесь"); // шахта пгт. Батырево
                case 2: SetPlayerMapIcon(playerid, 3, 2341.1208,-257.3795,1.7843, 9, 0, MAPICON_GLOBAL), SendClientMessage(playerid, COLOR_OMEGOV, "Место отмечено У Вас на GPS, чтобы оно отобразилось подвигайтесь"); // грузчики п. Гарель
                case 4: SetPlayerMapIcon(playerid, 4, 2816.5166,-1412.9590,4.2203, 9, 0, MAPICON_GLOBAL), SendClientMessage(playerid, COLOR_OMEGOV, "Место отмечено У Вас на GPS, чтобы оно отобразилось подвигайтесь"); // водолазы г. Южный (3 ур.)
                case 5: SetPlayerMapIcon(playerid, 5, 2446.4888,1448.3423,11.1600, 9, 0, MAPICON_GLOBAL), SendClientMessage(playerid, COLOR_OMEGOV, "Место отмечено У Вас на GPS, чтобы оно отобразилось подвигайтесь"); // ферма п. Роговичи
                case 6: SetPlayerMapIcon(playerid, 6, 2341.2466,-264.4943,1.5063, 9, 0, MAPICON_GLOBAL), SendClientMessage(playerid, COLOR_OMEGOV, "Место отмечено У Вас на GPS, чтобы оно отобразилось подвигайтесь"); // грузчики, Гарель
			}
			return 1;
		}
		case 10011:
		{
		    if(!response) return callcmd::gps(playerid, inputtext);
			new locname[30], Float:X, Float:Y, Float:Z;
			switch(listitem)
			{
			    case 0: X = 2165.986083, Y = 2164.813476, Z = 10.820312, locname = "Casino Mirage";
			    case 1: X = -308.2578, Y = 1538.3577, Z = 75.5625, locname = "Гонки: Пустыня LV";
			}
			GPSPlayer_(playerid, X, Y, Z, locname);
			return 1;
		}
		case D_CTO+1: // CTO
		{
			if(response)
			{
				new bizzid = GetPVarInt(playerid,"CTObizzid");
				new till = BizzInfo[bizzid][bTill];
				new string[350];
				switch(listitem)
				{
					case 0:
					{
						SendMes(playerid,COLOR_LIME,"Стоимость перекраски: %d рублей", till*5);
						ShowPlayerDialog(playerid, D_CTO+4, 1, "{FFCC00}Перекраска", "{FFFFFF}Введите основной и дополнительный цвет транспорта через запятую", "Перекрасить", "Назад");
					}
					case 1:
					{
						if(GetVehicleComponentInSlot(GetPlayerVehicleID(playerid),CARMODTYPE_HYDRAULICS) != 1087)
						{
							format(string,128,"{FFFFFF}Стоимость установки: %d рублей\nВы уверены, что хотите купить и поставить гидравлику?",till*100);
							ShowPlayerDialog(playerid,D_CTO+3,DSM,"{FFCC00}Установка гидравлики",string,"Да","Назад");
						}
						else
						{
							ShowPlayerDialog(playerid,D_CTO+3,DSM,"{FFCC00}Удаление гидравлики","{FFFFFF}Вы уверены, что хотите удалить гидравлику?","Да","Назад");
						}
					}
					case 2:
					{
						format(string,128,"1. Nitro x2\t\t[%d рублей]\n2. Nitro x5\t\t[%d рублей]\n3. Nitro x10\t\t[%d рублей]",till*80,till*150,till*300);
						ShowPlayerDialog(playerid,D_CTO+5,DIALOG_STYLE_LIST,"{FFCC00}Закись азота",string,"Купить","Назад");
					}
					case 3:
					{
						format(string,350,"1. Shadow\t\t[%d рублей]\n2. Mega\t\t\t[%d рублей]\n3. Wires\t\t[%d рублей]\n4. Classic\t\t[%d рублей]\n5. Twist\t\t\t[%d рублей]\n6. Cutter\t\t[%d рублей]\n7. Grove\t\t[%d рублей]\n8. Atomic\t\t[%d рублей]\n9. Dollar\t\t[%d рублей]\n10. Switch\t\t[%d рублей]",till*60,till*79,till*53,till*73,till*93,till*80,till*42,till*100,till*200,till*300);
						ShowPlayerDialog(playerid,D_CTO+6,DIALOG_STYLE_LIST,"{FFCC00}Смена дисков",string,"Смотреть","Назад");
					}
					case 4:
					{
						{
							new i = GetPVarInt(playerid,"CTObizzid");
							{
								if(GetMoney(playerid) < till*100) return SendClientMessage(playerid, COLOR_RED, "Недостаточно средств!"),ShowSTODialog(playerid);
								TransferMoney(playerid, -1, till*100);
								if(BizzInfo[i][bProduct] > 0)
								{
									BizzInfo[i][bMoney] += till*100;
									BizzInfo[i][bProduct] -= 100;
									BizzPay[i] += till*100;
									MysqlUpdateBizzInt(i, "money", BizzInfo[i][bMoney]);
									MysqlUpdateBizzInt(i, "product", BizzInfo[i][bProduct]);
								}
							}
							RepairVehicle(GetPlayerVehicleID(playerid));
							ShowSTODialog(playerid);
						}
					}
				}
			}
			else
			{
				DeletePVar(playerid,"UsedCTO");
				TogglePlayerControllable(playerid,true);
			}
		}
	case D_CTO+15:
		{
			if(response)
			{
				new i = GetPVarInt(playerid,"CTObizzid");
				new till = BizzInfo[i][bTill];
				new tune[2], c = GetPlayerVehicleID(playerid);
				if(GetVehicleModel(c) == 562) tune[0] = 1146, tune[1] = 1147;
				else if(GetVehicleModel(c) == 560) tune[0] = 1138, tune[1] = 1139;
				else if(GetVehicleModel(c) == 565) tune[0] = 1049, tune[1] = 1050;
				else if(GetVehicleModel(c) == 561) tune[0] = 1058, tune[1] = 1060;
				else if(GetVehicleModel(c) == 559) tune[0] = 1158, tune[1] = 1162;
				else if(GetVehicleModel(c) == 558) tune[0] = 1063, tune[1] = 1064;
				else return SendClientMessage(playerid, COLOR_RED, "Данная деталь 'Спойлер' недоступна для Вашей модели"),ShowSTODialog(playerid);
				AddVehicleComponent(c, tune[listitem]);
				SetPVarInt(playerid,"PriceCTO",till*25);
				SetPVarInt(playerid,"ComponentCTO",tune[listitem]);
				SetPVarInt(playerid,"ProductCTO",25);
				new string[128];
				format(string,128,"{FFFFFF}Стоимость этой запчасти: %d\nВы надумали с покупкой?",till*79);
				ShowPlayerDialog(playerid,D_CTO+12,DSM,"{FFCC00}Подтверждение покупки",string,"Купить","Отмена");
			}
			else ShowSTODialog(playerid);
		}
	case D_CTO+16:
		{
			if(response)
			{
				new i = GetPVarInt(playerid,"CTObizzid");
				new till = BizzInfo[i][bTill];
				new tune[2], c = GetPlayerVehicleID(playerid);
				if(GetVehicleModel(c) == 562) tune[0] = 1171, tune[1] = 1172;
				else if(GetVehicleModel(c) == 560) tune[0] = 1169, tune[1] = 1170;
				else if(GetVehicleModel(c) == 575) tune[0] = 1174, tune[1] = 1175;
				else if(GetVehicleModel(c) == 565) tune[0] = 1152, tune[1] = 1153;
				else if(GetVehicleModel(c) == 561) tune[0] = 1155, tune[1] = 1157;
				else if(GetVehicleModel(c) == 559) tune[0] = 1160, tune[1] = 1173;
				else if(GetVehicleModel(c) == 558) tune[0] = 1165, tune[1] = 1166;
				else if(GetVehicleModel(c) == 534) tune[0] = 1179, tune[1] = 1185;
				else if(GetVehicleModel(c) == 536) tune[0] = 1181, tune[1] = 1182;
				else if(GetVehicleModel(c) == 535) tune[0] = 1188, tune[1] = 1189;
				else if(GetVehicleModel(c) == 576) tune[0] = 1190, tune[1] = 1191;
				else return SendClientMessage(playerid, COLOR_RED, "Данная деталь 'Передний бампер' недоступна для Вашей модели"),ShowSTODialog(playerid);
				AddVehicleComponent(c, tune[listitem]);
				SetPVarInt(playerid,"PriceCTO",till*25);
				SetPVarInt(playerid,"ComponentCTO",tune[listitem]);
				SetPVarInt(playerid,"ProductCTO",25);
				new string[128];
				format(string,128,"{FFFFFF}Стоимость этой запчасти: %d\nВы надумали с покупкой?",till*25);
				ShowPlayerDialog(playerid,D_CTO+12,DSM,"{FFCC00}Подтверждение покупки",string,"Купить","Отмена");
			}
			else ShowSTODialog(playerid);
		}
	case D_CTO+17:
		{
			if(response)
			{
				new i = GetPVarInt(playerid,"CTObizzid");
				new till = BizzInfo[i][bTill];
				new tune[2], c = GetPlayerVehicleID(playerid);
				if(GetVehicleModel(c) == 562) tune[0] = 1148, tune[1] = 1149;
				else if(GetVehicleModel(c) == 560) tune[0] = 1140, tune[1] = 1141;
				else if(GetVehicleModel(c) == 575) tune[0] = 1176, tune[1] = 1177;
				else if(GetVehicleModel(c) == 565) tune[0] = 1150, tune[1] = 1151;
				else if(GetVehicleModel(c) == 561) tune[0] = 1154, tune[1] = 1156;
				else if(GetVehicleModel(c) == 559) tune[0] = 1159, tune[1] = 1161;
				else if(GetVehicleModel(c) == 558) tune[0] = 1167, tune[1] = 1168;
				else if(GetVehicleModel(c) == 534) tune[0] = 1178, tune[1] = 1180;
				else if(GetVehicleModel(c) == 536) tune[0] = 1183, tune[1] = 1184;
				else if(GetVehicleModel(c) == 535) tune[0] = 1186, tune[1] = 1187;
				else if(GetVehicleModel(c) == 576) tune[0] = 1192, tune[1] = 1193;
				else return SendClientMessage(playerid, COLOR_RED, "Данная деталь 'Задний бампер' недоступна для Вашей модели"),ShowSTODialog(playerid);
				AddVehicleComponent(c, tune[listitem]);
				SetPVarInt(playerid,"PriceCTO",till*25);
				SetPVarInt(playerid,"ComponentCTO",tune[listitem]);
				SetPVarInt(playerid,"ProductCTO",25);
				new string[128];
				format(string,128,"{FFFFFF}Стоимость этой запчасти: %d\nВы надумали с покупкой?",till*79);
				ShowPlayerDialog(playerid,D_CTO+12,DSM,"{FFCC00}Подтверждение покупки",string,"Купить","Отмена");
			}
			else ShowSTODialog(playerid);
		}
	case D_CTO+18:
		{
			if(response)
			{
				new i = GetPVarInt(playerid,"CTObizzid");
				new till = BizzInfo[i][bTill];
				new tune[4], c = GetPlayerVehicleID(playerid);
				if(GetVehicleModel(c) == 562) tune[0] = 1041, tune[1] = 1036, tune[2] = 1039, tune[3] = 1040;
				else if(GetVehicleModel(c) == 560) tune[0] = 1031, tune[1] = 1026, tune[2] = 1030, tune[3] = 1027;
				else if(GetVehicleModel(c) == 575) { SendClientMessage(playerid, COLOR_RED, "Невозможно прикрепить боковые юбки к данному транспорту!"); return ShowSTODialog(playerid); }
				else if(GetVehicleModel(c) == 565) tune[0] = 1048, tune[1] = 1047, tune[2] = 1039, tune[3] = 1040;
				else if(GetVehicleModel(c) == 561) tune[0] = 1057, tune[1] = 1056, tune[2] = 1063, tune[3] = 1062;
				else if(GetVehicleModel(c) == 559) tune[0] = 1070, tune[1] = 1069, tune[2] = 1072, tune[3] = 1071;
				else if(GetVehicleModel(c) == 558) tune[0] = 1095, tune[1] = 1090, tune[2] = 1093, tune[3] = 1194;
				else if(GetVehicleModel(c) == 534) tune[0] = 1106, tune[1] = 1101, tune[2] = 1124, tune[3] = 1122;
				else if(GetVehicleModel(c) == 536) tune[0] = 1108, tune[1] = 1107, tune[2] = 1108, tune[3] = 1107;
				else if(GetVehicleModel(c) == 535) tune[0] = 1119, tune[1] = 1121, tune[2] = 1121, tune[3] = 1120;
				else if(GetVehicleModel(c) == 576) tune[0] = 1134, tune[1] = 1137, tune[2] = 1134, tune[3] = 1137;
				else return SendClientMessage(playerid, COLOR_RED, "Данная деталь 'Боковые Юбки' недоступна для Вашей модели"),ShowSTODialog(playerid);
				AddVehicleComponent(c, tune[listitem]);
				//AddVehicleComponent(c, tune[listitem+2]);
				SetPVarInt(playerid,"PriceCTO",till*25);
				SetPVarInt(playerid,"ComponentCTO",tune[listitem]);
				SetPVarInt(playerid,"ComponentCTO2", tune[listitem+2]);
				SetPVarInt(playerid,"ProductCTO",25);
				new string[128];
				format(string,128,"{FFFFFF}Стоимость этой запчасти: %d\nВы надумали с покупкой?",till*79);
				ShowPlayerDialog(playerid,D_CTO+12,DSM,"{FFCC00}Подтверждение покупки",string,"Купить","Отмена");
			}
			else ShowSTODialog(playerid);
		}
	case D_CTO+19:
		{
			if(response)
			{
				new i = GetPVarInt(playerid,"CTObizzid");
				new till = BizzInfo[i][bTill];
				new tune[2], c = GetPlayerVehicleID(playerid);
				if(GetVehicleModel(c) == 562) tune[0] = 1035, tune[1] = 1038;
				else if(GetVehicleModel(c) == 560) tune[0] = 1032, tune[1] = 1033;
				else if(GetVehicleModel(c) == 575) { SendClientMessage(playerid, COLOR_RED, "Невозможно прикрепить крышу к данному транспорту!"); return ShowSTODialog(playerid); }
				else if(GetVehicleModel(c) == 565) tune[0] = 1053, tune[1] = 1054;
				else if(GetVehicleModel(c) == 561) tune[0] = 1055, tune[1] = 1061;
				else if(GetVehicleModel(c) == 559) tune[0] = 1067, tune[1] = 1068;
				else if(GetVehicleModel(c) == 558) tune[0] = 1088, tune[1] = 1091;
				else if(GetVehicleModel(c) == 534) { SendClientMessage(playerid, COLOR_RED, "Невозможно прикрепить крышу к данному транспорту!"); return ShowSTODialog(playerid); }
				else if(GetVehicleModel(c) == 536) tune[0] = 1103, tune[1] = 1128;
				else if(GetVehicleModel(c) == 535) tune[0] = 1130, tune[1] = 1131;
				else if(GetVehicleModel(c) == 576) { SendClientMessage(playerid, COLOR_RED, "Невозможно прикрепить крышу к данному транспорту!"); return ShowSTODialog(playerid); }
				else
				{
					ShowSTODialog(playerid);
					return SendClientMessage(playerid, COLOR_RED, "Данная деталь 'Крыша' недоступна для Вашей модели");
				}
				AddVehicleComponent(c, tune[listitem]);
				SetPVarInt(playerid,"PriceCTO",till*25);
				SetPVarInt(playerid,"ComponentCTO",tune[listitem]);
				SetPVarInt(playerid,"ProductCTO",25);
				new string[128];
				format(string,128,"{FFFFFF}Стоимость этой запчасти: %d\nВы надумали с покупкой?",till*79);
				ShowPlayerDialog(playerid,D_CTO+12,DSM,"{FFCC00}Подтверждение покупки",string,"Купить","Отмена");
			}
			else ShowSTODialog(playerid);
		}
	case D_CTO+3: // CTO
		{
			if(!response) return ShowSTODialog(playerid);
			new i = GetPVarInt(playerid,"CTObizzid");
			new till = BizzInfo[i][bTill];
			if(GetVehicleComponentInSlot(GetPlayerVehicleID(playerid),CARMODTYPE_HYDRAULICS) != 1087)
			{
				if(GetMoney(playerid) < till*100) return SendClientMessage(playerid, COLOR_RED, "Недостаточно средств!"),ShowSTODialog(playerid);
				TransferMoney(playerid, -1, till*100);
				if(BizzInfo[i][bProduct] > 0)
				{
					BizzInfo[i][bMoney] += till*100;
					BizzInfo[i][bProduct] -= 100;
					BizzPay[i] += till*100;
					MysqlUpdateBizzInt(i, "money", BizzInfo[i][bMoney]);
					MysqlUpdateBizzInt(i, "product", BizzInfo[i][bProduct]);
				}
				SendClientMessage(playerid,COLOR_LIME,"Вы поставили гидравлику!");
				AddVehicleComponent(GetPlayerVehicleID(playerid),1087);
			}
			else
			{
				SendClientMessage(playerid,COLOR_RED,"Вы удалили гидравлику!");
				RemoveVehicleComponent(GetPlayerVehicleID(playerid),1087);
			}
			SaveVehicleTuning(playerid);
			ShowSTODialog(playerid);
		}
	case D_CTO+4: // CTO цвета 1
		{
			if(!response) return ShowSTODialog(playerid);
			new color[2], c = PI[playerid][PlayerCarID];
			if(sscanf(inputtext, "p<,>ii",color[0], color[1])) return ShowPlayerDialog(playerid, D_CTO+4, 1, "Перекраска", "Введите основной и дополнительный цвет транспорта через запятую", "Принять", "Назад");
			if(color[0] < 0 || color[0] > 255)
			{
				ShowPlayerDialog(playerid, D_CTO+4, 1, "{FFCC00}Перекраска", "{FFFFFF}Введите основной и дополнительный цвет транспорта через запятую", "Принять", "Назад");
				return SendClientMessage(playerid, COLOR_RED, "ID цвета от 0 до 255!");
			}
			if(color[1] < 0 || color[1] > 255)
			{
				ShowPlayerDialog(playerid, D_CTO+4, 1, "{FFCC00}Перекраска", "{FFFFFF}Введите основной и дополнительный цвет транспорта через запятую", "Принять", "Назад");
				return SendClientMessage(playerid, COLOR_RED, "ID цвета от 0 до 255!");
			}
			new i = GetPVarInt(playerid,"CTObizzid");
			new till = BizzInfo[i][bTill];
			if(GetMoney(playerid) < till*5) return SendClientMessage(playerid, COLOR_RED, "Недостаточно средств!");
			TransferMoney(playerid, -1, till*5);
			if(BizzInfo[i][bProduct] > 0)
			{
				BizzInfo[i][bMoney] += till*5;
				BizzInfo[i][bProduct] -= 5;
				BizzPay[i] += till*5;
				MysqlUpdateBizzInt(i, "money", BizzInfo[i][bMoney]);
				MysqlUpdateBizzInt(i, "product", BizzInfo[i][bProduct]);
			}
			PI[playerid][cColor][0] = color[0];
			PI[playerid][cColor][1] = color[1];
			ChangeVehicleColor(c, color[0], color[1]);
			SendClientMessage(playerid,COLOR_LIME,"Вы успешно перекрасили свое авто");
			ShowSTODialog(playerid);
		}
	case D_CTO+5: // CTO
		{
			if(!response) return ShowSTODialog(playerid);
			new i = GetPVarInt(playerid,"CTObizzid");
			new till = BizzInfo[i][bTill];
			switch(listitem)
			{
			case 0:
				{
					if(GetMoney(playerid) < till*80) return SendClientMessage(playerid, COLOR_RED, "Недостаточно средств!"),ShowSTODialog(playerid);
					TransferMoney(playerid, -1, till*80);
					if(BizzInfo[i][bProduct] > 0)
					{
						BizzInfo[i][bMoney] += till*80;
						BizzInfo[i][bProduct] -= 80;
						BizzPay[i] += till*80;
						MysqlUpdateBizzInt(i, "money", BizzInfo[i][bMoney]);
						MysqlUpdateBizzInt(i, "product", BizzInfo[i][bProduct]);
					}
					SendMes(playerid,COLOR_LIME,"Вы поставили Nitro x2 за %d рублей", till*80);
					AddVehicleComponent(GetPlayerVehicleID(playerid),1009);
					SaveVehicleTuning(playerid);
				}
			case 1:
				{
					if(GetMoney(playerid) < till*150) return SendClientMessage(playerid, COLOR_RED, "Недостаточно средств!"),ShowSTODialog(playerid);
					TransferMoney(playerid, -1, till*150);
					if(BizzInfo[i][bProduct] > 0)
					{
						BizzInfo[i][bMoney] += till*150;
						BizzInfo[i][bProduct] -= 150;
						BizzPay[i] += till*150;
						MysqlUpdateBizzInt(i, "money", BizzInfo[i][bMoney]);
						MysqlUpdateBizzInt(i, "product", BizzInfo[i][bProduct]);
					}
					SendMes(playerid,COLOR_LIME,"Вы поставили Nitro x5 за %d рублей", till*150);
					AddVehicleComponent(GetPlayerVehicleID(playerid),1008);
					SaveVehicleTuning(playerid);
				}
			case 2:
				{
					if(GetMoney(playerid) < till*300) return SendClientMessage(playerid, COLOR_RED, "Недостаточно средств!"),ShowSTODialog(playerid);
					TransferMoney(playerid, -1, till*300);
					if(BizzInfo[i][bProduct] > 0)
					{
						BizzInfo[i][bMoney] += till*300;
						BizzInfo[i][bProduct] -= 300;
						BizzPay[i] += till*300;
						MysqlUpdateBizzInt(i, "money", BizzInfo[i][bMoney]);
						MysqlUpdateBizzInt(i, "product", BizzInfo[i][bProduct]);
					}
					SendMes(playerid,COLOR_LIME,"Вы поставили Nitro x10 за %d рублей", till*300);
					AddVehicleComponent(GetPlayerVehicleID(playerid),1010);
					SaveVehicleTuning(playerid);
				}
			}
			ShowSTODialog(playerid);
		}
	case D_CTO+6: // CTO
		{
			if(response)
			{
				new i = GetPVarInt(playerid,"CTObizzid");
				new till = BizzInfo[i][bTill];
				new string[128];
				switch(listitem)
				{
				case 0:
					{
						if(GetMoney(playerid) < till*60) return SendClientMessage(playerid, COLOR_RED, "Недостаточно средств!"),ShowSTODialog(playerid);
						SendMes(playerid,COLOR_LIME,"Вы поставили диски Shadow, их стоимость %d рублей", till*60);
						AddVehicleComponent(GetPlayerVehicleID(playerid),1073);
						SetPVarInt(playerid,"PriceCTO",till*60);
						SetPVarInt(playerid,"ComponentCTO",1073);
						SetPVarInt(playerid,"ProductCTO",60);
						format(string,128,"{FFFFFF}Стоимость этой запчасти: %d\nВы надумали с покупкой?",till*60);
						ShowPlayerDialog(playerid,D_CTO+12,DSM,"{FFCC00}Подтверждение покупки",string,"Купить","Отмена");
					}
				case 1:
					{
						if(GetMoney(playerid) < till*79) return SendClientMessage(playerid, COLOR_RED, "Недостаточно средств!"),ShowSTODialog(playerid);
						SendMes(playerid,COLOR_LIME,"Вы поставили диски Mega, их стоимость %d рублей", till*79);
						AddVehicleComponent(GetPlayerVehicleID(playerid),1074);
						SetPVarInt(playerid,"PriceCTO",till*79);
						SetPVarInt(playerid,"ComponentCTO",1074);
						SetPVarInt(playerid,"ProductCTO",79);
						format(string,128,"{FFFFFF}Стоимость этой запчасти: %d\nВы надумали с покупкой?",till*79);
						ShowPlayerDialog(playerid,D_CTO+12,DSM,"{FFCC00}Подтверждение покупки",string,"Купить","Отмена");
					}
				case 2:
					{
						if(GetMoney(playerid) < till*53) return SendClientMessage(playerid, COLOR_RED, "Недостаточно средств!"),ShowSTODialog(playerid);
						SendMes(playerid,COLOR_LIME,"Вы поставили диски Wires, их стоимость %d рублей", till*53);
						AddVehicleComponent(GetPlayerVehicleID(playerid),1076);
						SetPVarInt(playerid,"PriceCTO",till*53);
						SetPVarInt(playerid,"ComponentCTO",1076);
						SetPVarInt(playerid,"ProductCTO",53);
						format(string,128,"{FFFFFF}Стоимость этой запчасти: %d\nВы надумали с покупкой?",till*53);
						ShowPlayerDialog(playerid,D_CTO+12,DSM,"{FFCC00}Подтверждение покупки",string,"Купить","Отмена");
					}
				case 3:
					{
						if(GetMoney(playerid) < till*73) return SendClientMessage(playerid, COLOR_RED, "Недостаточно средств!"),ShowSTODialog(playerid);
						SendMes(playerid,COLOR_LIME,"Вы поставили диски Classic, их стоимость %d рублей", till*73);
						AddVehicleComponent(GetPlayerVehicleID(playerid),1077);
						SetPVarInt(playerid,"PriceCTO",till*73);
						SetPVarInt(playerid,"ComponentCTO",1077);
						SetPVarInt(playerid,"ProductCTO",73);
						format(string,128,"{FFFFFF}Стоимость этой запчасти: %d\nВы надумали с покупкой?",till*73);
						ShowPlayerDialog(playerid,D_CTO+12,DSM,"{FFCC00}Подтверждение покупки",string,"Купить","Отмена");
					}
				case 4:
					{
						if(GetMoney(playerid) < till*93) return SendClientMessage(playerid, COLOR_RED, "Недостаточно средств!"),ShowSTODialog(playerid);
						SendMes(playerid,COLOR_LIME,"Вы поставили диски Twist, их стоимость %d рублей", till*93);
						AddVehicleComponent(GetPlayerVehicleID(playerid),1078);
						SetPVarInt(playerid,"PriceCTO",till*93);
						SetPVarInt(playerid,"ComponentCTO",1078);
						SetPVarInt(playerid,"ProductCTO",93);
						format(string,128,"{FFFFFF}Стоимость этой запчасти: %d\nВы надумали с покупкой?",till*93);
						ShowPlayerDialog(playerid,D_CTO+12,DSM,"{FFCC00}Подтверждение покупки",string,"Купить","Отмена");
					}
				case 5:
					{
						if(GetMoney(playerid) < till*80) return SendClientMessage(playerid, COLOR_RED, "Недостаточно средств!"),ShowSTODialog(playerid);
						SendMes(playerid,COLOR_LIME,"Вы поставили диски Cutter, их стоимость %d рублей", till*80);
						AddVehicleComponent(GetPlayerVehicleID(playerid),1079);
						SetPVarInt(playerid,"PriceCTO",till*80);
						SetPVarInt(playerid,"ComponentCTO",1078);
						SetPVarInt(playerid,"ProductCTO",80);
						format(string,128,"{FFFFFF}Стоимость этой запчасти: %d\nВы надумали с покупкой?",till*80);
						ShowPlayerDialog(playerid,D_CTO+12,DSM,"{FFCC00}Подтверждение покупки",string,"Купить","Отмена");
					}
				case 6:
					{
						if(GetMoney(playerid) < till*42) return SendClientMessage(playerid, COLOR_RED, "Недостаточно средств!"),ShowSTODialog(playerid);
						SendMes(playerid,COLOR_LIME,"Вы поставили диски Grove, их стоимость %d рублей", till*42);
						AddVehicleComponent(GetPlayerVehicleID(playerid),1081);
						SetPVarInt(playerid,"PriceCTO",till*42);
						SetPVarInt(playerid,"ComponentCTO",1081);
						SetPVarInt(playerid,"ProductCTO",42);
						format(string,128,"{FFFFFF}Стоимость этой запчасти: %d\nВы надумали с покупкой?",till*42);
						ShowPlayerDialog(playerid,D_CTO+12,DSM,"{FFCC00}Подтверждение покупки",string,"Купить","Отмена");
					}
				case 7:
					{
						if(GetMoney(playerid) < till*100) return SendClientMessage(playerid, COLOR_RED, "Недостаточно средств!"),ShowSTODialog(playerid);
						SendMes(playerid,COLOR_LIME,"Вы поставили диски Atomic, их стоимость %d рублей", till*100);
						AddVehicleComponent(GetPlayerVehicleID(playerid),1085);
						SetPVarInt(playerid,"PriceCTO",till*100);
						SetPVarInt(playerid,"ComponentCTO",1085);
						SetPVarInt(playerid,"ProductCTO",100);
						format(string,128,"{FFFFFF}Стоимость этой запчасти: %d\nВы надумали с покупкой?",till*100);
						ShowPlayerDialog(playerid,D_CTO+12,DSM,"{FFCC00}Подтверждение покупки",string,"Купить","Отмена");
					}
				case 8:
					{
						if(GetMoney(playerid) < till*200) return SendClientMessage(playerid, COLOR_RED, "Недостаточно средств!"),ShowSTODialog(playerid);
						SendMes(playerid,COLOR_LIME,"Вы поставили диски Dollar, их стоимость %d рублей", till*200);
						AddVehicleComponent(GetPlayerVehicleID(playerid),1083);
						SetPVarInt(playerid,"PriceCTO",till*200);
						SetPVarInt(playerid,"ComponentCTO",1083);
						SetPVarInt(playerid,"ProductCTO",200);
						format(string,128,"{FFFFFF}Стоимость этой запчасти: %d\nВы надумали с покупкой?",till*200);
						ShowPlayerDialog(playerid,D_CTO+12,DSM,"{FFCC00}Подтверждение покупки",string,"Купить","Отмена");
					}
				case 9:
					{
						if(GetMoney(playerid) < till*300) return SendClientMessage(playerid, COLOR_RED, "Недостаточно средств!"),ShowSTODialog(playerid);
						SendMes(playerid,COLOR_LIME,"Вы поставили диски Switch, их стоимость %d рублей", till*300);
						AddVehicleComponent(GetPlayerVehicleID(playerid),1080);
						SetPVarInt(playerid,"PriceCTO",till*300);
						SetPVarInt(playerid,"ComponentCTO",1080);
						SetPVarInt(playerid,"ProductCTO",300);
						format(string,128,"{FFFFFF}Стоимость этой запчасти: %d\nВы надумали с покупкой?",till*300);
						ShowPlayerDialog(playerid,D_CTO+12,DSM,"{FFCC00}Подтверждение покупки",string,"Купить","Отмена");
					}
				}
			}
			else ShowSTODialog(playerid);
		}
	case D_CTO+13:
		{
			new i = GetPVarInt(playerid,"CTObizzid");
			if(response)
			{
				TransferMoney(playerid, -1, GetPVarInt(playerid,"PriceCTO"));
				if(BizzInfo[i][bProduct] > 0)
				{
					BizzInfo[i][bMoney] += GetPVarInt(playerid,"PriceCTO");
					BizzInfo[i][bProduct] -= GetPVarInt(playerid,"ProductCTO");
					BizzPay[i] += GetPVarInt(playerid,"PriceCTO");
					MysqlUpdateBizzInt(i, "money", BizzInfo[i][bMoney]);
					MysqlUpdateBizzInt(i, "product", BizzInfo[i][bProduct]);
				}
				SendMes(playerid,COLOR_LIME,"Вы оплатили %d рублей за покрасочную работу", GetPVarInt(playerid,"PriceCTO"));
				PI[playerid][cPaintjob] = GetPVarInt(playerid,"PaintjobCTO");
				SaveVehicleTuning(playerid);
				ShowSTODialog(playerid);
			}
			else
			{
				if(PI[playerid][cPaintjob] != 3) ChangeVehiclePaintjob(GetPlayerVehicleID(playerid),PI[playerid][cPaintjob]);
				else
				{
					ChangeVehiclePaintjob(GetPlayerVehicleID(playerid),3);
					ChangeVehicleColor(GetPlayerVehicleID(playerid), PI[playerid][cColor][0], PI[playerid][cColor][1]);
				}
				SendClientMessage(playerid,COLOR_RED,"Вы отменили покупку");
				SaveVehicleTuning(playerid);
				ShowSTODialog(playerid);
			}
		}
	case D_CTO+7: // CTO
		{
			if(response)
			{
				new i = GetPVarInt(playerid,"CTObizzid");
				new till = BizzInfo[i][bTill];
				new string[128];
				switch(listitem)
				{
				case 0:
					{
						if(GetMoney(playerid) < till*30) return SendClientMessage(playerid, COLOR_RED, "Недостаточно средств!"),ShowSTODialog(playerid);
						ChangeVehiclePaintjob(GetPlayerVehicleID(playerid),0);
						SetPVarInt(playerid,"PriceCTO",till*30);
						SetPVarInt(playerid,"PaintjobCTO",0);
						SetPVarInt(playerid,"ProductCTO",30);
						format(string,128,"{FFFFFF}Стоимость этой покрасочной работы: %d\nВы надумали с покупкой?",till*30);
						ShowPlayerDialog(playerid,D_CTO+13,DSM,"{FFCC00}Подтверждение покупки",string,"Купить","Отмена");

					}
				case 1:
					{
						if(GetMoney(playerid) < till*35) return SendClientMessage(playerid, COLOR_RED, "Недостаточно средств!"),ShowSTODialog(playerid);
						ChangeVehiclePaintjob(GetPlayerVehicleID(playerid),1);
						SetPVarInt(playerid,"PriceCTO",till*35);
						SetPVarInt(playerid,"PaintjobCTO",1);
						SetPVarInt(playerid,"ProductCTO",35);
						format(string,128,"{FFFFFF}Стоимость этой покрасочной работы: %d\nВы надумали с покупкой?",till*35);
						ShowPlayerDialog(playerid,D_CTO+13,DSM,"{FFCC00}Подтверждение покупки",string,"Купить","Отмена");
					}
				case 2:
					{
						if(GetMoney(playerid) < till*40) return SendClientMessage(playerid, COLOR_RED, "Недостаточно средств!"),ShowSTODialog(playerid);
						ChangeVehiclePaintjob(GetPlayerVehicleID(playerid),2);
						SetPVarInt(playerid,"PriceCTO",till*40);
						SetPVarInt(playerid,"PaintjobCTO",2);
						SetPVarInt(playerid,"ProductCTO",40);
						format(string,128,"{FFFFFF}Стоимость этой покрасочной работы: %d\nВы надумали с покупкой?",till*40);
						ShowPlayerDialog(playerid,D_CTO+13,DSM,"{FFCC00}Подтверждение покупки",string,"Купить","Отмена");
					}
				case 3:
					{
						ChangeVehiclePaintjob(GetPlayerVehicleID(playerid),3);
						ShowSTODialog(playerid);
						SendClientMessage(playerid,COLOR_RED,"Вы удалили покрасочную работу на авто");
					}
				}
			}
			else ShowSTODialog(playerid);
		}
	case D_CTO+12: // CTO
		{
			new i = GetPVarInt(playerid,"CTObizzid");
			if(response)
			{
				TransferMoney(playerid, -1, GetPVarInt(playerid,"PriceCTO"));
				if(BizzInfo[i][bProduct] > 0)
				{
					BizzInfo[i][bMoney] += GetPVarInt(playerid,"PriceCTO");
					BizzInfo[i][bProduct] -= GetPVarInt(playerid,"ProductCTO");
					BizzPay[i] += GetPVarInt(playerid,"PriceCTO");
					MysqlUpdateBizzInt(i, "money", BizzInfo[i][bMoney]);
					MysqlUpdateBizzInt(i, "product", BizzInfo[i][bProduct]);
				}
				ShowSTODialog(playerid);
				SaveVehicleTuning(playerid);
				SendClientMessage(playerid,COLOR_LIME,"Вы купили эту запчасть");
			}
			else
			{
				ShowSTODialog(playerid);
				SendClientMessage(playerid, COLOR_RED, "Вы отменили покупку");
				RemoveVehicleComponent(GetPlayerVehicleID(playerid), GetPVarInt(playerid,"ComponentCTO"));
				for(new s; s < 14; s++) if(PI[playerid][cVehcoms][s] != 0) AddVehicleComponent(GetPlayerVehicleID(playerid), PI[playerid][cVehcoms][s]);
			}
		}
	case 6446:
		{
			if(!response) return 1;
			if(gym_cloakroom[playerid])
			{
			    gym_cloakroom[playerid] = false;
				SetPlayerSkin(playerid, Oldskin2[playerid]);
				SendClientMessage(playerid, COLOR_RED, "Вы закончили тренировку!");
			}
			else
			{
			    if(GetMoney(playerid) < 500) return SendClientMessage(playerid, COLOR_RED, "Недостаточно средств!");
				TransferMoney(playerid, -1, 500);
				gym_cloakroom[playerid] = true;
				Oldskin2[playerid] = GetPlayerSkin(playerid);
				SetPlayerSkin(playerid, 80);
				SendClientMessage(playerid, COLOR_GREEN, "Вы начали тренировку. Бейте по грушам!");
			}
		}
 		case D_DONATE:
		{
			if(!response) return 1;
			switch(listitem)
			{
			    case 0:
			    {
			        new string[300];
			        format(string, sizeof(string), "\
					{FFFFFF}В данный момент У Вас\t\t%i кредитов\n\
					{63BD4E}Общее пополнение:\t\t%i кредитов\n\n\
					{FFCC00}Пополнить счёт можно на {FFCC00}"ACCOUNT_REPLENISHMENT"",
					PI[playerid][pCredits], PI[playerid][pTotalCredits]);
			        ShowPlayerDialog(playerid, D_DONATE+1, DIALOG_STYLE_MSGBOX, "{FFCC00}Информация", string, "Принять", "Назад");
			    }
			    case 1:
			    {
			        new Query[135];
					format(Query, sizeof(Query), "SELECT `sum`,`status`,`id` FROM `gdonate_payments` WHERE `account` = '%s' AND `status` > 0", GetName(playerid));
 					mysql_tquery(dbHandle, Query, "gdonat_callback", "d", playerid);
			    }
				case 2: ShowPlayerDialog(playerid, D_DONATE+2, DIALOG_STYLE_INPUT, "{FFCC00}Получение игровой валюты", "{FFFFFF}Введите количество кредитов, которые хотите перевести в игровые деньги\nКурс обмена: 1 кредит - 1500 рублей", "Далее", "Назад");
				case 3:
				{
				    new string[590];
					strcat(string, "{FFCC00}Преимущества VIP статуса:\n{FFFFFF}");
					strcat(string, "1) Ускоренное лечение в больнице\n");
					strcat(string, "2) Удаление тюнинга с личного транспорта (/removetuning)\n");
					strcat(string, "3) Возможность покинуть организацию самому (/leave)\n");
					strcat(string, "4) Каждую 4-ую зарплату +1 респект\n");
					strcat(string, "5) Прокачка скиллов в 2 раза быстрей\n");
					strcat(string, "6) Проявление чувства голода у персонажа в 2 раза реже\n");
					strcat(string, "7) Уменьшенное время на отправку вопроса/репорта\n");
					strcat(string, "8) Возможность уволиться с работы не на месте устройства (/quitjob)\n");
					strcat(string, "9) Возможность общаться с остальными VIP игроками в VIP чате (/v)\n\n");
					strcat(string, "{FFCC00}Примечание:\n{FFFFFF}");
					strcat(string, "- VIP статус выдаётся на 30 дней");
					ShowPlayerDialog(playerid, D_JOB+200, DIALOG_STYLE_MSGBOX, "{FFCC00}VIP статус", string, "Купить", "Назад");
				}
				case 4:
				{
				    if(PI[playerid][pWarn] == 0) return SendClientMessage(playerid, COLOR_RED, "На Вашем аккаунте нет предупреждений");
					if(PI[playerid][pCredits] < 50) return SendClientMessage(playerid, COLOR_RED, "Недостаточно кредитов!");
					PI[playerid][pCredits] -= 50;
                    PI[playerid][pWarn]--;
					SendClientMessage(playerid, COLOR_LIME, "Вы успешно сняли одно предупреждение!");
				}
				case 6:
			    {
			        if(PI[playerid][pCredits] < 100) return SendClientMessage(playerid, COLOR_RED, "Недостаточно кредитов!");
			        PI[playerid][pCredits] -= 100;
			        for(new i; i < 8; i++) PI[playerid][pSkill][i] = 100;
			        new Query[300];
					format(Query, sizeof(Query), "UPDATE `accounts` SET sdpistol=%i,deserteagle=%i,shotgun=%i,mp5=%i,ak47=%i,m4=%i,pistol=%i,microuzi=%i WHERE id=%i",
					PI[playerid][pSkill], PI[playerid][pSkill][1], PI[playerid][pSkill][2], PI[playerid][pSkill][3], PI[playerid][pSkill][4], PI[playerid][pSkill][5], PI[playerid][pGunSkill][6], PI[playerid][pGunSkill][7], PI[playerid][pID]);
					mysql_tquery(dbHandle, Query, "", "");
					SendClientMessage(playerid, COLOR_LIME, "Вы приобрели все навыки владения оружием!");
			    }
				case 7:
			    {
			    	if(PI[playerid][pCredits] < 150) return SendClientMessage(playerid, COLOR_RED, "Недостаточно кредитов!");
			        PI[playerid][pCredits] -= 150;
			        for(new i; i < 4; i++) PI[playerid][pLic][i] = 1;
					PI[playerid][pAutoLic] = 1;
			        new Query[128];
			        format(PI[playerid][pLics],16,"%i, %i, %i, %i",PI[playerid][pLic][0],PI[playerid][pLic][1],PI[playerid][pLic][2],PI[playerid][pLic][3]);
					format(Query, sizeof(Query), "UPDATE `accounts` SET lic='%s' WHERE id=%i", PI[playerid][pLics], PI[playerid][pID]);
					mysql_tquery(dbHandle, Query, "", "");
					SetPlayerSkillss(playerid);
					SendClientMessage(playerid, COLOR_LIME, "Вы приобрели все лицензии!");
			    }
			    case 8:
			    {
			        if(PI[playerid][pCredits] < 50) return SendClientMessage(playerid, COLOR_RED, "Недостаточно кредитов!");
			        PI[playerid][pCredits] -= 50;
			        PI[playerid][pSportExp] = 6000;
			        PI[playerid][pFightStyle] = 7;
			        new Query[100];
					format(Query, sizeof(Query), "UPDATE `accounts` SET sportexp=%i,fstyle=%i WHERE id=%i",
					PI[playerid][pSportExp], PI[playerid][pFightStyle], PI[playerid][pID]);
					mysql_tquery(dbHandle, Query, "", "");
					SendClientMessage(playerid, COLOR_LIME, "Вы приобрели все навыки стиля боя!");
				}
				case 9:
				{
			        if(PI[playerid][pCredits] < 100) return SendClientMessage(playerid, COLOR_RED, "Недостаточно кредитов!");
			        PI[playerid][pCredits] -= 100;
				    PI[playerid][pLevel] += 1;
			     	new Query[100];
			        format(Query, sizeof(Query), "UPDATE `accounts` SET level=%i, WHERE id=%i",
                    PI[playerid][pLevel], PI[playerid][pID]);
				    mysql_tquery(dbHandle, Query, "", "");
				    SendClientMessage(playerid, COLOR_LIME, "Вы купили 1 lvl");
				}
		        case 10:
			    {
			        if(PI[playerid][pCredits] < 100) return SendClientMessage(playerid, COLOR_RED, "Недостаточно кредитов!");
			        PI[playerid][pCredits] -= 100;
			        PI[playerid][pVoennik] = 1;
			        new Query[100];
					format(Query, sizeof(Query), "UPDATE `accounts` SET Voennik=%i, WHERE id=%i",
					PI[playerid][pVoennik], PI[playerid][pID]);
					mysql_tquery(dbHandle, Query, "", "");
					SendClientMessage(playerid, COLOR_BLUE, "Вы приобрели: {FFCC00}\"Военный билет\" за 100 кредитов");
				}
			}
        }
		case D_CARNUMBER:
		{
			callcmd::getnumber(playerid, "1");
		}
		case D_NUMBER_MENU:
		{
			switch(listitem)
			{
				case 0: callcmd::getnumber(playerid, " ");
				case 2: callcmd::delnumber(playerid);
			}
		}
		case D_JOB+200:
		{
		    if(!response) return callcmd::donate(playerid);
		    if(PI[playerid][pVip])
			{
			    new string[256];
          		new year, month, day;
				new current_date = getdate(year, month, day);
				new time_left = PI[playerid][pVipTime] - current_date;
			    format(string, sizeof(string), "\n\n{F04245}\tУ Вас уже имеется VIP статус!\n\n{FFFFFF}Дней до окончания: {FFCC00}%d\n{FFFFFF}Желаете продлить на {FFCC00}30 дней{FFFFFF} за 300 кредитов?\n\n", time_left);
				ShowPlayerDialog(playerid, D_JOB+202, DIALOG_STYLE_MSGBOX, "{FFCC00}Потверждение действия", string, "Да", "Нет");
				return 1;
			}
			if(PI[playerid][pCredits] < 100) return SendClientMessage(playerid, COLOR_RED, "Недостаточно кредитов!");
			new year, month, day;
			new current_date = getdate(year, month, day);
			PI[playerid][pCredits] -= 100;
            PI[playerid][pVip] = 1;
            PI[playerid][pVipTime] = current_date + 7;
			SendClientMessage(playerid, COLOR_LIME, "Вы приобрели VIP аккаунт на 7 дней");
			SendClientMessage(playerid, COLOR_LIME, "Посмотреть список доступных функций Вы можете командой: /viphelp");
		}
		case D_JOB+202:
		{
		    if(!response) return callcmd::donate(playerid);
			if(PI[playerid][pCredits] < 100) return SendClientMessage(playerid, COLOR_RED, "Недостаточно кредитов!");
			new year, month, day;
			new current_date = getdate(year, month, day);
			new time_left = PI[playerid][pVipTime] - current_date;
			PI[playerid][pCredits] -= 100;
            PI[playerid][pVipTime] = time_left + (current_date + 30);
			SendClientMessage(playerid, COLOR_YELLOW, "Вы продлили VIP статус на 30 дней");
			SendClientMessage(playerid, COLOR_YELLOW, "Посмотреть список доступных функций Вы можете командой: /viphelp");
		}
		case D_DONATE+1:
		{
		    if(!response) return callcmd::donate(playerid);
		    else return 1;
		}
 		case D_DONATE+2:
		{
			if(!response) return callcmd::donate(playerid);
		    if(strval(inputtext) < 1 || strval(inputtext) > 5000) return SendClientMessage(playerid, COLOR_RED, "Количество от 1 до 5000 кредитов!");
			if(PI[playerid][pCredits] < strval(inputtext)) return SendClientMessage(playerid, COLOR_RED, "Недостаточно кредитов!");
			PI[playerid][pCredits] -= strval(inputtext);
			new string[128];
			format(string, sizeof(string), "Вы купили %i рублей за %d кредитов.", strval(inputtext)*1500, strval(inputtext));
			SendClientMessage(playerid, COLOR_LIME, string);
			format(string, sizeof(string), "+%i рублей", strval(inputtext)*1500);
			GameTextForPlayer(playerid, string, 3000, 1);
			TransferMoney(-1,playerid,strval(inputtext)*1500);
			return 1;
		}
    case 9345:
		{
			if(!response) return 1;
			if(listitem == 5)
			{
				if(IsPlayerAttachedObjectSlotUsed(playerid, 3)) RemovePlayerAttachedObject(playerid, 3);
				StopAudioStreamForPlayer(playerid);
			}
			else
			{
				static const Radio_List[6][64] = {
				    "http://radio02-cn03.akadostream.ru:8108/shanson128.mp3",
				    "http://radio02-cn03.akadostream.ru:8112/nashe128.mp3",
				    "http://online.radiorecord.ru:8101/rr_128",
				    "http://radio.zaycev.fm:9002/ZaycevFM(128).m3u",
				    "http://radio.zaycev.fm:9002/ZaycevFM(128).m3u",
				    "http://radio.zaycev.fm:9002/rnb/ZaycevFM(128).m3u"
				};
				if(!(IsPlayerAttachedObjectSlotUsed(playerid, 3)))
				{
				    ApplyAnimation(playerid, "goggles", "goggles_put_on", 4.1, 0, 0, 0, 0, 0, 1);
					SetPlayerAttachedObject(playerid, 3, 19424, 2, 0.05, 0.0, 0.0, 90.0, 360.0, 270.0);
				}
				PlayAudioStreamForPlayer(playerid, Radio_List[listitem]);
			}
		}
	case 969:
		{
			if(!response) return 1;
			if(!b_Capture{listitem})
			{
				b_Capture{listitem} = 1;
				SendClientMessage(playerid, COLOR_RED, "Вы включили запрет на капт данной банде!");
			}
			else
			{
				b_Capture{listitem} = 0;
				SendClientMessage(playerid, COLOR_GREEN, "Вы отключили запрет на капт данной банде!");
			}
			new Query[75];
			format(Query, sizeof(Query), "UPDATE `gang` SET bcapt_g=%d,bcapt_b=%d,bcapt_r=%d,bcapt_a=%d,bcapt_v=%d", b_Capture{0}, b_Capture{1}, b_Capture{2}, b_Capture{3}, b_Capture{4});
			mysql_tquery(dbHandle, Query, "", "");
			ShowDialogGhetto(playerid);
			return 1;
		}
  	case D_CANCELRENT:
	    {
	        if(!response) return 1;
	        SendClientMessage(playerid, COLOR_RED, "Вы отказались от аренды транспорта");
	        new rc = GetPVarInt(playerid, "arendkey");
			ArendInfo[rc][aPlayerID] = INVALID_PLAYER_ID;
			SetVehicleToRespawn(ArendInfo[rc][aID]);
			CarDoorsEx(ArendInfo[rc][aID], 0);
	    }
	case 1431:
		{
			if(response)
			{
				if(listitem < 3)
				{
					PI[playerid][pSkin][listitem] = PI[playerid][pModel];
					SendMes(playerid, COLOR_LIME, "Вы выбрали %d полку для одежды. Переодеться можно дома (/hmenu)", listitem+1);
				}
				else SendClientMessage(playerid, COLOR_LIME, "Одежда будет на Вас");
			}
		}
	case 1212:
	    {
	        if(!response) return SendClientMessage(playerid, COLOR_RED, "Шагай тогда отсюда и не возвращайся");
            if(!IsAGang(playerid)) return SendClientMessage(playerid, COLOR_RED, "Что-то ты не похож на своего. Забудь сюда дорогу! (( Вы должны состоять в банде, чтобы вырубить наркотики ))");
            SendClientMessage(playerid, COLOR_LIME, "Отправляйся в соседнюю комнату, там ты найдёшь что ищешь");
            SetPVarInt(playerid, "next_actor", 1);
		}
	case 1213:
		{
			if(!response) return 1;
			new maximum = strval(inputtext);
			if(PI[playerid][pDrugs]+maximum >= 100) return SendClientMessage(playerid, COLOR_RED, "Вы не можете купить больше!");
			else if(!strlen(inputtext)) return ShowPlayerDialog(playerid,1213,DIALOG_STYLE_INPUT,"{FFCC00}Покупка наркотиков","{FFFFFF}Введите количество наркотиков для покупки:","Купить","Отмена");
			else if(PI[playerid][pCash] < maximum*40) return ShowPlayerDialog(playerid,1213,DIALOG_STYLE_INPUT,"{FFCC00}Покупка травы","{FFFFFF}Введите количество грамм которое Вы хотите купить.\n\n{F04245}У Вас недостаточно денег!","Купить","Отмена");
			else if(maximum < 1 || maximum > 100) return ShowPlayerDialog(playerid,1213,DIALOG_STYLE_INPUT,"{FFCC00}Покупка травы","{FFFFFF}Введите количество грамм которое Вы хотите купить.\n\n{F04245}Количество не должно превышать 100 грамм!","Купить","Отмена");
			PI[playerid][pDrugs] += maximum;
			TransferMoney(playerid, -1, maximum*40);
			DeletePVar(playerid, "next_actor");
			SendClientMessage(playerid, COLOR_LIME, "Вы успешно купили пакет наркотиков");
		}
	case 1214:
		{
			if(!response) return 1;
			new maximum = strval(inputtext);
			if(PI[playerid][pAptechka]+maximum > 10) return SendClientMessage(playerid, COLOR_YELLOW, "[Ошибка] {ffffff}Вы не можете купить более 2-x аптечек");
			else if(!strlen(inputtext)) return ShowPlayerDialog(playerid,1213,DIALOG_STYLE_INPUT,"{FFCC00}Покупка аптечек","{FFFFFF}Введите количество аптечек которое Вы хотите купить.","Купить","Отмена");
			else if(PI[playerid][pCash] < maximum*500) return ShowPlayerDialog(playerid,1213,DIALOG_STYLE_INPUT,"{FFCC00}Покупка аптечек","{FFFFFF}Введите количество аптечек которое Вы хотите купить.\n\n{F04245}У Вас недостаточно денег!","Купить","Отмена");
			else if(maximum < 1 || maximum > 10) return ShowPlayerDialog(playerid,1213,DIALOG_STYLE_INPUT,"{FFCC00}Покупка аптечек","{FFFFFF}Введите количество аптечек которое Вы хотите купить.\n\n{F04245}Количество не должно превышать 10 штук!","Купить","Отмена");
			PI[playerid][pAptechka] += maximum;
			TransferMoney(playerid, -1, maximum*500);
			SendClientMessage(playerid, COLOR_LIME, "Вы купили аптечку. (введите /healme для того чтобы использовать её)");
		}
  	case D_REGISTER:
	    {
	    	for(new i = strlen(inputtext); i != 0; --i)
	    	switch(inputtext[i])
			{
				case 'А'..'Я', 'а'..'я', ' ':
				return SendClientMessage(playerid, COLOR_RED, "При вводе пароля используйте только английские буквы"), Kick(playerid);
			}
			if(response)
			{
   				if(!strlen(inputtext) || strlen(inputtext) < 6 || strlen(inputtext) > 16 || IsTextRussian(inputtext))
				{
				    new string[371];
 					format(string, sizeof(string), "{FFFFFF}Добро пожаловать на сервер "SERVER_NAME"\n{ffffff}Чтобы начать игру Вам необходимо пройти регистрацию\n\nВведите пароль для Вашего аккаунта\nОн будет запрашиваться каждый раз, когда Вы заходите на сервер\n\n\t{FFCC00}Примечания:\n\t• Пароль может состоять из русских и латинских символов\n\t• Пароль чувствителен к регистру\n\t• Длина пароля от 6-ти до 15-ти символов");
					ShowPlayerDialog(playerid, D_REGISTER, DIALOG_STYLE_INPUT, "{FFCC00}Регистрация", string, "Далее","Отмена");
		    	}
				else
				{
					strmid(PI[playerid][pPassword], inputtext, 0, strlen(inputtext), 32);
					ShowPlayerDialog(playerid, D_SEX, 0, "{FFCC00}Выбор пола", "{ffffff}Пожалуйста, выберите свой пол:", "Мужской", "Женский");
				}
            }
            else
	        {
			ShowPlayerDialog(playerid, 0, DIALOG_STYLE_MSGBOX, "Вас кикнули", "Вы были кикнуты с сервера! Чтобы выйти из игры, введите /q", "Ок", "");
			Kick(playerid);
//            ShowPlayerDialog(playerid, D_SEX, 1, "{FFCC00}Выбор пола", "{ffffff}Пожалуйста, выберите свой пол:", "Мужской", "Женский");
			}
	}
     case DIALOG_ENTRACE_MENU:
	{
		if(response)
		{
			new entranceid = PI[playerid][P_IN_ENTRANCE];

			if(entranceid == -1)
				return 1;

			switch(listitem)
			{
				case 0:
				{
					ShowPlayerFreeRomm(playerid, entranceid);
				}
				case 1:
				{
					new roomid = GetFreeEntranceRoom(entranceid);

					if(roomid != -1)
					{
						g_player_listitem_use[playerid] = roomid;

						STRING_GLOBAL[0] = EOS;
						format(STRING_GLOBAL, sizeof STRING_GLOBAL, "{FFFFFF}Вы действительно хотите заселиться в квартире %d за {FFFFFF}%d рублей?", (roomid % 22) + 1, GetEntranceData(entranceid, E_PRICE_ROOM));

						ShowPlayerDialog
						(
							playerid, DIALOG_ENTRACE_REG, DIALOG_STYLE_MSGBOX,
							"{FFCC00}Регистрация",
							STRING_GLOBAL,
							"Да", "Нет"
						);
					}
					else
					{
						ShowPlayerDialog
						(
							playerid, 0, DIALOG_STYLE_MSGBOX,
							"{FFCC00}Регистрация",
							"К сожалению в этом подъезде нет свободных квартир",
							"Закрыть", ""
						);
					}
				}
				case 2:
				{
					if(entranceid != PI[playerid][P_ENTRANCE])
						return SendClientMessage(playerid, COLOR_RED, "Вы должны находиться в своем подъезде");

					ShowPlayerDialog
					(
						playerid, DIALOG_MENU_LODGER, DIALOG_STYLE_LIST,
						"{FFCC00}Меню жильца",
						"1. Оплатить проживание\n"\
						"2. выселиться из квартиры",
						"Далее", "Отмена"
					);
				}
			}
		}
	}

	case DIALOG_ENTRACE_REG:
	{
		if(response)
		{
			new entranceid = PI[playerid][P_IN_ENTRANCE];

			if(entranceid == -1)
				return 1;

			if(GetMoney(playerid) < GetEntranceData(entranceid, E_PRICE_ROOM))
				return SendMess(playerid, MSG_NOT_MONEY);

			if(GetPlayerHouse(playerid) > 0 || PI[playerid][P_ENTRANCE] != -1 || PI[playerid][P_ROOM] != -1)
				return SendClientMessage(playerid, COLOR_RED, "У Вас уже есть жильё");

			new roomid = g_player_listitem_use[playerid];

			if(strcmp(GetRoomData(entranceid, roomid, ER_OWNER), "None", true))
				return SendClientMessage(playerid, COLOR_RED, "У этой квартиры уже есть арендатор");

			PI[playerid][P_ENTRANCE] = entranceid;
			PI[playerid][P_ROOM] = roomid;

			g_rooms[entranceid][roomid][ER_PAY] = 1;
			g_rooms[entranceid][roomid][ER_OWNER] = EOS;
			strcat(g_rooms[entranceid][roomid][ER_OWNER], GetName(playerid));

			SetRoomData(entranceid, roomid, ER_OWNER, GetName(playerid));

			STRING_GLOBAL[0] = EOS;
			format(STRING_GLOBAL, sizeof STRING_GLOBAL, "UPDATE accounts a, rooms r SET a.entrance=%d, a.room=%d, r.owner='%s', r.pay=1 WHERE a.id=%d AND r.id=%d", PI[playerid][P_ENTRANCE], PI[playerid][P_ROOM], GetRoomData(entranceid, roomid, ER_OWNER), PI[playerid][pID], GetRoomData(entranceid, roomid, ER_SQL_ID));
			mysql_query(dbHandle, STRING_GLOBAL);
			printf("%s", STRING_GLOBAL);

			printf("owner: %s", GetRoomData(entranceid, roomid, ER_OWNER));

			SendClientMessage(playerid, COLOR_BLUE, "Вы успешно арендовали квартиру");
			SendClientMessage(playerid, COLOR_BLUE, "Открывать/закрывать квартиру можно с помощью команды /rlock");

			SetPlayerPosInRoom(playerid, entranceid, roomid);

			UpdateEntrance(entranceid);
		}
	}
 	case DIALOG_CREATE_ENTRANCE:
	{
		if(response)
		{
			new sum = strval(inputtext);

			if(!(99999 < sum < 199999))
			{
				SendClientMessage(playerid, COLOR_RED, "Стоимость квартиры должна быть в диапазоне от 100000 до 200000 рублей");

				return ShowPlayerDialog(playerid, DIALOG_CREATE_ENTRANCE, DIALOG_STYLE_INPUT, "Добавить подъезд", "Вы должны стоять на входе будущий подъезд!\nВведите стоимость квартир:", "Далее", "Отмена");
			}

			new entranceid = ++ TOTALENTRANCE;

			GetPlayerPos(playerid, g_entrance[entranceid][POS_X], g_entrance[entranceid][POS_Y], g_entrance[entranceid][POS_Z]);

			SetEntranceData(entranceid, E_PRICE_ROOM, sum);
			SetEntranceData(entranceid, E_PICKUP, CreateDynamicPickup(1318, 23, GetEntranceData(entranceid, POS_X), GetEntranceData(entranceid, POS_Y), GetEntranceData(entranceid, POS_Z), -1, -1));
			SetEntranceData(entranceid, E_AREA_ENTER, CreateDynamicSphere(GetEntranceData(entranceid, POS_X), GetEntranceData(entranceid, POS_Y), GetEntranceData(entranceid, POS_Z), 1.0));

			STRING_GLOBAL[0] = EOS;
			format(STRING_GLOBAL, sizeof STRING_GLOBAL, "INSERT INTO entrances (pos_x, pos_y, pos_z, room_price) VALUES ('%f', '%f', '%f', '%d')", GetEntranceData(entranceid, POS_X), GetEntranceData(entranceid, POS_Y), GetEntranceData(entranceid, POS_Z), GetEntranceData(entranceid, E_PRICE_ROOM));
			mysql_query(dbHandle, STRING_GLOBAL);

			for(new i; i < MAX_ROOMS; i ++)
			{
				STRING_GLOBAL[0] = EOS;
				format(STRING_GLOBAL, sizeof STRING_GLOBAL, "INSERT INTO rooms (entranceid) VALUES ('%d')", entranceid-1);
				mysql_query(dbHandle, STRING_GLOBAL);
			}

			STRING_GLOBAL[0] = EOS;
			format(STRING_GLOBAL, sizeof STRING_GLOBAL, "Вы успешно создали подъезд №%d. Теперь установите координаты выхода (/entrance_exit)", TOTALENTRANCE);
			SendClientMessage(playerid, COLOR_LIME, STRING_GLOBAL);

		}
	}
	case DIALOG_ROOM_ENTER:
	{
		if(response)
		{
			new entranceid = PI[playerid][P_IN_ENTRANCE],
				roomid = g_player_listitem_use[playerid];

			if(entranceid == -1 || roomid == -1)
				return 1;

			if(GetRoomData(entranceid, roomid, ER_LOCK) == false)
				return SendClientMessage(playerid, COLOR_RED, "Эта квартира закрыта");

			SetPlayerPosInRoom(playerid, entranceid, roomid);
		}
	}
	case DIALOG_MENU_LODGER:
	{
		if(response)
		{
			switch(listitem)
			{
				case 0:
				{
					ShowPlayerDialogPayRoom(playerid, PI[playerid][P_ENTRANCE], PI[playerid][P_ROOM]);
				}
				case 1:
				{
					ShowPlayerDialog
					(
						playerid, DIALOG_EVICTION_ROOM, DIALOG_STYLE_MSGBOX,
						"{FFCC00}выселение из квартиры",
						"{FFFFFF}Вы действительно хотите выселиться з своей квартиры?",
						"Да", "Нет"
					);
				}
			}
		}
	}
	case DIALOG_PAY_ROOM:
	{
		if(response)
		{
			new entranceid = PI[playerid][P_ENTRANCE],
				roomid = PI[playerid][P_ROOM];

			if(entranceid == -1 || roomid == -1)
				return 1;

			if(entranceid != PI[playerid][P_IN_ENTRANCE])
				return SendClientMessage(playerid, COLOR_RED, "Вы должны находиться в своем подъезде");

			new pay_days, fmt_msg[128];

			if(sscanf(inputtext, "i", pay_days))
			{
				ShowPlayerDialogPayRoom(playerid, PI[playerid][P_ENTRANCE], PI[playerid][P_ROOM]);
			}
			if(pay_days > 0 && isNumeric(inputtext))
			{
				if((pay_days + g_rooms[entranceid][roomid][ER_PAY]) > 30)
					return SendMess(playerid, MSG_PAY_BIZZ_DAYS);

				if(GetMoney(playerid) < (pay_days * g_entrance[entranceid][E_PRICE_ROOM]))
				{
					SendMess(playerid, MSG_NOT_MONEY);

					format(fmt_msg, sizeof fmt_msg, "Для оплаты квартиры на %d дней необходимо %d руб", pay_days, pay_days * g_entrance[entranceid][E_PRICE_ROOM]);
					return SendClientMessage(playerid, 0x999999FF, fmt_msg);
				}
				else
				{
					g_rooms[entranceid][roomid][ER_PAY] += pay_days;

					STRING_GLOBAL[0] = EOS;
					format(STRING_GLOBAL, sizeof STRING_GLOBAL, "UPDATE rooms SET pay=%d WHERE id=%d", g_rooms[entranceid][roomid][ER_PAY], g_rooms[entranceid][roomid][ER_SQL_ID]);
					mysql_query(dbHandle, STRING_GLOBAL);

					GiveMoney(playerid, -pay_days * g_entrance[entranceid][E_PRICE_ROOM]);

					format(fmt_msg, sizeof fmt_msg, "Вы успешно оплатили квартиру ещё на {00CCFF}%d дней", pay_days);
					return SendClientMessage(playerid, 0x99FF00FF, fmt_msg);
				}
			}
		}
	}
	case DIALOG_EVICTION_ROOM:
	{
		if(response)
		{
			new entranceid = PI[playerid][P_ENTRANCE],
				roomid = PI[playerid][P_ROOM];

			if(entranceid == -1 || roomid == -1)
				return 1;

			SendClientMessage(playerid, COLOR_BLUE, "Вы выселились из квартиры");

			g_rooms[entranceid][roomid][ER_OWNER] = EOS;
			strcat(g_rooms[entranceid][roomid][ER_OWNER], "None");

			PI[playerid][P_ENTRANCE] =
			PI[playerid][P_ROOM] = -1;

			STRING_GLOBAL[0] = EOS;
			format(STRING_GLOBAL, sizeof STRING_GLOBAL, "UPDATE accounts a, rooms r SET a.entrance=%d, a.room=%d, r.owner='%s' WHERE a.id=%d AND r.id=%d", PI[playerid][P_ENTRANCE], PI[playerid][P_ROOM], GetRoomData(entranceid, roomid, ER_OWNER), PI[playerid][pID], GetRoomData(entranceid, roomid, ER_SQL_ID));
			mysql_query(dbHandle, STRING_GLOBAL);

			UpdateEntrance(entranceid);
		}
	}
	case 1890:
	{
	    if(response)
	    {
	        switch(listitem)
	        {
	            case 0:
	            {
        			if(vidnick[playerid] == 0)
        			{
						foreach(new i: Player) ShowPlayerNameTagForPlayer(playerid, i, 1);
						vidnick[playerid] = 1;
					}
					else
					{
						foreach(new i: Player) ShowPlayerNameTagForPlayer(playerid, i, 0);
						vidnick[playerid] = 0;
					}
	            }
	        }
	    }
	}
	case D_LOGIN:
	    {
	        if(!response) { SendClientMessage(playerid, COLOR_RED, "{ffffff}Сервер закрыл соединение! Для выхода из игры введите: /q(/quit)"); Kick(playerid); }
			for(new i = strlen(inputtext); i != 0; --i)
	    	switch(inputtext[i])
			{
				case 'А'..'Я', 'а'..'я', ' ':
				return ShowPlayerDialog(playerid,D_ERRORPAS,DIALOG_STYLE_MSGBOX,"{FFCC00}Ошибка","{FFFFFF}Пароль не должен содержать запрещённые символы\nВозможно, Вы вводите пароль не в той раскладке","Повторить","");
			}
	        if(!strlen(inputtext))
			{
			    new string[256];
			    PlayerPlaySound(playerid,1062,0.0,0.0,0.0);
//                format(string, sizeof(string), "{FFFFFF}Добро пожаловать на сервер {FEA600}"SERVER_NAME"{FFFFFF}\n\nИмя персонажа: {006600}%s{FFFFFF}\nВведите пароль:",GetName(playerid));
//				ShowPlayerDialog(playerid, D_LOGIN, 3, "{FEA600}Авторизация", string, "Войти","Выйти");
				format(string, sizeof(string), "{FFFFFF}Добро пожаловать на {FFA500}Brilliant RP{FFFFFF}\n\nИмя персонажа: {006600}%s{FFFFFF}\nВведите пароль:",GetName(playerid));
				ShowPlayerDialog(playerid, D_LOGIN, 3, "{FFA500}Авторизация", string, "Войти", "Выйти");
			}
            new string[128+64];
			new passw[32];
//			ShowPlayerDialog(playerid, 0, DIALOG_STYLE_MSGBOX, "Вас кикнули", "Вы были кикнуты с сервера! Чтобы выйти из игры, введите /q", "Ок", "");
//			Kick(playerid);
			format(string, sizeof string, "SELECT `PerfomanceIDSalt` FROM `accounts` WHERE `name`='%s'", GetName(playerid));
			mysql_query(dbHandle, string);
			cache_get_row(0, 0, passw, dbHandle, ENC_MAX);
			if(strlen(passw)) {
				SHA256_PassHash(inputtext, passw, passw, ENC_MAX);
				mysql_format(dbHandle, string, sizeof(string), "SELECT * FROM `accounts` WHERE `name`='%e' AND `password`='%e'", GetName(playerid), passw);
				mysql_tquery(dbHandle, string, "OnPlayerLogin", "ds", playerid, passw);
			} else {
				mysql_format(dbHandle, string, sizeof(string), "SELECT * FROM `accounts` WHERE `name`='%e' AND `password`='%e'", GetName(playerid), inputtext);
				mysql_tquery(dbHandle, string, "OnPlayerLogin", "ds", playerid, inputtext);
			}
			
		}
	case D_ERRORPAS:
		{
		    if(!response) { SendClientMessage(playerid, COLOR_RED, "{ffffff}Сервер закрыл соединение! Для выхода из игры введите: /q(/quit)"); Kick(playerid); }
            new string[256];
//	 		format(string, sizeof(string), "{FFFFFF}Добро пожаловать на {FEA600}"SERVER_NAME"{FFFFFF}\n\nИмя персонажа: {006600}%s{FFFFFF}\nВведите пароль:",GetName(playerid));
//			ShowPlayerDialog(playerid, D_LOGIN, 3, "{FEA600}Авторизация", string, "Войти","Выйти");
			format(string, sizeof(string), "{FFFFFF}Добро пожаловать на {FFA500}Brilliant RP{FFFFFF}\n\nИмя персонажа: {006600}%s{FFFFFF}\nВведите пароль:",GetName(playerid));
			ShowPlayerDialog(playerid, D_LOGIN, 3, "{FFA500}Авторизация", string, "Войти", "Выйти");
		}
	case D_SEX:
		{
			if(response) PI[playerid][pSex] = 1;
			else PI[playerid][pSex] = 2;
			return ShowPlayerDialog(playerid, D_SECRET, DIALOG_STYLE_INPUT, "{FFA500} PefomanceID Security | Секретный код аккаунта",\
			"Наш проект использует технологию защиты данных BrilliantID Security\n\
			Придумайте максимально сложный ключ для хранения ваших данных от взлома\n\
			{FF0000}[!]{FFFFFF} Данный ключ не нужно запоминать и вводить каждый раз при входе, его нужно записать и никому не сообщать.\n\
			С помощью данного ключа мы сможем шифровать ваши регистрационные данные и сможем их расшифровать при утрате аккаунта во время восстановления аккаунта\n\
			{FF0000}Имейте ввиду, что пароль, IP адрес, MAC адрес и ваша почта шифруются вашим секретным ключем и без него мы не сможем узнать Вас при восстановлении аккаунта!\n\n\n\
			{FFFFFF}\tВерсия BrilliantID Security: "PERID_SECURITY_VERSION"", "Далее", "");
		}
	case D_SECRET: {
		if(!response) return ShowPlayerDialog(playerid, D_SECRET, DIALOG_STYLE_INPUT, "{FFA500} PefomanceID Security | Секретный ключ аккаунта",\
			"{FF0000}Для регистрации аккаунта необходим секретный ключ!{FFFFFF}\n\n\n\
			Наш проект использует технологию защиты данных BrilliantID Security\n\
			Придумайте максимально сложный ключ для хранения ваших данных от взлома\n\
			{FF0000}[!]{FFFFFF} Данный ключ не нужно запоминать и вводить каждый раз при входе, его нужно записать и никому не сообщать.\n\
			С помощью данного ключа мы сможем шифровать ваши регистрационные данные и сможем их расшифровать при утрате аккаунта во время восстановления аккаунта\n\
			{FF0000}Имейте ввиду, что пароль, IP адрес, MAC адрес, дата регистрации и ваша почта шифруются вашим секретным ключем и без него мы не сможем узнать Вас при восстановлении аккаунта!\n\n\n\
			{FFFFFF}\tВерсия BrilliantID Security: "PERID_SECURITY_VERSION"", "Далее", "");

		if(30 > strlen(inputtext) < 5) return ShowPlayerDialog(playerid, D_SECRET, DIALOG_STYLE_INPUT, "{FFA500} PefomanceID Security | Секретный ключ аккаунта",\
			"{FF0000}Секретный ключ должен содержать не менее 5-ти и не более 30-и символов!{FFFFFF}\n\n\n\
			Наш проект использует технологию защиты данных BrilliantID Security\n\
			Придумайте максимально сложный ключ для хранения ваших данных от взлома\n\
			{FF0000}[!]{FFFFFF} Данный ключ не нужно запоминать и вводить каждый раз при входе, его нужно записать и никому не сообщать.\n\
			С помощью данного ключа мы сможем шифровать ваши регистрационные данные и сможем их расшифровать при утрате аккаунта во время восстановления аккаунта\n\
			{FF0000}Имейте ввиду, что пароль, IP адрес, MAC адрес, дата регистрации и ваша почта шифруются вашим секретным ключем и без него мы не сможем узнать Вас при восстановлении аккаунта!\n\n\n\
			{FFFFFF}\tВерсия BrilliantID Security: "PERID_SECURITY_VERSION"", "Далее", "");
		SetPVarString(playerid, "BrilliantID", inputtext);
		return ShowPlayerDialog(playerid, D_JOB+30, 1, "{FFCC00}Реферал",\
			 	"{FFFFFF}{ffffff}Введите имя игрока, пригласившего Вас на сервер\n\
				Если Вас никто не приглашал, то нажмите \"Пропустить\"\n\n\
				{FFCC00}Если Вы достигните 5 уровня,\n\
				то Ваш реферал получит 50 000 рублей", "Ок", "Пропустить");		
	}	

	case 13212:
		{
			if(!response) return callcmd::menu(playerid);
			if(!strlen(inputtext)) return ShowPlayerDialog(playerid, 13212, DIALOG_STYLE_INPUT, "{FFCC00}Задать вопрос", "{FFFFFF}Введите чётко поставленный вопрос:\n{FFFFFF}Он должен быть кратким и ясным", "Отправить","Назад");
			if(GetPVarInt(playerid,"AntiFloodRep") > gettime()) return SendClientMessage(playerid, COLOR_BLUE, "Отправить вопрос/жалобу можно раз в 30 секунд");
            new string[128];
			format(string, sizeof(string), "Вопрос от: %s[%d]: %s",GetName(playerid),playerid,inputtext);
			SendAdminMessage(COLOR_LIME, string);
			//SendSupportMessage(COLOR_LIME, string);
			SendClientMessage(playerid, COLOR_LIME, string);
			if(PI[playerid][pVip]) SetPVarInt(playerid, "AntiFloodRep", gettime() + 5);
			else SetPVarInt(playerid, "AntiFloodRep", gettime() + 15);
		}
	case 13213:
		{
			if(!response) return callcmd::menu(playerid);
			if(!strlen(inputtext)) return ShowPlayerDialog(playerid, 13213, DIALOG_STYLE_INPUT, "{FFCC00}Жалоба на игрока", "{FFFFFF}Введите свою жалобу для администрации сервера\n{FFFFFF}Она должна быть краткой и ясной,\n{FFFFFF}обязательно укажите его {62a7ea}ID {FFFFFF}и {62a7ea}причины жалобы", "Отправить","Назад");
			if(GetPVarInt(playerid,"AntiFloodRep") > gettime()) return SendClientMessage(playerid, COLOR_BLUE, "Отправить вопрос/жалобу можно раз в 30 секунд");
			new string[128];
			format(string, sizeof(string), "Жалоба от: %s[%i]: %s",GetName(playerid),playerid,inputtext);
			SendAdminMessage(COLOR_LIME, string);
			SendClientMessage(playerid, COLOR_LIME, string);
			if(PI[playerid][pVip]) SetPVarInt(playerid, "AntiFloodRep", gettime() + 5);
			else SetPVarInt(playerid, "AntiFloodRep", gettime() + 15);
		}
	case 15143:
		{
		    if(response) return 1;
		}
	case 15144:
		{
		    if(response) return ShowPlayerStatsDialog(playerid, playerid);
		    else return 1;
		}
	case D_COMMAND_SHOW:
		{
		    if(!response) return 1;
		    else ShowPlayerDialog(playerid, D_COMMANDSERVER, DIALOG_STYLE_LIST, "{FFCC00}Команды сервера", "{FFCC00}1. {ffffff}Команды остальные\n{FFCC00}2. {ffffff}Команды общения\n{FFCC00}3. {ffffff}Команды недвижимости\n{FFCC00}4. {ffffff}Команды для работ\n{FFCC00}5. {ffffff}Команды лидеров/заместителей организации\n{FFCC00}6. {ffffff}Команды организации", "Выбрать", "Назад");
		}
	case D_UCPADMIN:
		{
			if(!response) return 1;
			new string[100];
			switch(listitem)
			{
				case 0:
				{
					format(string, sizeof(string), "{FFFFFF}Введите будущий ник для игрока: %s", GetName(NameStats[playerid]));
					ShowPlayerDialog(playerid, D_UCPADMIN2, DIALOG_STYLE_INPUT, "{FFCC00}Ник", string, "Принять", "Отмена");
					PlayerStats[playerid] = 1;
				}
				case 1:
				{
					format(string, sizeof(string), "{FFFFFF}Введите будущий уровень для игрока: %s", GetName(NameStats[playerid]));
					ShowPlayerDialog(playerid, D_UCPADMIN2, DIALOG_STYLE_INPUT, "{FFCC00}Уровень", string, "Принять", "Отмена");
					PlayerStats[playerid] = 2;
				}
				case 2:
				{
					format(string, sizeof(string), "{FFFFFF}Введите количество опыта для игрока: %s", GetName(NameStats[playerid]));
					ShowPlayerDialog(playerid,D_UCPADMIN2, DIALOG_STYLE_INPUT, "{FFCC00}Опыт", string, "Принять", "Отмена");
					PlayerStats[playerid] = 3;
				}
				case 3:
				{
					format(string, sizeof(string), "{FFFFFF}Введите будущий пол для игрока: %s", GetName(NameStats[playerid]));
					ShowPlayerDialog(playerid, D_UCPADMIN2, DIALOG_STYLE_INPUT, "{FFCC00}Пол", string, "Принять", "Отмена");
					PlayerStats[playerid] = 4;
				}
	        	case 4:
				{
				    format(string, sizeof(string), "{FFFFFF}Введите уровень дальнобойщика для игрока: %s", GetName(NameStats[playerid]));
					ShowPlayerDialog(playerid, D_UCPADMIN2, DIALOG_STYLE_INPUT, "{FFCC00}Уровень дальнобойщика", string, "Принять", "Отмена");
					PlayerStats[playerid] = 5;
				}
			}
		}
		case D_UCPADMIN2:
		{
			if(!response) return 1;
			new string[100];
			switch(PlayerStats[playerid])
			{
			case 1:
				{
					if(!strlen(inputtext))
					{
						format(string, sizeof(string), "{FFFFFF}Введите будущий ник для игрока: %s", GetName(NameStats[playerid]));
						ShowPlayerDialog(playerid, D_UCPADMIN2, DIALOG_STYLE_INPUT, "{FFCC00}Ник", string, "Принять", "Отмена");
						return 1;
					}
					format(query, sizeof(query), "SELECT * FROM `accounts` WHERE `name` = '%s'", inputtext);
					mysql_tquery(dbHandle, query, "OnPlayerSetName", "is", playerid, inputtext);
				}
			case 2:
				{
					if(!strlen(inputtext))
					{
						format(string, sizeof(string), "{FFFFFF}Введите будущий уровень для игрока: %s", GetName(NameStats[playerid]));
						ShowPlayerDialog(playerid, D_UCPADMIN2, DIALOG_STYLE_INPUT, "{FFCC00}Уровень", string, "Принять", "Отмена");
						return 1;
					}
					if(strval(inputtext) < 1 || strval(inputtext) > 100)
					{
						format(string, sizeof(string), "{FFFFFF}Введите будущий уровень для игрока: %s", GetName(NameStats[playerid]));
						ShowPlayerDialog(playerid, D_UCPADMIN2, DIALOG_STYLE_INPUT, "{FFCC00}Уровень", string, "Принять", "Отмена");
						return 1;
					}
					SendMes(playerid, COLOR_LIME,"Вы установили уровень игрока %s на %d",GetName(NameStats[playerid]), strval(inputtext));
					SendMes(NameStats[playerid], COLOR_LIME, "Администратор %s установил Вам уровень игрока на %d", GetName(playerid), strval(inputtext));
					PI[NameStats[playerid]][pLevel] = strval(inputtext);
					SetPlayerScore(NameStats[playerid], PI[NameStats[playerid]][pLevel]);
					MysqlUpdatePlayerInt(NameStats[playerid], "level", PI[NameStats[playerid]][pLevel]);
					format(string, sizeof(string), "%s изменил уровень %s на %i", GetName(playerid), GetName(NameStats[playerid]), strval(inputtext));
					SetPlayerColor(playerid,0xFFFFFFFF);
					SendLog("EditStats", string);
				}
			case 3:
				{
					if(!strlen(inputtext))
					{
						format(string, sizeof(string), "{FFFFFF}Введите количество опыта для игрока: %s", GetName(NameStats[playerid]));
						ShowPlayerDialog(playerid,D_UCPADMIN2, DIALOG_STYLE_INPUT, "{FFCC00}Опыт", string, "Принять", "Отмена");
						return 1;
					}
					if(strval(inputtext) < 1 || strval(inputtext) > 1000)
					{
						format(string, sizeof(string), "{FFFFFF}Введите количество опыта для игрока: %s", GetName(NameStats[playerid]));
						ShowPlayerDialog(playerid,D_UCPADMIN2, DIALOG_STYLE_INPUT, "{FFCC00}Опыт", string, "Принять", "Отмена");
						return 1;
					}
					SendMes(playerid, COLOR_LIME, "Вы установили опыт %s на %d", GetName(NameStats[playerid]), strval(inputtext));
					SendMes(NameStats[playerid], COLOR_LIME, "Администратор %s установил Вам опыт на %d", GetName(playerid), strval(inputtext));
					PI[NameStats[playerid]][pExp] = strval(inputtext);
					MysqlUpdatePlayerInt(NameStats[playerid], "exp", PI[NameStats[playerid]][pExp]);
					format(string, sizeof(string), "%s изменил опыт %s на %i", GetName(playerid), GetName(NameStats[playerid]), strval(inputtext));
					SendLog("EditStats", string);
				}
			case 4:
				{
					if(!strlen(inputtext))
					{
						format(string, sizeof(string), "{FFFFFF}Введите будущий пол для игрока: %s", GetName(NameStats[playerid]));
						ShowPlayerDialog(playerid, D_UCPADMIN2, DIALOG_STYLE_INPUT, "{FFCC00}Пол", string, "Принять", "Отмена");
						return 1;
					}
					if(strval(inputtext) < 1 || strval(inputtext) > 2)
					{
						format(string, sizeof(string), "{FFFFFF}Введите будущий пол для игрока: %s", GetName(NameStats[playerid]));
						ShowPlayerDialog(playerid, D_UCPADMIN2, DIALOG_STYLE_INPUT, "{FFCC00}Пол", string, "Принять", "Отмена");
						return 1;
					}
					SendMes(playerid, COLOR_LIME, "Вы изменили пол игроку %s на %s",GetName(NameStats[playerid]), (strval(inputtext)==1)?("мужской"):("женский"));
					SendMes(NameStats[playerid], COLOR_LIME, "Администратор %s изменил ваш пол на %s", GetName(playerid), (strval(inputtext)==1)?("мужской"):("женский"));
					PI[NameStats[playerid]][pSex] = strval(inputtext);
					MysqlUpdatePlayerInt(NameStats[playerid], "sex", PI[NameStats[playerid]][pSex]);
					format(string, sizeof(string), "%s изменил пол %s на %s", GetName(playerid), GetName(NameStats[playerid]), (strval(inputtext)==1)?("мужской"):("женский"));
					SendLog("EditStats", string);
				}
			case 5:
			    {
			        if(!strlen(inputtext))
					{
						format(string, sizeof(string), "{FFFFFF}Введите уровень дальнобойщика для игрока: %s", GetName(NameStats[playerid]));
						ShowPlayerDialog(playerid, D_UCPADMIN2, DIALOG_STYLE_INPUT, "{FFCC00}Уровень дальнобойщика", string, "Принять", "Отмена");
						return 1;
					}
					if(strval(inputtext) < 1)
					{
						format(string, sizeof(string), "{FFFFFF}Введите уровень дальнобойщика для игрока: %s", GetName(NameStats[playerid]));
						ShowPlayerDialog(playerid, D_UCPADMIN2, DIALOG_STYLE_INPUT, "{FFCC00}Уровень дальнобойщика", string, "Принять", "Отмена");
						return 1;
					}
					SendMes(playerid, COLOR_LIME, "Вы изменили уровень дальнобойщика игроку %s на %i",GetName(NameStats[playerid]), strval(inputtext));
					SendMes(NameStats[playerid], COLOR_LIME, "Администратор %s изменил Вам уровень дальнобойщика на %i", GetName(playerid), strval(inputtext));
					PI[NameStats[playerid]][pTruckLevel] = strval(inputtext);
					MysqlUpdatePlayerInt(NameStats[playerid], "truckskill", PI[NameStats[playerid]][pTruckLevel]);
			    }
			}
			PlayerStats[playerid] = 0;
		}
	case D_ADDNED:
		{
			if(response)
			{
				switch(listitem)
				{
					case 0:
					{
						new Float:X,Float:Y,Float:Z,Float:Angle;
						GetPlayerPos(playerid, X,Y,Z);
 						GetPlayerFacingAngle(playerid,Angle);
						VehTest[playerid] = CreateVehicle(426, X,Y,Z, Angle, random(10), 0, 10000);
						PutPlayerInVehicle(playerid, VehTest[playerid], 0);
						SendClientMessage(playerid, COLOR_BLUE, "Припаркуйте авто около будущего дома и введите {FFFFFF}/tpc");
						TPC[playerid] = false;
					}
					case 1: ShowPlayerDialog(playerid, D_ADDNED+4, 2, "Добавить бизнес", "Магазин 24/7\nАЗС\nМагазин радиоигрушек\nМагазин пиротехники\nМагазин компьютеров\nСауна\nАптека\nСтоловая\nКлуб\nСвободно\nСвободно\nСТО\nМагазин одежды\nКазино\nОсобенный\nАвтосалон\nКаршеринг", "Выбрать", "Отмена");
					case 2: ShowPlayerDialog(playerid, D_NMENU+15, 1, "Добавить транспорт", "ВАЖНО: Модель, Цвет1, Цвет2, Фракция, Статус\nПРИМЕР: 504, 1, 3, 4, 0", "Принять", "Отмена");
					case 3: ShowPlayerDialog(playerid, D_ADDNED+5, 0, "Добавить ATM", "Вы хотите начать установку банкомата?", "Да", "Нет");
     				case 4: ShowPlayerDialog(playerid, DIALOG_CREATE_ENTRANCE, DIALOG_STYLE_INPUT, "Добавить подъезд", "Вы должны стоять на входе будущий подъезд!\nВведите стоимость квартир:", "Далее", "Отмена");
					
				}
			}
			return 1;
		}
	case D_ADDNED+1:
		{
			if(response)
			{
				new type, Float:x,Float:y,Float:z;
				if(sscanf(inputtext,"i",type))
				{
					new string[616];
					new string1[150];
					strcat(string,"ВАЖНО: Тип интерьера\n\nПРИМЕР: 1\n\n");
					strcat(string1,"1. Низкий класс\n");
					strcat(string1,"2. Средний класс\n");
					strcat(string1,"3. Высокий класс\n");
					strcat(string1,"4. Элитный класс (рублевка)\n");
					strcat(string1,"5. Дэлюксовый класс (топ место, редкий)\n");
					strcat(string1,"6. Особняк (р-н элитный, для семей)\n");
					strcat(string1,"7. Квартира (вместо подъезда)\n");
					return ShowPlayerDialog(playerid,D_ADDNED+1,1,"Добавить дом",string,"Выбрать","Закрыть");
				}
				TOTALHOUSE++;
				GetPlayerPos(playerid,x,y,z);
				HouseInfo[TOTALHOUSE][hEntrx] = x;
				HouseInfo[TOTALHOUSE][hEntry] = y;
				HouseInfo[TOTALHOUSE][hEntrz] = z;
				new string[90];
				switch(type)
				{
					case 1: format(string,90,"329.8673,1636.0060,2004.2246,A,1");	// [интерьер 9 звёздочный](меню) int 5
					case 2: format(string,90,"1740.1130,1730.9177,-8.0966,B,2");	// [интерьер 2 звёздочный](меню) int 9
					case 3: format(string,90,"224.8911,710.4091,808.8689,C,3");	// [интерьер 9 звёздочный](меню) int 6
					case 4: format(string,90,"2533.0481,2635.1702,1742.2000,D,4");	// [интерьер 9 звёздочный](меню) int 6
					case 5: format(string,90,"2533.0481,2635.1702,1742.2000,E,5");	// [интерьер 9 звёздочный](меню) int 6
					case 6: format(string,90,"1011.9800,2819.6800,1279.5000,F,6");	// [интерьер 9 звёздочный](меню) int 6
					case 7: format(string,90,"-237.0400,412.5500,1002.4800,G,7");	// [интерьер 9 звёздочный](меню) int 6
				}
				sscanf(coordh,"p<,>ffff",
				HouseInfo[TOTALHOUSE][hCarx],HouseInfo[TOTALHOUSE][hCary],HouseInfo[TOTALHOUSE][hCarz],HouseInfo[TOTALHOUSE][hCarfa]);
				sscanf(string,"p<,>fffsi",
				HouseInfo[TOTALHOUSE][hExitx],HouseInfo[TOTALHOUSE][hExity],HouseInfo[TOTALHOUSE][hExitz],
				HouseInfo[TOTALHOUSE][hDiscript],HouseInfo[TOTALHOUSE][hInt]);
				HouseInfo[TOTALHOUSE][hVirtual] = TOTALHOUSE;
				new tmpvar;
				if(!strcmp("A",HouseInfo[TOTALHOUSE][hDiscript],true)) tmpvar = 1000000;
				if(!strcmp("B",HouseInfo[TOTALHOUSE][hDiscript],true)) tmpvar = 3000000;
				if(!strcmp("C",HouseInfo[TOTALHOUSE][hDiscript],true)) tmpvar = 5000000;
				if(!strcmp("D",HouseInfo[TOTALHOUSE][hDiscript],true)) tmpvar = 10000000;
				if(!strcmp("E",HouseInfo[TOTALHOUSE][hDiscript],true)) tmpvar = 15000000;
				if(!strcmp("f",HouseInfo[TOTALHOUSE][hDiscript],true)) tmpvar = 30000000;
				if(!strcmp("G",HouseInfo[TOTALHOUSE][hDiscript],true)) tmpvar = 1000000;
				HouseInfo[TOTALHOUSE][hPrice] = tmpvar;

				strmid(HouseInfo[TOTALHOUSE][hOwner], "None", 0, strlen("None"), MAX_PLAYER_NAME);
				HouseInfo[TOTALHOUSE][hMIcon] = CreateDynamicMapIcon(HouseInfo[TOTALHOUSE][hEntrx], HouseInfo[TOTALHOUSE][hEntry], HouseInfo[TOTALHOUSE][hEntrz], 31, 0,-1,-1,-1,150.0);
				HouseInfo[TOTALHOUSE][hPickup] = CreateDynamicPickup(1273,1, HouseInfo[TOTALHOUSE][hEntrx], HouseInfo[TOTALHOUSE][hEntry], HouseInfo[TOTALHOUSE][hEntrz]);

                new totalstring[512];
				format(totalstring,sizeof(totalstring),"INSERT INTO `house` (id,hEntrx,hEntry,hEntrz,hExitx,hExity,hExitz,carx,cary,carz,carfa,hDiscript,hPrice,hInt,hVirtual)\
				VALUES (%d,'%f','%f','%f','%f','%f','%f','%f','%f','%f','%f','%s',%d,%d,%d)",
				TOTALHOUSE,
				HouseInfo[TOTALHOUSE][hEntrx],HouseInfo[TOTALHOUSE][hEntry],HouseInfo[TOTALHOUSE][hEntrz],
				HouseInfo[TOTALHOUSE][hExitx],HouseInfo[TOTALHOUSE][hExity],HouseInfo[TOTALHOUSE][hExitz],
				HouseInfo[TOTALHOUSE][hCarx],HouseInfo[TOTALHOUSE][hCary],HouseInfo[TOTALHOUSE][hCarz],HouseInfo[TOTALHOUSE][hCarfa],
				HouseInfo[TOTALHOUSE][hDiscript],HouseInfo[TOTALHOUSE][hPrice],HouseInfo[TOTALHOUSE][hInt],HouseInfo[TOTALHOUSE][hVirtual]);
				mysql_tquery(dbHandle, totalstring, "", "");
				SendMes(playerid, COLOR_LIME,"Дом №%d успешно создан",TOTALHOUSE);
				return 1;
			}
			TPC[playerid] = false;
		}
	case D_ADDNED+4:
		{
			if(!response) return 1;
			switch(listitem)
			{
			case 0: format(boordh,sizeof(boordh),"-233.5160, 592.7424, 2113.1201,-238.1147, 588.7435, 2113.1201, 6,56,1"); // 24/7
			case 1: format(boordh,sizeof(boordh),"0.0,0.0,0.0,0.0,0.0,0.0,0,47,2"); // FUEL
			case 2: format(boordh,sizeof(boordh),"-721.3050, 225.4088, 2022.7360,-724.6412, 206.7564, 2022.7360,5,29,3");//Магазин "Игрушки"
			case 3: format(boordh,sizeof(boordh),"362.8425,-75.1392,1001.5078,377.3217,-67.8903,1001.5151,10,10,11");//Магазин "Пиротехники"
			case 4: format(boordh,sizeof(boordh),"364.9063,-11.7721,1001.8516,369.6516,-6.3217,1001.8589,9,14,12");//Магазин "Компьютеров"
			case 5: format(boordh,sizeof(boordh),"364.9063,-11.7721,1001.8516,369.6516,-6.3217,1001.8589,9,14,13");//Сауна
			case 6: format(boordh,sizeof(boordh),"162.3600, 344.3200, 1835.9800,167.2830, 344.8232, 1836.8200,9,14,14");//Аптека
			case 7: format(boordh,sizeof(boordh),"0.0,0.0,0.0,0.0,0.0,0.0,2,48,4");
			case 8: format(boordh,sizeof(boordh),"0.0,0.0,0.0,0.0,0.0,0.0,11,49,5");
			case 9: format(boordh,sizeof(boordh),"0.0,0.0,0.0,0.0,0.0,0.0,7,18,6");
			case 10: format(boordh,sizeof(boordh),"0.0,0.0,0.0,0.0,0.0,0.0,5,10,4");
			case 11: format(boordh,sizeof(boordh),"0.0,0.0,0.0,0.0,0.0,0.0,0,27,7");//СТО
			// case 12: format(boordh,sizeof(boordh),"576.9775,2121.6621,1551.4600,571.0850, 2121.6577, 1551.4600,5,45,8");//Магазин одежды
			case 12: format(boordh,sizeof(boordh),"-1772.9454,1774.0067,2377.4160,-1779.2419,1774.6993,2377.4160,5,45,8");//Магазин одежды
			case 13: format(boordh,sizeof(boordh),"-916.2597,2878.6030,1043.8800, -919.5314,2873.9143,1043.8800,1,25,9"); // Казино
			case 14: format(boordh,sizeof(boordh),"-1772.9454,1774.0067,2377.4160,-1779.2419,1774.6993,2377.4160,10,45,8");
			// case 15: format(boordh,sizeof(boordh),"2657.5286,-1920.4762,2324.9900,2636.0930,-1909.2800,2328.1499,0,45,15"); // бизнес автосалон
			case 15: format(boordh,sizeof(boordh),"670.5612,79.3394,20.3888,0,0,0,3,45,15"); // бизнес автосалон
			case 16: format(boordh,sizeof(boordh),"0.0,0.0,0.0,0.0,0.0,0.0,5,10,4"); // меню каршеринга
			}
			ShowPlayerDialog(playerid, D_HEAL+6, 1, "Бизнес", "ВАЖНО: Название\n\nПРИМЕР: Магазин 24/7", "Принять", "Отмена");
			// SetPVarInt(playerid, "add_selected", listitem);
		}
	case D_HEAL+6:
		{
			if(!response) return 1;
			// if(GetPVarInt(playerid, "add_selected") == 15) {
			// 	new name[32];
			// 	if(sscanf(inputtext,"s[32]",name)) return ShowPlayerDialog(playerid, D_HEAL+6, 1, "Бизнес", "ВАЖНО: Название\n\nПРИМЕР: Gas Station", "Принять", "Отмена");
			// 	TOTALBIZZ++;
			// 	sscanf(boordh,"p<,>ffffffiii",
			// 	BizzInfo[TOTALBIZZ][bExitx],BizzInfo[TOTALBIZZ][bExity],BizzInfo[TOTALBIZZ][bExitz],
			// 	BizzInfo[TOTALBIZZ][bMenux],BizzInfo[TOTALBIZZ][bMenuy],BizzInfo[TOTALBIZZ][bMenuz],
			// 	BizzInfo[TOTALBIZZ][bInt],BizzInfo[TOTALBIZZ][bMIcon], BizzInfo[TOTALBIZZ][bType]);
			// 	GetPlayerPos(playerid,BizzInfo[TOTALBIZZ][bEntrx],BizzInfo[TOTALBIZZ][bEntry],BizzInfo[TOTALBIZZ][bEntrz]);
			// 	strmid(BizzInfo[TOTALBIZZ][bOwner], "None", 0, strlen("None"), MAX_PLAYER_NAME);
			// 	strmid(BizzInfo[TOTALBIZZ][bName], name, 0, strlen(name), 32);
			// 	BizzInfo[TOTALBIZZ][bVirtual] = 0;
			// 	BizzInfo[TOTALBIZZ][bEnter] = 300;
			// 	BizzInfo[TOTALBIZZ][bTill] = 50;
				
			// } else {
			new name[32];
			if(sscanf(inputtext,"s[32]",name)) return ShowPlayerDialog(playerid, D_HEAL+6, 1, "Бизнес", "ВАЖНО: Название\n\nПРИМЕР: Gas Station", "Принять", "Отмена");
			TOTALBIZZ++;
			sscanf(boordh,"p<,>ffffffiii",
			BizzInfo[TOTALBIZZ][bExitx],BizzInfo[TOTALBIZZ][bExity],BizzInfo[TOTALBIZZ][bExitz],
			BizzInfo[TOTALBIZZ][bMenux],BizzInfo[TOTALBIZZ][bMenuy],BizzInfo[TOTALBIZZ][bMenuz],
			BizzInfo[TOTALBIZZ][bInt],BizzInfo[TOTALBIZZ][bMIcon], BizzInfo[TOTALBIZZ][bType]);
			GetPlayerPos(playerid,BizzInfo[TOTALBIZZ][bEntrx],BizzInfo[TOTALBIZZ][bEntry],BizzInfo[TOTALBIZZ][bEntrz]);
			strmid(BizzInfo[TOTALBIZZ][bOwner], "None", 0, strlen("None"), MAX_PLAYER_NAME);
			strmid(BizzInfo[TOTALBIZZ][bName], name, 0, strlen(name), 32);
			BizzInfo[TOTALBIZZ][bVirtual] = TOTALBIZZ;
			BizzInfo[TOTALBIZZ][bEnter] = 0;
			BizzInfo[TOTALBIZZ][bTill] = 50;
			// }
			

			new tmpvar, tmpvar2;
			switch(BizzInfo[TOTALBIZZ][bType])
			{
			    case 1: tmpvar = 5000000, tmpvar2 = 5000;
			    case 2: tmpvar = 500000, tmpvar2 = 20000;
			    case 3: tmpvar = 340000, tmpvar2 = 3000;
			    case 4: tmpvar = 460000, tmpvar2 = 7000;
			    case 5: tmpvar = 240000, tmpvar2 = 7000;
			    case 6: tmpvar = 800000, tmpvar2 = 20000;
			    case 7: tmpvar = 450000, tmpvar2 = 100000;
			    case 8: tmpvar = 500000, tmpvar2 = 50000;
			    case 9: tmpvar = 2500000, tmpvar2 = 50000;
			    case 10: tmpvar = 300000, tmpvar2 = 5000;
			    case 11: tmpvar = 250000, tmpvar2 = 10000;
			    case 12: tmpvar = 500000, tmpvar2 = 20000;
			    case 13: tmpvar = 150000, tmpvar2 = 5000;
			    case 14: tmpvar = 400000, tmpvar2 = 10000;
				case 15: tmpvar = 3000000, tmpvar2 = 10000;
			}
			BizzInfo[TOTALBIZZ][bPrice] = tmpvar;
			BizzInfo[TOTALBIZZ][bProduct] = tmpvar2;
			new text[20];
			switch(BizzInfo[TOTALBIZZ][bMafia])
			{
			    case TEAM_SPARTAK: text = "ОПГ Южная";
			    case TEAM_CSKA: text = "ОПГ Ореховская";
			    case TEAM_DINAMO: text = "ОПГ Солнцевская";
			    case TEAM_ZENIT: text = "Чеченская Мафия";
				case 0: text = "отсутствует";
			}
            new fee[64];
	        if(BizzInfo[TOTALBIZZ][bEnter] == 0) fee = "Вход свободный";
	        else format(fee, sizeof(fee), "Стоимость входа: {FFFFFF}%d рублей", BizzInfo[TOTALBIZZ][bEnter]);

			if(BizzInfo[TOTALBIZZ][bType] == 1)
			{
			    new string[200];
				BizzInfo[TOTALBIZZ][bPickup] = CreateDynamicPickup(19132,1,BizzInfo[TOTALBIZZ][bEntrx],BizzInfo[TOTALBIZZ][bEntry],BizzInfo[TOTALBIZZ][bEntrz]);
				BizzInfo[TOTALBIZZ][bPickupExit] = CreateDynamicPickup(19132,1,BizzInfo[TOTALBIZZ][bExitx],BizzInfo[TOTALBIZZ][bExity],BizzInfo[TOTALBIZZ][bExitz],BizzInfo[TOTALBIZZ][bVirtual]);
				BizzInfo[TOTALBIZZ][bMenu] = CreateDynamicSphere(BizzInfo[TOTALBIZZ][bMenux],BizzInfo[TOTALBIZZ][bMenuy],BizzInfo[TOTALBIZZ][bMenuz],1.0,BizzInfo[TOTALBIZZ][bVirtual],BizzInfo[TOTALBIZZ][bInt]);
				if(BizzInfo[TOTALBIZZ][bType] == 8) CreateDynamicPickup(1275,1,BizzInfo[TOTALBIZZ][bMenux],BizzInfo[TOTALBIZZ][bMenuy],BizzInfo[TOTALBIZZ][bMenuz],BizzInfo[TOTALBIZZ][bVirtual],BizzInfo[TOTALBIZZ][bInt]);
				else CreateDynamicPickup(1514,1,BizzInfo[TOTALBIZZ][bMenux],BizzInfo[TOTALBIZZ][bMenuy],BizzInfo[TOTALBIZZ][bMenuz],BizzInfo[TOTALBIZZ][bVirtual],BizzInfo[TOTALBIZZ][bInt]);
		   		if(!strcmp(BizzInfo[TOTALBIZZ][bOwner],"None",true))
				{
					format(string, sizeof(string), "{0099FF}Магазин 24/7 '%s'\n{FFFFFF}Владелец: {0099FF}%s\n{FFFFFF}Контролирует: {3497FF}%s\n{FFFFFF}Вход: {FFCC00}%s", BizzInfo[TOTALBIZZ][bOwner], BizzInfo[TOTALBIZZ][bMafia], fee);
//    				format(string, sizeof(string), "{FFCC00}Магазин 24/7 '%s'\n{FFFFFF}Продаётся", BizzInfo[idx][bName]);
					LABELBIZZ[TOTALBIZZ] = CreateDynamic3DTextLabel(string,-1,BizzInfo[TOTALBIZZ][bEntrx], BizzInfo[TOTALBIZZ][bEntry], BizzInfo[TOTALBIZZ][bEntrz]+0.5,20.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,1);
				}
				else
				{
					format(string, sizeof(string), "{0099FF}Магазин 24/7 '%s'\n{FFFFFF}Владелец: {0099FF}%s\n{FFFFFF}Контролирует: {3497FF}%s\n{FFFFFF}Вход: {FFCC00}%s", BizzInfo[TOTALBIZZ][bOwner], fee);
					UpdateDynamic3DTextLabelText(LABELBIZZ[TOTALBIZZ],-1,string);
				}
			}
			else if(BizzInfo[TOTALBIZZ][bType] == 8)
			{
			    new string[200];
				BizzInfo[TOTALBIZZ][bPickup] = CreateDynamicPickup(19132,1,BizzInfo[TOTALBIZZ][bEntrx],BizzInfo[TOTALBIZZ][bEntry],BizzInfo[TOTALBIZZ][bEntrz]);
				BizzInfo[TOTALBIZZ][bPickupExit] = CreateDynamicPickup(19132,1,BizzInfo[TOTALBIZZ][bExitx],BizzInfo[TOTALBIZZ][bExity],BizzInfo[TOTALBIZZ][bExitz],BizzInfo[TOTALBIZZ][bVirtual]);
				BizzInfo[TOTALBIZZ][bMenu] = CreateDynamicSphere(BizzInfo[TOTALBIZZ][bMenux],BizzInfo[TOTALBIZZ][bMenuy],BizzInfo[TOTALBIZZ][bMenuz],1.0,BizzInfo[TOTALBIZZ][bVirtual],BizzInfo[TOTALBIZZ][bInt]);
				if(BizzInfo[TOTALBIZZ][bType] == 8) CreateDynamicPickup(1275,1,BizzInfo[TOTALBIZZ][bMenux],BizzInfo[TOTALBIZZ][bMenuy],BizzInfo[TOTALBIZZ][bMenuz],BizzInfo[TOTALBIZZ][bVirtual],BizzInfo[TOTALBIZZ][bInt]);
				else CreateDynamicPickup(1514,1,BizzInfo[TOTALBIZZ][bMenux],BizzInfo[TOTALBIZZ][bMenuy],BizzInfo[TOTALBIZZ][bMenuz],BizzInfo[TOTALBIZZ][bVirtual],BizzInfo[TOTALBIZZ][bInt]);
		   		if(!strcmp(BizzInfo[TOTALBIZZ][bOwner],"None",true))
				{
    				format(string, sizeof(string), "{3497FF}Магазин Одежды\n{FFFFFF}Владелец: {FFCC00}государство\n{FFFFFF}Крышует: {3497FF}%s\n{FFFFFF}Цена: {FFCC00}%d {FFFFFF}рублей\n{FFFFFF}Цена за вход: {FFCC00}бесплатный", BizzInfo[TOTALBIZZ][bMafia],BizzInfo[TOTALBIZZ][bPrice]);
					LABELBIZZ[TOTALBIZZ] = CreateDynamic3DTextLabel(string,-1,BizzInfo[TOTALBIZZ][bEntrx], BizzInfo[TOTALBIZZ][bEntry], BizzInfo[TOTALBIZZ][bEntrz]+0.5,20.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,1);
				}
				else
				{
					format(string, sizeof(string), "{3497FF}Магазин Одежды\n{FFFFFF}Владелец: {0099FF}%s\n{FFFFFF}Крышует: {3497FF}%s\n{FFFFFF}Цена за вход: {FFCC00}%s",BizzInfo[TOTALBIZZ][bOwner],BizzInfo[TOTALBIZZ][bMafia],fee);
					UpdateDynamic3DTextLabelText(LABELBIZZ[TOTALBIZZ],-1,string);
				}
			}
			else if(BizzInfo[TOTALBIZZ][bType] == 9)
			{
				BizzInfo[TOTALBIZZ][bPickup] = CreateDynamicPickup(19132,1,BizzInfo[TOTALBIZZ][bEntrx],BizzInfo[TOTALBIZZ][bEntry],BizzInfo[TOTALBIZZ][bEntrz]);
				BizzInfo[TOTALBIZZ][bPickupExit] = CreateDynamicPickup(19132,1,BizzInfo[TOTALBIZZ][bExitx],BizzInfo[TOTALBIZZ][bExity],BizzInfo[TOTALBIZZ][bExitz],BizzInfo[TOTALBIZZ][bVirtual]);
			    new string[200];
				if(!strcmp(BizzInfo[TOTALBIZZ][bOwner],"None",true))
				{
					format(string, sizeof(string), "{3497FF}Казино\n{FFFFFF}Владелец: {FFCC00}государство\n{FFFFFF}Крышует: {3497FF}%s\n{FFFFFF}Цена: {FFCC00}%d {FFFFFF}рублей\n{FFFFFF}Цена за вход: {FFCC00}бесплатный",BizzInfo[TOTALBIZZ][bMafia],BizzInfo[TOTALBIZZ][bPrice]);
					LABELBIZZ[TOTALBIZZ] = CreateDynamic3DTextLabel(string,-1,BizzInfo[TOTALBIZZ][bEntrx], BizzInfo[TOTALBIZZ][bEntry], BizzInfo[TOTALBIZZ][bEntrz]+0.5,20.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID);
				}
				else
				{
					format(string, sizeof(string), "{3497FF}Казино\n{FFFFFF}Владелец: {0099FF}%s\n{FFFFFF}Крышует: {3497FF}%s\n{FFFFFF}Цена за вход: {FFCC00}%s",BizzInfo[TOTALBIZZ][bOwner],BizzInfo[TOTALBIZZ][bMafia],fee);
					UpdateDynamic3DTextLabelText(LABELBIZZ[TOTALBIZZ],-1,string);
				}
			}
			else if(BizzInfo[TOTALBIZZ][bType] == 10)
			{
				BizzInfo[TOTALBIZZ][bPickup] = CreateDynamicPickup(19132,1,BizzInfo[TOTALBIZZ][bEntrx],BizzInfo[TOTALBIZZ][bEntry],BizzInfo[TOTALBIZZ][bEntrz]);
				BizzInfo[TOTALBIZZ][bPickupExit] = CreateDynamicPickup(19132,1,BizzInfo[TOTALBIZZ][bExitx],BizzInfo[TOTALBIZZ][bExity],BizzInfo[TOTALBIZZ][bExitz],BizzInfo[TOTALBIZZ][bVirtual]);
				BizzInfo[TOTALBIZZ][bMenu] = CreateDynamicSphere(BizzInfo[TOTALBIZZ][bMenux],BizzInfo[TOTALBIZZ][bMenuy],BizzInfo[TOTALBIZZ][bMenuz],1.0,BizzInfo[TOTALBIZZ][bVirtual],BizzInfo[TOTALBIZZ][bInt]);
                if(BizzInfo[TOTALBIZZ][bType] == 8) CreateDynamicPickup(1275,1,BizzInfo[TOTALBIZZ][bMenux],BizzInfo[TOTALBIZZ][bMenuy],BizzInfo[TOTALBIZZ][bMenuz],BizzInfo[TOTALBIZZ][bVirtual],BizzInfo[TOTALBIZZ][bInt]);
				else CreateDynamicPickup(1514,1,BizzInfo[TOTALBIZZ][bMenux],BizzInfo[TOTALBIZZ][bMenuy],BizzInfo[TOTALBIZZ][bMenuz],BizzInfo[TOTALBIZZ][bVirtual],BizzInfo[TOTALBIZZ][bInt]);
				new string[200];
				if(!strcmp(BizzInfo[TOTALBIZZ][bOwner],"None",true))
				{
					format(string, sizeof(string), "{3497FF}Магазин Игрушек\n{FFFFFF}Владелец: {FFCC00}государство\n{FFFFFF}Крышует: {3497FF}%s\n{FFFFFF}Цена: {FFCC00}%d {FFFFFF}рублей\n{FFFFFF}Цена за вход: {FFCC00}бесплатный",BizzInfo[TOTALBIZZ][bMafia],BizzInfo[TOTALBIZZ][bPrice]);
					LABELBIZZ[TOTALBIZZ] = CreateDynamic3DTextLabel(string,-1,BizzInfo[TOTALBIZZ][bEntrx], BizzInfo[TOTALBIZZ][bEntry], BizzInfo[TOTALBIZZ][bEntrz]+0.5,20.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID);
				}
				else
				{
					format(string, sizeof(string), "{3497FF}Магазин Игрушек\n{FFFFFF}Владелец: {0099FF}%s\n{FFFFFF}Крышует: {3497FF}%s\n{FFFFFF}Цена за вход: {FFCC00}%s",BizzInfo[TOTALBIZZ][bOwner],BizzInfo[TOTALBIZZ][bMafia],fee);
					UpdateDynamic3DTextLabelText(LABELBIZZ[TOTALBIZZ],-1,string);
				}
			}
			else if(BizzInfo[TOTALBIZZ][bType] == 11)
			{
				BizzInfo[TOTALBIZZ][bPickup] = CreateDynamicPickup(19132,1,BizzInfo[TOTALBIZZ][bEntrx],BizzInfo[TOTALBIZZ][bEntry],BizzInfo[TOTALBIZZ][bEntrz]);
				BizzInfo[TOTALBIZZ][bPickupExit] = CreateDynamicPickup(19132,1,BizzInfo[TOTALBIZZ][bExitx],BizzInfo[TOTALBIZZ][bExity],BizzInfo[TOTALBIZZ][bExitz],BizzInfo[TOTALBIZZ][bVirtual]);
				BizzInfo[TOTALBIZZ][bMenu] = CreateDynamicSphere(BizzInfo[TOTALBIZZ][bMenux],BizzInfo[TOTALBIZZ][bMenuy],BizzInfo[TOTALBIZZ][bMenuz],1.0,BizzInfo[TOTALBIZZ][bVirtual],BizzInfo[TOTALBIZZ][bInt]);
                if(BizzInfo[TOTALBIZZ][bType] == 8) CreateDynamicPickup(1275,1,BizzInfo[TOTALBIZZ][bMenux],BizzInfo[TOTALBIZZ][bMenuy],BizzInfo[TOTALBIZZ][bMenuz],BizzInfo[TOTALBIZZ][bVirtual],BizzInfo[TOTALBIZZ][bInt]);
				else CreateDynamicPickup(1514,1,BizzInfo[TOTALBIZZ][bMenux],BizzInfo[TOTALBIZZ][bMenuy],BizzInfo[TOTALBIZZ][bMenuz],BizzInfo[TOTALBIZZ][bVirtual],BizzInfo[TOTALBIZZ][bInt]);
				new string[200];
				if(!strcmp(BizzInfo[TOTALBIZZ][bOwner],"None",true))
				{
					format(string, sizeof(string), "{3497FF}Магазин Пиротехники\n{FFFFFF}Владелец: {FFCC00}государство\n{FFFFFF}Крышует: {3497FF}%s\n{FFFFFF}Цена: {FFCC00}%d {FFFFFF}рублей\n{FFFFFF}Цена за вход: {FFCC00}бесплатный",BizzInfo[TOTALBIZZ][bMafia],BizzInfo[TOTALBIZZ][bPrice]);
					LABELBIZZ[TOTALBIZZ] = CreateDynamic3DTextLabel(string,-1,BizzInfo[TOTALBIZZ][bEntrx], BizzInfo[TOTALBIZZ][bEntry], BizzInfo[TOTALBIZZ][bEntrz]+0.5,20.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID);
				}
				else
				{
					format(string, sizeof(string), "{3497FF}Магазин Пиротехники\n{FFFFFF}Владелец: {0099FF}%s\n{FFFFFF}Крышует: {3497FF}%s\n{FFFFFF}Цена за вход: {FFCC00}%s",BizzInfo[TOTALBIZZ][bOwner],BizzInfo[TOTALBIZZ][bMafia],fee);
					UpdateDynamic3DTextLabelText(LABELBIZZ[TOTALBIZZ],-1,string);
				}
			}
			else if(BizzInfo[TOTALBIZZ][bType] == 12)
			{
				BizzInfo[TOTALBIZZ][bPickup] = CreateDynamicPickup(19132,1,BizzInfo[TOTALBIZZ][bEntrx],BizzInfo[TOTALBIZZ][bEntry],BizzInfo[TOTALBIZZ][bEntrz]);
				BizzInfo[TOTALBIZZ][bPickupExit] = CreateDynamicPickup(19132,1,BizzInfo[TOTALBIZZ][bExitx],BizzInfo[TOTALBIZZ][bExity],BizzInfo[TOTALBIZZ][bExitz],BizzInfo[TOTALBIZZ][bVirtual]);
				BizzInfo[TOTALBIZZ][bMenu] = CreateDynamicSphere(BizzInfo[TOTALBIZZ][bMenux],BizzInfo[TOTALBIZZ][bMenuy],BizzInfo[TOTALBIZZ][bMenuz],1.0,BizzInfo[TOTALBIZZ][bVirtual],BizzInfo[TOTALBIZZ][bInt]);
                if(BizzInfo[TOTALBIZZ][bType] == 8) CreateDynamicPickup(1275,1,BizzInfo[TOTALBIZZ][bMenux],BizzInfo[TOTALBIZZ][bMenuy],BizzInfo[TOTALBIZZ][bMenuz],BizzInfo[TOTALBIZZ][bVirtual],BizzInfo[TOTALBIZZ][bInt]);
				else CreateDynamicPickup(1514,1,BizzInfo[TOTALBIZZ][bMenux],BizzInfo[TOTALBIZZ][bMenuy],BizzInfo[TOTALBIZZ][bMenuz],BizzInfo[TOTALBIZZ][bVirtual],BizzInfo[TOTALBIZZ][bInt]);
				new string[200];
				if(!strcmp(BizzInfo[TOTALBIZZ][bOwner],"None",true))
				{
					format(string, sizeof(string), "{3497FF}Магазин Компьютеров\n{FFFFFF}Владелец: {FFCC00}государство\n{FFFFFF}Крышует: {3497FF}%s\n{FFFFFF}Цена: {FFCC00}%d {FFFFFF}рублей\n{FFFFFF}Цена за вход: {FFCC00}бесплатный",BizzInfo[TOTALBIZZ][bMafia],BizzInfo[TOTALBIZZ][bPrice]);
					LABELBIZZ[TOTALBIZZ] = CreateDynamic3DTextLabel(string,-1,BizzInfo[TOTALBIZZ][bEntrx], BizzInfo[TOTALBIZZ][bEntry], BizzInfo[TOTALBIZZ][bEntrz]+0.5,20.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID);
				}
				else
				{
					format(string, sizeof(string), "{3497FF}Магазин Компьютеров\n{FFFFFF}Владелец: {0099FF}%s\n{FFFFFF}Крышует: {3497FF}%s\n{FFFFFF}Цена за вход: {FFCC00}%s",BizzInfo[TOTALBIZZ][bOwner],BizzInfo[TOTALBIZZ][bMafia],fee);
					UpdateDynamic3DTextLabelText(LABELBIZZ[TOTALBIZZ],-1,string);
				}
			}
			else if(BizzInfo[TOTALBIZZ][bType] == 13)
			{
				BizzInfo[TOTALBIZZ][bPickup] = CreateDynamicPickup(19132,1,BizzInfo[TOTALBIZZ][bEntrx],BizzInfo[TOTALBIZZ][bEntry],BizzInfo[TOTALBIZZ][bEntrz]);
				BizzInfo[TOTALBIZZ][bPickupExit] = CreateDynamicPickup(19132,1,BizzInfo[TOTALBIZZ][bExitx],BizzInfo[TOTALBIZZ][bExity],BizzInfo[TOTALBIZZ][bExitz],BizzInfo[TOTALBIZZ][bVirtual]);
				BizzInfo[TOTALBIZZ][bMenu] = CreateDynamicSphere(BizzInfo[TOTALBIZZ][bMenux],BizzInfo[TOTALBIZZ][bMenuy],BizzInfo[TOTALBIZZ][bMenuz],1.0,BizzInfo[TOTALBIZZ][bVirtual],BizzInfo[TOTALBIZZ][bInt]);
                if(BizzInfo[TOTALBIZZ][bType] == 8) CreateDynamicPickup(1275,1,BizzInfo[TOTALBIZZ][bMenux],BizzInfo[TOTALBIZZ][bMenuy],BizzInfo[TOTALBIZZ][bMenuz],BizzInfo[TOTALBIZZ][bVirtual],BizzInfo[TOTALBIZZ][bInt]);
				else CreateDynamicPickup(1514,1,BizzInfo[TOTALBIZZ][bMenux],BizzInfo[TOTALBIZZ][bMenuy],BizzInfo[TOTALBIZZ][bMenuz],BizzInfo[TOTALBIZZ][bVirtual],BizzInfo[TOTALBIZZ][bInt]);
				new string[200];
				if(!strcmp(BizzInfo[TOTALBIZZ][bOwner],"None",true))
				{
					format(string, sizeof(string), "{3497FF}Сауна\n{FFFFFF}Владелец: {FFCC00}государство\n{FFFFFF}Крышует: {3497FF}%s\n{FFFFFF}Цена: {FFCC00}%d {FFFFFF}рублей\n{FFFFFF}Цена за вход: {FFCC00}бесплатный",BizzInfo[TOTALBIZZ][bMafia],BizzInfo[TOTALBIZZ][bPrice]);
					LABELBIZZ[TOTALBIZZ] = CreateDynamic3DTextLabel(string,-1,BizzInfo[TOTALBIZZ][bEntrx], BizzInfo[TOTALBIZZ][bEntry], BizzInfo[TOTALBIZZ][bEntrz]+0.5,20.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID);
				}
				else
				{
					format(string, sizeof(string), "{3497FF}Сауна\n{FFFFFF}Владелец: {0099FF}%s\n{FFFFFF}Крышует: {3497FF}%s\n{FFFFFF}Цена за вход: {FFCC00}%s",BizzInfo[TOTALBIZZ][bOwner],BizzInfo[TOTALBIZZ][bMafia],fee);
					UpdateDynamic3DTextLabelText(LABELBIZZ[TOTALBIZZ],-1,string);
				}
			}
			else if(BizzInfo[TOTALBIZZ][bType] == 14)
			{
				BizzInfo[TOTALBIZZ][bPickup] = CreateDynamicPickup(19132,1,BizzInfo[TOTALBIZZ][bEntrx],BizzInfo[TOTALBIZZ][bEntry],BizzInfo[TOTALBIZZ][bEntrz]);
				BizzInfo[TOTALBIZZ][bPickupExit] = CreateDynamicPickup(19132,1,BizzInfo[TOTALBIZZ][bExitx],BizzInfo[TOTALBIZZ][bExity],BizzInfo[TOTALBIZZ][bExitz],BizzInfo[TOTALBIZZ][bVirtual]);
				BizzInfo[TOTALBIZZ][bMenu] = CreateDynamicSphere(BizzInfo[TOTALBIZZ][bMenux],BizzInfo[TOTALBIZZ][bMenuy],BizzInfo[TOTALBIZZ][bMenuz],1.0,BizzInfo[TOTALBIZZ][bVirtual],BizzInfo[TOTALBIZZ][bInt]);
                if(BizzInfo[TOTALBIZZ][bType] == 8) CreateDynamicPickup(1275,1,BizzInfo[TOTALBIZZ][bMenux],BizzInfo[TOTALBIZZ][bMenuy],BizzInfo[TOTALBIZZ][bMenuz],BizzInfo[TOTALBIZZ][bVirtual],BizzInfo[TOTALBIZZ][bInt]);
				else CreateDynamicPickup(1514,1,BizzInfo[TOTALBIZZ][bMenux],BizzInfo[TOTALBIZZ][bMenuy],BizzInfo[TOTALBIZZ][bMenuz],BizzInfo[TOTALBIZZ][bVirtual],BizzInfo[TOTALBIZZ][bInt]);
				new string[200];
				if(!strcmp(BizzInfo[TOTALBIZZ][bOwner],"None",true))
				{
					format(string, sizeof(string), "{3497FF}Аптека\n{FFFFFF}Владелец: {FFCC00}государство\n{FFFFFF}Крышует: {3497FF}%s\n{FFFFFF}Цена: {FFCC00}%d {FFFFFF}рублей\n{FFFFFF}Цена за вход: {FFCC00}бесплатный",BizzInfo[TOTALBIZZ][bMafia],BizzInfo[TOTALBIZZ][bPrice]);
					LABELBIZZ[TOTALBIZZ] = CreateDynamic3DTextLabel(string,-1,BizzInfo[TOTALBIZZ][bEntrx], BizzInfo[TOTALBIZZ][bEntry], BizzInfo[TOTALBIZZ][bEntrz]+0.5,20.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID);
				}
				else
				{
					format(string, sizeof(string), "{3497FF}Аптека\n{FFFFFF}Владелец: {FFCC00}%s\n{FFFFFF}Крышует: {3497FF}%s\n{FFFFFF}Цена за вход: {FFCC00}%s",BizzInfo[TOTALBIZZ][bOwner],BizzInfo[TOTALBIZZ][bMafia],fee);
					UpdateDynamic3DTextLabelText(LABELBIZZ[TOTALBIZZ],-1,string);
				}
			}
			else if(BizzInfo[TOTALBIZZ][bType] == 2)
			{
			    new string[200];
			    BizzInfo[TOTALBIZZ][bPickup] = CreateDynamicPickup(1650,1,BizzInfo[TOTALBIZZ][bEntrx],BizzInfo[TOTALBIZZ][bEntry],BizzInfo[TOTALBIZZ][bEntrz]);
				if(!strcmp(BizzInfo[TOTALBIZZ][bOwner],"None",true))
				{
					format(string, sizeof(string), "{FFCC00}Заправка\n{FFCC00}Заправка продаётся\n{FFFFFF}Цена: {FFCC00}%d рублей\n{ffffff}Цена за 1 литр - {FFCC00}%i рублей\n{FFCC00}Используйте /fill",BizzInfo[TOTALBIZZ][bPrice], BizzInfo[TOTALBIZZ][bTill]);
					LABELBIZZ[TOTALBIZZ] = CreateDynamic3DTextLabel(string,-1,BizzInfo[TOTALBIZZ][bEntrx], BizzInfo[TOTALBIZZ][bEntry], BizzInfo[TOTALBIZZ][bEntrz]+1.5,20.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID);
				}
				else
				{
					format(string, sizeof(string), "{FFCC00}/buyk - купить канистру\n/fill - заправить транспорт\n\n{FFCC00}АЗС\n{FFFFFF}Владелец: {FFCC00}%s\n{FFFFFF}Контролирует: {3497FF}%s\n{FFFFFF}Цена за 1 литр бензина: {FFCC00}%i рублей",BizzInfo[TOTALBIZZ][bOwner],text, BizzInfo[TOTALBIZZ][bTill]);
					LABELBIZZ[TOTALBIZZ] = CreateDynamic3DTextLabel(string,-1,BizzInfo[TOTALBIZZ][bEntrx], BizzInfo[TOTALBIZZ][bEntry], BizzInfo[TOTALBIZZ][bEntrz]+1.5,20.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID);
				}
			}
			else if(BizzInfo[TOTALBIZZ][bType] == 7)
			{
			    new string[200];
				if(!strcmp(BizzInfo[TOTALBIZZ][bOwner],"None",true))
				{
					format(string, sizeof(string), "{3497FF}СТО\n{FFFFFF}Владелец: {FFCC00}государство\n{FFFFFF}Крышует: {3497FF}%s\n{FFFFFF}Цена: {FFCC00}%d {FFFFFF}руб.",BizzInfo[TOTALBIZZ][bMafia],BizzInfo[TOTALBIZZ][bPrice]);
					LABELBIZZ[TOTALBIZZ] = CreateDynamic3DTextLabel(string,-1,BizzInfo[TOTALBIZZ][bEntrx], BizzInfo[TOTALBIZZ][bEntry], BizzInfo[TOTALBIZZ][bEntrz]+0.5,20.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID);
				}
				else
				{
					format(string, sizeof(string), "{3497FF}СТО\n{FFFFFF}Владелец: {FFCC00}%s\n{FFFFFF}Крышует: {3497FF}%s",BizzInfo[TOTALBIZZ][bOwner],BizzInfo[TOTALBIZZ][bMafia]);
					UpdateDynamic3DTextLabelText(LABELBIZZ[TOTALBIZZ],-1,string);
				}
			}
			else if(BizzInfo[TOTALBIZZ][bType] == 15)
			{
			    new string[200];
				format(string, sizeof(string), "{3497FF}Автосалон\n{FFFFFF}Владелец: {FFCC00}государство\n{FFFFFF}Крышует: {3497FF}%s\n{FFFFFF}Цена: {FFCC00}%d {FFFFFF}руб.",BizzInfo[TOTALBIZZ][bMafia],BizzInfo[TOTALBIZZ][bPrice]);
				LABELBIZZ[TOTALBIZZ] = CreateDynamic3DTextLabel(string,-1,BizzInfo[TOTALBIZZ][bEntrx], BizzInfo[TOTALBIZZ][bEntry], BizzInfo[TOTALBIZZ][bEntrz]+0.5,20.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID);
				BizzInfo[TOTALBIZZ][bPickup] = CreateDynamicPickup(19132,1,BizzInfo[TOTALBIZZ][bEntrx],BizzInfo[TOTALBIZZ][bEntry],BizzInfo[TOTALBIZZ][bEntrz]);
				BizzInfo[TOTALBIZZ][bPickupExit] = CreateDynamicPickup(19132,1,BizzInfo[TOTALBIZZ][bExitx],BizzInfo[TOTALBIZZ][bExity],BizzInfo[TOTALBIZZ][bExitz],BizzInfo[TOTALBIZZ][bVirtual]);
				BizzInfo[TOTALBIZZ][bMenu] = CreateDynamicSphere(BizzInfo[TOTALBIZZ][bMenux],BizzInfo[TOTALBIZZ][bMenuy],BizzInfo[TOTALBIZZ][bMenuz],1.0,BizzInfo[TOTALBIZZ][bVirtual],BizzInfo[TOTALBIZZ][bInt]);
			}
			new totalstring[512];
			format(totalstring, sizeof(totalstring), "INSERT INTO `bizz` (id, x, y, z, xt, yt, zt,menux,menuy,menuz, vint, virt, owner, name, price, product, type, icon) VALUES (%i, '%f', '%f', '%f', '%f', '%f', '%f','%f', '%f', '%f',%i, %i, '%s', '%s', %i, %i, %i, %i)",
			TOTALBIZZ,BizzInfo[TOTALBIZZ][bEntrx],BizzInfo[TOTALBIZZ][bEntry],BizzInfo[TOTALBIZZ][bEntrz],BizzInfo[TOTALBIZZ][bExitx],BizzInfo[TOTALBIZZ][bExity],BizzInfo[TOTALBIZZ][bExitz], BizzInfo[TOTALBIZZ][bMenux],BizzInfo[TOTALBIZZ][bMenuy],BizzInfo[TOTALBIZZ][bMenuz]
			,BizzInfo[TOTALBIZZ][bInt],BizzInfo[TOTALBIZZ][bVirtual],BizzInfo[TOTALBIZZ][bOwner],BizzInfo[TOTALBIZZ][bName], BizzInfo[TOTALBIZZ][bPrice], BizzInfo[TOTALBIZZ][bProduct], BizzInfo[TOTALBIZZ][bType], BizzInfo[TOTALBIZZ][bMIcon]);
			mysql_tquery(dbHandle, totalstring, "", "");
			SendMes(playerid,COLOR_LIME,"Бизнес номер %d создан",TOTALBIZZ);
			return 1;
		}
	case D_ADDNED+5:
		{
			if(PlayerLogged[playerid] == false) return 1;
			if(TOTALATM >= 50-2) return SendClientMessage(playerid, COLOR_RED, "Вы не можете больше устанавливать банкоматы!");
			if(GetPVarInt(playerid, "LoadATM") > 0) return SendClientMessage(playerid, COLOR_RED, "Вы уже устанавливаете банкомат!");
			ShowPlayerDialog(playerid, D_ATM+9, 0, "Добавить банкомат", "Вы хотите начать установку банкомата?", "Да", "Нет");
			return 1;
		}
	case D_JOINHOUSE:
		{
			if(!response) return 1;
			new idx = GetPVarInt(playerid, "PlayerHouse");
			if(!strcmp(HouseInfo[idx][hOwner], "None", true))
			{
				if(PI[playerid][pCash] < HouseInfo[idx][hPrice]) return SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно денег на покупку дома");
				else
				{
					new house = 0;
					for(new i = 1; i <= TOTALHOUSE;i++)
					{
						if(!strcmp(HouseInfo[i][hOwner], GetName(playerid), true)) house++;
					}
					if(house != 0) return SendClientMessage(playerid, COLOR_RED, "У Вас уже есть дом!");
					PI[playerid][pCash] -= HouseInfo[idx][hPrice];
					HouseInfo[idx][hBuyPrice] = HouseInfo[idx][hPrice]/2;
					HouseInfo[idx][hOplata] = 1;
					HouseInfo[idx][hLock] = 1;
					SendMes(playerid, COLOR_WHITE, "Поздравляем с покупкой дома!",HouseInfo[idx][hPrice]);
					//SCM(playerid,COLOR_RED,"У Вас был автомобиль, поэтому он припаркован неподалёку от дома");
					strmid(HouseInfo[idx][hOwner], GetName(playerid), 0, strlen(GetName(playerid)), MAX_PLAYER_NAME);
                    new string[256];
					format(string, sizeof(string), "UPDATE `house` SET hOwner = '%s', hOplata = %i, buyprice = %i, hLock = %i WHERE id = '%d' LIMIT 1", HouseInfo[idx][hOwner], 1, HouseInfo[idx][hBuyPrice], HouseInfo[idx][hLock], idx);
					mysql_tquery(dbHandle, string, "", "");
					PI[playerid][pSpawnChange] = 1;
					PI[playerid][cLock] = 1;
					LoadMyCar(playerid);
					UpdateHouse(idx);
					TotalFreeHouses --;
					return 1;
				}
			}
			else
			{
				if(HouseInfo[idx][hLock] == 1)
				{
					if(strcmp(GetName(playerid), HouseInfo[idx][hOwner], true) == 0) ShowPlayerDialog(playerid, D_JOB+14, 0, "{FFCC00}Дом", "{FFFFFF}Ваш дом закрыт\n\nВы хотите его открыть?", "Да", "Нет");
					GameTextForPlayer(playerid, "~r~Locked", 5000, 1);
				}
				else
				{   
				    FreezePlayer(playerid, 2000);
					SetPlayerPos(playerid,HouseInfo[idx][hExitx],HouseInfo[idx][hExity],HouseInfo[idx][hExitz]);
					SetPlayerInterior(playerid,HouseInfo[idx][hInt]);
					SetPlayerVirtualWorld(playerid,HouseInfo[idx][hVirtual]);
				}
			}
		}
	case D_SELLHOUSE:
		{
			if(!response) return callcmd::hmenu(playerid);
			new i = GetPVarInt(playerid, "PlayerHouse");
			strmid(HouseInfo[i][hOwner], "None", 0, strlen("None"), MAX_PLAYER_NAME);
			PI[playerid][pBank] += HouseInfo[i][hOplata];
			PI[playerid][pSpawnChange] = 0;
			SendMes(playerid, COLOR_LIME, "Деньги с домашнего счета переведены На Ваш банковский счет {FFFFFF}(%d руб)",HouseInfo[i][hOplata] );
			MysqlUpdateHouseStr(i, "hOwner", "None");
			HouseInfo[i][hLock] = 1;
			HouseInfo[i][hOplata] = 0;
			SendMes(playerid, COLOR_LIME, "Вы продали свой дом государству за {FFFFFF}%d руб.{99CC00} Деньги переведены в банк",HouseInfo[i][hBuyPrice]);
			PI[playerid][pBank] += HouseInfo[i][hBuyPrice];
			UpdateHouse(i);
			if(PI[playerid][PlayerCarID] != INVALID_VEHICLE_ID)
			{
				DestroyVehicle(PI[playerid][PlayerCarID]);
				PI[playerid][PlayerCarID] = INVALID_VEHICLE_ID;
			}
			PI[playerid][P_ROOM] = -1;
			PI[playerid][pHouse] = -1;

			format(query, sizeof(query), "UPDATE `house` SET  hOwner = '%s', buyprice = 0, hLock = %d, hOplata = 0, hGarage = 0, hAutoDoors = 0 WHERE id = '%d' LIMIT 1", HouseInfo[i][hOwner], HouseInfo[i][hLock], i);
			mysql_tquery(dbHandle, query, "", "");
			if(GetPlayerVirtualWorld(playerid) == HouseInfo[i][hVirtual])
			{
				SetPlayerInterior(playerid, 0);
				SetPlayerVirtualWorld(playerid, 0);
				SetPlayerPosEx(playerid, HouseInfo[i][hEntrx], HouseInfo[i][hEntry], HouseInfo[i][hEntrz]);
				DeletePVar(playerid, "PlayerHouse");
			}
		}
	case D_SELLHOUSE+1:
		{
			if(response)
			{
				if(!IsPlayerConnected(HouseOffer[playerid])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
				if(PlayerLogged[HouseOffer[playerid]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
				if(GetMoney(playerid) < HousePrice[playerid])
				{
					SendMes(HouseOffer[playerid], COLOR_RED, "У %s недостаточно средств!", GetName(playerid));
					HouseOffer[playerid] = -1;
					HousePrice[playerid] = 0;
					return SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно денег!");
				}
				TransferMoney(-1, HouseOffer[playerid], HousePrice[playerid]);
				format(query, sizeof(query), "UPDATE `house` SET hOwner = '%s', hLock = 1, hOplata = 0 WHERE id = '%d' LIMIT 1", GetName(HouseOffer[playerid]), GetPVarInt(playerid, "PlayerHouse"));
				mysql_tquery(dbHandle, query, "", "");
				format(query, sizeof(query), "UPDATE `house` SET hOwner = '%s', hLock = 1, hOplata = 0 WHERE id = '%d' LIMIT 1", GetName(playerid), GetPVarInt(HouseOffer[playerid], "PlayerHouse"));
				mysql_tquery(dbHandle, query, "", "");
				strmid(HouseInfo[GetPVarInt(HouseOffer[playerid], "PlayerHouse")][hOwner],GetName(playerid), 0, strlen(GetName(playerid)), MAX_PLAYER_NAME);
				strmid(HouseInfo[GetPVarInt(playerid, "PlayerHouse")][hOwner],GetName(HouseOffer[playerid]), 0, strlen(GetName(HouseOffer[playerid])), MAX_PLAYER_NAME);
				HouseInfo[GetPVarInt(HouseOffer[playerid], "PlayerHouse")][hLock] = 1;
				HouseInfo[GetPVarInt(playerid, "PlayerHouse")][hLock] = 1;
				HouseInfo[GetPVarInt(HouseOffer[playerid], "PlayerHouse")][hOplata] = 0;
				HouseInfo[GetPVarInt(playerid, "PlayerHouse")][hOplata] = 0;
				SetPVarInt(playerid, "PlayerHouse", GetPVarInt(HouseOffer[playerid], "PlayerHouse"));
				SetPVarInt(HouseOffer[playerid], "PlayerHouse", GetPVarInt(playerid, "PlayerHouse"));
				SendMes(playerid, COLOR_GREEN, "Вы обменялись домами с %s. Доплата: %d руб", GetName(HouseOffer[playerid]),HousePrice[playerid]);
				SendMes(HouseOffer[playerid], COLOR_GREEN, "Вы обменялись домами с %s. Ваша доплата: %d руб", GetName(playerid),HousePrice[playerid]);
				HouseOffer[playerid] = -1;
				HousePrice[playerid] = 0;
				PI[playerid][pSpawnChange] = 0;
			}
			else SendMes(HouseOffer[playerid], COLOR_RED, "%s отклонил предложение обменяться домами с Вами", GetName(playerid));
		}	
	case D_INVITEFRAC:
		{
		    if(!response)
			{
			    DeletePVar(playerid, "offerplayer");
				DeletePVar(playerid, "offerfractionid");
			    return 1;
			}
			new fractionid = GetPVarInt(playerid, "offerfractionid");
			new offer = GetPVarInt(playerid, "offerplayer");
			new mes[128];
			for(new i; i < 10; i++)
			{
				new skinid = Fraction_Skin[fractionid][i];
				if(!skinid) break;
				if(!i) format(mes, sizeof(mes), "Скин %d [%d]", i+1, skinid);
				else format(mes, sizeof(mes), "%s\nСкин %d [%d]", mes, i+1, skinid);
			}
			ShowPlayerDialog(offer, D_INVITESKIN, 2, "{FFCC00}Выбор скина", mes, "Принять", "");
		}
	case D_INVITESKIN:
	    {
	        if(!response) return 1;
	        new actplayerid = GetPVarInt(playerid, "actplayerid");
			new fractionid = GetPVarInt(actplayerid, "offerfractionid");
			new skinid = Fraction_Skin[fractionid][listitem];
			SendMes(actplayerid, COLOR_LIME, "Поздравляем! Вы вступили в организацию \"%s\"", Fraction_Name[fractionid]);
			SendClientMessage(actplayerid, COLOR_BLUE, "Используйте {FFCC00}/menu > Команды сервера{0099FF}, чтобы узнать о новых возможностях");
			SendMes(playerid, COLOR_LIME, "%s принимает Ваше предложение", GetName(actplayerid));
			PI[actplayerid][pMember] = fractionid;
			PI[actplayerid][pRank] = 1;
			PI[actplayerid][pMemberSkin] = skinid;
			SetPlayerSkin(actplayerid, skinid);
			PI[actplayerid][pJob] = 0;
  			ResetPlayerWeaponsAC(actplayerid);
	    	DeletePVar(playerid, "offerplayer");
			DeletePVar(playerid, "offerfractionid");
		}
	case D_WEATHER:
		{
			if(!response) return 1;
			SetWeather(listitem+1);
			SendClientMessage(playerid, COLOR_LIME, "Погода установлена");
		}
	case D_FRACMENU:
		{
            if(!response) return DeletePVar(playerid, "actplayerid");
            SetPVarInt(playerid, "actfraction", listitem+1);
            new fractionid = GetPVarInt(playerid, "actfraction");
            if(fractionid >= 13 && fractionid <= 14)
			{
				DeletePVar(playerid, "actplayerid");
				DeletePVar(playerid, "actfraction");
				return 1;
			}
			new mes[128];
			for(new i; i < 12; i++)
			{
				new skinid = Fraction_Skin[fractionid][i];
				if(!skinid) break;
				if(!i) format(mes, sizeof(mes), "Скин %d [%d]", i+1, skinid);
				else format(mes, sizeof(mes), "%s\nСкин %d [%d]", mes, i+1, skinid);
			}
			ShowPlayerDialog(playerid, D_LEADERSKIN, 2, "{FFCC00}Выбор скина", mes, "Принять", "Отмена");
		}
	case D_LEADERSKIN:
	    {
			if(!response)
			{
				DeletePVar(playerid, "actplayerid");
				DeletePVar(playerid, "actfraction");
				return 1;
			}
			new actplayerid = GetPVarInt(playerid, "actplayerid");
	        new fractionid = GetPVarInt(playerid, "actfraction");
	        new skinid = Fraction_Skin[fractionid][listitem];
			if(!IsPlayerConnected(actplayerid)) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
			else if(!PlayerLogged[actplayerid]) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
			switch(fractionid)
			{
			    case TEAM_VDV,TEAM_PPS,TEAM_DPS: PI[actplayerid][pRank] = 10;
			    case TEAM_FSIN: PI[actplayerid][pRank] = 10;
			    case TEAM_AO: PI[actplayerid][pRank] = 12;
			    case TEAM_MZY,TEAM_SPARTAK..TEAM_CSKA,TEAM_DINAMO,TEAM_ZENIT,TEAM_SMI,TEAM_MZA: PI[actplayerid][pRank] = 10;
			}
			PI[actplayerid][pLeader] = PI[actplayerid][pMember] = fractionid;
			PI[actplayerid][pJob] = 0;
			PI[actplayerid][pMemberSkin] = skinid;
			SetPlayerSkin(actplayerid, PI[actplayerid][pMemberSkin]);
			new string[128];
			format(string, sizeof(string), "Вы назначили %s лидером организации: %s", GetName(actplayerid), Fraction_Name[fractionid]);
			SendClientMessage(playerid, COLOR_BLUE, string);
			format(string, sizeof(string), "Администратор назначил вас на должность %s в организации %s", Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], Fraction_Name[fractionid]);
			SendClientMessage(actplayerid, COLOR_RED, string);
			format(string, sizeof(string), "[A] %s [%d] назначил %s лидером организации: %s", GetName(playerid),playerid, GetName(actplayerid), Fraction_Name[fractionid]);
			SendAdminMessage(COLOR_GREY, string);
			SendLog("SetLeader", string);
			ResetPlayerWeaponsAC(actplayerid);
			DeletePVar(playerid, "actplayerid");
			DeletePVar(playerid, "actfraction");
	    }
	case D_TEMPLEADER:
		{
			if(!response) return 1;
			new fractionid = listitem+1;
			switch(fractionid)
			{
			    case TEAM_VDV,TEAM_PPS,TEAM_DPS: PI[playerid][pRank] = 10;
			    case TEAM_FSIN: PI[playerid][pRank] = 10;
			    case TEAM_AO: PI[playerid][pRank] = 12;
			    case TEAM_MZY,TEAM_SPARTAK..TEAM_CSKA,TEAM_DINAMO,TEAM_ZENIT,TEAM_SMI,TEAM_MZA: PI[playerid][pRank] = 10;
			}
			PI[playerid][pLeader] = PI[playerid][pTempLeader] = PI[playerid][pMember] = fractionid;
			PI[playerid][pJob] = 0;
			PI[playerid][pMemberSkin] = GetPlayerSkin(playerid);
			PI[playerid][pSpawnChange] = 2;
			new string[128];
			format(string, sizeof(string), "[A] %s [%d] назначил себя врем.лидером \"%s\" (L=%s)", GetName(playerid), playerid, Fraction_Name[fractionid], GetRang(playerid));
			SendAdminMessage(COLOR_GREY, string);
			SendLog("SetTempLeader", string);
			ResetPlayerWeaponsAC(playerid);
	    }
	case D_FRACMENU+1:
		{
			new targetid = GetPVarInt(playerid, "PlayerRank");
			if(!response) { DeletePVar(playerid, "PlayerRank"); return 1; }
			if(!IsPlayerConnected(targetid)) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
			if(PlayerLogged[targetid] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
			if(PI[targetid][pMember] == 0) return SendClientMessage(playerid, COLOR_RED, "Игрок не находится в организации!");
			if(PI[targetid][pLeader] > 0) return SendClientMessage(playerid, COLOR_RED, "Игрок лидер другой организации!");
			if(PI[targetid][pMember] != PI[playerid][pMember]) return SendClientMessage(playerid, COLOR_RED, "Игрок находится в другой организации!");
			DeletePVar(playerid, "PlayerRank");
			PI[targetid][pRank] = listitem+1;
			SendMes(targetid,COLOR_BLUE,"Ваш ранг в организации был повышен до (%s)", Fraction_Rang[PI[targetid][pMember]][PI[targetid][pRank]]);
			SendMes(playerid,COLOR_BLUE,"Вы повысили %s [%i] до %s",GetName(targetid), targetid, Fraction_Rang[PI[targetid][pMember]][PI[targetid][pRank]]);
		}
	case D_FRACMENU+2:
		{
			new targetid = GetPVarInt(playerid, "PlayerRank");
			if(!response) { DeletePVar(playerid, "PlayerRank"); return 1; }
			if(!IsPlayerConnected(targetid)) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
			if(PlayerLogged[targetid] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
			if(PI[targetid][pMember] == 0) return SendClientMessage(playerid, COLOR_RED, "Игрок не находится в организации!");
			if(PI[targetid][pLeader] > 0) return SendClientMessage(playerid, COLOR_RED, "Игрок лидер другой организации!");
			DeletePVar(playerid, "PlayerRank");
			PI[targetid][pRank] = listitem+1;
			SendMes(targetid,COLOR_BLUE,"Администратор %s повысил/понизил ваш ранг. Сейчас вы: %s",GetName(playerid),Fraction_Rang[PI[targetid][pMember]][PI[targetid][pRank]]);
			SendMes(playerid,COLOR_LIME,"Вы повысили/понизили ранг %s. Сейчас он/она: %s",GetName(targetid), Fraction_Rang[PI[targetid][pMember]][PI[targetid][pRank]]);
		}
	case D_FRACMENU+7:
		{
			if(!response) return 1;
			switch(listitem)
			{
//				case 0: callcmd::find(playerid);
				case 1:
				{
					format(query, sizeof(query), "SELECT * FROM `accounts` WHERE member = '%i' AND online = '0'", PI[playerid][pMember]);
					mysql_tquery(dbHandle, query, "OfflineMembersOnFraction", "i", playerid);
				}
				case 2: ShowPlayerDialog(playerid, 798, DIALOG_STYLE_INPUT, "{FFCC00}Уволить игрока", "{FFFFFF}Введите ник игрока, которого Вы хотите уволить:", "Далее", "Отмена");
			}
   		}
	case D_FRACMENU+8:
	    {
	        if(!response) return 1;
	        new actplayerid = GetPVarInt(playerid, "actplayerid");
	        new fractionid = PI[actplayerid][pMember];
	        new skinid = Fraction_Skin[fractionid][listitem];
	        if(skinid == PI[actplayerid][pMemberSkin]) return 1;
	        new mes[128];
			format(mes,sizeof(mes), "%s %s [%d] изменил Вашу фракционную одежду", Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], GetName(playerid), playerid);
			SendClientMessage(actplayerid, COLOR_BLUE, mes);
			format(mes,sizeof(mes), "Вы изменили %s фракционную одежду", GetName(actplayerid));
			SendClientMessage(playerid, COLOR_BLUE, mes);
	        PI[actplayerid][pMemberSkin] = skinid;
	        SetPlayerSkin(actplayerid, skinid);
			DeletePVar(playerid, "actplayerid");
	    }
	case 798:
	    {
	        if(!response) return callcmd::lmenu(playerid);
	    	for(new i = strlen(inputtext); i != 0; --i)
	    	switch(inputtext[i])
			{
				case 'А'..'Я', 'а'..'я', ' ': //
				return SendClientMessage(playerid,COLOR_RED,"Используйте только английские буквы!");
			}
   			if(!strlen(inputtext) || strlen(inputtext) < 1 || strlen(inputtext) > 40 || IsTextRussian(inputtext))
			{
			    ShowPlayerDialog(playerid, 798, DIALOG_STYLE_INPUT, "{ffffff}Уволить игрока", "Введите ник игрока, которого Вы хотите уволить:", "Далее","Отмена");
		    }
			else
			{
			    format(query, sizeof(query), "SELECT * FROM `accounts` WHERE name = '%s' AND online = '0' AND member = '%i' LIMIT 1",inputtext,PI[playerid][pMember]);
                mysql_tquery(dbHandle, query, "OfflineUninviteOnFraction", "i", playerid);
			}
		}
	case D_ATM+9:
		{
			if(!response) return 1;
			new Float:x, Float:y, Float:z, Float:angle;
			GetPlayerPos(playerid, x, y, z);
			GetPlayerFacingAngle(playerid, angle);
			x += floatsin(-angle, degrees);
			y += floatcos(-angle, degrees);
			new atm1;
			SendClientMessage(playerid, COLOR_LIME, "Чтобы выйти, нажмите: ESC и чтобы сохранить, нажмите курсором: СОХРАНИТЬ");
			atm1 = CreateObject(2942, x, y, z-0.35, 0.0, 0.0, 0.0);
			SetPVarInt(playerid, "LoadATM", atm1+1);
			EditObject(playerid, atm1);
		}
	case D_ATM+5:
		{
			if(!response) return 1;
			switch(listitem)
			{
				case 0:
				{
				    new string[90];
					format(string, 90, "{ffffff}Баланс банковского счёта: {FFCC00}%i рублей", PI[playerid][pBank]);
					ShowPlayerDialog(playerid, D_HEAL+214, 0, "{FFCC00}Баланс", string, "Назад", "");
				}
				case 1: ShowPlayerDialog(playerid, D_ATM+7, 1, "{FFCC00}Банк", "{FFFFFF}Укажите сумму", "Принять", "Назад");
				case 2: ShowPlayerDialog(playerid, D_ATM+8, 1, "{FFCC00}Банк", "{FFFFFF}Укажите сумму", "Принять", "Назад");
				case 3:
				{
				    if(!TransferReset[playerid])
					{
						if(PI[playerid][pLevel] >= 1) ShowPlayerDialog(playerid, D_LIC+4, 1, "{FFCC00}Перевод", "{FFFFFF}Введите ID или имя игрока и количество денег через запятую\n\nПример: Ivan_Ivanov, 10000", "Принять", "Назад");
						else SendClientMessage(playerid,COLOR_RED,"Переводить деньги можно только с 3-го уровня");
					}
					else
					{
					    BankList(playerid);
					    SendClientMessage(playerid, COLOR_RED, "Переводить деньги можно только раз в минуту");
					}
				}
				case 4:
				{
					new h = GetPVarInt(playerid, "PlayerHouse");
					if(GetPlayerHouse(playerid) == 0) return SendClientMessage(playerid, COLOR_RED, "У Вас нет дома!");
					new string[128];
					format(string, sizeof(string), "{FFFFFF}Введите кол-во дней\nДом проплачен на: %d дней", HouseInfo[h][hOplata]);
					ShowPlayerDialog(playerid, D_LIC+5, 1, "{FFCC00}Проплата дома", string, "Принять", "Назад");
				}
				case 5:
				{
					if(!response) return 1;
					new price, string[128];
					new b = GetPVarInt(playerid, "PlayerBizz");
					if(sscanf(inputtext, "i", price))
					{
						format(string, sizeof(string), "{FFFFFF}Введите сумму пополнения\nТекущий счет бизнеса: %d рублей", BizzInfo[b][bMoney]);
						return ShowPlayerDialog(playerid, D_HEAL+21, 1, "{FFCC00}Пополнение счета бизнеса", string, "Принять", "Назад");
					}
					if(price < 1)
					{
						format(string, sizeof(string), "{FFFFFF}Введите сумму пополнения\nТекущий счет бизнеса: %d рублей", BizzInfo[b][bMoney]);
						return ShowPlayerDialog(playerid, D_HEAL+21, 1, "{FFCC00}Пополнение счета бизнеса", string, "Принять", "Назад");
					}
					if(PI[playerid][pBank] < price)
					{
						SendClientMessage(playerid, COLOR_RED, "На Вашем счету в банке недостаточно денег!");
						format(string, sizeof(string), "{FFFFFF}Введите сумму пополнения\nТекущий счет бизнеса: %d рублей", BizzInfo[b][bMoney]);
						return ShowPlayerDialog(playerid, D_HEAL+21, 1, "{FFCC00}Пополнение счета бизнеса", string, "Принять", "Назад");
					}
					PI[playerid][pBank] -= price;
					BizzInfo[b][bMoney] += price;
					MysqlUpdateBizzInt(b, "money", BizzInfo[b][bMoney]);
					SendMes(playerid, TEAM_BLUE_COLOR, "Вы положили на счет бизнеса: %i рублей. На счете бизнеса: %i рублей", price, BizzInfo[b][bMoney]);
				}
				case 6:
				{
					new b = GetPVarInt(playerid, "PlayerBizz");
					if(GetPlayerBizz(playerid) == 0) return SendClientMessage(playerid, COLOR_RED, "Вы не владеете бизнесом!");
					new string[128];
					format(string, sizeof(string), "{FFFFFF}Введите сумму вывода денег с бизнеса\nТекущий счет бизнеса: %d рублей", BizzInfo[b][bMoney]);
					ShowPlayerDialog(playerid, D_HEAL+213, 1, "{FFCC00}Вывод счета с бизнеса", string, "Принять", "Назад");
				}
			}
		}
	case D_ATM+932:
		{
			if(!response) return 1;
			switch(listitem)
			{
				case 0:
				{
				    new string[90];
					format(string, 90, "{ffffff}Баланс банковского счета: {FFCC00}%i рублей", PI[playerid][pBank]);
					ShowPlayerDialog(playerid, D_ATM+6, 0, "{FFCC00}Баланс", string, "Назад", "");
				}
				case 1: ShowPlayerDialog(playerid, D_ATM+12, 1, "{FFCC00}Банк", "{FFFFFF}Укажите сумму", "Принять", "Назад");
				case 2: ShowPlayerDialog(playerid, D_ATM+11, 1, "{FFCC00}Банк", "{FFFFFF}Укажите сумму", "Принять", "Назад");
				case 3:
				{
					if(GetPlayerHouse(playerid) == 0) return SendClientMessage(playerid, COLOR_RED, "У Вас нет дома!");
					new string[128];
					format(string, sizeof(string), "{FFFFFF}Введите кол-во дней");
					ShowPlayerDialog(playerid, D_LIC+5, 1, "{FFCC00}Проплата дома", string, "Принять", "Назад");
				}
				case 5:
				{
					new h = GetPVarInt(playerid, "PlayerHouse");
					if(GetPlayerHouse(playerid) == 0) return SendClientMessage(playerid, COLOR_RED, "У Вас нет дома!");
					new string[128];
					format(string, sizeof(string), "{FFFFFF}Введите кол-во дней\nДом проплачен на: %d дней", HouseInfo[h][hOplata]);
					ShowPlayerDialog(playerid, D_LIC+5, 1, "{FFCC00}Проплата дома", string, "Принять", "Назад");
				}
				case 4:
				{
				    new string[150];
				    if(PI[playerid][pPhoneNumber] <= 1)
					{
						SendClientMessage(playerid, COLOR_RED, "У Вас нет телефона!");
						return ATMList(playerid);
					}
					format(string, sizeof(string), "{FFFFFF}Укажите сумму:");
					ShowPlayerDialog(playerid, D_ATM+1, 1, "{FFCC00}Пополнение моб.счета", string, "Принять", "Назад");
				}
			}
		}
	case D_ATM+6: return ATMList(playerid);



	case SESSION: {
		if(!response) return OnPlayerRequestClass(playerid, 100);
		else {
			OnPlayerLoginEx(playerid);
			return 1;
		}
	}




	case D_HEAL+214: return BankList(playerid);
	case D_ATM+7:
		{
			if(!response) return BankList(playerid);
			new price;
			if(sscanf(inputtext, "i",price)) return ShowPlayerDialog(playerid, D_ATM+7, 1, "{FFCC00}Банк", "{FFFFFF}Укажите сумму", "Принять", "Назад");
			if(price < 1) return ShowPlayerDialog(playerid, D_ATM+7, 1, "{FFCC00}Банк", "{FFFFFF}Укажите сумму", "Принять", "Назад");
			if(GetMoney(playerid) < price) { ShowPlayerDialog(playerid, D_ATM+7, 1, "{FFCC00}Банк", "{FFFFFF}Укажите сумму", "Принять", "Назад"); return SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно денег!"); }
			GiveBankMoney(playerid, price, "PutMoney");
			TransferMoney(playerid, -1, price);
			SendMes(playerid, COLOR_LIME, "Вы положили на счет: %i рублей. На счету: %i рублей", price, PI[playerid][pBank]);
			return 1;
		}
	case D_ATM+8:
		{
			if(!response) return BankList(playerid);
			new price;
			if(sscanf(inputtext, "i",price)) return ShowPlayerDialog(playerid, D_ATM+8, 1, "{FFCC00}Банк", "{FFFFFF}Укажите сумму", "Принять", "Назад");
			if(price < 1) return ShowPlayerDialog(playerid, D_ATM+8, 1, "{FFCC00}Банк", "{FFFFFF}Укажите сумму", "Принять", "Назад");
			if(PI[playerid][pBank] < price) { ShowPlayerDialog(playerid, D_ATM+8, 1, "{FFCC00}Банк", "{FFFFFF}Укажите сумму", "Принять", "Назад"); return SendClientMessage(playerid, COLOR_RED, "На Вашем счету в банке недостаточно денег!"); }
			GiveBankMoney(playerid, -price, "TakeMoney");
			TransferMoney(-1, playerid, price);
			SendMes(playerid, COLOR_BLUE, "Вы сняли с банковского счета %i рублей", price);
			return 1;
		}
    case D_ATM+12:
		{
			if(!response) return ATMList(playerid);
			new price;
			if(sscanf(inputtext, "i",price)) return ShowPlayerDialog(playerid, D_ATM+12, 1, "{FFCC00}Банк", "{FFFFFF}Укажите сумму", "Принять", "Назад");
			if(price < 1) return ShowPlayerDialog(playerid, D_ATM+12, 1, "{FFCC00}Банк", "{FFFFFF}Укажите сумму", "Принять", "Назад");
			if(GetMoney(playerid) < price) { ShowPlayerDialog(playerid, D_ATM+12, 1, "{FFCC00}Банк", "{FFFFFF}Укажите сумму", "Принять", "Назад"); return SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно денег!"); }
			GiveBankMoney(playerid, price, "PutMoney");
			TransferMoney(playerid, -1, price);
			SendMes(playerid, COLOR_LIME, "Вы положили на счет: %i рублей. На счету: %i рублей", price, PI[playerid][pBank]);
			return 1;
		}
	case D_ATM+11:
		{
			if(!response) return ATMList(playerid);
			new price;
			if(sscanf(inputtext, "i",price)) return ShowPlayerDialog(playerid, D_ATM+8, 1, "{FFCC00}Банк", "{FFFFFF}Укажите сумму", "Принять", "Назад");
			if(price < 1) return ShowPlayerDialog(playerid, D_ATM+8, 1, "{FFCC00}Банк", "{FFFFFF}Укажите сумму", "Принять", "Назад");
			if(PI[playerid][pBank] < price) { ShowPlayerDialog(playerid, D_ATM+8, 1, "{FFCC00}Банк", "{FFFFFF}Укажите сумму", "Принять", "Назад"); return SendClientMessage(playerid, COLOR_RED, "На Вашем счету в банке недостаточно денег!"); }
			GiveBankMoney(playerid, -price, "TakeMoney");
			TransferMoney(-1, playerid, price);
			SendMes(playerid, COLOR_BLUE, "Вы сняли с банковского счета %i рублей", price);
			return 1;
		}
	/*case D_NMENU:
		{
			if(!response) return 1;
			switch(listitem)
			{
				case 0:
				{
					new full = 0, CB[16];
					foreach(new i: Player)
					{
						if(PlayerLogged[i] == false || playerid == i) continue;
						if(Ether[i] == true && PI[i][pMember] == PI[playerid][pMember]) full++;
					}
					if(full > 0) return SendClientMessage(playerid, COLOR_RED, "Эфир занят! В эфире находится ваш коллега!");
					if(Ether[playerid] == false)
					{
						if(PI[playerid][pMember] == TEAM_SMI && PI[playerid][pNews] != 1) PI[playerid][pNews] = 1;
						else if(PI[playerid][pMember] == TEAM_MZA && PI[playerid][pNews] != 2) PI[playerid][pNews] = 2;
						//else if(PI[playerid][pMember] == TEAM_LVNEWS && PI[playerid][pNews] != 3) PI[playerid][pNews] = 3;
						Ether[playerid] = true;
						new string[90];
						format(string, 90, "[F] %s вошел в прямой эфир",GetName(playerid));
						SendFMes(PI[playerid][pMember], COLOR_LIGHTBLUE, string);
					}
					else if(Ether[playerid] == true)
					{
						Ether[playerid] = false;
						new string[90];
						TimeConverter(GetPVarInt(playerid,"InEther"),CB);
						if(EtherSms[PI[playerid][pNews]-1] == true) { format(string, 90, "[F] %s выключил прием СМС",GetName(playerid)); SendFMes(PI[playerid][pMember], COLOR_LIGHTRED, string); }
						if(EtherCall[PI[playerid][pNews]-1] == true) { format(string, 90, "[F] %s выключил прием звонков",GetName(playerid)); SendFMes(PI[playerid][pMember], COLOR_LIGHTRED, string); }
						format(string, 90, "[F] %s вышел из прямого эфира (Время в эфире: %s, звонков: %i, СМС: %i)",GetName(playerid), CB, CallNews[PI[playerid][pNews]-1], SmsNews[PI[playerid][pNews]-1]);
						SendFMes(PI[playerid][pMember], COLOR_LIGHTRED, string);
						SmsNews[PI[playerid][pNews]-1] = 0;
						CallNews[PI[playerid][pNews]-1] = 0;
						EtherSms[PI[playerid][pNews]-1] = false;
						EtherCall[PI[playerid][pNews]-1] = false;
						DeletePVar(playerid, "InEther");
						if(Mobile[playerid] != -1) MobileCrash(playerid);
					}
				}
				case 1:
				{
					if(Ether[playerid] == false) return SendClientMessage(playerid, COLOR_RED, "Вы должны находится в прямом эфире!");
					ShowPlayerDialog(playerid, D_NMENU+1, 1, "{FFCC00}Эфир", "{FFFFFF}Введите ID или имя игрока:", "Принять", "Отмена");
				}
				case 2:
				{
					if(Ether[playerid] == false) return SendClientMessage(playerid, COLOR_RED, "Вы должны находится в прямом эфире!");
					ShowPlayerDialog(playerid, D_NMENU+2, 1, "{FFCC00}Эфир", "{FFFFFF}Введите ID или имя игрока:", "Принять", "Отмена");
				}
				case 3:
				{
					if(Ether[playerid] == false) return SendClientMessage(playerid, COLOR_RED, "Вы должны находится в прямом эфире!");
					new full = 0;
					full = (PI[playerid][pMember] == TEAM_SMI) ? (0) : (PI[playerid][pMember] == TEAM_MZA) ? (1) : (2);
					new string[90];
					if(EtherCall[full] == false)
					{
						EtherCall[full] = true;
						format(string, 90, "[F] %s включил прием звонков",GetName(playerid));
						SendFMes(PI[playerid][pMember], COLOR_GREEN, string);
					}
					else
					{
						EtherCall[full] = false;
						format(string, 90, "[F] %s выключил прием звонков",GetName(playerid));
						SendFMes(PI[playerid][pMember], COLOR_RED, string);
					}
				}
				case 4:
				{
					if(Ether[playerid] == false) return SendClientMessage(playerid, COLOR_RED, "Вы должны находится в прямом эфире!");
					new full = 0;
					full = (PI[playerid][pMember] == TEAM_SMI) ? (0) : (PI[playerid][pMember] == TEAM_MZA) ? (1) : (2);
					new string[90];
					if(EtherSms[full] == false)
					{
						EtherSms[full] = true;
						format(string, 90, "[F] %s включил прием СМС",GetName(playerid));
						SendFMes(PI[playerid][pMember], COLOR_GREEN, string);
					}
					else
					{
						EtherSms[full] = false;
						format(string, 90, "[F] %s выключил прием СМС",GetName(playerid));
						SendFMes(PI[playerid][pMember], COLOR_RED, string);
					}
				}
				case 5: AdvertList(playerid);
			}
		}*/
	case D_NMENU+1:
		{
			if(!response) return 1;
			new targetid;
			if(sscanf(inputtext, "u",targetid)) ShowPlayerDialog(playerid, D_NMENU+1, 1, "{FFCC00}Эфир", "{FFFFFF}Введите ID или имя игрока:", "Принять", "Отмена");
			if(targetid == playerid) return SendClientMessage(playerid, COLOR_RED, "Вы не можете пригласить себя!");
			if(!IsPlayerConnected(targetid)) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
			if(PlayerLogged[targetid] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
			if(IsPlayerInAnyVehicle(playerid)&&!IsPlayerInVehicle(targetid, GetPlayerVehicleID(playerid)) || !IsPlayerInAnyVehicle(playerid) && !IsPlayerInRangeOfPlayer(10.0, playerid, targetid)) return SendClientMessage(playerid, COLOR_RED, "Игрок должен находится с Вами в транспорте!");
			if(EtherLive[targetid] == true) return SendClientMessage(playerid, COLOR_RED, "Игрок уже в прямом эфире!");
			if(PI[playerid][pMember] == TEAM_SMI && PI[targetid][pNews] != 1)
			{
				SendMes(playerid, COLOR_RED, "Игрок должен слушать радио: %s", Fraction_Name[TEAM_SMI]);
				return 1;
			}
			else if(PI[playerid][pMember] == TEAM_MZA && PI[targetid][pNews] != 2)
			{
				SendMes(playerid, COLOR_RED, "Игрок должен слушать радио: %s", Fraction_Name[TEAM_MZA]);
				return 1;
			}
			/*else if(PI[playerid][pMember] == TEAM_LVNEWS && PI[targetid][pNews] != 3)
			{
				SendMes(playerid, COLOR_RED, "Игрок должен слушать радио: %s", Fraction_Name[TEAM_LVNEWS]);
				return 1;
			}*/
			EtherLive[targetid] = true;
			SetPVarInt(targetid, "Etherfrac", PI[playerid][pMember]);
			SendMes(playerid, COLOR_LIGHTBLUE, "Вы пригласили в эфир: %s", GetName(targetid));
			SendMes(targetid, COLOR_LIGHTBLUE, "%s пригласил Вас в эфир", GetName(playerid));
		}
	case D_NMENU+2:
		{
			if(!response) return 1;
			new targetid;
			if(sscanf(inputtext, "u",targetid)) ShowPlayerDialog(playerid, D_NMENU+2, 1, "{FFCC00}Эфир", "{FFFFFF}ведите ID или имя игрока:", "Принять", "Отмена");
			if(targetid == playerid) return SendClientMessage(playerid, COLOR_RED, "Вы не можете выпроводить себя!");
			if(!IsPlayerConnected(targetid)) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
			if(PlayerLogged[targetid] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
			if(IsPlayerInAnyVehicle(playerid)&&!IsPlayerInVehicle(targetid, GetPlayerVehicleID(playerid)) || !IsPlayerInAnyVehicle(playerid) && !IsPlayerInRangeOfPlayer(10.0, playerid, targetid)) return SendClientMessage(playerid, COLOR_RED, "Игрок должен находится с Вами в транспорте!");
			if(EtherLive[targetid] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не находится в прямом эфире!");
			EtherLive[targetid] = false;
			DeletePVar(targetid, "Etherfrac");
			SendMes(playerid, COLOR_LIME, "Вы выпроводили из эфира: %s", GetName(targetid));
			SendMes(targetid, COLOR_LIME, "%s выпроводил Вас из эфира", GetName(playerid));
		}
	case D_NMENU+3:
		{
			if(!response) return 1;
			if(listitem < 3)
			{
			    new string[28];
			    format(string, sizeof(string), "Вы слушаете радио: %s",
				(listitem == 0) ? ("СМИ") : (listitem == 1) ? ("Закрыто") : ("Закрыто"));
				SendClientMessage(playerid, COLOR_WHITE, string);
				PI[playerid][pNews] = listitem+1;
			}
			else
			{
			    SendClientMessage(playerid, COLOR_LIME, "Вы выключили радио");
				PI[playerid][pNews] = 0;
			}
		}
	case D_NMENU+4:
		{
			if(!response) return 1;
			switch(listitem)
			{
				case 0: ShowPlayerDialog(playerid, D_NMENU+9, 1, "{FFCC00}Панель", "{FFFFFF}Введите цену за 1 секунду в эфире\n\n{FFCC00}Примечание:\n{FFFFFF}Цена может быть от 1 рублей до 3 рублей", "Принять", "Отмена");
				case 1: ShowPlayerDialog(playerid, D_NMENU+10, 1, "{FFCC00}Панель", "{FFFFFF}Введите цену за СМС\n\n{FFCC00}Примечание:\n{FFFFFF}Цена может быть от 10 рублей до 20 рублей", "Принять", "Отмена");
				case 2: ShowPlayerDialog(playerid, D_NMENU+11, 1, "{FFCC00}Панель", "{FFFFFF}Введите цену за 1 символ объявления\n\n{FFCC00}Примечание:\n{FFFFFF}Цена может быть от 5 рублей до 10 рублей", "Принять", "Отмена");
			}
		}
	case D_NMENU+5:
		{
			if(!response) return 1;
			DeletePVar(playerid, "AdvertID");
			SetPVarInt(playerid, "AdvertID", listitem+1);
			ShowPlayerDialog(playerid, D_NMENU+6, 2, "{FFCC00}Объявления", "Прочитать объявление\nРедактировать объявление\nУдалить объявление\nОтправить объявление\nОтправить администрации", "Принять", "Назад");
		}
	case D_NMENU+6:
		{
			if(!response) { DeletePVar(playerid, "AdvertID"); return AdvertList(playerid); }
   			new full = 0;
			full = (PI[playerid][pMember] == TEAM_SMI) ? (0) : (PI[playerid][pMember] == TEAM_MZA) ? (1) : (2);
			new string[150];
			switch(listitem)
			{
				case 0:
				{

					format(string, sizeof(string), "{FFFFFF}Текст: %s - Прислал: %s",AdvertInfo[GetPVarInt(playerid, "AdvertID")][full][aText],AdvertInfo[GetPVarInt(playerid, "AdvertID")][full][aName]);
					ShowPlayerDialog(playerid, D_NMENU+7, 0, "{FFCC00}Объявления", string, "Назад", "");
				}
				case 1:
				{
					format(string, sizeof(string), "{FFFFFF}Текст: %s - Прислал: %s",AdvertInfo[GetPVarInt(playerid, "AdvertID")][full][aText],AdvertInfo[GetPVarInt(playerid, "AdvertID")][full][aName]);
					ShowPlayerDialog(playerid, D_NMENU+8, 1, "{FFCC00}Объявления", string, "Принять", "Назад");
				}
				case 2:
				{
					for(new i = GetPVarInt(playerid, "AdvertID"); i <= TOTALADVERT[full] - 1; i++)
					{
					    AdvertInfo[i][full][aPhone] = AdvertInfo[i+1][full][aPhone];
					    strmid(AdvertInfo[i][full][aText],AdvertInfo[i+1][full][aText],0,strlen(AdvertInfo[i+1][full][aText]), 128);
					    strmid(AdvertInfo[i][full][aName],AdvertInfo[i+1][full][aName],0,strlen(AdvertInfo[i+1][full][aName]), MAX_PLAYER_NAME);
					}
					if(TOTALADVERT[full] > 0) TOTALADVERT[full]--;
					SendClientMessage(playerid, COLOR_LIME, "Объявление удалено");
					DeletePVar(playerid, "AdvertID");
					AdvertList(playerid);
				}
				case 3:
				{
					if(AdvertTime > gettime())
					{
						DeletePVar(playerid, "AdvertID");
						SendClientMessage(playerid, COLOR_RED, "Отправлять объявление можно раз в 30 секунд!");
						return AdvertList(playerid);
					}
					format(string, sizeof(string), "%s | Отправил: %s (тел. %i)",AdvertInfo[GetPVarInt(playerid, "AdvertID")][full][aText], AdvertInfo[GetPVarInt(playerid, "AdvertID")][full][aName], AdvertInfo[GetPVarInt(playerid, "AdvertID")][full][aPhone]);
					SendClientMessageToAll(0x99CC00AA, string);
					format(string, sizeof(string), "   Объявление проверил %s %s [%d].",Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], GetName(playerid), playerid);
					SendClientMessageToAll(0x339900AA, string);
					for(new i = GetPVarInt(playerid, "AdvertID"); i <= TOTALADVERT[full] - 1; i++)
					{
					    AdvertInfo[i][full][aPhone] = AdvertInfo[i+1][full][aPhone];
					    strmid(AdvertInfo[i][full][aText],AdvertInfo[i+1][full][aText],0,strlen(AdvertInfo[i+1][full][aText]), 128);
					    strmid(AdvertInfo[i][full][aName],AdvertInfo[i+1][full][aName],0,strlen(AdvertInfo[i+1][full][aName]), MAX_PLAYER_NAME);
					}
				 	if(TOTALADVERT[full] > 0) TOTALADVERT[full]--;
					AdvertTime = gettime() + 30;
					DeletePVar(playerid, "AdvertID");
					AdvertList(playerid);
				}
				case 4:
				{
					format(string, sizeof(string), "[A] %s [%d]: пожаловался на объявление: %s (отправил: %s)", GetName(playerid), playerid, AdvertInfo[GetPVarInt(playerid, "AdvertID")][full][aText],AdvertInfo[GetPVarInt(playerid, "AdvertID")][full][aName]);
					SendAdminMessage(COLOR_GREY, string);
					for(new i = GetPVarInt(playerid, "AdvertID"); i <= TOTALADVERT[full] - 1; i++)
					{
					    AdvertInfo[i][full][aPhone] = AdvertInfo[i+1][full][aPhone];
					    strmid(AdvertInfo[i][full][aText],AdvertInfo[i+1][full][aText],0,strlen(AdvertInfo[i+1][full][aText]), 128);
					    strmid(AdvertInfo[i][full][aName],AdvertInfo[i+1][full][aName],0,strlen(AdvertInfo[i+1][full][aName]), MAX_PLAYER_NAME);
					}
					if(TOTALADVERT[full] > 0) TOTALADVERT[full]--;
					SendClientMessage(playerid, COLOR_LIME, "Объявление отправлено администрации");
					DeletePVar(playerid, "AdvertID");
					AdvertList(playerid);
				}
			}

        }
	case D_NMENU+7: ShowPlayerDialog(playerid, D_NMENU+6, 2, "{FFCC00}Объявления", "Прочитать объявление\nРедактировать объявление\nУдалить объявление\nОтправить объявление\nОтправить администрации", "Принять", "Назад");
	case D_NMENU+8:
		{
			if(!response) return ShowPlayerDialog(playerid, D_NMENU+6, 2, "{FFCC00}Объявления", "Прочитать объявление\nРедактировать объявление\nУдалить объявление\nОтправить объявление\nОтправить администрации", "Принять", "Назад");
			new full = 0;
			full = (PI[playerid][pMember] == TEAM_SMI) ? (0) : (PI[playerid][pMember] == TEAM_MZA) ? (1) : (2);
			new text[90];
			if(sscanf(inputtext, "s[90]",text))
			{
			    new string[128];
				format(string, 128, "{FFFFFF}Текст: %s - Прислал: %s",AdvertInfo[GetPVarInt(playerid, "AdvertID")][full][aText],AdvertInfo[GetPVarInt(playerid, "AdvertID")][full][aName]);
				return ShowPlayerDialog(playerid, D_NMENU+8, 1, "{FFCC00}Объявления", string, "Принять", "Назад");
			}
			strmid(AdvertInfo[GetPVarInt(playerid, "AdvertID")][full][aText],text,0,strlen(text),sizeof(text));
			SendClientMessage(playerid, COLOR_LIGHTGREEN, "Объявление отредактировано и сохранено");
			ShowPlayerDialog(playerid, D_NMENU+6, 2, "{FFCC00}Объявления", "Прочитать объявление\nРедактировать объявление\nУдалить объявление\nОтправить объявление\nОтправить администрации", "Принять", "Назад");
		}
	case D_NMENU+9:
		{
			if(!response) return 1;
			new price;
			if(sscanf(inputtext, "i",price)) return ShowPlayerDialog(playerid, D_NMENU+9, 1, "{FFCC00}Панель", "{FFFFFF}Введите цену за 1 секунду в эфире\n\n{FFCC00}Примечание:\n{FFFFFF}Цена может быть от 1 рублей до 3 рублей", "Принять", "Отмена");
			if(price < 1 || price > 3) return ShowPlayerDialog(playerid, D_NMENU+9, 1, "{FFCC00}Панель", "{FFFFFF}Введите цену за 1 секунду в эфире\n\n{FFCC00}Примечание:\n{FFFFFF}Цена может быть от 1 рублей до 3 рублей", "Принять", "Отмена");
			CallPrice[PI[playerid][pNews]-1] = price;
			SendMes(playerid, COLOR_LIGHTGREEN, "Цена за 1 секунду в эфире: %i рублей", price);
			format(NewsPrice, sizeof(NewsPrice),"%i, %i, %i, %i, %i, %i", SmsPrice[0], SmsPrice[1], CallPrice[0], CallPrice[1], AdvertPrice[0], AdvertPrice[1]);
			MysqlUpdateOtherStr("newsprice", NewsPrice);
		}
	case D_NMENU+10:
		{
			if(!response) return 1;
			new price;
			if(sscanf(inputtext, "i",price)) return ShowPlayerDialog(playerid, D_NMENU+10, 1, "{FFCC00}Панель", "{FFFFFF}Введите цену за СМС\n\n{FFCC00}Примечание:\n{FFFFFF}Цена может быть от 10 рублей до 20 рублей", "Принять", "Отмена");
			if(price < 10 || price > 20) return ShowPlayerDialog(playerid, D_NMENU+10, 1, "{FFCC00}Панель", "{FFFFFF}Введите цену за СМС\n\n{FFCC00}Примечание:\n{FFFFFF}Цена может быть от 10 рублей до 20 рублей", "Принять", "Отмена");
			SmsPrice[PI[playerid][pNews]-1] = price;
			SendMes(playerid, COLOR_LIGHTGREEN, "Цена за СМС: %i рублей", price);
			format(NewsPrice, sizeof(NewsPrice),"%i, %i, %i, %i, %i, %i", SmsPrice[0], SmsPrice[1], CallPrice[0], CallPrice[1], AdvertPrice[0], AdvertPrice[1]);
			MysqlUpdateOtherStr("newsprice", NewsPrice);
		}
	case D_NMENU+11:
		{
			if(!response) return 1;
			new price;
			if(sscanf(inputtext, "i",price)) return ShowPlayerDialog(playerid, D_NMENU+11, 1, "{FFCC00}Панель", "{FFFFFF}Введите цену за 1 символ объявления\n\n{FFCC00}Примечание:\n{FFFFFF}Цена может быть от 5 рублей до 10 рублей", "Принять", "Отмена");
			if(price < 5 || price > 10) return ShowPlayerDialog(playerid, D_NMENU+11, 1, "{FFCC00}Панель", "{FFFFFF}Введите цену за 1 символ объявления\n\n{FFCC00}Примечание:\n{FFFFFF}Цена может быть от 5 рублей до 10 рублей", "Принять", "Отмена");
			AdvertPrice[PI[playerid][pNews]-1] = price;
			SendMes(playerid, COLOR_LIGHTGREEN, "Цена за 1 символ объявления: %i рублей", price);
			format(NewsPrice, sizeof(NewsPrice),"%i, %i, %i, %i, %i, %i", SmsPrice[0], SmsPrice[1], CallPrice[0], CallPrice[1], AdvertPrice[0], AdvertPrice[1]);
			MysqlUpdateOtherStr("newsprice", NewsPrice);
		}
	case D_NMENU+15:
		{
			if(!response) return 1;
			new color[2], model, frac, status, Float:x, Float:y, Float:z, Float:angle;
			if(sscanf(inputtext,"p<,>iiiii",model, color[0], color[1], frac, status)) return ShowPlayerDialog(playerid, D_NMENU+15,1, "Добавить транспорт", "ВАЖНО: Модель, Цвет1, Цвет2, Фракция, Статус\nПРИМЕР: 504, 1, 3, 4, 0", "Принять", "Отмена");
			if(model < 400 || model > 611) return ShowPlayerDialog(playerid, D_NMENU+15, 1, "Добавить транспорт", "ВАЖНО: Модель, Цвет1, Цвет2, Фракция, Статус\nПРИМЕР: 504, 1, 3, 4, 0", "Принять", "Отмена");
			if(color[0] < 0 || color[0] > 252) return ShowPlayerDialog(playerid, D_NMENU+15, 1, "Добавить транспорт", "ВАЖНО: Модель, Цвет1, Цвет2, Фракция, Статус\nПРИМЕР: 504, 1, 3, 4, 0", "Принять", "Отмена");
			if(color[1] < 0 || color[1] > 252) return ShowPlayerDialog(playerid, D_NMENU+15, 1, "Добавить транспорт", "ВАЖНО: Модель, Цвет1, Цвет2, Фракция, Статус\nПРИМЕР: 504, 1, 3, 4, 0", "Принять", "Отмена");
			if(frac < 1 || frac > 26-1) return ShowPlayerDialog(playerid, D_NMENU+15, 1, "Добавить транспорт", "ВАЖНО: Модель, Цвет1, Цвет2, Фракция, Статус\nПРИМЕР: 504, 1, 3, 4, 0", "Принять", "Отмена");
			GetPlayerFacingAngle(playerid,angle);
			GetPlayerPos(playerid, x, y, z);
			new carid = CreateVehicle(model, x, y, z, angle, color[0], color[1], 90000);
			PutPlayerInVehicle(playerid, carid, 0);
			LinkVehicleToInterior(carid, GetPlayerInterior(playerid));
			SetPVarInt(playerid, "AddVehicleFrac", carid);
			format(coordv, sizeof(coordv), "%i, %i, %i, %i, %i, %i, %i", model, color[0], color[1], frac,GetPlayerInterior(playerid),GetPlayerVirtualWorld(playerid),status);
			SendClientMessage(playerid, COLOR_LIME, "Тест транспорт создан. Установить координаты: /vpc");
		}
	case D_LIC+1:
		{
			if(!response) return DeletePVar(playerid, "LicName");
			if(IsPlayerInRangeOfPlayer(15.0, playerid, GetPVarInt(playerid, "LicName")))
			{
				new text[32];
				switch(listitem)
				{
					case 0: text = "Водительские права";
					case 1: text = "лицензию на судоходство";
					case 2: text = "лицензию на полеты";
					case 3: text = "лицензию на оружие";
					case 4: text = "патроны";
					case 5: text = "Метал";
					case 6: text = "наркотики";
				}
				if(listitem >= 0 && listitem < 4)
				{
				    if(!PI[GetPVarInt(playerid, "LicName")][pLic][listitem]) return SendClientMessage(playerid, COLOR_RED, "У игрока нет этой лицензии");
					PI[GetPVarInt(playerid, "LicName")][pLic][listitem] = 0;
					if(IsPlayerInAnyVehicle(GetPVarInt(playerid, "LicName")) && listitem < 3) RemoveFromVehicle(GetPVarInt(playerid, "LicName"));
					SendMes(playerid, COLOR_LIGHTBLUE, "Вы забрали %s у %s", text, GetName(GetPVarInt(playerid, "LicName")));
					SendMes(GetPVarInt(playerid, "LicName"), COLOR_LIGHTBLUE, "%s %s забрал У Вас %s", Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], GetName(playerid), text);
				}
				else
				{
					if(listitem == 4)
					{
					    if(!PI[GetPVarInt(playerid, "LicName")][pPatron]) return SendClientMessage(playerid, COLOR_RED, "У игрока нет патрон");
						PI[GetPVarInt(playerid, "LicName")][pPatron] = 0;
						SendMes(playerid, COLOR_LIGHTBLUE, "Вы забрали %s у %s", text, GetName(GetPVarInt(playerid, "LicName")));
						SendMes(GetPVarInt(playerid, "LicName"), COLOR_LIGHTBLUE, "%s %s забрал У Вас %s", Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], GetName(playerid), text);
					}
					if(listitem == 5)
					{
					    if(!PI[GetPVarInt(playerid, "LicName")][pGunAmount]) return SendClientMessage(playerid, COLOR_RED, "У игрока нет Метал");
						PI[GetPVarInt(playerid, "LicName")][pGunAmount] = 0;
						SendMes(playerid, COLOR_LIGHTBLUE, "Вы забрали %s у %s", text, GetName(GetPVarInt(playerid, "LicName")));
						SendMes(GetPVarInt(playerid, "LicName"), COLOR_LIGHTBLUE, "%s %s забрал У Вас %s", Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], GetName(playerid), text);
					}
					if(listitem == 6)
					{
					    if(!PI[GetPVarInt(playerid, "LicName")][pDrugs]) return SendClientMessage(playerid, COLOR_RED, "У игрока нет наркотиков");
						PI[GetPVarInt(playerid, "LicName")][pDrugs] = 0;
						SendMes(playerid, COLOR_LIGHTBLUE, "Вы забрали %s у %s", text, GetName(GetPVarInt(playerid, "LicName")));
						SendMes(GetPVarInt(playerid, "LicName"), COLOR_LIGHTBLUE, "%s %s забрал У Вас %s", Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], GetName(playerid), text);
					}
				}
			}
			else SendClientMessage(playerid, COLOR_RED, "Игрок слишком далеко!");
			DeletePVar(playerid, "LicName");
		}
	case D_LIC+2:
		{
			if(!response) return DeletePVar(playerid, "LicName");
			new text[32];
			switch(listitem)
			{
				case 0: text = "Водительские права";
				case 1: text = "лицензию на судоходство";
				case 2: text = "лицензию на полеты";
				case 3: text = "лицензию на оружие";
				case 4: text = "лицензию на бизнес";
			}
			if(listitem == 4 && GetPlayerBizz(GetPVarInt(playerid, "LicName")) == 0) return SendClientMessage(playerid, COLOR_RED, "Игрок не имеет бизнеса!");
			SendMes(playerid, COLOR_LIGHTBLUE, "Вы выдали %s %s", text, GetName(GetPVarInt(playerid, "LicName")));
			SendMes(GetPVarInt(playerid, "LicName"), COLOR_LIGHTBLUE, "Администратор %s выдал Вам %s",GetName(playerid), text);
			if(listitem == 4)
			{
				new i = GetPVarInt(GetPVarInt(playerid, "LicName"), "PlayerBizz");
				BizzInfo[i][bLic] = 1;
				MysqlUpdateBizzInt(i, "lic", BizzInfo[i][bLic]);
			}
			else PI[GetPVarInt(playerid, "LicName")][pLic][listitem] = 1;
			DeletePVar(playerid, "LicName");
		}
	case D_LIC+3:
		{
			if(!response) return DeletePVar(playerid, "LicName");
			new text[32];
			switch(listitem)
			{
				case 0: text = "Водительские права";
				case 1: text = "лицензию на судоходство";
				case 2: text = "лицензию на полеты";
				case 3: text = "лицензию на оружие";
				case 4: text = "патроны";
				case 5: text = "Метал";
				case 6: text = "наркотики";
			}
			if(listitem >= 0 && listitem < 4)
			{
			    if(!PI[GetPVarInt(playerid, "LicName")][pLic][listitem]) return SendClientMessage(playerid, COLOR_RED, "У игрока нет этой лицензии");
				PI[GetPVarInt(playerid, "LicName")][pLic][listitem] = 0;
				if(IsPlayerInAnyVehicle(GetPVarInt(playerid, "LicName")) && listitem < 3) RemoveFromVehicle(GetPVarInt(playerid, "LicName"));
				SendMes(playerid, COLOR_LIGHTBLUE, "Вы забрали %s у %s", text, GetName(GetPVarInt(playerid, "LicName")));
				SendMes(GetPVarInt(playerid, "LicName"), COLOR_LIGHTBLUE, "Администратор %s забрал У Вас %s",GetName(playerid), text);
			}
			else
			{
				if(listitem == 4)
				{
				    if(!PI[GetPVarInt(playerid, "LicName")][pPatron]) return SendClientMessage(playerid, COLOR_RED, "У игрока нет патрон");
					PI[GetPVarInt(playerid, "LicName")][pPatron] = 0;
					SendMes(playerid, COLOR_LIGHTBLUE, "Вы забрали %s у %s", text, GetName(GetPVarInt(playerid, "LicName")));
					SendMes(GetPVarInt(playerid, "LicName"), COLOR_LIGHTBLUE, "Администратор %s забрал У Вас %s",GetName(playerid), text);
				}
				if(listitem == 5)
				{
				    if(!PI[GetPVarInt(playerid, "LicName")][pGunAmount]) return SendClientMessage(playerid, COLOR_RED, "У игрока нет Метал");
					PI[GetPVarInt(playerid, "LicName")][pGunAmount] = 0;
					SendMes(playerid, COLOR_LIGHTBLUE, "Вы забрали %s у %s", text, GetName(GetPVarInt(playerid, "LicName")));
					SendMes(GetPVarInt(playerid, "LicName"), COLOR_LIGHTBLUE, "Администратор %s забрал У Вас %s",GetName(playerid), text);
				}
				if(listitem == 6)
				{
				    if(!PI[GetPVarInt(playerid, "LicName")][pDrugs]) return SendClientMessage(playerid, COLOR_RED, "У игрока нет наркотиков");
					PI[GetPVarInt(playerid, "LicName")][pDrugs] = 0;
					SendMes(playerid, COLOR_LIGHTBLUE, "Вы забрали %s у %s", text, GetName(GetPVarInt(playerid, "LicName")));
					SendMes(GetPVarInt(playerid, "LicName"), COLOR_LIGHTBLUE, "Администратор %s забрал У Вас %s",GetName(playerid), text);
				}
			}
		}
	case D_LIC+4:
		{
			if(!response) return BankList(playerid);
			new targetid, price;
			if(sscanf(inputtext, "ui", targetid, price)) return ShowPlayerDialog(playerid, D_LIC+4, 1, "{FFCC00}Перевод", "{FFFFFF}Введите ID или имя игрока и количество денег через запятую\n\nПример: Ivan_Ivanov, 10000", "Принять", "Назад");
			if(!IsPlayerConnected(targetid))
			{
				ShowPlayerDialog(playerid, D_LIC+4, 1, "{FFCC00}Перевод", "{FFFFFF}Введите ID или имя игрока и количество денег через запятую\n\nПример: Ivan_Ivanov, 10000", "Принять", "Назад");
				return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
			}
			if(PlayerLogged[targetid] == false)
			{
				ShowPlayerDialog(playerid, D_LIC+4, 1, "{FFCC00}Перевод", "{FFFFFF}Введите ID или имя игрока и количество денег через запятую\n\nПример: Ivan_Ivanov, 10000", "Принять", "Назад");
				return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
			}
			if(PI[playerid][pBank] < price)
			{
				ShowPlayerDialog(playerid, D_LIC+4, 1, "{FFCC00}Перевод", "{FFFFFF}Введите ID или имя игрока и количество денег через запятую\n\nПример: Ivan_Ivanov, 10000", "Принять", "Назад");
				return SendClientMessage(playerid, COLOR_RED, "На Вашем счету в банке недостаточно денег!");
			}
			if(price < 1) return ShowPlayerDialog(playerid, D_LIC+4, 1, "{FFCC00}Перевод", "{FFFFFF}Введите ID или имя игрока и количество денег через запятую\n\nПример: Ivan_Ivanov, 10000", "Принять", "Назад");
			GiveBankMoney(playerid, -price, "Transfer-");
		    GiveBankMoney(targetid, price, "Transfer+");
			new string[128];
			format(string,sizeof(string),"[A] Игрок %s [IP: %s] перевел игроку %s [IP: %s] на счет %d рублей [%d рублей]", GetName(playerid), PI[playerid][pIP], GetName(targetid), PI[targetid][pIP], price, PI[targetid][pBank]);
			SendLog("Transfer",string);
			if(price > 3000) SendAdminMessage(COLOR_GREY, string);
			SendMes(playerid, COLOR_WHITE, "Вы перевели %d рублей игроку %s [%d] на счет", price, GetName(targetid), playerid);
			SendMes(targetid, COLOR_WHITE, "Вам поступил перевод На Ваш счет в размере %d рублей от игрока %s [%d]", price, GetName(playerid), playerid);
			TransferReset[playerid] = 60;
		}
	case D_LIC+5:
		{
			if(!response) return 1;
			new price, string[128];
			new h = GetPVarInt(playerid, "PlayerHouse");
			if(sscanf(inputtext, "i", price))
			{
				format(string, sizeof(string), "{FFFFFF}Введите кол-во дней\nДом проплачен на: %d дней", HouseInfo[h][hOplata]);
				ShowPlayerDialog(playerid, D_LIC+5, 1, "{FFCC00}Проплата дома", string, "Принять", "Назад");
			}
			if(price < 1 || price > 30)
			{
				format(string, sizeof(string), "{FFFFFF}Введите кол-во дней\nДом проплачен на: %d дней", HouseInfo[h][hOplata]);
				ShowPlayerDialog(playerid, D_LIC+5, 1, "{FFCC00}Проплата дома", string, "Принять", "Назад");
			}
			if(PI[playerid][pBank] < price)
			{
			    SendClientMessage(playerid, COLOR_RED, "На Вашем счету в банке недостаточно денег!");
				format(string, sizeof(string), "{FFFFFF}Введите кол-во дней\nДом проплачен на: %d дней", HouseInfo[h][hOplata]);
				return ShowPlayerDialog(playerid, D_LIC+5, 1, "{FFCC00}Проплата дома", string, "Принять", "Назад");
			}
			if(price + HouseInfo[h][hOplata] > 30) return SendClientMessage(playerid, COLOR_RED, "Нельзя проплатить дом, больше чем на 30 дней");
			PI[playerid][pBank] -= price*GetHomeOplata(h);
			HouseInfo[h][hOplata] += price;
			MysqlUpdateHouseInt(h, "hOplata", HouseInfo[h][hOplata]);
			SendMes(playerid, COLOR_BLUE, "Вы проплатили аренду своего дома на %d дней", price);
		}
	case D_HOME+3:
		{
	    	return callcmd::car(playerid, "1");
		}
 	case D_HOME:
		{
			if(!response) return 1;
			new a = GetPVarInt(playerid, "PlayerHouse");
			switch(listitem)
			{
				case 0:
				{
					if(HouseInfo[a][hLock] == 1)
					{
						HouseInfo[a][hLock] = 0;
						GameTextForPlayer(playerid, "~g~unlock", 5000, 5);
						MeAction(playerid, "открывает замок дома");
					}
					else
					{
						HouseInfo[a][hLock] = 1;
						GameTextForPlayer(playerid, "~r~lock", 5000, 5);
						MeAction(playerid, "закрывает замок дома");
					}
//					PlayerPlaySound(playerid, 1145, 0.0, 0.0, 0.0);
					MysqlUpdateHouseInt(a, "hLock", HouseInfo[a][hLock]);
				}
				case 1:
				{
				    new string[167], str[42], oneskin[14], twoskin[14], threeskin[14], mskin[14];

				    if(!PI[playerid][pSkin][0]) format(oneskin, sizeof(oneskin), "{F04245}(нет)");
					else format(oneskin, sizeof(oneskin), "{63BD4E}(%i)", PI[playerid][pSkin][0]);
				    if(!PI[playerid][pSkin][1]) format(twoskin, sizeof(twoskin), "{F04245}(нет)");
					else format(twoskin, sizeof(twoskin), "{63BD4E}(%i)", PI[playerid][pSkin][1]);
				    if(!PI[playerid][pSkin][2]) format(threeskin, sizeof(threeskin), "{F04245}(нет)");
					else format(threeskin, sizeof(threeskin), "{63BD4E}(%i)", PI[playerid][pSkin][2]);
				    if(!PI[playerid][pMemberSkin]) format(mskin, sizeof(mskin), "{F04245}(нет)");
					else format(mskin, sizeof(mskin), "{63BD4E}(%i)", PI[playerid][pMemberSkin]);

				    format(str, sizeof(str), "{FFFFFF}Полка №1 %s\n", oneskin);
				    strcat(string, str);
				    format(str, sizeof(str), "{FFFFFF}Полка №2 %s\n", twoskin);
				    strcat(string, str);
				    format(str, sizeof(str), "{FFFFFF}Полка №3 %s\n", threeskin);
				    strcat(string, str);
				    format(str, sizeof(str), "{FFFFFF}Одежда организации %s", mskin);
				    strcat(string, str);

					ShowPlayerDialog(playerid, 1543, DIALOG_STYLE_LIST, "Гардероб", string, "Выбрать", "Назад");
				}
				case 2,3: callcmd::hmenu(playerid);
				case 4:
				{

					ShowPlayerDialog(playerid, D_SELLHOUSE, 0, "{FFCC00}Продажа дома", "{FFFFFF}Вы действительно хотите продать свой дом?\nОт его продажи Вам вернётся только половина стоимости дома", "Принять", "Назад");
				}
			}
		}
	/*case D_HOME:
		{
			if(!response) return 1;
			new a = GetPVarInt(playerid, "PlayerHouse");
			new klass[32];
			new lock[32];
			if(HouseInfo[a][hDiscript] == 'A')
			{
			    klass = "низкий";
			}
			else if(HouseInfo[a][hDiscript] == 'B')
			{
			    klass = "средний";
			}
			else if(HouseInfo[a][hDiscript] == 'C')
			{
			    klass = "Высокий";
			}
			else if(HouseInfo[a][hDiscript] == 'D')
			{
			    klass = "элитный";
			}
			else if(HouseInfo[a][hDiscript] == 'E')
			{
			    klass = "дэлюксовый [VIP]";
			}
			else if(HouseInfo[a][hDiscript] == 'F')
			{
			    klass = "особняк";
			}
			else if(HouseInfo[a][hDiscript] == 'G')
			{
			    klass = "квартира";
			}
			if(HouseInfo[a][hLock] == 1)
			{
			    lock = "{FF0000}закрыт";
			}

			else if(HouseInfo[a][hLock] == 0)
			{
			    lock = "{FFCC00}открыт";
			}
			switch(listitem)
			{
				case 0:
				{
				    new string[500];
				    format(string, sizeof(string),
					"{FFFFFF}Тип / название: \t{dfd302}%s{FFFFFF}\n\
					Номер дома:\t\t%d\n\
					Стоимость:\t\t%d рублей\n\
					Дом оплачен на:\t%d/30 дней\n\
					Количество комнат:\t3\n\
					Квартплата:\t\t%d руб в день\n\
					Статус:\t\t\t%s\n\n\
					{89df02}Для открытия панели управления вашим домом\n\
					нажмите кнопку \"Назад\"",
					klass, a, HouseInfo[a][hBuyPrice]*2, HouseInfo[a][hOplata], GetHomeOplata(a),lock);
					Dialog(playerid, D_HOME+3, DSM, "{FFCC00}Информация о доме", string, "Назад", "");
					//format(string, sizeof(string), "",a,HouseInfo[a][hOplata],klass,HouseInfo[a][hBuyPrice]*2,lock,GetHomeOplata(a));
				//	Dialog(playerid,D_HOME+3,DSM,"{FFCC00}Информация о Доме",string,"Назад","");
				}
				case 1:
				{
					if(HouseInfo[a][hLock] == 1)
					{
						HouseInfo[a][hLock] = 0;
						GameTextForPlayer(playerid, "~g~lock", 5000, 5);
					}
					else
					{
						HouseInfo[a][hLock] = 1;
						GameTextForPlayer(playerid, "~r~lock", 5000, 5);
					}
					PlayerPlaySound(playerid, 1145, 0.0, 0.0, 0.0);
					MysqlUpdateHouseInt(a, "hLock", HouseInfo[a][hLock]);
				}
				case 2:
				{
					new string[500];
					format(string, sizeof(string), "{FFCC00}1. {ffffff}Аптечки:\t\t{FFCC00}%d штук",HouseInfo[a][hHeal]);
					Dialog(playerid,15420,DSL,"{FFCC00}Шкаф",string,"Далее","Назад");
				}
				case 3: ShowPlayerDialog(playerid, D_SELLHOUSE, 0, "{FFCC00}Продажа дома", "{FFFFFF}Вы действительно хотите продать свой дом?\nОт его продажи Вам вернётся только половина стоимости дома", "Принять", "Назад");
			}
		}*/
	case D_HOME+1:
	    {
	        if(!response) return 1;
			{
			    new a = GetPVarInt(playerid, "PlayerHouse");
			    switch(listitem)
			    {
			        case 0:
			        {
						if(PlayerToPoint(8.0, playerid, HouseInfo[a][hExitx], HouseInfo[a][hExity], HouseInfo[a][hExitz]) && GetPlayerVirtualWorld(playerid) == HouseInfo[a][hVirtual])
						{
							SetPlayerInterior(playerid, 0);
							SetPlayerVirtualWorld(playerid, 0);
							SetPlayerPosEx(playerid, HouseInfo[a][hEntrx], HouseInfo[a][hEntry], HouseInfo[a][hEntrz]);
							FreezePlayer(playerid, 2000);
						}
			        }
      			}
   			}
	    }
	case D_HOME+2:
	    {
	        if(!response) return 1;
	        new a = GetPVarInt(playerid, "PlayerHouse");
	        new vehicleid = GetPlayerVehicleID(playerid);
	        SetVehiclePos(vehicleid, -1616.6018,1579.0420,2005.5146);
			PutPlayerInVehicle(playerid, vehicleid, 0);
			SetVehicleZAngle(vehicleid, 90.9035);
			SetCameraBehindPlayer(playerid);
			LinkVehicleToInterior(vehicleid, 0);
			SetPlayerInterior(playerid, 0);
			SetPlayerVirtualWorld(playerid, HouseInfo[a][hVirtual]);
			SetVehicleVirtualWorld(vehicleid, HouseInfo[a][hVirtual]);
			return 1;
	    }
	case 15419:
		{
			if(!response) return 1;
			static const list_skins[3] = {287,179,255};
			SetPlayerSkin(playerid, list_skins[listitem]);
			SendClientMessage(playerid, COLOR_GREEN, (listitem == 0) ? ("Вы переоделись в постовую форму!") :
			(listitem == 1) ? ("Вы переоделись в спортивную форму!") : ("Вы переоделись в парадную форму!"));
		}
	case 1543:
		{
			if(!response) return callcmd::hmenu(playerid);
			if(listitem == 3)
			{
			    if(!PI[playerid][pMemberSkin]) return SendClientMessage(playerid, COLOR_RED, "Вы не состоите в организации");
				SetPlayerSkin(playerid, PI[playerid][pMemberSkin]);
				SendClientMessage(playerid, COLOR_YELLOW, "Вы надели форму организации");
			}
			else
			{
			    if(!PI[playerid][pSkin][listitem]) return SendClientMessage(playerid, COLOR_RED, "У Вас нет одежды на этой полке");
				PI[playerid][pModel] = PI[playerid][pSkin][listitem];
				SetPlayerSkin(playerid, PI[playerid][pModel]);
				SendClientMessage(playerid, COLOR_YELLOW, "Вы надели одежду из шкафа");
			}
		}
	case D_HEAL+3:
		{
			if(!response) return PhoneMenu(playerid);
			switch(listitem)
			{
				case 0: ShowPlayerDialog(playerid, D_SERVICE+1, 1, "{FFCC00}Вызвать механика", "{FFFFFF}Опишите место где Вы находитесь\n{AFAFAF}Сообщение должно состоять из 6 до 20 символов!", "Принять", "Отмена");
				case 1: ShowPlayerDialog(playerid, D_SERVICE+2, 1, "{FFCC00}Вызвать такси", "{FFFFFF}Опишите место где Вы находитесь\n{AFAFAF}Сообщение должно состоять из 6 до 20 символов!", "Принять", "Отмена");
				case 2: ShowPlayerDialog(playerid, D_SERVICE+3, 1, "{FFCC00}Вызвать скорую помощь", "{FFFFFF}Опишите место где Вы находитесь\n{AFAFAF}Сообщение должно состоять из 6 до 20 символов!", "Принять", "Отмена");
				case 3: ShowPlayerDialog(playerid, D_SERVICE+4, 1, "{FFCC00}Вызвать полицию", "{FFFFFF}Опишите место где Вы находитесь\n{AFAFAF}Сообщение должно состоять из 6 до 20 символов!", "Принять", "Отмена");
			}
		}
	case D_SERVICE+1:
		{
		    if(!response)
			{
			    if(PI[playerid][pJail] > 0) return SendClientMessage(playerid, COLOR_RED, "У Вас изъяли телефон!");
				return ShowPlayerDialog(playerid, D_HEAL+3, 2, "{FFCC00}Сервисы", "1. Вызвать механика\n2. Вызвать такси\n3. Вызвать скорую помошь\n4. Вызвать полицию", "Принять", "Назад");
			}
			if(GetPlayerInterior(playerid) != 0) return SendClientMessage(playerid, COLOR_RED, "[Диспетчер] Не удалось определить Ваше местоположение. Выйдите из помещения");
			if(GetPlayerVirtualWorld(playerid) != 0) return SendClientMessage(playerid, COLOR_RED, "[Диспетчер] Не удалось определить Ваше местоположение. Выйдите из помещения");
			if(GetPVarInt(playerid, "CallMech") > gettime()) return SendClientMessage(playerid, COLOR_RED, "Вы недавно вызывали механика!");
			if(strlen(inputtext) < 6 || strlen(inputtext) > 20) return SendClientMessage(playerid, COLOR_RED, "В сообщении должно быть от 6 до 20 символов!");
			new full = 0;
			foreach(new i: Player)
			{
				if(PlayerLogged[i] == false) continue;
				if(PI[i][pJob] == JOB_MECHANIC && i != playerid) full++;
			}
			if(!full) SendClientMessage(playerid, COLOR_RED, "В данный момент нет механиков на дежурстве!");
			else SendClientMessage(playerid, COLOR_LIGHTBLUE, "Ваш запрос послан механикам. Ждите ответа");
			MechanicON[playerid] = true;
			foreach(new i: Player)
			{
				if(PlayerLogged[i] == false) continue;
				if(PI[i][pJob] == JOB_MECHANIC)
				{
					SendMes(i, COLOR_BLUE, "[Внимание] %s [%i] вызывает механика. Описание: %s", GetName(playerid), playerid, inputtext);
					SendClientMessage(i, COLOR_BLUE, "Чтобы принять вызов введите /calling");
				}
			}
		}
    case D_SERVICE+2:
		{
		    if(!response)
			{
			    if(PI[playerid][pJail] > 0) return SendClientMessage(playerid, COLOR_RED, "У Вас изъяли телефон!");
				return ShowPlayerDialog(playerid, D_HEAL+3, 2, "{FFCC00}Сервисы", "1. Вызвать механика\n2. Вызвать такси\n3. Вызвать скорую помошь\n4. Вызвать полицию", "Принять", "Назад");
			}
			if(GetPlayerInterior(playerid) != 0) return SendClientMessage(playerid, COLOR_RED, "[Диспетчер] Не удалось определить Ваше местоположение. Выйдите из помещения");
			if(GetPlayerVirtualWorld(playerid) != 0) return SendClientMessage(playerid, COLOR_RED, "[Диспетчер] Не удалось определить Ваше местоположение. Выйдите из помещения");
			if(GetPVarInt(playerid, "CallTaxi") > gettime()) return SendClientMessage(playerid, COLOR_RED, "Вы недавно вызывали таксиста!");
			if(strlen(inputtext) < 6 || strlen(inputtext) > 20) return SendClientMessage(playerid, COLOR_RED, "В сообщении должно быть от 6 до 20 символов!");
			new full = 0;
			foreach(new i: Player)
			{
				if(PlayerLogged[i] == false) continue;
				if(PI[i][pJob] == JOB_TAXI && i != playerid) full++;
			}
			if(!full) SendClientMessage(playerid, COLOR_RED, "В данный момент нет таксистов на дежурстве!");
			else SendClientMessage(playerid, COLOR_LIGHTBLUE, "Ваш запрос послан таксистам. Ждите ответа");
			TaxiON[playerid] = true;
			foreach(new i: Player)
			{
				if(PlayerLogged[i] == false) continue;
				if(PI[i][pJob] == JOB_TAXI)
				{
					SendMes(i, COLOR_BLUE, "[Внимание] %s [%i] вызывает такси. Описание: {FFFFFF}%s", GetName(playerid), playerid, inputtext);
					SendClientMessage(i, COLOR_BLUE, "Для принятия вызова используйте: /gotaxi");
				}
			}
		}
    case D_SERVICE+3:
		{
		    if(!response)
			{
			    if(PI[playerid][pJail] > 0) return SendClientMessage(playerid, COLOR_RED, "У Вас изъяли телефон!");
				return ShowPlayerDialog(playerid, D_HEAL+3, 2, "{FFCC00}Сервисы", "1. Вызвать механика\n2. Вызвать такси\n3. Вызвать скорую помошь\n4. Вызвать полицию", "Принять", "Назад");
			}
			if(GetPlayerInterior(playerid) != 0) return SendClientMessage(playerid, COLOR_RED, "[Диспетчер] Не удалось определить Ваше местоположение. Выйдите из помещения");
			if(GetPlayerVirtualWorld(playerid) != 0) return SendClientMessage(playerid, COLOR_RED, "[Диспетчер] Не удалось определить Ваше местоположение. Выйдите из помещения");
			if(GetPVarInt(playerid, "CallMedic") > gettime()) return SendClientMessage(playerid, COLOR_RED, "Вы недавно вызывали скорую помощь!");
			if(strlen(inputtext) < 6 || strlen(inputtext) > 20) return SendClientMessage(playerid, COLOR_RED, "В сообщении должно быть от 6 до 20 символов!");
			new full = 0;
			foreach(new i: Player)
			{
				if(PlayerLogged[i] == false) continue;
				if(IsAMedic(i) && i != playerid) full++;
			}
			if(!full) SendClientMessage(playerid, COLOR_RED, "В данный момент нет медиков на дежурстве!");
			else SendClientMessage(playerid, COLOR_LIGHTBLUE, "Ваш запрос на медицинскую помощь послан. Ждите ответа");
			MedicON[playerid] = true;
			foreach(new i: Player)
			{
				if(PlayerLogged[i] == false) continue;
				if(IsAMedic(i))
				{
					SendMes(i, COLOR_BLUE, "[Внимание] %s [%i] вызывает скорую помощь. Описание: {FFFFFF}%s", GetName(playerid), playerid, inputtext);
					SendClientMessage(i, COLOR_BLUE, "Чтобы принять вызов введите /gomedhelp");
				}
			}
		}
	case D_SERVICE+4:
		{
		    if(!response)
			{
			    if(PI[playerid][pJail] > 0) return SendClientMessage(playerid, COLOR_RED, "У Вас изъяли телефон!");
				return ShowPlayerDialog(playerid, D_HEAL+3, 2, "{FFCC00}Сервисы", "1. Вызвать механика\n2. Вызвать такси\n3. Вызвать скорую помошь\n4. Вызвать полицию", "Принять", "Назад");
			}
			if(GetPlayerInterior(playerid) != 0) return SendClientMessage(playerid, COLOR_RED, "[Диспетчер] Не удалось определить Ваше местоположение. Выйдите из помещения");
			if(GetPlayerVirtualWorld(playerid) != 0) return SendClientMessage(playerid, COLOR_RED, "[Диспетчер] Не удалось определить Ваше местоположение. Выйдите из помещения");
			if(GetPVarInt(playerid, "CallPolice") > gettime()) return SendClientMessage(playerid, COLOR_RED, "Вы недавно вызывали полицию!");
			if(strlen(inputtext) < 6 || strlen(inputtext) > 20) return SendClientMessage(playerid, COLOR_RED, "В сообщении должно быть от 6 до 20 символов!");
			new full = 0;
			foreach(new i: Player)
			{
				if(PlayerLogged[i] == false) continue;
				if(IsACop(i) && i != playerid) full++;
			}
			if(!full) SendClientMessage(playerid, COLOR_RED, "В данный момент нет полицейских на дежурстве!");
			else SendClientMessage(playerid, COLOR_LIGHTBLUE, "Ваш запрос был отправлен полиции. Ждите ответа");
			PoliceON[playerid] = true;
			foreach(new i: Player)
			{
				if(PlayerLogged[i] == false) continue;
				if(IsACop(i))
				{
					SendMes(i, COLOR_BLUE, "[Внимание] %s [%i] вызывает полицию. Описание: {FFFFFF}%s", GetName(playerid), playerid, inputtext);
					SendClientMessage(i, COLOR_BLUE, "Чтобы принять вызов введите /gopolice");
				}
			}
		}
	case D_ARMOURY:
	    {
	        if(!response) return 1;
	        switch(listitem)
	        {
	            case 0:
	            {
	                SetPVarInt(playerid, "TazerGun", 1);
	                GivePlayerWeaponAC(playerid, 23, 50);
	            }
	            case 1:
	            {
	                GivePlayerWeaponAC(playerid, 29, 120);
	            }
	            case 2:
	            {
	                GivePlayerWeaponAC(playerid, 3, 1);
	            }
	        }
	        SetHealth(playerid, 100);
	        SetArmour(playerid, 100);
		}
	case D_ARMOURY+1:
	    {
	        if(!response) return 1;
	        switch(listitem)
	        {
	            case 0:
	            {
	                SetPVarInt(playerid, "TazerGun", 1);
	                GivePlayerWeaponAC(playerid, 23, 50);
	            }
	            case 1:
	            {
	                GivePlayerWeaponAC(playerid, 24, 35);
	            }
	            case 2:
	            {
	                GivePlayerWeaponAC(playerid, 3, 1);
	            }
	        }
	        SetHealth(playerid, 100);
	        SetArmour(playerid, 100);
		}
	case D_ARMOURY+2:
	    {
	        if(!response) return 1;
	        switch(listitem)
	        {
	            case 0:
	            {
	                SetPVarInt(playerid, "TazerGun", 1);
	                GivePlayerWeaponAC(playerid, 23, 50);
	            }
	            case 1:
	            {
	                GivePlayerWeaponAC(playerid, 24, 35);
	            }
	            case 2:
	            {
	                GivePlayerWeaponAC(playerid, 31, 150);
	            }
	            case 3:
	            {
	                GivePlayerWeaponAC(playerid, 29, 100);
	            }
	            case 4:
	            {
	                GivePlayerWeaponAC(playerid, 34, 25);
	            }
	            case 5:
	            {
	                GivePlayerWeaponAC(playerid, 41, 100);
	            }
	            case 6:
	            {
	                GivePlayerWeaponAC(playerid, 17, 5);
	            }
	            case 7:
	            {
	                GivePlayerWeaponAC(playerid, 3, 1);
	            }
	        }
	        SetHealth(playerid, 100);
	        SetArmour(playerid, 100);
		}
	case D_ARMOURY_FSB:
	    {
	        if(!response) return 1;
	        switch(listitem)
	        {
	            case 0:
	            {
	                SetPVarInt(playerid, "TazerGun", 1);
	                GivePlayerWeaponAC(playerid, 23, 50);
	            }
	            case 1:
	            {
	                GivePlayerWeaponAC(playerid, 24, 50);
	            }
	            case 2:
	            {
	                GivePlayerWeaponAC(playerid, 29, 120);
	            }
	            case 3:
	            {
	                GivePlayerWeaponAC(playerid, 3, 1);
	            }
	        }
	        SetHealth(playerid, 100);
	        SetArmour(playerid, 100);
		}
	case D_HEAL+9:
		{
			if(!response) return 1;
			new idx = GetPVarInt(playerid, "PlayerBizz");
			FreezePlayer(playerid, 2000);
			SetPlayerPos(playerid,BizzInfo[idx][bExitx], BizzInfo[idx][bExity], BizzInfo[idx][bExitz]);
			SetPlayerInterior(playerid,BizzInfo[idx][bInt]);
			SetPlayerVirtualWorld(playerid,BizzInfo[idx][bVirtual]);
			SetCameraBehindPlayer(playerid);
			
			SetTimerEx("PickupBack",3000,0,"i",playerid);
	        pickupentered[playerid] = 1;
		}
	/*case D_HEAL+10:
		{
			if(!response) return 1;
			new i = GetPVarInt(playerid, "PlayerBizz");
			switch(listitem)
			{
			case 0: BizzStats(playerid, i);
			case 1:
				{
					if(BizzInfo[i][bLock] == 0) return SendClientMessage(playerid, COLOR_RED, "Бизнес уже открыт!");
					if(BizzInfo[i][bProduct] <= 0 || BizzInfo[i][bLic] == 0) return SendClientMessage(playerid, COLOR_RED, "В бизнесе нет продуктов или нет лицензии!");
					BizzInfo[i][bLock] = 0;
					BizzInfo[i][bLockTime] = 0;
					MysqlUpdateBizzInt(i, "block", BizzInfo[i][bLock]);
					MysqlUpdateBizzInt(i, "locktime", BizzInfo[i][bLockTime]);
					SendClientMessage(playerid, COLOR_LIME, "Вы открыли бизнес. Всегда следите за состоянием продуктов и лицензией");
					SendClientMessage(playerid, COLOR_LIME, "В противном случае Вы можете потерять бизнес");
				}
			case 2:
				{
				    if(BizzInfo[i][bType] == 1 || BizzInfo[i][bType] == 6 || BizzInfo[i][bType] == 7 || BizzInfo[i][bType] == 8)
				    {
				        SendClientMessage(playerid, COLOR_RED, "В данном типе бизнеса нельзя управлять ценой на товар!");
				    }
				    else
				    {
				        ShowPlayerDialog(playerid, D_HEAL+11, 1, "{ffcc00}Цена", "{ffffff}Введите цену за товар:", "Принять", "Отмена");
				    }
				}
			case 3:
				{
				    if(BizzInfo[i][bType] == 2 || BizzInfo[i][bType] == 7)
				    {
				        SendClientMessage(playerid, COLOR_RED, "В данном типе бизнеса нельзя управлять ценой за вход!");
				    }
				    else
				    {
				        ShowPlayerDialog(playerid, D_HEAL+12, 1, "{ffcc00}Цена", "{ffffff}Введите цену за вход:", "Принять", "Отмена");
				    }
				}
			case 4: ShowPlayerDialog(playerid, D_HEAL+16, 0, "{ffcc00}Продать бизнес", "{ffffff}Вы хотите продать свой бизнес?\n\n{F04245}Вам вернут только половину стоимости бизнеса!", "Да", "Нет");
			case 5: ShowPlayerDialog(playerid, D_HEAL+27, 1, "{ffcc00}Заказать продукты", "{ffffff}Введите к-во товара, которое хотите заказать {FFCC00}(1ед. = 1 рублей):", "Принять", "Отмена");
			}
		}*/
	case D_HEAL+10: // Бизнес панель
		{
			if(!response) return 1;
			new i = GetPVarInt(playerid, "PlayerBizz");
			switch(listitem)
			{
				case 0: BizzStats(playerid, i);
				case 1:
				{
					if(BizzInfo[i][bLock] == 0) return SendClientMessage(playerid, COLOR_RED, "Бизнес уже открыт!");
					if(BizzInfo[i][bProduct] <= 0 || BizzInfo[i][bLic] == 0) return SendClientMessage(playerid, COLOR_RED, "В бизнесе нет продуктов или нет лицензии!");
					BizzInfo[i][bLock] = 0;
					BizzInfo[i][bLockTime] = 0;
					MysqlUpdateBizzInt(i, "block", BizzInfo[i][bLock]);
					MysqlUpdateBizzInt(i, "locktime", BizzInfo[i][bLockTime]);
					SendClientMessage(playerid, COLOR_LIME, "Вы открыли бизнес. Всегда следите за состоянием продуктов и лицензией");
					SendClientMessage(playerid, COLOR_LIME, "В противном случае Вы можете потерять бизнес");
				}
				case 2:
				{
				    if(BizzInfo[i][bType] == 1 || BizzInfo[i][bType] == 6 || BizzInfo[i][bType] == 7 || BizzInfo[i][bType] == 8 || BizzInfo[i][bType] == 9)
				    {
				        SendClientMessage(playerid, COLOR_RED, "В данном типе бизнеса нельзя управлять ценой на товар!");
				    }
				    else
				    {
				        ShowPlayerDialog(playerid, D_HEAL+11, 1, "{FFCC00}Цена", "{ffffff}Введите цену за товар:", "Принять", "Отмена");
				    }
				}
				case 3:
				{
				    if(BizzInfo[i][bType] == 2 || BizzInfo[i][bType] == 7)
				    {
				        SendClientMessage(playerid, COLOR_RED, "В данном типе бизнеса нельзя управлять ценой за вход!");
				    }
				    else
				    {
				        ShowPlayerDialog(playerid, D_HEAL+12, 1, "{FFCC00}Цена", "{ffffff}Введите цену за вход:", "Принять", "Отмена");
				    }
				}
				case 4:
				{
					ShowPlayerDialog(playerid, D_HEAL+16, 0, "{FFCC00}Продать бизнес", "{ffffff}Вы хотите продать свой бизнес?\n\n{F04245}Вам вернут только половину стоимости бизнеса!", "Да", "Нет");
				}
				case 5: ShowPlayerDialog(playerid, D_HEAL+27, 1, "{FFCC00}Заказать продукты", "{ffffff}Введите к-во товара, которое хотите заказать {FFCC00}(1ед. = 10р):", "Принять", "Отмена");
				case 6: {
					new string[128];
					if(BizzInfo[i][UNLOCK_OGRAN]) strcat(string, ""newgreen"Снятие ограничения на прибыль\n");
					else strcat(string, "{ff0000}Снятие ограничения на прибыль\n");
					if(BizzInfo[i][UNLOCK_BANNER]) strcat(string, ""newgreen"Рекламный баннер\n");
					else strcat(string, "{ff0000}Рекламный баннер\n");
					if(BizzInfo[i][UNLOCK_GPS]) strcat(string, ""newgreen"Метка в GPS\n");
					else strcat(string, "{ff0000}Метка в GPS\n");
					if(BizzInfo[i][UNLOCK_MUSIC]) strcat(string, ""newgreen"Музыка в помещении\n");
					else strcat(string, "{ff0000}Музыка в помещении\n");

					ShowPlayerDialog(playerid, BIZ_TOOLS, DIALOG_STYLE_LIST, "{FFCC00}Улучшения бизнеса", string, "Далее", "Назад");
				}
			}
		}
	case BIZ_TOOLS:{
		if(!response) return callcmd::business(playerid);
		new i = GetPVarInt(playerid, "PlayerBizz");
		switch(listitem) {
			case 0: {
				
				if(BizzInfo[i][UNLOCK_OGRAN]) {
					return ShowPlayerDialog(playerid, D_NULL, DIALOG_STYLE_MSGBOX, "{FFCC00}Улучшения бизнеса | Снятие ограничния на прибыль", "Улучшение 'Снятие ограничения на прибыль' позволяет Вам\n\
					собирать на продажах до 1 000 000 рублей в день, без улучшения можно собрать только до 100 000 рублей.\n\
					Данное улучшение стоит: {ADFF2F}2 000 000 рублей{FFFFFF} и приобретается {ADFF2F}бессрочно{FFFFFF}, однако после продажи бизнеса оно удаляется.\n\n\n\
					{ADFF2F}Вы уже купили данное улучшение!", "Назад", "");
				} else {
					ShowPlayerDialog(playerid, BIZ_TOOLS+1, DIALOG_STYLE_MSGBOX, "{FFCC00}Улучшения бизнеса | Снятие ограничния на прибыль", "Улучшение 'Снятие ограничения на прибыль' позволяет Вам\n\
					собирать на продажах до 1 000 000 рублей в день, без улучшения можно собрать только до 100 000 рублей.\n\
					Данное улучшение стоит: {ADFF2F}2 000 000 рублей{FFFFFF} и приобретается {ADFF2F}бессрочно{FFFFFF}, однако после продажи бизнеса оно удаляется.\n\n\n\
					{FF0000}Данное улучшение еще не приобретено.", "Купить", "Назад");
					SetPVarInt(playerid, "unlock", 1);
				}

			}
			case 1: {
				
				if(BizzInfo[i][UNLOCK_BANNER]) {
					return ShowPlayerDialog(playerid, D_NULL, DIALOG_STYLE_MSGBOX, "{FFCC00}Улучшения бизнеса | Рекламный баннер", "Улучшение 'Релкамный баннер' позволяет Вам установить возле вашего бизнеса рекламный баннер, что может привлечь клиентов!\n\
					Данное улучшение стоит: {ADFF2F}20 000 рублей{FFFFFF} и приобретается {ADFF2F}бессрочно{FFFFFF}, однако после продажи бизнеса оно удаляется.\n\n\n\
					{ADFF2F}Вы уже купили данное улучшение!", "Назад", "");
				} else {
					ShowPlayerDialog(playerid, BIZ_TOOLS+1, DIALOG_STYLE_MSGBOX, "{FFCC00}Улучшения бизнеса | Рекламный баннер", "Улучшение 'Релкамный баннер' позволяет Вам\n\
					установить возле вашего бизнеса рекламный баннер, что может привлечь клиентов!\n\
					Данное улучшение стоит: {ADFF2F}20 000 рублей{FFFFFF} и приобретается {ADFF2F}бессрочно{FFFFFF}, однако после продажи бизнеса оно удаляется.\n\n\n\
					{FF0000}Данное улучшение еще не приобретено.", "Купить", "Назад");
					SetPVarInt(playerid, "unlock", 2);
				}

			}
			case 2: {
				
				if(BizzInfo[i][UNLOCK_GPS]) {
					return ShowPlayerDialog(playerid, D_NULL, DIALOG_STYLE_MSGBOX, "{FFCC00}Улучшения бизнеса | Метка в GPS", "Улучшение 'Метка в GPS' добавляет ваш бизнес\n\
					в GPS, тем самым привлекая новых клиентов и добавляя удобство в поиске вашего бизнеса. Более того, бизнесы, имеющие данное улучшение показываются на карте.\n\
					Данное улучшение стоит: {ADFF2F}500 000 рублей{FFFFFF} и приобретается {ADFF2F}бессрочно{FFFFFF}, однако после продажи бизнеса оно удаляется.\n\n\n\
					{ADFF2F}Вы уже купили данное улучшение!", "Назад", "");
				} else {
					ShowPlayerDialog(playerid, BIZ_TOOLS+1, DIALOG_STYLE_MSGBOX, "{FFCC00}Улучшения бизнеса | Рекламный баннер", "Улучшение 'Метка в GPS' добавляет ваш бизнес\n\
					в GPS, тем самым привлекая новых клиентов и добавляя удобство в поиске вашего бизнеса. Более того, бизнесы, имеющие данное улучшение показываются на карте.\n\
					Данное улучшение стоит: {ADFF2F}500 000 рублей{FFFFFF} и приобретается {ADFF2F}бессрочно{FFFFFF}, однако после продажи бизнеса оно удаляется.\n\n\n\
					{FF0000}Данное улучшение еще не приобретено.", "Купить", "Назад");
					SetPVarInt(playerid, "unlock", 3);
				}

			}
			case 3: {
				
				if(BizzInfo[i][UNLOCK_MUSIC]) {
					return ShowPlayerDialog(playerid, D_NULL, DIALOG_STYLE_MSGBOX, "{FFCC00}Улучшения бизнеса | Музыка в помещении", "Улучшение 'Музыка в помещении' позволяет Вам включить музыку для ваших посетителей,\n\
					что может поднять им настроение и смотивировать что-либо у Вас купить или начать выгодное для Вас сотрудничество!\n\
					Данное улучшение стоит: {ADFF2F}100 000 рублей{FFFFFF} и приобретается {ADFF2F}бессрочно{FFFFFF}, однако после продажи бизнеса оно удаляется.\n\n\n\
					{ADFF2F}Вы уже купили данное улучшение!", "Назад", "");
				} else {
					ShowPlayerDialog(playerid, BIZ_TOOLS+1, DIALOG_STYLE_MSGBOX, "{FFCC00}Улучшения бизнеса | Музыка в помещении", "Улучшение 'Музыка в помещении' позволяет Вам включить музыку для ваших посетителей,\n\
					что может поднять им настроение и смотивировать что-либо у Вас купить или начать выгодное для Вас сотрудничество!\n\
					Данное улучшение стоит: {ADFF2F}100 000 рублей{FFFFFF} и приобретается {ADFF2F}бессрочно{FFFFFF}, однако после продажи бизнеса оно удаляется.\n\n\n\
					{FF0000}Данное улучшение еще не приобретено.", "Купить", "Назад");
					SetPVarInt(playerid, "unlock", 4);
				}

			}
		}
	}
	case BIZ_TOOLS+1: {
		if(!response) return callcmd::business(playerid);
		else {
			ShowPlayerDialog(playerid, BIZ_TOOLS+2, DIALOG_STYLE_LIST, ""newgray"Выберите способ оплаты", "Банк (без комиссии)\nЧерез телефон (комиссия 40%)", "Далее", "Назад");
			return SendTimeMessage(playerid, "Улучшения бизнеса покупаются напрямую у компании 'Обслуживание бизнесов'", 1000, POND_TYPE);
		}
	}
	case BIZ_TOOLS+2: {
		if(!response) return callcmd::business(playerid);
		else {
			if(listitem == 0) {
				SendSucces(playerid, "Чек на оплату бизнеса уже в банке. Едьте в банк, чтобы совершить оплату.");
				// Добавить чек на оплату
			} else {
				new string[1000], cost, nameEx[32], topay;
				switch(GetPVarInt(playerid, "unlock")) {
					case 1: {
						if(PI[playerid][pBank] < 2000000) {
							SendClientMessage(playerid, COLOR_DARKORANGE, "[PAYFELL]: {FFFFFF} На вашем счету в банке не хватает денежных средств! Необходимо: 2 000 000 рублей.");
							SendTimeMessage(playerid, "{FF6600}[PAYFELL]: Мы временно ограничиваем Вам возможность в проведении операций через нашу систему!", 3000, MESSAGE_TYPE);
							SendTimeMessage(playerid, "Лучше не тратить время PayFell на всякие глупости! Обращайтесь туда только со стопроцентной уверенностью!", 4000, POND_TYPE);
							SendTimeMessage(playerid, "Иначе они могут выдать Вам блокировку или повысить комисиию.", 4500, POND_TYPE);
							SendTimeMessage(playerid, "Если сделки напротив, успешные, то PayFell может понизить комисиию для Вас! Круть!", 5000, POND_TYPE);
							return 1;
						} else {
							cost = 2000000;
							nameEx = "Снятие ограничения на прибыль";
							topay = cost + cost/100*40;
						}
					}
					case 2: {
						if(PI[playerid][pBank] < 20000) {
							SendClientMessage(playerid, COLOR_DARKORANGE, "[PAYFELL]: {FFFFFF} На вашем счету в банке не хватает денежных средств! Необходимо: 20 000 рублей.");
							SendTimeMessage(playerid, "{FF6600}[PAYFELL]: Мы временно ограничиваем Вам возможность в проведении операций через нашу систему!", 3000, MESSAGE_TYPE);
							SendTimeMessage(playerid, "Лучше не тратить время PayFell на всякие глупости! Обращайтесь туда только со стопроцентной уверенностью!", 4000, POND_TYPE);
							SendTimeMessage(playerid, "Иначе они могут выдать Вам блокировку или повысить комисиию.", 4500, POND_TYPE);
							SendTimeMessage(playerid, "Если сделки напротив, успешные, то PayFell может понизить комисиию для Вас! Круть!", 5000, POND_TYPE);
							return 1;
						} else {
							cost = 20000;
							nameEx = "Рекламный баннер";
							topay = cost + cost/100*40;
						}
					}
					case 3: {
						if(PI[playerid][pBank] < 500000) {
							SendClientMessage(playerid, COLOR_DARKORANGE, "[PAYFELL]: {FFFFFF} На вашем счету в банке не хватает денежных средств! Необходимо: 500 000 рублей.");
							SendTimeMessage(playerid, "{FF6600}[PAYFELL]: Мы временно ограничиваем Вам возможность в проведении операций через нашу систему!", 3000, MESSAGE_TYPE);
							SendTimeMessage(playerid, "Лучше не тратить время PayFell на всякие глупости! Обращайтесь туда только со стопроцентной уверенностью!", 4000, POND_TYPE);
							SendTimeMessage(playerid, "Иначе они могут выдать Вам блокировку или повысить комисиию.", 4500, POND_TYPE);
							SendTimeMessage(playerid, "Если сделки напротив, успешные, то PayFell может понизить комисиию для Вас! Круть!", 5000, POND_TYPE);
							return 1;
						} else {
							cost = 500000;
							nameEx = "Метка в GPS";
							topay = cost + cost/100*40;
						}
					}
					case 4: {
						if(PI[playerid][pBank] < 100000) {
							SendClientMessage(playerid, COLOR_DARKORANGE, "[PAYFELL]: {FFFFFF} На вашем счету в банке не хватает денежных средств! Необходимо: 100 000 рублей.");
							SendTimeMessage(playerid, "{FF6600}[PAYFELL]: Мы временно ограничиваем Вам возможность в проведении операций через нашу систему!", 3000, MESSAGE_TYPE);
							SendTimeMessage(playerid, "Лучше не тратить время PayFell на всякие глупости! Обращайтесь туда только со стопроцентной уверенностью!", 4000, POND_TYPE);
							SendTimeMessage(playerid, "Иначе они могут выдать Вам блокировку или повысить комисиию.", 4500, POND_TYPE);
							SendTimeMessage(playerid, "Если сделки напротив, успешные, то PayFell может понизить комисиию для Вас! Круть!", 5000, POND_TYPE);
							return 1;
						} else {
							cost = 100000;
							nameEx = "Метка в GPS";
							topay = cost + cost/100*40;
						}
					}
				}
				format(string, sizeof string, ""newgreen"\t#\t\t\t ЦЕНТРАЛЬНЫЙ БАНК \t\t\t#{FFFFFF}\n\
				\t\t\tЭлектронная система оплаты 'PayFell'\n\n\
				-----------------------------------------------------------------------\n\n\
				{FFCC00}Время:{FFFFFF} %d:%d\n{FFCC00}Дата: {FFFFFF}%d/%d/%d\n\n\
				"newblue"Номер операции: {FFFFFF}Ex%d\n\
				"newblue"Обслуживающая организация: {FFFFFF}'PayFell digital'\n\
				-----------------------------------------------------------------------\n\n\
				{FFCC00}Стоимость услуги (в рублях): {FFFFFF}%d\n\
				{FFCC00}Наименование услуги:{FFFFFF} %s\n\
				{FFCC00}Комиссия (PayFell):{FFFFFF} 40%\n\
				{FF0000}ИТОГО: {FFFFFF}%d рублей к оплате\n\n\
				Нажимая кнопку 'Подтвердить', Вы соглашаетесь с проведением данной транзакции!",
				gCurHour, gCurMinutes, gDay, gMonth, gYear, 1234+random(10000), cost, nameEx, topay);
				ShowPlayerDialog(playerid, BIZ_TOOLS+3, DIALOG_STYLE_MSGBOX, "Электронный чек на оплату", string, "Подтвердить", "Отмена");
			}
		}
	}
	case CHECK: {
		if(!response) return 1;
		/* 
		ShowPlayerDialog(playerid, CHECK, DIALOG_STYLE_LIST, GetName(params[0]), \
		"Статистика игрока\nСведения античита\nПроверить наказания\nОружие игрока\nАкссесуары игрока\n[3+] Апелляции игрока\n[3+] Проверить IP", \
		"Далее", "Отмена");
		*/
		switch(listitem) {
			case 0: ShowPlayerStatsDialog(playerid, GetPVarInt(playerid, "selectedID"));
			case 1: SendErr(playerid, "Еще в разработке!");
			case 2: SendErr(playerid, "Еще в разработке!");
			case 3: {
				new strings[1000],strin[70],strs[100],gunname[32];
				new weapons[13][2];
				format(strs, 100, "Игрок:\t\t\t%s{FFFFFF}", GetName(GetPVarInt(playerid, "selectedID")));
				strcat(strings, strs);
				for(new i = 0; i != 12; i ++)
				{
					GetPlayerWeaponData(GetPVarInt(playerid, "selectedID"), i, weapons[i][0], weapons[i][1]);
					GetWeaponName(weapons[i][0],gunname,32);
					if(weapons[i][0] != 0)
					{
						format(strin,70,"\n\nОружие:\t\t%s (%d)\nПатроны:\t\t%d",gunname,weapons[i][0],weapons[i][1]);
						strcat(strings,strin);
					}
				}
				return ShowPlayerDialog(playerid,D_NULL,0,"{FFCC00}Оружие игрока",strings,"Закрыть","");
			}
			case 4: return AccesList(playerid, GetPVarInt(playerid, "selectedID"));
			case 5: if(PI[playerid][pAdmin] > 2) SendErr(playerid, "Еще в разработке!");
			case 6: {
				format(query, sizeof(query), "SELECT * FROM `accounts` WHERE `name`='%s'", GetName(GetPVarInt(playerid, "selectedID")));
				mysql_query(dbHandle, query);
				new idacca, regip[16], lastip[16], nowip[16], datareg[15];
				idacca = cache_get_row_int(0, 0, dbHandle);
				cache_get_row(0, 14, regip, dbHandle, 16);
				cache_get_row(0, 3, lastip, dbHandle, 16);
				cache_get_row(0, 15, datareg, dbHandle, 15);
				new 
					string[500], 
					lcountry[50],
					rcountry[50],
					lcity[50],
					rcity[50],
					ncountry[50],
					ncity[50];
				GetPlayerIp(playerid, nowip, 16);

				GetIPCity(lastip, lcity);
				GetIPCity(regip, rcity);
				GetIPCountry(lastip, lcountry);
				GetIPCountry(regip, rcountry);
				GetIPCity(nowip, ncity);
				GetIPCountry(nowip, ncountry);
				
				format(string, sizeof string, "Игрок: %s\n\
				Номер аккаунта: %d\n\
				Дата регистрации: %s\n\
				IP при регистрации: %s (%s, %s)\n\
				IP при последнем выходе: %s (%s, %s)\n\
				IP в данный момент: %s (%s, %s)\n", \
				GetName(GetPVarInt(playerid, "selectedID")), idacca, datareg, \
				regip, rcountry, rcity, \
				lastip, lcountry, lcity, \
				nowip, ncountry, ncity);
				ShowPlayerDialog(playerid, CHECK+1, DIALOG_STYLE_MSGBOX, GetName(GetPVarInt(playerid, "selectedID")), string, "Закрыть", "");
			}
		}
	}
	case D_HEAL+27:
		{
		    if(!response) return callcmd::business(playerid);
		    new idx = GetPVarInt(playerid, "PlayerBizz");
		    new prod = strval(inputtext);
		    new price = prod;
		    new string[128];
		    if(BizzInfo[idx][bType] == 1)
		    {
		        if(prod < 0 || prod > 5000-BizzInfo[idx][bProduct]) return SendClientMessage(playerid, COLOR_RED, "Вы не можете хранить больше 5 тыс. ед. товара");
		        if(GetMoney(playerid) < price)
				{
			        format(string, sizeof(string), "Вам нужно %d рублей для того чтобы заказать %d ед. товара", price, prod);
					SendClientMessage(playerid, COLOR_RED, string);
					return 1;
				}
				SetPVarInt(playerid, "orderprod", prod);
				format(string, sizeof(string), "{FFFFFF}Вы действительно хотите заказать %d ед. товара за %d рублей?", prod, price);
				ShowPlayerDialog(playerid, D_HEAL+28, 0, " ", string, "Да", "Нет");
		    }
		    if(BizzInfo[idx][bType] == 2)
		    {
		        if(prod < 0 || prod > 20000-BizzInfo[idx][bProduct]) return SendClientMessage(playerid, COLOR_RED, "Вы не можете хранить больше 20000 л. бензина");
		        if(GetMoney(playerid) < price)
				{
			        format(string, sizeof(string), "Вам нужно %d рублей для того чтобы заказать %d л. бензина", price, prod);
					SendClientMessage(playerid, COLOR_RED, string);
					return 1;
				}
				SetPVarInt(playerid, "orderprod", prod);
				format(string, sizeof(string), "{FFFFFF}Вы действительно хотите заказать %d л. бензина за %d рублей?", prod, price);
				ShowPlayerDialog(playerid, D_HEAL+28, 0, " ", string, "Да", "Нет");
		    }
		    if(BizzInfo[idx][bType] == 3)
		    {
		        if(prod < 0 || prod > 3000-BizzInfo[idx][bProduct]) return SendClientMessage(playerid, COLOR_RED, "Вы не можете хранить больше 3 тыс. ед. товара");
		        if(GetMoney(playerid) < price)
				{
			        format(string, sizeof(string), "Вам нужно %d рублей для того чтобы заказать %d ед. товара", price, prod);
					SendClientMessage(playerid, COLOR_RED, string);
					return 1;
				}
				SetPVarInt(playerid, "orderprod", prod);
				format(string, sizeof(string), "{FFFFFF}Вы действительно хотите заказать %d ед. товара за %d рублей?", prod, price);
				ShowPlayerDialog(playerid, D_HEAL+28, 0, " ", string, "Да", "Нет");
		    }
		    if(BizzInfo[idx][bType] == 4 || BizzInfo[idx][bType] == 5)
		    {
		        if(prod < 0 || prod > 7000-BizzInfo[idx][bProduct]) return SendClientMessage(playerid, COLOR_RED, "Вы не можете хранить больше 7 тыс. ед. товара");
		        if(GetMoney(playerid) < price)
				{
			        format(string, sizeof(string), "Вам нужно %d рублей для того чтобы заказать %d ед. товара", price, prod);
					SendClientMessage(playerid, COLOR_RED, string);
					return 1;
				}
				SetPVarInt(playerid, "orderprod", prod);
				format(string, sizeof(string), "{FFFFFF}Вы действительно хотите заказать %d ед. товара за %d рублей?", prod, price);
				ShowPlayerDialog(playerid, D_HEAL+28, 0, " ", string, "Да", "Нет");
		    }
		    if(BizzInfo[idx][bType] == 6)
		    {
		        if(prod < 0 || prod > 20000-BizzInfo[idx][bProduct]) return SendClientMessage(playerid, COLOR_RED, "Вы не можете хранить больше 20 тыс. ед. товара");
		        if(GetMoney(playerid) < price)
				{
			        format(string, sizeof(string), "Вам нужно %d рублей для того чтобы заказать %d ед. товара", price, prod);
					SendClientMessage(playerid, COLOR_RED, string);
					return 1;
				}
				SetPVarInt(playerid, "orderprod", prod);
				format(string, sizeof(string), "{FFFFFF}Вы действительно хотите заказать %d ед. товара за %d рублей?", prod, price);
				ShowPlayerDialog(playerid, D_HEAL+28, 0, " ", string, "Да", "Нет");
			}
			if(BizzInfo[idx][bType] == 7)
			{
			    if(prod < 0 || prod > 100000-BizzInfo[idx][bProduct]) return SendClientMessage(playerid, COLOR_RED, "Вы не можете хранить больше 100 тыс. ед. товара");
			    if(GetMoney(playerid) < price)
				{
			        format(string, sizeof(string), "Вам нужно %d рублей для того чтобы заказать %d ед. товара", price, prod);
					SendClientMessage(playerid, COLOR_RED, string);
					return 1;
				}
				SetPVarInt(playerid, "orderprod", prod);
				format(string, sizeof(string), "{FFFFFF}Вы действительно хотите заказать %d ед. товара за %d рублей?", prod, price);
				ShowPlayerDialog(playerid, D_HEAL+28, 0, " ", string, "Да", "Нет");
			}
			if(BizzInfo[idx][bType] == 8)
			{
			    if(prod < 0 || prod > 50000-BizzInfo[idx][bProduct]) return SendClientMessage(playerid, COLOR_RED, "Вы не можете хранить больше 50 тыс. ед. товара");
			    if(GetMoney(playerid) < price)
				{
			        format(string, sizeof(string), "Вам нужно %d рублей для того чтобы заказать %d ед. товара", price, prod);
					SendClientMessage(playerid, COLOR_RED, string);
					return 1;
				}
				SetPVarInt(playerid, "orderprod", prod);
				format(string, sizeof(string), "{FFFFFF}Вы действительно хотите заказать %d ед. товара за %d рублей?", prod, price);
				ShowPlayerDialog(playerid, D_HEAL+28, 0, " ", string, "Да", "Нет");
			}
			if(BizzInfo[idx][bType] == 9)
			{
			    if(prod < 0 || prod > 50000-BizzInfo[idx][bProduct]) return SendClientMessage(playerid, COLOR_RED, "Вы не можете хранить больше 50 тыс. ед. товара");
			    if(GetMoney(playerid) < price)
				{
			        format(string, sizeof(string), "Вам нужно %d рублей для того чтобы заказать %d ед. товара", price, prod);
					SendClientMessage(playerid, COLOR_RED, string);
					return 1;
				}
				SetPVarInt(playerid, "orderprod", prod);
				format(string, sizeof(string), "{FFFFFF}Вы действительно хотите заказать %d ед. товара за %d рублей?", prod, price);
				ShowPlayerDialog(playerid, D_HEAL+28, 0, " ", string, "Да", "Нет");
			}
		}
	case D_HEAL+28:
	    {
	        if(!response) return callcmd::business(playerid);
	        new idx = GetPVarInt(playerid, "PlayerBizz");
	        new prod = GetPVarInt(playerid, "orderprod");
	        new price = prod;
	        TransferMoney(playerid, -1, price);
			BizzInfo[idx][bProduct] += prod;
			MysqlUpdateBizzInt(idx, "product", BizzInfo[idx][bProduct]);
			SendClientMessage(playerid, COLOR_GREEN, "Товар был доставлен в ваш бизнес");
			SendClientMessage(playerid, COLOR_RED, "- Временная возможность. Скоро появятся развозчики товаров");
	    }
	case D_HEAL+11:
		{
			if(!response) return 1;
			new price, i = GetPVarInt(playerid, "PlayerBizz");
			if(sscanf(inputtext, "i", price)) return ShowPlayerDialog(playerid, D_HEAL+11, 1, "{ffcc00}Цена", "{ffffff}Введите цену за товар:", "Принять", "Отмена");
			if(BizzInfo[i][bType] == 2)
			{
				if(price < 50 || price > 200) return SendClientMessage(playerid, COLOR_RED, "Неверная цена. Возможно от 50 до 200 рублей");
			}
			else
			{
			    if(price < 1 || price > 500) return SendClientMessage(playerid, COLOR_RED, "Неверная цена. Возможно от 1 до 500 рублей");
			}
			BizzInfo[i][bTill] = price;
			MysqlUpdateBizzInt(i, "till", price);
			SendClientMessage(playerid, COLOR_BLUE, "Новая цена товара установлена");
			return 1;
		}
		case D_HEAL+12:
		{
			if(!response) return 1;
			new price, i = GetPVarInt(playerid, "PlayerBizz");
			if(sscanf(inputtext, "i", price)) return ShowPlayerDialog(playerid, D_HEAL+12, 1, "{ffcc00}Цена", "{ffffff}Введите цену за вход:", "Принять", "Отмена");
			if(price < 0 || price > 1000) return SendClientMessage(playerid, COLOR_RED, "Неверная цена. Возможно от 0 до 1000 рублей");
			BizzInfo[i][bEnter] = price;
			MysqlUpdateBizzInt(i, "penter", price);
			SendClientMessage(playerid, COLOR_BLUE, "Цена за вход успешно установлена");
			UpdateBizz(i);
			return 1;
		}
	case 1374:
		{
			if(!response) return 1;
			new i = GetPVarInt(playerid, "PlayerBizz"), string[128];
			switch(listitem)
			{
			case 0:
				{
				    new price = gGunCosts[0];
					if(GetMoney(playerid) < price) return SendClientMessage(playerid, COLOR_RED, "Недостаточно средств!");
					TransferMoney(playerid, -1, price);
					if(BizzInfo[i][bProduct] > 0)
					{
						BizzInfo[i][bMoney] += price;
						BizzPay[i] += price;
						BizzInfo[i][bProduct] -= price / 3;
						MysqlUpdateBizzInt(i, "money", BizzInfo[i][bMoney]);
						MysqlUpdateBizzInt(i, "product", BizzInfo[i][bProduct]);
					}
					GivePlayerWeaponAC(playerid, 1, 1);
					format(string, sizeof(string), "Вы купили кастет за %d рублей", price);
					SendClientMessage(playerid, COLOR_BLUE, string);
					format(string, sizeof(string), "%s купил кастет", GetName(playerid));
					SendLog("AmmoLog", string);
					GunShopList(playerid);
				}
			case 1:
				{
				    new price = gGunCosts[1];
					if(GetMoney(playerid) < price) return SendClientMessage(playerid, COLOR_RED, "Недостаточно средств!");
					TransferMoney(playerid, -1, price);
					if(BizzInfo[i][bProduct] > 0)
					{
						BizzInfo[i][bMoney] += price;
						BizzPay[i] += price;
						BizzInfo[i][bProduct] -= price / 3;
						MysqlUpdateBizzInt(i, "money", BizzInfo[i][bMoney]);
						MysqlUpdateBizzInt(i, "product", BizzInfo[i][bProduct]);
					}
					GivePlayerWeaponAC(playerid, 5, 1);
					format(string, sizeof(string), "Вы купили бейсбольную биту с за %d рублей", price);
					SendClientMessage(playerid, COLOR_BLUE, string);
					format(string, sizeof(string), "%s купил бейсбольную биту", GetName(playerid));
					SendLog("AmmoLog", string);
					GunShopList(playerid);
				}
			case 2:
				{
				    ShowPlayerDialog(playerid, 1375, 1, "{FFCC00}Покупка оружия", "{FFFFFF}Укажите количество патрон для дробовика\nЦена одного патрона - 70 рублей", "Купить", "Назад");
				}
            case 3:
				{
				    ShowPlayerDialog(playerid, 1381, 1, "{FFCC00}Покупка оружия", "{FFFFFF}Укажите количество патрон для пистолета 9mm\nЦена одного патрона - 30 рублей", "Купить", "Назад");
				}
			case 4:
				{
				    ShowPlayerDialog(playerid, 1376, 1, "{FFCC00}Покупка оружия", "{FFFFFF}Укажите количество патрон для пустынного орла\nЦена одного патрона - 60 рублей", "Купить", "Назад");
				}
			case 5:
				{
				    ShowPlayerDialog(playerid, 1377, 1, "{FFCC00}Покупка оружия", "{FFFFFF}Укажите количество патрон для полуавтомата MP5\nЦена одного патрона - 40 рублей", "Купить", "Назад");
				}
            case 6:
				{
				    ShowPlayerDialog(playerid, 1382, 1, "{FFCC00}Покупка оружия", "{FFFFFF}Укажите количество патрон для пистолета-пулемёта Микро-Узи\nЦена одного патрона - 40 рублей", "Купить", "Назад");
				}
			case 7:
				{
				    ShowPlayerDialog(playerid, 1378, 1, "{FFCC00}Покупка оружия", "{FFFFFF}Укажите количество патрон для автомата AK47\nЦена одного патрона - 60 рублей", "Купить", "Назад");
				}
			case 8:
				{
				    ShowPlayerDialog(playerid, 1379, 1, "{FFCC00}Покупка оружия", "{FFFFFF}Укажите количество патрон для винтовки\nЦена одного патрона - 70 рублей", "Купить", "Назад");
				}
			case 9:
				{
				    ShowPlayerDialog(playerid, 1380, 1, "{FFCC00}Покупка оружия", "{FFFFFF}Укажите количество патрон для автомата M4A1\nЦена одного патрона - 60 рублей", "Купить", "Назад");
				}
			}
		}
	case 1375:
	    {
	        new i = GetPVarInt(playerid, "PlayerBizz");
			if(!response) return GunShopList(playerid);
			new ammo = strval(inputtext);
			new price = ammo * gGunCosts[2];
			if(ammo < 1 || ammo > 100)
			{
			    SendClientMessage(playerid, COLOR_RED, "Укажите значение патронов от 1 до 100");
    			ShowPlayerDialog(playerid, 1375, 1, "{FFCC00}Покупка оружия", "{FFFFFF}Укажите количество патрон для дробовика\nЦена одного патрона - 70 рублей", "Купить", "Назад");
				return 1;
			}
	        if(GetMoney(playerid) < price)
			{
				SendClientMessage(playerid, COLOR_RED, "Недостаточно средств!");
				ShowPlayerDialog(playerid, 1375, 1, "{FFCC00}Покупка оружия", "{FFFFFF}Укажите количество патрон для дробовика\nЦена одного патрона - 70 рублей", "Купить", "Назад");
				return 1;
			}
			TransferMoney(playerid, -1, price);
			if(BizzInfo[i][bProduct] > 0)
			{
				BizzInfo[i][bMoney] += price;
				BizzPay[i] += price;
				BizzInfo[i][bProduct] -= price / 3;
				MysqlUpdateBizzInt(i, "money", BizzInfo[i][bMoney]);
				MysqlUpdateBizzInt(i, "product", BizzInfo[i][bProduct]);
			}
			GivePlayerWeaponAC(playerid, 25, ammo);
			new string[256];
			format(string, sizeof(string), "Вы купили дробовик с %d патронами за %d рублей", ammo, price);
			SendClientMessage(playerid, COLOR_BLUE, string);
			format(string, sizeof(string), "%s купил дробовик (+%d патр.)", GetName(playerid), ammo);
			SendLog("AmmoLog", string);
			GunShopList(playerid);
			return 1;
	    }
	case 1381:
	    {
	        new i = GetPVarInt(playerid, "PlayerBizz");
			if(!response) return GunShopList(playerid);
			new ammo = strval(inputtext);
			new price = ammo * gGunCosts[3];
			if(ammo < 1 || ammo > 100)
			{
			    SendClientMessage(playerid, COLOR_RED, "Укажите значение патронов от 1 до 100");
    			ShowPlayerDialog(playerid, 1381, 1, "{FFCC00}Покупка оружия", "{FFFFFF}Укажите количество патрон для пистолета 9mm\nЦена одного патрона - 30 рублей", "Купить", "Назад");
				return 1;
			}
	        if(GetMoney(playerid) < price)
			{
				SendClientMessage(playerid, COLOR_RED, "Недостаточно средств!");
				ShowPlayerDialog(playerid, 1381, 1, "{FFCC00}Покупка оружия", "{FFFFFF}Укажите количество патрон для пистолета 9mm\nЦена одного патрона - 30 рублей", "Купить", "Назад");
				return 1;
			}
			TransferMoney(playerid, -1, price);
			if(BizzInfo[i][bProduct] > 0)
			{
				BizzInfo[i][bMoney] += price;
				BizzPay[i] += price;
				BizzInfo[i][bProduct] -= price / 3;
				MysqlUpdateBizzInt(i, "money", BizzInfo[i][bMoney]);
				MysqlUpdateBizzInt(i, "product", BizzInfo[i][bProduct]);
			}
			GivePlayerWeaponAC(playerid, 22, ammo);
			new string[256];
			format(string, sizeof(string), "Вы купили пистолет 9mm с %d патронами за %d рублей", ammo, price);
			SendClientMessage(playerid, COLOR_BLUE, string);
			format(string, sizeof(string), "%s купил пистолет 9mm (+%d патр.)", GetName(playerid), ammo);
			SendLog("AmmoLog", string);
			GunShopList(playerid);
			return 1;
	    }
	case 1376:
	    {
	        new i = GetPVarInt(playerid, "PlayerBizz");
			if(!response) return GunShopList(playerid);
			new ammo = strval(inputtext);
			new price = ammo * gGunCosts[4];
			if(ammo < 1 || ammo > 100)
			{
			    SendClientMessage(playerid, COLOR_RED, "Укажите значение патронов от 1 до 100");
    			ShowPlayerDialog(playerid, 1376, 1, "{FFCC00}Покупка оружия", "{FFFFFF}Укажите количество патрон для пустынного орла\nЦена одного патрона - 60 рублей", "Купить", "Назад");
				return 1;
			}
	        if(GetMoney(playerid) < price)
			{
				SendClientMessage(playerid, COLOR_RED, "Недостаточно средств!");
				ShowPlayerDialog(playerid, 1376, 1, "{FFCC00}Покупка оружия", "{FFFFFF}Укажите количество патрон для пустынного орла\nЦена одного патрона - 60 рублей", "Купить", "Назад");
				return 1;
			}
			TransferMoney(playerid, -1, price);
			if(BizzInfo[i][bProduct] > 0)
			{
				BizzInfo[i][bMoney] += price;
				BizzPay[i] += price;
				BizzInfo[i][bProduct] -= price / 3;
				MysqlUpdateBizzInt(i, "money", BizzInfo[i][bMoney]);
				MysqlUpdateBizzInt(i, "product", BizzInfo[i][bProduct]);
			}
			GivePlayerWeaponAC(playerid, 24, ammo);
			new string[256];
			format(string, sizeof(string), "Вы купили пустынный орел с %d патронами за %d рублей", ammo, price);
			SendClientMessage(playerid, COLOR_GRAD1, string);
			format(string, sizeof(string), "%s купил пустынный орёл (+%d патр.)", GetName(playerid), ammo);
			SendLog("AmmoLog", string);
			GunShopList(playerid);
			return 1;
	    }
    case 1377:
	    {
	        new i = GetPVarInt(playerid, "PlayerBizz");
			if(!response) return GunShopList(playerid);
			new ammo = strval(inputtext);
			new price = ammo * gGunCosts[5];
			if(ammo < 1 || ammo > 200)
			{
			    SendClientMessage(playerid, COLOR_RED, "Укажите значение патронов от 1 до 200");
    			ShowPlayerDialog(playerid, 1377, 1, "{FFCC00}Покупка оружия", "{FFFFFF}Укажите количество патрон для полуавтомата MP5\nЦена одного патрона - 30 рублей", "Купить", "Назад");
				return 1;
			}
	        if(GetMoney(playerid) < price)
			{
				SendClientMessage(playerid, COLOR_RED, "Недостаточно средств!");
				ShowPlayerDialog(playerid, 1377, 1, "{FFCC00}Покупка оружия", "{FFFFFF}Укажите количество патрон для полуавтомата MP5\nЦена одного патрона - 30 рублей", "Купить", "Назад");
				return 1;
			}
			TransferMoney(playerid, -1, price);
			if(BizzInfo[i][bProduct] > 0)
			{
				BizzInfo[i][bMoney] += price;
				BizzPay[i] += price;
				BizzInfo[i][bProduct] -= price / 3;
				MysqlUpdateBizzInt(i, "money", BizzInfo[i][bMoney]);
				MysqlUpdateBizzInt(i, "product", BizzInfo[i][bProduct]);
			}
			GivePlayerWeaponAC(playerid, 29, ammo);
			new string[256];
			format(string, sizeof(string), "Вы купили полуавтомат МР5 с %d патронами за %d рублей", ammo, price);
			SendClientMessage(playerid, COLOR_GRAD1, string);
			format(string, sizeof(string), "%s купил полуавтомат МР5 (+%d патр.)", GetName(playerid), ammo);
			SendLog("AmmoLog", string);
			GunShopList(playerid);
			return 1;
	    }
    case 1382:
	    {
	        new i = GetPVarInt(playerid, "PlayerBizz");
			if(!response) return GunShopList(playerid);
			new ammo = strval(inputtext);
			new price = ammo * gGunCosts[6];
			if(ammo < 1 || ammo > 100)
			{
			    SendClientMessage(playerid, COLOR_RED, "Укажите значение патронов от 1 до 100");
    			ShowPlayerDialog(playerid, 1382, 1, "{FFCC00}Покупка оружия", "{FFFFFF}Укажите количество патрон для пистолета-пулемёта Микро-Узи\nЦена одного патрона - 40 рублей", "Купить", "Назад");
				return 1;
			}
	        if(GetMoney(playerid) < price)
			{
				SendClientMessage(playerid, COLOR_RED, "Недостаточно средств!");
				ShowPlayerDialog(playerid, 1382, 1, "{FFCC00}Покупка оружия", "{FFFFFF}Укажите количество патрон для пистолета-пулемёта Микро-Узи\nЦена одного патрона - 40 рублей", "Купить", "Назад");
				return 1;
			}
			TransferMoney(playerid, -1, price);
			if(BizzInfo[i][bProduct] > 0)
			{
				BizzInfo[i][bMoney] += price;
				BizzPay[i] += price;
				BizzInfo[i][bProduct] -= price / 3;
				MysqlUpdateBizzInt(i, "money", BizzInfo[i][bMoney]);
				MysqlUpdateBizzInt(i, "product", BizzInfo[i][bProduct]);
			}
			GivePlayerWeaponAC(playerid, 28, ammo);
			new string[256];
			format(string, sizeof(string), "Вы купили пистолет-пулемёт Микро-Узи с %d патронами за %d рублей", ammo, price);
			SendClientMessage(playerid, COLOR_BLUE, string);
			format(string, sizeof(string), "%s купил пистолет-пулемёт Микро-Узи (+%d патр.)", GetName(playerid), ammo);
			SendLog("AmmoLog", string);
			GunShopList(playerid);
			return 1;
	    }
    case 1378:
	    {
	        new i = GetPVarInt(playerid, "PlayerBizz");
			if(!response) return GunShopList(playerid);
			new ammo = strval(inputtext);
			new price = ammo * gGunCosts[7];
			if(ammo < 1 || ammo > 100)
			{
			    SendClientMessage(playerid, COLOR_RED, "Укажите значение патронов от 1 до 100");
    			ShowPlayerDialog(playerid, 1378, 1, "{FFCC00}Покупка оружия", "{FFFFFF}Укажите количество патрон для автомата AK47\nЦена одного патрона - 60 рублей", "Купить", "Назад");
				return 1;
			}
	        if(GetMoney(playerid) < price)
			{
				SendClientMessage(playerid, COLOR_RED, "Недостаточно средств!");
				ShowPlayerDialog(playerid, 1378, 1, "{FFCC00}Покупка оружия", "{FFFFFF}Укажите количество патрон для автомата AK47\nЦена одного патрона - 60 рублей", "Купить", "Назад");
				return 1;
			}
			TransferMoney(playerid, -1, price);
			if(BizzInfo[i][bProduct] > 0)
			{
				BizzInfo[i][bMoney] += price;
				BizzPay[i] += price;
				BizzInfo[i][bProduct] -= price / 3;
				MysqlUpdateBizzInt(i, "money", BizzInfo[i][bMoney]);
				MysqlUpdateBizzInt(i, "product", BizzInfo[i][bProduct]);
			}
			GivePlayerWeaponAC(playerid, 30, ammo);
			new string[256];
			format(string, sizeof(string), "Вы купили автомат АК47 с %d патронами за %d рублей", ammo, price);
			SendClientMessage(playerid, COLOR_GRAD1, string);
			format(string, sizeof(string), "%s купил автомат АК47 (+%d патр.)", GetName(playerid), ammo);
			SendLog("AmmoLog", string);
			GunShopList(playerid);
			return 1;
	    }
    case 1379:
	    {
	        new i = GetPVarInt(playerid, "PlayerBizz");
			if(!response) return GunShopList(playerid);
			new ammo = strval(inputtext);
			new price = ammo * gGunCosts[8];
			if(ammo < 1 || ammo > 100)
			{
			    SendClientMessage(playerid, COLOR_RED, "Укажите значение патронов от 1 до 100");
    			ShowPlayerDialog(playerid, 1379, 1, "{FFCC00}Покупка оружия", "{FFFFFF}Укажите количество патрон для винтовки\nЦена одного патрона - 70 рублей", "Купить", "Назад");
				return 1;
			}
	        if(GetMoney(playerid) < price)
			{
				SendClientMessage(playerid, COLOR_RED, "Недостаточно средств!");
				ShowPlayerDialog(playerid, 1379, 1, "{FFCC00}Покупка оружия", "{FFFFFF}Укажите количество патрон для винтовки\nЦена одного патрона - 70 рублей", "Купить", "Назад");
				return 1;
			}
			TransferMoney(playerid, -1, price);
			if(BizzInfo[i][bProduct] > 0)
			{
				BizzInfo[i][bMoney] += price;
				BizzPay[i] += price;
				BizzInfo[i][bProduct] -= price / 3;
				MysqlUpdateBizzInt(i, "money", BizzInfo[i][bMoney]);
				MysqlUpdateBizzInt(i, "product", BizzInfo[i][bProduct]);
			}
			GivePlayerWeaponAC(playerid, 33, ammo);
			new string[256];
			format(string, sizeof(string), "Вы купили винтовку с %d патронами за %d рублей", ammo, price);
			SendClientMessage(playerid, COLOR_GRAD1, string);
			format(string, sizeof(string), "%s купил винтовку (+%d патр.)", GetName(playerid), ammo);
			SendLog("AmmoLog", string);
			GunShopList(playerid);
			return 1;
	    }
    case 1380:
	    {
	        new i = GetPVarInt(playerid, "PlayerBizz");
			if(!response) return GunShopList(playerid);
			new ammo = strval(inputtext);
			new price = ammo * gGunCosts[9];
			if(ammo < 1 || ammo > 100)
			{
			    SendClientMessage(playerid, COLOR_RED, "Укажите значение патронов от 1 до 100");
    			ShowPlayerDialog(playerid, 1380, 1, "{FFCC00}Покупка оружия", "{FFFFFF}Укажите количество патрон для автомата M4A1\nЦена одного патрона - 60 рублей", "Купить", "Назад");
				return 1;
			}
	        if(GetMoney(playerid) < price)
			{
				SendClientMessage(playerid, COLOR_RED, "Недостаточно средств!");
				ShowPlayerDialog(playerid, 1380, 1, "{FFCC00}Покупка оружия", "{FFFFFF}Укажите количество патрон для автомата M4A1\nЦена одного патрона - 60 рублей", "Купить", "Назад");
				return 1;
			}
			TransferMoney(playerid, -1, price);
			if(BizzInfo[i][bProduct] > 0)
			{
				BizzInfo[i][bMoney] += price;
				BizzPay[i] += price;
				BizzInfo[i][bProduct] -= price / 3;
				MysqlUpdateBizzInt(i, "money", BizzInfo[i][bMoney]);
				MysqlUpdateBizzInt(i, "product", BizzInfo[i][bProduct]);
			}
			GivePlayerWeaponAC(playerid, 31, ammo);
			new string[256];
			format(string, sizeof(string), "Вы купили автомат M4A1 с %d патронами за %d рублей", ammo, price);
			SendClientMessage(playerid, COLOR_GRAD1, string);
			format(string, sizeof(string), "%s купил автомат M4A1 (+%d патр.)", GetName(playerid), ammo);
			SendLog("AmmoLog", string);
			GunShopList(playerid);
			return 1;
	    }
	case D_HEAL+13:
		{
			if(!response) return 1;
			new i = GetPVarInt(playerid, "PlayerBizz");
			new price = gShopCosts[listitem];
			if(GetMoney(playerid) < price) return SendClientMessage(playerid, COLOR_RED, "Недостаточно средств!");
			if(listitem > 1)
			{
			    switch(listitem)
			    {
				case 2:
					{
						SendClientMessage(playerid, COLOR_BLUE, "Вы купили фотоаппарат");
						GivePlayerWeaponAC(playerid, 43, 30);
					}
				case 3:
					{
						if(GetPlayerHouse(playerid) == 0) return SendClientMessage(playerid, COLOR_RED, "Вы не владеете домом!");
						new p = GetPVarInt(playerid, "PlayerHouse");
						HouseInfo[p][hHeal] += 10;
						MysqlUpdateHouseInt(p, "hHeal", HouseInfo[p][hHeal]);
						SendClientMessage(playerid, COLOR_BLUE, "Вы купили 10 аптечек для вашего дома");
					}
				case 4:
					{
	                    if(HaveWeapon(playerid, 14)) return SendClientMessage(playerid, COLOR_RED, "У Вас уже есть цветы!");
						SendClientMessage(playerid, COLOR_BLUE, "Вы купили цветы");
						GivePlayerWeaponAC(playerid, 14, 1);
					}
				case 5:
					{
					    if(PI[playerid][pWatch] == 1) return SendClientMessage(playerid, COLOR_RED, "У Вас уже есть рюкзак!");
						SendClientMessage(playerid, COLOR_BLUE, "Вы купили рюкзак");
						SetPlayerAttachedObject(playerid, 1, 3026, 1, -0.176000, -0.066000, 0.0000,0.0000, 0.0000, 0.0000, 1.07600, 1.079999, 1.029000);
						PI[playerid][pWatch] = 1;
					}
				case 6:
					{
					    if(PI[playerid][pMask] >= 3) return SendClientMessage(playerid, COLOR_RED, "В рюкзак вмещается до 3 масок!");
						PI[playerid][pMask]++;
						SendClientMessage(playerid, COLOR_BLUE, "Вы купили маску");
					}
				case 7:
					{
					    if(PI[playerid][pCiggare] >= 3) return SendClientMessage(playerid, COLOR_RED, "В рюкзак вмещается до 3 сигарет!");
						PI[playerid][pCiggare]++;
						SendMes(playerid, COLOR_BLUE, "Вы купили 1 сигарету, теперь У Вас %d сигарет(-ы)",PI[playerid][pCiggare]);
					}
				case 8:
					{
					    if(PI[playerid][pSprunk] >= 3) return SendClientMessage(playerid, COLOR_RED, "В рюкзак вмещается до 3 банок!");
						PI[playerid][pSprunk]++;
						SendMes(playerid, COLOR_BLUE, "Вы купили 1 банку газировки, теперь У Вас %d банки(-ок)",PI[playerid][pSprunk]);
					}
				case 9:
					{
					    if(PI[playerid][pRepairCar] == 1) return SendClientMessage(playerid, COLOR_RED, "У Вас уже имеется плеер!");
						PI[playerid][pRepairCar] = 1;
						SendClientMessage(playerid, COLOR_LIME, "Вы купили набор инструментов, используйте{FFCC00} /repaircar{99CC00} чтобы починить транспорт");
					}
			    }
			    TransferMoney(playerid, -1, price);
			    if(BizzInfo[i][bProduct] > 0)
			    {
					BizzInfo[i][bMoney] += price;
					BizzPay[i] += price;
					BizzInfo[i][bProduct] -= gShopProd[listitem];
				    MysqlUpdateBizzInt(i, "money", BizzInfo[i][bMoney]);
					MysqlUpdateBizzInt(i, "product", BizzInfo[i][bProduct]);
				}
			    MagazineList(playerid);
			}
			else
			{
			    switch(listitem)
			    {
			        case 0:
			        {
						if(PI[playerid][pPhoneNumber]) return SendClientMessage(playerid, COLOR_RED, "У Вас уже есть мобильный телефон!");
						new telephone = 1000000 + random(8999999);
						new Query[256];
						format(Query, sizeof(Query), "SELECT `name` FROM `accounts` WHERE `phonenumber`='%i';", telephone);
						mysql_tquery(dbHandle, Query, "MysqlCheckPhoneNumber", "dd", playerid, telephone);
			        }
			        case 1:
			        {
			            if(PI[playerid][pPhoneNumber] == 0) return SendClientMessage(playerid, COLOR_RED, "У Вас нет мобильного телефона!");
						ShowPlayerDialog(playerid, D_BUYSIM, DIALOG_STYLE_INPUT, "{FFCC00}Изменение номера", "{FFFFFF}Введите новый номер в поле ниже\n\n{FFCC00}Примечания:\n\
						{FFCC00}- Номер должен быть шестизначным,\nнапример: 123456\n- Номер не должен начинаться с 0", "Далее", "Отмена");
			        }
			    }
			}
		}
		case D_HEAL+14:
		{
			if(!response) return 1;
			new i = GetPVarInt(playerid, "PlayerBizz"), till = BizzInfo[i][bTill], interiorid = GetPlayerInterior(playerid);
			if(PI[playerid][pHunger] >= 100) return SendClientMessage(playerid, COLOR_RED, "Вы не голодны!");
		    new price = gEateryCosts[listitem];
			if(GetMoney(playerid) < till * price) return SendClientMessage(playerid, COLOR_RED, "Недостаточно средств!");
			switch(listitem)
			{
			case 0:
				{
				    if(PI[playerid][pSex] == 1)
				    {
						if(interiorid == 5) MeAction(playerid, "съел маленькую пиццу");
						else if(interiorid == 10) MeAction(playerid, "съел бургер");
						else if(interiorid == 9) MeAction(playerid, "съел кусочки курицы");
					}
					else
					{
					    if(interiorid == 5) MeAction(playerid, "съела маленькую пиццу");
						else if(interiorid == 10) MeAction(playerid, "съела бургер");
						else if(interiorid == 9) MeAction(playerid, "съела кусочки курицы");
					}
					if(PI[playerid][pHunger]+10 > 100)
					{
						SetHunger(playerid, 100);
						SendClientMessage(playerid, COLOR_WHITE, "Вы полностью наелись!");
					}
					else GiveHunger(playerid, 10);
				}
			case 1:
				{
				    if(PI[playerid][pSex] == 1)
				    {
						if(interiorid == 5) MeAction(playerid, "съел среднюю пиццу");
						else if(interiorid == 10) MeAction(playerid, "съел большой бургер");
						else if(interiorid == 9) MeAction(playerid, "съел кусок куринной ножки");
					}
					else
					{
					    if(interiorid == 5) MeAction(playerid, "съела среднюю пиццу");
						else if(interiorid == 10) MeAction(playerid, "съела большой бургер");
						else if(interiorid == 9) MeAction(playerid, "съела кусок куринной ножки");
					}
					if(PI[playerid][pHunger]+20 > 100)
					{
						SetHunger(playerid, 100);
						SendClientMessage(playerid, COLOR_WHITE, "Вы полностью наелись!");
					}
					else GiveHunger(playerid, 20);
				}
			case 2:
				{
				    if(PI[playerid][pSex] == 1)
				    {
						if(interiorid == 5) MeAction(playerid, "съел большую пиццу");
						else if(interiorid == 10) MeAction(playerid, "съел гамбургер");
						else if(interiorid == 9) MeAction(playerid, "съел куринную ножку");
					}
					else
					{
					    if(interiorid == 5) MeAction(playerid, "съела большую пиццу");
						else if(interiorid == 10) MeAction(playerid, "съела гамбургер");
						else if(interiorid == 9) MeAction(playerid, "съела куринную ножку");
					}
					if(PI[playerid][pHunger]+40 > 100)
					{
						SetHunger(playerid, 100);
						SendClientMessage(playerid, COLOR_WHITE, "Вы полностью наелись!");
					}
					else GiveHunger(playerid, 40);
				}
			case 3:
				{
				    if(PI[playerid][pSex] == 1)
				    {
						if(interiorid == 5) MeAction(playerid, "съел пиццу в коробке");
						else if(interiorid == 10) MeAction(playerid, "съел гамбургер в упаковке");
						else if(interiorid == 9) MeAction(playerid, "съел курицу в коробке");
					}
					else
					{
					    if(interiorid == 5) MeAction(playerid, "съела пиццу в коробке");
						else if(interiorid == 10) MeAction(playerid, "съела гамбургер в упаковке");
						else if(interiorid == 9) MeAction(playerid, "съела курицу в коробке");
					}
					if(PI[playerid][pHunger]+20 > 100)
					{
						SetHunger(playerid, 100);
						SendClientMessage(playerid, COLOR_WHITE, "Вы полностью наелись!");
					}
					else GiveHunger(playerid, 20);
				}
			}
			TransferMoney(playerid, -1, till * price);
			if(BizzInfo[i][bProduct] > 0)
			{
				BizzInfo[i][bMoney] += till * price;
				BizzPay[i] += till * price;
				BizzInfo[i][bProduct] -= gEateryProd[listitem];
				MysqlUpdateBizzInt(i, "money", BizzInfo[i][bMoney]);
				MysqlUpdateBizzInt(i, "product", BizzInfo[i][bProduct]);
			}
			PlayerPlaySound(playerid, 32200, 0.0, 0.0, 0.0);
			ApplyAnimation(playerid, "FOOD", "EAT_Burger", 4.0, 0, 0, 0, 0, 0,1);
			EatList(playerid, i);
		}
	case D_HEAL+15:
		{
			if(!response) return 1;
			new i = GetPVarInt(playerid, "PlayerBizz"), till = BizzInfo[i][bTill];
			if(PI[playerid][pHunger] >= 100) return SendClientMessage(playerid, COLOR_RED, "Вы не хотите пить!");
			new price = gBarCost[listitem];
			if(GetMoney(playerid) < till * price) return SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно денег");
			switch(listitem)
			{
			case 0:
				{
					if(PI[playerid][pSex] == 1) MeAction(playerid, "Выпил бутылочку минеральной воды");
					else MeAction(playerid, "Выпила бутылочку минеральной воды");
					if(PI[playerid][pHunger]+10 > 100)
					{
						SetHunger(playerid, 100);
						SendClientMessage(playerid, COLOR_LIME, "Вы выпили бутылочку минеральной воды и утолили жажду");
					}
					//else GiveZhazhda(playerid, 25);
					GiveHunger(playerid, 25);
				}
			case 1:
				{
					if(PI[playerid][pSex] == 1) MeAction(playerid, "Выпил бутылочку обычной газировки");
					else MeAction(playerid, "Выпила бутылочку обычной газировки");
					if(PI[playerid][pHunger]+10 > 100)
					{
						SetHunger(playerid, 100);
						SendClientMessage(playerid, COLOR_LIME, "Вы выпили бутылочку обычной газировки и утолили жажду");
					}
					//else GiveZhazhda(playerid, 25);
					GiveHunger(playerid, 25);
				}
			case 2:
				{
					if(PI[playerid][pSex] == 1) MeAction(playerid, "Выпил бутылочку кока-колы");
					else MeAction(playerid, "Выпила бутылочку кока-колы");
					if(PI[playerid][pHunger]+10 > 100)
					{
						SetHunger(playerid, 100);
						SendClientMessage(playerid, COLOR_LIME, "Вы выпили бутылочку кока-колы и утолили жажду");
					}
					//else GiveZhazhda(playerid, 25);
					GiveHunger(playerid, 25);
				}
			case 3:
				{
					if(PI[playerid][pSex] == 1) MeAction(playerid, "Выпил бутылочку пива");
					else MeAction(playerid, "Выпила бутылочку пиво");
					if(PI[playerid][pHunger]+20 > 100)
					{
						SetHunger(playerid, 100);
						SendClientMessage(playerid, COLOR_LIME, "Вы выпили бутылочку пиво и утолили жажду");
						SendClientMessage(playerid, COLOR_LIME, "Вам нельзя садиться за руль автомобиля, т. к. Вы в состоянии алкогольного опьянения");
					}
					//else GiveZhazhda(playerid, 25);
					GiveHunger(playerid, 25);
					if(GetPlayerDrunkLevel(playerid) < 20000) SetPlayerDrunkLevel(playerid,GetPlayerDrunkLevel(playerid)+2000);
				}
			case 4:
				{
					if(PI[playerid][pSex] == 1) MeAction(playerid, "Выпил бутылочку вина");
					else MeAction(playerid, "Выпила бутылочку вина");
					if(PI[playerid][pHunger]+30 > 100)
					{
						SetHunger(playerid, 100);
						SendClientMessage(playerid, COLOR_LIME, "Вы выпили бутылочку вина и утолили жажду");
					}
					//else GiveZhazhda(playerid, 25);
					GiveHunger(playerid, 25);
					if(GetPlayerDrunkLevel(playerid) < 20000) SetPlayerDrunkLevel(playerid,GetPlayerDrunkLevel(playerid)+5000);
				}
			case 5:
				{
					if(PI[playerid][pSex] == 1) MeAction(playerid, "Выпил бутылочку водки");
					else MeAction(playerid, "Выпила бутылочку водки");
					if(PI[playerid][pHunger]+30 > 100)
					{
						SetHunger(playerid, 100);
						SendClientMessage(playerid, COLOR_LIME, "Вы выпили бутылочку водки и утолили жажду");
					}
					//else GiveZhazhda(playerid, 25);
					GiveHunger(playerid, 25);
					if(GetPlayerDrunkLevel(playerid) < 20000) SetPlayerDrunkLevel(playerid,GetPlayerDrunkLevel(playerid)+5000);
				}
			case 6:
				{
				    if(PI[playerid][pSex] == 1) MeAction(playerid, "Выпил бутылочку виски");
				    else MeAction(playerid, "Выпила бутылочку виски");
					if(PI[playerid][pHunger]+30 > 100)
					{
						SetHunger(playerid, 100);
						SendClientMessage(playerid, COLOR_LIME, "Вы выпили бутылочку виски и утолили жажду");
					}
					//else GiveZhazhda(playerid, 25);
					GiveHunger(playerid, 25);
					if(GetPlayerDrunkLevel(playerid) < 20000) SetPlayerDrunkLevel(playerid,GetPlayerDrunkLevel(playerid)+5000);
				}
			case 7:
				{
				    if(PI[playerid][pSex] == 1) MeAction(playerid, "Выпил бутылочку абсента");
				    else MeAction(playerid, "Выпила бутылочку абсента");
					if(PI[playerid][pHunger]+30 > 100)
					{
						SetHunger(playerid, 100);
						SendClientMessage(playerid, COLOR_LIME, "Вы выпили бутылочку абсента и утолили жажду");
					}
					//else GiveZhazhda(playerid, 25);
					GiveHunger(playerid, 25);
					if(GetPlayerDrunkLevel(playerid) < 20000) SetPlayerDrunkLevel(playerid,GetPlayerDrunkLevel(playerid)+5000);
				}
			}
			TransferMoney(playerid, -1, till * price);
			if(BizzInfo[i][bProduct] > 0)
			{
				BizzInfo[i][bMoney] += till * price;
				BizzPay[i] += till * price;
				BizzInfo[i][bProduct] -= gBarProd[listitem];
				MysqlUpdateBizzInt(i, "money", BizzInfo[i][bMoney]);
				MysqlUpdateBizzInt(i, "product", BizzInfo[i][bProduct]);
			}
			ApplyAnimation(playerid, "BAR", "dnk_stndF_loop", 4.1, 0, 0, 0, 0, 0, 1);
			if(GetPlayerDrunkLevel(playerid) > 20000) SetPlayerDrunkLevel(playerid, 20000);
			BarList(playerid);
		}
		case 1457:
	    {
	        if(response)
	        {
	            new Float:X, Float:Y, Float:Z;
    			GetPlayerPos(playerid, X, Y, Z);
				if(toolsbuy[playerid] == 1)
				{
				    vehgame[playerid] = CreateVehicle(441, X,Y,Z, 0.0, 0, 0, 12000);
	                PutPlayerInVehicle(playerid, vehgame[playerid], 0);
	                SCM(playerid,COLOR_BLUE,"Вы создали вашу игрушку. Чтобы удалить её используйте команду /endtools");
				}
				if(toolsbuy[playerid] == 2)
				{
				    vehgame[playerid] = CreateVehicle(464, X,Y,Z, 0.0, 0, 0, 12000);
	                PutPlayerInVehicle(playerid, vehgame[playerid], 0);
	                SCM(playerid,COLOR_BLUE,"Вы создали вашу игрушку. Чтобы удалить её используйте команду /endtools");
				}
				if(toolsbuy[playerid] == 3)
				{
				    vehgame[playerid] = CreateVehicle(465, X,Y,Z, 0.0, 0, 0, 12000);
	                PutPlayerInVehicle(playerid, vehgame[playerid], 0);
	                SCM(playerid,COLOR_BLUE,"Вы создали вашу игрушку. Чтобы удалить её используйте команду /endtools");
				}
				if(toolsbuy[playerid] == 4)
				{
				    vehgame[playerid] = CreateVehicle(501, X,Y,Z, 0.0, 0, 0, 12000);
	                PutPlayerInVehicle(playerid, vehgame[playerid], 0);
	                SCM(playerid,COLOR_BLUE,"Вы создали вашу игрушку. Чтобы удалить её используйте команду /endtools");
				}
				if(toolsbuy[playerid] == 5)
				{
				    vehgame[playerid] = CreateVehicle(564, X,Y,Z, 0.0, 0, 0, 12000);
	                PutPlayerInVehicle(playerid, vehgame[playerid], 0);
	                SCM(playerid,COLOR_BLUE,"Вы создали вашу игрушку. Чтобы удалить её используйте команду /endtools");
				}
				if(toolsbuy[playerid] == 6)
				{
				    vehgame[playerid] = CreateVehicle(594, X,Y,Z, 0.0, 0, 0, 12000);
	                PutPlayerInVehicle(playerid, vehgame[playerid], 0);
	                SCM(playerid,COLOR_BLUE,"Вы создали вашу игрушку. Чтобы удалить её используйте команду /endtools");
				}
				Fuel[GetPlayerVehicleID(playerid)] = 100;
				toolsbuy[playerid] = 0;
	        }
	    }
	case D_HEAL+16:
		{
			if(!response) return 1;
			new i = GetPVarInt(playerid, "PlayerBizz");
			strmid(BizzInfo[i][bOwner], "None", 0, strlen("None"), MAX_PLAYER_NAME);
			SendMes(playerid, COLOR_RED, "Вы продали свой бизнес за %i рублей. Деньги с бизнеса переведены На Ваш счет",BizzInfo[i][bPrice]/2);
			PI[playerid][pBank] += BizzInfo[i][bBuyPrice];
			PI[playerid][pBank] += BizzInfo[i][bMoney];
			BizzInfo[i][bLock] = BizzInfo[i][bBuyPrice] = BizzInfo[i][bMoney] = BizzInfo[i][bLic] = BizzInfo[i][bEnter] = BizzInfo[i][bMafia] = 0;
			BizzInfo[i][bTill] = 50;
			switch(BizzInfo[i][bType])
			{
			    case 1: BizzInfo[i][bProduct] = 5000;
			    case 2: BizzInfo[i][bProduct] = 20000;
			    case 3: BizzInfo[i][bProduct] = 3000;
			    case 4: BizzInfo[i][bProduct] = 7000;
			    case 5: BizzInfo[i][bProduct] = 7000;
			    case 6: BizzInfo[i][bProduct] = 20000;
			    case 7: BizzInfo[i][bProduct] = 100000;
			    case 8: BizzInfo[i][bProduct] = 50000;
			    case 9: BizzInfo[i][bProduct] = 50000;
			}
			new totalstring[512];
			format(totalstring, sizeof(totalstring), "UPDATE `bizz` SET owner='%s', block=%d, money=%d, lic=%d, penter=%d, till=%d, buyprice=%d , product=%d, unlock_ogran=%d, unlock_banner=%d, unlock_gps=%d, unlock_music=%d WHERE id = %d",\
			BizzInfo[i][bOwner], BizzInfo[i][bLock],\
			BizzInfo[i][bMoney], BizzInfo[i][bLic],\
			BizzInfo[i][bEnter], BizzInfo[i][bTill], \
			BizzInfo[i][bBuyPrice], BizzInfo[i][bProduct], \
			BizzInfo[i][UNLOCK_OGRAN], BizzInfo[i][UNLOCK_BANNER], \
			BizzInfo[i][UNLOCK_GPS], BizzInfo[i][UNLOCK_MUSIC],i);
			mysql_tquery(dbHandle, totalstring, "", "");
			UpdateBizz(i);
		}
	case D_HEAL+17:
		{
			if(!response) return 1;
			switch(listitem)
			{
			case 0:
				{
				    if(PI[playerid][pJob]) return SendClientMessage(playerid, COLOR_RED, "Сначала увольтесь с прежней работы!");
					else if(PI[playerid][pLevel] < 1) return SendClientMessage(playerid, COLOR_RED, "Вы недостаточно долго проживаете в области");
					PI[playerid][pJob] = JOB_BUS;
					SendClientMessage(playerid, COLOR_LIME, "Вы устроились на работу водителя автобуса. {FFCC00}(Подробней - /mn)");
				}
			case 1:
				{
					if(PI[playerid][pJob]) return SendClientMessage(playerid, COLOR_RED, "Сначала увольтесь с прежней работы!");
					else if(PI[playerid][pLevel] < 2) return SendClientMessage(playerid, COLOR_RED, "Вы недостаточно долго проживаете в области");
					PI[playerid][pJob] = JOB_TAXI;
					SendClientMessage(playerid, COLOR_LIME, "Вы устроились на работу таксиста. {FFCC00}(Подробней - /mn)");
				}
			case 2:
				{
					if(PI[playerid][pJob]) return SendClientMessage(playerid, COLOR_RED, "Сначала увольтесь с прежней работы!");
					else if(PI[playerid][pLevel] < 5) return SendClientMessage(playerid, COLOR_RED, "Вы недостаточно долго проживаете в области");
					PI[playerid][pJob] = JOB_MECHANIC;
					SendClientMessage(playerid, COLOR_LIME, "Вы устроились на работу автомеханика. {FFCC00}(Подробней - /mn)");
				}
			case 3:
				{
					if(PI[playerid][pJob]) return SendClientMessage(playerid, COLOR_RED, "Сначала увольтесь с прежней работы!");
					else if(PI[playerid][pLevel] < 8) return SendClientMessage(playerid, COLOR_RED, "Вы недостаточно долго проживаете в области");
					PI[playerid][pJob] = JOB_TRUCKER;
					SendClientMessage(playerid, COLOR_LIME, "Вы устроились на работу 'Дальнобойщик'");
					SendClientMessage(playerid, COLOR_LIME, "Не знаете как работать? /help >> Работа >> Дальнобойщик");
				}
			case 4:
				{
			        if(PI[playerid][pMember]) return SendClientMessage(playerid, COLOR_RED, "Вы состоите в организации!");
					else if(!PI[playerid][pJob]) return SendClientMessage(playerid, COLOR_RED, "Вы нигде не работаете!");
					PI[playerid][pJob] = 0;
					SendClientMessage(playerid, COLOR_BLUE, "Вы уволились с работы");
			    }
			}
		}
	case D_HEAL+19:
		{
			new targetid = GetPVarInt(playerid, "PlayerMarriage");
			if(response)
			{
			    new string[128];
				format(string, sizeof(string), "%s и %s вступили в брак", GetName(targetid), GetName(playerid));
				SendClientMessageToAll(COLOR_PURPLE, string);
				strmid(PI[playerid][pWhoMarried], GetName(targetid), 0, strlen(GetName(targetid)), MAX_PLAYER_NAME);
				strmid(PI[targetid][pWhoMarried], GetName(playerid), 0, strlen(GetName(playerid)), MAX_PLAYER_NAME);
				PI[playerid][pMarried] = PI[targetid][pMarried] = 1;
				SendMes(playerid, COLOR_YELLOW, "Вы приняли предложение связать судьбу с %s", GetName(targetid));
				if(PI[playerid][pSex] == 1) SendMes(targetid, COLOR_GREEN, "%s принял предложение связать судьбу с Вами", GetName(playerid));
				else SendMes(targetid, COLOR_GREEN, "%s приняла предложение связать судьбу с Вами", GetName(playerid));
			}
			else
			{
				if(PI[playerid][pSex] == 1) SendMes(targetid, COLOR_RED, "%s отклонил предложение связать судьбу с Вами", GetName(playerid));
				else SendMes(targetid, COLOR_RED, "%s отклонила предложение связать судьбу с Вами", GetName(playerid));
			}
			DeletePVar(playerid, "PlayerMarriage");
		}
	case D_HEAL+20:
		{
			new targetid = GetPVarInt(playerid, "PlayerMarriage");
			if(response)
			{
				strmid(PI[playerid][pWhoMarried], "None", 0, strlen("None"), MAX_PLAYER_NAME);
				strmid(PI[targetid][pWhoMarried], "None", 0, strlen("None"), MAX_PLAYER_NAME);
				PI[playerid][pMarried] = PI[targetid][pMarried] = 0;
				SendMes(playerid, COLOR_YELLOW, "Вы приняли предложение развестись %s", GetName(targetid));
				if(PI[playerid][pSex] == 1) SendMes(targetid, COLOR_GREEN, "%s принял предложение развестись с Вами", GetName(playerid));
				else SendMes(targetid, COLOR_GREEN, "%s приняла предложение развестись с Вами", GetName(playerid));
			}
			else
			{
				if(PI[playerid][pSex] == 1) SendMes(targetid, COLOR_RED, "%s отклонил предложение развестись с Вами", GetName(playerid));
				else SendMes(targetid, COLOR_RED, "%s отклонила предложение развестись с Вами", GetName(playerid));
			}
			DeletePVar(playerid, "PlayerMarriage");
		}
	case D_HEAL+21:
		{
			if(!response) return 1;
			new price, string[128];
			new b = GetPVarInt(playerid, "PlayerBizz");
			if(sscanf(inputtext, "i", price))
			{
				format(string, sizeof(string), "{FFFFFF}Введите сумму пополнения\nТекущий счет бизнеса: %d рублей", BizzInfo[b][bMoney]);
				return ShowPlayerDialog(playerid, D_HEAL+21, 1, "{FFCC00}Пополнение счета бизнеса", string, "Принять", "Назад");
			}
			if(price < 1)
			{
				format(string, sizeof(string), "{FFFFFF}Введите сумму пополнения\nТекущий счет бизнеса: %d рублей", BizzInfo[b][bMoney]);
				return ShowPlayerDialog(playerid, D_HEAL+21, 1, "{FFCC00}Пополнение счета бизнеса", string, "Принять", "Назад");
			}
			if(PI[playerid][pBank] < price)
			{
				SendClientMessage(playerid, COLOR_RED, "На Вашем счету в банке недостаточно денег!");
				format(string, sizeof(string), "{FFFFFF}Введите сумму пополнения\nТекущий счет бизнеса: %d рублей", BizzInfo[b][bMoney]);
				return ShowPlayerDialog(playerid, D_HEAL+21, 1, "{FFCC00}Пополнение счета бизнеса", string, "Принять", "Назад");
			}
			PI[playerid][pBank] -= price;
			BizzInfo[b][bMoney] += price;
			MysqlUpdateBizzInt(b, "money", BizzInfo[b][bMoney]);
			SendMes(playerid, TEAM_BLUE_COLOR, "Вы положили на счет бизнеса: %i рублей. На счете бизнеса: %i рублей", price, BizzInfo[b][bMoney]);
		}
 	case D_HEAL+213:
		{
			if(!response) return 1;
			new price, string[128];
			new b = GetPVarInt(playerid, "PlayerBizz");
			if(sscanf(inputtext, "i", price))
			{
				format(string, sizeof(string), "{FFFFFF}Введите сумму вывода денег с бизнеса\nТекущий счет бизнеса: %d рублей", BizzInfo[b][bMoney]);
				return ShowPlayerDialog(playerid, D_HEAL+213, 1, "{FFCC00}Вывод счета с бизнеса", string, "Принять", "Назад");
			}
			if(price < 1)
			{
				format(string, sizeof(string), "{FFFFFF}Введите сумму вывода денег с бизнеса\nТекущий счет бизнеса: %d рублей", BizzInfo[b][bMoney]);
				return ShowPlayerDialog(playerid, D_HEAL+213, 1, "{FFCC00}Вывод счета с бизнеса", string, "Принять", "Назад");
			}
			if(BizzInfo[b][bMoney] < price)
			{
				SendClientMessage(playerid, COLOR_RED, "На Вашем счету в бизнесе недостаточно денег!");
				format(string, sizeof(string), "{FFFFFF}Введите сумму вывода денег с бизнеса\nТекущий счет бизнеса: %d рублей", BizzInfo[b][bMoney]);
				return ShowPlayerDialog(playerid, D_HEAL+213, 1, "{FFCC00}Вывод счета с бизнеса", string, "Принять", "Назад");
			}
			BizzInfo[b][bMoney] -= price;
			TransferMoney(-1, playerid, price);
			MysqlUpdateBizzInt(b, "money", BizzInfo[b][bMoney]);
			SendMes(playerid, COLOR_WHITE, "Вы забрали {FFCC00}%i рублей {ffffff}прибыли от своего бизнеса", price);
		}
	case D_ATM+1:
		{
			if(!response) return ATMList(playerid);
			new price, string[150];
			if(sscanf(inputtext, "i", price))
			{
				format(string, sizeof(string), "{FFFFFF}Укажите сумму:");
				return ShowPlayerDialog(playerid, D_ATM+1, 1, "{FFCC00}Пополнение моб.счета", string, "Пополнить", "Отмена");
			}
			if(price < 1)
			{
				format(string, sizeof(string), "{FFFFFF}Укажите сумму:");
				return ShowPlayerDialog(playerid, D_ATM+1, 1, "{FFCC00}Пополнение моб.счета", string, "Пополнить", "Отмена");
			}
			if(GetMoney(playerid) < price)
			{
			    SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно денег!");
				format(string, sizeof(string), "{FFFFFF}Укажите сумму:");
				return ShowPlayerDialog(playerid, D_ATM+1, 1, "{FFCC00}Пополнение моб.счета", string, "Пополнить", "Отмена");
			}
			if(PI[playerid][pPhoneBalance] + price > 15000) return SendClientMessage(playerid, COLOR_RED, "Нельзя положить на баланс телефона более 15000 рублей");
			PI[playerid][pPhoneBalance] += price;
			TransferMoney(playerid, -1, price);
			SendMes(playerid, COLOR_BLUE, "Вы пополнили мобильный телефон на %i рублей.", price);
			ATMList(playerid);
			return 1;
		}
	case D_HEAL+26:
		{
			if(!response) return 1;
			new idx = GetPVarInt(playerid, "PlayerBizz");
			if(GetMoney(playerid) < BizzInfo[idx][bEnter]) return SendClientMessage(playerid, COLOR_RED, "Недостаточно средств для входа!");
			SetTimerEx("PickupBack",3000,0,"i",playerid);
		    pickupentered[playerid] = 1;
		        
			TransferMoney(playerid, -1, BizzInfo[idx][bEnter]);
			BizzInfo[idx][bMoney] += BizzInfo[idx][bEnter];
			BizzPay[idx] += BizzInfo[idx][bEnter];
			MysqlUpdateBizzInt(idx, "money", BizzInfo[idx][bMoney]);
			FreezePlayer(playerid, 2000);
			SetPlayerPos(playerid,BizzInfo[idx][bExitx], BizzInfo[idx][bExity], BizzInfo[idx][bExitz]);
			SetPlayerInterior(playerid,BizzInfo[idx][bInt]);
			SetPlayerVirtualWorld(playerid,BizzInfo[idx][bVirtual]);
			SetCameraBehindPlayer(playerid);
			return 1;
		}
	case D_LEAVE:
		{
		    if(!response) return 1;
		    new str[89];
		    format(str, sizeof(str), "[R] %s покинул организацию по собственному желанию (/leave)", GetName(playerid));
			SendFMes(PI[playerid][pMember], COLOR_RED, str);
	        LeaveFractionPlayer(playerid);
	        return 1;
		}
	case D_BUYSIM:
	    {
	        if(!response) return 1;
	        if(!isNumeric(inputtext) || strlen(inputtext) != 6 || inputtext[0] == '0')
 			{
	            SendClientMessage(playerid, COLOR_RED, "Номер должен состоять из 6 цифр. Первая цифра не должны быть \"ноль\"");
				ShowPlayerDialog(playerid, D_BUYSIM, DIALOG_STYLE_INPUT, "{FFCC00}Изменение номера", "{FFFFFF}Введите новый номер в поле ниже\n\n{FFCC00}Примечания:\n\
				{FFCC00}- Номер должен быть шестизначным,\nнапример: 123456\n- Номер не должен начинаться с 0", "Далее", "Отмена");
				return 1;
	        }
			foreach(new i: Player)
			{
			    if(PI[i][pPhoneNumber] == strval(inputtext)) SendClientMessage(playerid, COLOR_RED, "Такой номер уже используется");
				break;
			}
	        new str[60];
	        format(str, sizeof(str), "SELECT * FROM `accounts` WHERE phonenumber = '%i'", strval(inputtext));
	        mysql_tquery(dbHandle, str, "OnPlayerSetPhoneNumber", "i", playerid);
	        SetPVarInt(playerid, "CheckNumber", strval(inputtext));
	    }
	case D_PHONE:
	    {
	        if(!response) return 1;
	        switch(listitem)
	        {
	            case 0: ShowPlayerDialog(playerid, D_PHONE+1, DIALOG_STYLE_LIST, "{FFCC00}Контакты", "1. Список контактов\n2. Добавить контакт\n3. Удалить контакт", "Выбрать", "Назад");
	            case 1:
				{
				    if(PI[playerid][pMuted] > 0) return SendClientMessage(playerid, 0xff6600AA, "У Вас затычка. Узнать подробней: /time");
				   	if(Mobile[playerid] != -1) return SendClientMessage(playerid, COLOR_RED, "Вы уже разговариваете по телефону!");
				   	if(Phone[playerid] == false) return SendClientMessage(playerid, COLOR_RED, "У Вас выключен телефон!");
		  		 	if(Ether[playerid] == true) return SendClientMessage(playerid, COLOR_RED, "Действие невозможно!");
					ShowPlayerDialog(playerid, D_PHONE+2, 1, "{FFCC00}Номер телефона", "{ffffff}Введите номер телефона абонента:", "Принять", "Назад");
				}
				case 2:
				{
					if(PI[playerid][pMuted] > 0) return SendClientMessage(playerid, 0xff6600AA, "У Вас затычка. Узнать подробней: /time");
					if(Phone[playerid] == false) return SendClientMessage(playerid, COLOR_RED, "У Вас выключен телефон!");
					ShowPlayerDialog(playerid, D_PHONE+3, 1, "{FFCC00}Номер телефона", "{ffffff}Введите номер телефона абонента:", "Принять", "Назад");
				}
				case 3:
				{
				    if(PI[playerid][pJail] > 0) return SendClientMessage(playerid, COLOR_RED, "У Вас изъяли телефон!");
					ShowPlayerDialog(playerid, D_HEAL+3, 2, "{FFCC00}Сервисы", "1. Вызвать механика\n2. Вызвать такси\n3. Вызвать скорую помошь\n4. Вызвать полицию", "Принять", "Назад");
				}
	        }
	    }
	case D_PHONE+2:
	    {
	        if(!response) return PhoneMenu(playerid);
		    new params;
		    if(sscanf(inputtext, "d", params)) return ShowPlayerDialog(playerid, D_PHONE+2, 1, "{FFCC00}Номер телефона", "{ffffff}Введите номер телефона абонента:", "Принять", "Назад");
		    if(params < 1 || params > 9999999) { ShowPlayerDialog(playerid, D_PHONE+2, 1, "{FFCC00}Номер телефона", "{ffffff}Введите номер телефона абонента:", "Принять", "Назад"); return SendClientMessage(playerid, COLOR_RED, "Неверный номер телефона!"); }
		    if(params == PI[playerid][pPhoneNumber]) { ShowPlayerDialog(playerid, D_PHONE+2, 1, "{FFCC00}Номер телефона", "{ffffff}Введите номер телефона абонента:", "Принять", "Назад"); return SendClientMessage(playerid, COLOR_RED, "Ты не можешь позвонить самому себе!"); }
		    if(PI[playerid][pPhoneBalance] < 1) { ShowPlayerDialog(playerid, D_PHONE+2, 1, "{FFCC00}Номер телефона", "{ffffff}Введите номер телефона абонента:", "Принять", "Назад"); return SendClientMessage(playerid, COLOR_RED, "Пополните счет сим-карты в любом банкомате города! Узнать баланс /callbalance"); }
		    new fullphone, string11[90];
			if(params == 555)
			{
			    if(Ether[playerid] == true) { ShowPlayerDialog(playerid, D_PHONE+2, 1, "{FFCC00}Номер телефона", "{ffffff}Введите номер телефона абонента:", "Принять", "Назад"); return SendClientMessage(playerid, COLOR_RED, "Действие невозможно!"); }
				if(PI[playerid][pNews] != 1) { ShowPlayerDialog(playerid, D_PHONE+2, 1, "{FFCC00}Номер телефона", "{ffffff}Введите номер телефона абонента:", "Принять", "Назад"); return SendClientMessage(playerid, COLOR_RED, "Вы должны переключиться на волну этой студии!"); }
				if(PI[playerid][pNews] < 1) { ShowPlayerDialog(playerid, D_PHONE+2, 1, "{FFCC00}Номер телефона", "{ffffff}Введите номер телефона абонента:", "Принять", "Назад"); return SendClientMessage(playerid, COLOR_RED, "News ID Error!"); }
				if(EtherCall[PI[playerid][pNews]-1] == false) { ShowPlayerDialog(playerid, D_PHONE+2, 1, "{FFCC00}Номер телефона", "{ffffff}Введите номер телефона абонента:", "Принять", "Назад"); return SendClientMessage(playerid, COLOR_RED, "Радио не принимает звонков!"); }
				foreach(new i: Player)
				{
				    if(PlayerLogged[i] == true && (Ether[i] == true) && PI[i][pMember] == TEAM_SMI)
				    {
				        if(Mobile[i] != -1) return SendClientMessage(playerid, COLOR_RED, "Игрок уже разговаривает по телефону!");
				  		if(PI[i][pJail] > 0) return SendClientMessage(playerid, COLOR_RED, "Абонент временно недоступен!");
						Mobile[playerid] = i;
					 	SendMes(i, COLOR_BLUE, "Входящий звонок | Номер: %i | {FFCC00}Вызывает: %s", PI[playerid][pPhoneNumber], GetName(playerid));
						format(string11, sizeof(string11), "У %s звонит мобильный телефон", GetName(i));
						ProxDetectorNew(i, 13.0, COLOR_PURPLE, string11);
				  		PlayerPlaySound(i, 23000, 0.0, 0.0, 0.0);
				  		PlayerPlaySound(playerid, 3600, 0.0, 0.0, 0.0);
						SendClientMessage(playerid, COLOR_WHITE, "Чтобы повесить трубку, введите: /hangup (/h)");
						if(!IsPlayerInAnyVehicle(playerid)) SetPlayerSpecialAction(playerid, 11);
						CellTime[playerid] = 0;
				    }
				}
			}
			if(params == 666)
			{
			    if(Ether[playerid] == true) { ShowPlayerDialog(playerid, D_PHONE+2, 1, "{FFCC00}Номер телефона", "{ffffff}Введите номер телефона абонента:", "Принять", "Назад"); return SendClientMessage(playerid, COLOR_RED, "Действие невозможно!"); }
				if(PI[playerid][pNews] != 2) { ShowPlayerDialog(playerid, D_PHONE+2, 1, "{FFCC00}Номер телефона", "{ffffff}Введите номер телефона абонента:", "Принять", "Назад"); return SendClientMessage(playerid, COLOR_RED, "Вы должны переключиться на волну этой студии!"); }
				if(PI[playerid][pNews] < 1) { ShowPlayerDialog(playerid, D_PHONE+2, 1, "{FFCC00}Номер телефона", "{ffffff}Введите номер телефона абонента:", "Принять", "Назад"); return SendClientMessage(playerid, COLOR_RED, "News ID Error!"); }
				if(EtherCall[PI[playerid][pNews]-1] == false) { ShowPlayerDialog(playerid, D_PHONE+2, 1, "{FFCC00}Номер телефона", "{ffffff}Введите номер телефона абонента:", "Принять", "Назад"); return SendClientMessage(playerid, COLOR_RED, "Радио не принимает звонков!"); }
				foreach(new i: Player)
				{
				    if(PlayerLogged[i] == true && (Ether[i] == true) && PI[i][pMember] == TEAM_MZA)
				    {
				        if(Mobile[i] != -1) return SendClientMessage(playerid, COLOR_RED, "Игрок уже разговаривает по телефону!");
				  		if(PI[i][pJail] > 0) return SendClientMessage(playerid, COLOR_RED, "Абонент временно недоступен!");
						Mobile[playerid] = i;
					 	SendMes(i, COLOR_BLUE, "Входящий звонок | Номер: %i | {FFCC00}Вызывает: %s", PI[playerid][pPhoneNumber], GetName(playerid));
						format(string11, sizeof(string11), "У %s звонит мобильный телефон", GetName(i));
						ProxDetectorNew(i, 13.0, COLOR_PURPLE, string11);
				  		PlayerPlaySound(i, 23000, 0.0, 0.0, 0.0);
				  		PlayerPlaySound(playerid, 3600, 0.0, 0.0, 0.0);
						SendClientMessage(playerid, COLOR_WHITE, "Чтобы повесить трубку, введите: /hangup (/h)");
						if(!IsPlayerInAnyVehicle(playerid)) SetPlayerSpecialAction(playerid, 11);
						CellTime[playerid] = 0;
				    }
				}
			}
			/*if(params == 777)
			{
			    if(Ether[playerid] == true) { ShowPlayerDialog(playerid, D_PHONE+2, 1, "{FFCC00}Номер телефона", "{ffffff}Введите номер телефона абонента:", "Принять", "Назад"); return SendClientMessage(playerid, COLOR_RED, "Действие невозможно!"); }
				if(PI[playerid][pNews] != 3) { ShowPlayerDialog(playerid, D_PHONE+2, 1, "{FFCC00}Номер телефона", "{ffffff}Введите номер телефона абонента:", "Принять", "Назад"); return SendClientMessage(playerid, COLOR_RED, "Вы должны переключиться на волну этой студии!"); }
				if(PI[playerid][pNews] < 1) { ShowPlayerDialog(playerid, D_PHONE+2, 1, "{FFCC00}Номер телефона", "{ffffff}Введите номер телефона абонента:", "Принять", "Назад"); return SendClientMessage(playerid, COLOR_RED, "News ID Error!"); }
				if(EtherCall[PI[playerid][pNews]-1] == false) { ShowPlayerDialog(playerid, D_PHONE+2, 1, "{FFCC00}Номер телефона", "{ffffff}Введите номер телефона абонента:", "Принять", "Назад"); return SendClientMessage(playerid, COLOR_RED, "Радио не принимает звонков!"); }
				foreach(new i: Player)
				{
				    if(PlayerLogged[i] == true && (Ether[i] == true) && PI[i][pMember] == TEAM_LVNEWS)
				    {
				        if(Mobile[i] != -1) return SendClientMessage(playerid, COLOR_RED, "Игрок уже разговаривает по телефону!");
				  		if(PI[i][pJail] > 0) return SendClientMessage(playerid, COLOR_RED, "Абонент временно недоступен!");
						Mobile[playerid] = i;
					 	SendMes(i, COLOR_BLUE, "Входящий звонок | Номер: %i {FFCC00}| Вызывает: %s", PI[playerid][pPhoneNumber], GetName(playerid));
						format(string11, sizeof(string11), "У %s звонит мобильный телефон", GetName(i));
						ProxDetectorNew(i, 13.0, COLOR_PURPLE, string11);
				  		PlayerPlaySound(i, 23000, 0.0, 0.0, 0.0);
				  		PlayerPlaySound(playerid, 3600, 0.0, 0.0, 0.0);
						SendClientMessage(playerid, COLOR_WHITE, "Чтобы повесить трубку, введите: /hangup (/h)");
						if(!IsPlayerInAnyVehicle(playerid)) SetPlayerSpecialAction(playerid, 11);
						CellTime[playerid] = 0;
				    }
				}
			}*/
			foreach(new i: Player)
			{
				if(params == PI[i][pPhoneNumber] && PlayerLogged[i] == true)
				{
					if(Phone[i] == false) { ShowPlayerDialog(playerid, D_PHONE+2, 1, "{FFCC00}Номер телефона", "{ffffff}Введите номер телефона абонента:", "Принять", "Назад"); return SendClientMessage(playerid, COLOR_RED, "Игрок выключил телефон!"); }
				    if(Ether[i] == true) { ShowPlayerDialog(playerid, D_PHONE+2, 1, "{FFCC00}Номер телефона", "{ffffff}Введите номер телефона абонента:", "Принять", "Назад"); return SendClientMessage(playerid, COLOR_RED, "Действие невозможно!"); }
					if(Mobile[i] != -1) { ShowPlayerDialog(playerid, D_PHONE+2, 1, "{FFCC00}Номер телефона", "{ffffff}Введите номер телефона абонента:", "Принять", "Назад"); return SendClientMessage(playerid, COLOR_RED, "Игрок уже разговаривает по телефону!"); }
                    if(PI[i][pJail] > 0) return SendClientMessage(playerid, COLOR_RED, "Абонент временно недоступен!");
					Mobile[playerid] = i;
			      	SendMes(i, COLOR_BLUE, "Входящий звонок | Номер: %i {FFCC00}| Вызывает: %s", PI[playerid][pPhoneNumber], GetName(playerid));
					format(string11, sizeof(string11), "У %s звонит мобильный телефон", GetName(i));
					ProxDetectorNew(i, 13.0, COLOR_PURPLE, string11);
		            PlayerPlaySound(i, 23000, 0.0, 0.0, 0.0);
		            PlayerPlaySound(playerid, 3600, 0.0, 0.0, 0.0);
					SendClientMessage(playerid, COLOR_WHITE, "Чтобы повесить трубку, введите: /hangup (/h)");
					if(!IsPlayerInAnyVehicle(playerid)) SetPlayerSpecialAction(playerid, 11);
					CellTime[playerid] = 0;
					fullphone++;
				}
			}
			if(fullphone == 0) { ShowPlayerDialog(playerid, D_PHONE+2, 1, "{FFCC00}Номер телефона", "{ffffff}Введите номер телефона абонента:", "Принять", "Назад"); return SendClientMessage(playerid, COLOR_RED, "Игрок с данным номером не найден!"); }
			return 1;
	    }
	case D_BREAK:
	    {
	        if(!response) return 1;
		    new Float:X, Float:Y, Float:Z, Float:YZ;
			GetPlayerPos(playerid, X, Y, Z);
			GetPlayerFacingAngle(playerid, YZ);
			if(floatabs(Z) > 300 || GetPlayerInterior(playerid) != 0 ||  GetPlayerVirtualWorld(playerid) != 0) return SendClientMessage(playerid, COLOR_RED, "Невозможно установить объект в данном месте");
			switch(listitem)
			{
				case 0:
				{
					SetPVarInt(playerid,"objectcop", CreateObject(2899, X, Y, Z-0.8, 0, 0, YZ));
			        Ships[playerid] = CreateDynamicSphere(X, Y, Z, 3.0, -1, -1, -1);
				}
				case 1: SetPVarInt(playerid,"objectcop", CreateObject(1228, X, Y, Z+0.8, 0, 0, YZ));
				case 2: SetPVarInt(playerid,"objectcop", CreateObject(1237, X, Y, Z-1.0, 0, 0, YZ));
				case 3: SetPVarInt(playerid,"objectcop", CreateObject(1422, X, Y, Z-0.8, 0, 0, YZ));
			}
			//EditObject(playerid, GetPVarInt(playerid, "objectcop"));
			SendClientMessage(playerid, COLOR_GREEN, "Вы установили объект");
	    }
	case D_MAFIA:
	    {
	        if(!response) return 1;
	        switch(listitem)
			{
				case 0: ShowPlayerDialog(playerid, D_MAFIA+1, 1, "{FFCC00}Взять патроны", "{FFFFFF}Введите количество патронов:", "Далее", "Отмена");
		  		case 1:	ShowPlayerDialog(playerid, D_MAFIA+2, 1, "{FFCC00}Положить патроны", "{FFFFFF}Введите количество Метал:", "Далее", "Отмена");
		  		case 2: ShowPlayerDialog(playerid, D_MAFIA+3, 1, "{FFCC00}Взять металл", "{FFFFFF}Введите количество денег:", "Далее", "Отмена");
				case 3: ShowPlayerDialog(playerid, D_MAFIA+4, 1, "{FFCC00}Положить металл", "{FFFFFF}Введите количество наркотиков:","Далее", "Отмена");
				case 4:
				{
				    if(!PI[playerid][pLeader]) return SendClientMessage(playerid, COLOR_RED, "Данная возможность доступна только лидеру!");
					ShowPlayerDialog(playerid, D_MAFIA+5, 1, "{FFCC00}Взять деньги", "{FFFFFF}Введите количество денег:", "Далее", "Отмена");
				}
				case 5:
				{
					ShowPlayerDialog(playerid, D_MAFIA+6, 1, "{FFCC00}Положить деньги", "{FFFFFF}Введите количество денег:", "Далее", "Отмена");
				}
		  	}
	    }
    	case D_MAFIA+1:
	    {
	        if(!response) return 1;
			new till = 0;
			if(sscanf(inputtext, "i", till)) return ShowPlayerDialog(playerid, D_MAFIA+5, 1, "{FFCC00}Взять патроны", "{FFFFFF}Введите количество патронов:", "Принять", "Отмена");
			new i = (PI[playerid][pMember] == TEAM_SPARTAK) ? (0) : (PI[playerid][pMember] == TEAM_CSKA) ? (1) : (PI[playerid][pMember] == TEAM_DINAMO) ? (2) : (PI[playerid][pMember] == TEAM_ZENIT) ? (3) : (4);
			if(till < 0 || till > MafiaPatr[i]) return ShowPlayerDialog(playerid, D_MAFIA+5, 1, "{FFCC00}Взять патроны", "{FFFFFF}Введите количество патронов:", "Принять", "Отмена");
			if(PI[playerid][pPatron]+till > 500 && !PI[playerid][pImprove][2]) return SendClientMessage(playerid, COLOR_RED, "У Вас не может быть более 500 патрон!");
			if(PI[playerid][pPatron]+till > 1000 && PI[playerid][pImprove][2]) return SendClientMessage(playerid, COLOR_RED, "У Вас не может быть более 1000 патрон!");
			PI[playerid][pPatron] += till;
			MysqlUpdatePlayerInt(playerid, "patron", PI[playerid][pPatron]);
			MafiaPatr[i] -= till;
			new Query[56];
			format(Query, sizeof(Query), "UPDATE `mafia` SET lcnpat=%d,yakpat=%d,rmpat=%d", MafiaPatr[0], MafiaPatr[1], MafiaPatr[2]);
			mysql_tquery(dbHandle, Query, "", "");
			new string[90];
			if(PI[playerid][pSex] == 1) format(string, 90, "[R] %s [%d] взял из склада %i патронов.", GetName(playerid), playerid, till);
			else format(string, 90, "[R] %s [%d] взяла из склада %i патронов.", GetName(playerid), playerid, till);
			SendFMes(PI[playerid][pMember], 0x008000FF, string);
			WHDataUpdate();
			return 1;
	    }
    	case D_MAFIA+2:
	    {
	        if(!response) return 1;
			new till = 0;
			if(sscanf(inputtext, "i", till)) return ShowPlayerDialog(playerid, D_MAFIA+1, 1, "{FFCC00}Положить патроны", "{FFFFFF}Введите количество патронов:", "Далее", "Отмена");
			if(till < 0) return ShowPlayerDialog(playerid, D_MAFIA+1, 1, "{FFCC00}Положить патроны", "{FFFFFF}Введите количество патронов:", "Далее", "Отмена");
			if(PI[playerid][pPatron] < till) return SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно патронов");
			new i = (PI[playerid][pMember] == TEAM_SPARTAK) ? (0) : (PI[playerid][pMember] == TEAM_CSKA) ? (1) : (PI[playerid][pMember] == TEAM_DINAMO) ? (2) : (PI[playerid][pMember] == TEAM_ZENIT) ? (3) : (4);
			PI[playerid][pPatron] -= till;
			MysqlUpdatePlayerInt(playerid, "patron", PI[playerid][pPatron]);
			MafiaPatr[i] += till;
			new Query[56];
			format(Query, sizeof(Query), "UPDATE `mafia` SET lcnpat=%d,yakpat=%d,rmpat=%d", MafiaPatr[0], MafiaPatr[1], MafiaPatr[2]);
			mysql_tquery(dbHandle, Query, "", "");
			new string[90];
			if(PI[playerid][pSex] == 1) format(string, 90, "[R] %s [%d] положил в склад %i патронов", GetName(playerid), playerid, till);
			else format(string, 90, "[R] %s [%d] положила в склад %i патронов", GetName(playerid), playerid, till);
			SendFMes(PI[playerid][pMember], 0x008000FF, string);
			WHDataUpdate();
			return 1;
	    }
    	case D_MAFIA+3:
	    {
	        if(!response) return 1;
			new till = 0;
			if(sscanf(inputtext, "i", till)) return ShowPlayerDialog(playerid, D_MAFIA+6, 1, "{FFCC00}Взять Метал", "{FFFFFF}Введите количество Метала:", "Принять", "Отмена");
			new i = (PI[playerid][pMember] == TEAM_SPARTAK) ? (0) : (PI[playerid][pMember] == TEAM_CSKA) ? (1) : (PI[playerid][pMember] == TEAM_DINAMO) ? (2) : (PI[playerid][pMember] == TEAM_ZENIT) ? (3) : (4);
			if(till < 0 || till > MafiaEd[i]) return ShowPlayerDialog(playerid, D_MAFIA+6, 1, "{FFCC00}Взять Метал", "{FFFFFF}Введите количество Метал:", "Принять", "Отмена");
			if(PI[playerid][pGunAmount]+till > 500 && !PI[playerid][pImprove][2]) return SendClientMessage(playerid, COLOR_RED, "У Вас не может быть более 500 Метала!");
			if(PI[playerid][pGunAmount]+till > 1000 && PI[playerid][pImprove][2]) return SendClientMessage(playerid, COLOR_RED, "У Вас не может быть более 1000 Метала!");
			PI[playerid][pGunAmount] += till;
			MysqlUpdatePlayerInt(playerid, "gunamount", PI[playerid][pGunAmount]);
			MafiaEd[i] -= till;
			new Query[53];
			format(Query, sizeof(Query), "UPDATE `mafia` SET lcned=%d,yaked=%d,rmed=%d", MafiaEd[0], MafiaEd[1], MafiaEd[2]);
			mysql_tquery(dbHandle, Query, "", "");
			new string[90];
			if(PI[playerid][pSex] == 1) format(string, 90, "[R] %s [%d] взял из склада %i металла", GetName(playerid), playerid, till);
			else format(string, 90, "[R] %s [%d] взяла из склада %i металла.", GetName(playerid), playerid, till);
			SendFMes(PI[playerid][pMember], 0x008000FF, string);
			WHDataUpdate();
			return 1;
	    }
    	case D_MAFIA+4:
	    {
	        if(!response) return 1;
			new till = 0;
			if(sscanf(inputtext, "i", till)) return ShowPlayerDialog(playerid, D_MAFIA+2, 1, "{FFCC00}Положить Метал", "{FFFFFF}Введите количество Метал:", "Принять", "Отмена");
			if(till < 0) return ShowPlayerDialog(playerid, D_MAFIA+2, 1, "{FFCC00}Положить Метал", "{FFFFFF}Введите количество Метал:", "Принять", "Отмена");
			if(PI[playerid][pGunAmount] < till) return SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно металла");
			new i = (PI[playerid][pMember] == TEAM_SPARTAK) ? (0) : (PI[playerid][pMember] == TEAM_CSKA) ? (1) : (PI[playerid][pMember] == TEAM_DINAMO) ? (2) : (PI[playerid][pMember] == TEAM_ZENIT) ? (3) : (4);
			PI[playerid][pGunAmount] -= till;
			MysqlUpdatePlayerInt(playerid, "gunamount", PI[playerid][pGunAmount]);
			MafiaEd[i] += till;
			new Query[53];
			format(Query, sizeof(Query), "UPDATE `mafia` SET lcned=%d,yaked=%d,rmed=%d", MafiaEd[0], MafiaEd[1], MafiaEd[2]);
			mysql_tquery(dbHandle, Query, "", "");
			new string[90];
			if(PI[playerid][pSex] == 1) format(string, 90, "[R] %s [%d] положил в склад %i металла", GetName(playerid), playerid, till);
			else format(string, 90, "[R] %s [%d] положила в склад %i металла", GetName(playerid), playerid, till);
			SendFMes(PI[playerid][pMember], 0x008000FF, string);
			WHDataUpdate();
			return 1;
	    }
    	case D_MAFIA+5:
	    {
	        if(!response) return 1;
			new till = 0;
			if(sscanf(inputtext, "i", till)) return ShowPlayerDialog(playerid, D_MAFIA+7, 1, "{FFCC00}Взять деньги", "{FFFFFF}Введите количество денег:", "Принять", "Отмена");
			if(till < 0) return ShowPlayerDialog(playerid, D_MAFIA+7, 1, "{FFCC00}Взять деньги", "{FFFFFF}Введите количество денег:", "Принять", "Отмена");
			new i = (PI[playerid][pMember] == TEAM_SPARTAK) ? (0) : (PI[playerid][pMember] == TEAM_CSKA) ? (1) : (PI[playerid][pMember] == TEAM_DINAMO) ? (2) : (PI[playerid][pMember] == TEAM_ZENIT) ? (3) : (4);
			if(till > FracBank[i] || till < 0) return SendClientMessage(playerid, COLOR_RED, "На складе мафии нет столько денег!");
            TransferMoney(-1, playerid, till);
			FracBank[i] -= till;
			new Query[83];
			format(Query, sizeof(Query), "UPDATE `mafia` SET yakuzabank=%d,lcnbank=%d,rmbank=%d", FracBank[5], FracBank[6], FracBank[7]);
			mysql_tquery(dbHandle, Query, "", "");
			new string[90];
			if(PI[playerid][pSex] == 1) format(string, 90, "[R] %s [%d] взял из склада %i рублей", GetName(playerid), playerid, till);
			else format(string, 90, "[R] %s [%d] взяла из склада %i рублей", GetName(playerid), playerid, till);
			SendFMes(PI[playerid][pMember], 0x008000FF, string);
			WHDataUpdate();
			return 1;
	    }
    	case D_MAFIA+6:
	    {
	        if(!response) return 1;
			new till = 0;
			if(sscanf(inputtext, "i", till)) return ShowPlayerDialog(playerid, D_MAFIA+3, 1, "{FFCC00}Положить деньги", "{FFFFFF}Введите количество денег:", "Принять", "Отмена");
			if(till < 0) return ShowPlayerDialog(playerid, D_MAFIA+3, 1, "{FFCC00}Положить деньги", "{FFFFFF}Введите количество денег:", "Принять", "Отмена");
			if(till > GetMoney(playerid) || till < 0) return SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно денег");
			new i = (PI[playerid][pMember] == TEAM_SPARTAK) ? (0) : (PI[playerid][pMember] == TEAM_CSKA) ? (1) : (PI[playerid][pMember] == TEAM_DINAMO) ? (2) : (PI[playerid][pMember] == TEAM_ZENIT) ? (3) : (4);
            TransferMoney(playerid, -1, till);
			FracBank[i] += till;
			new Query[83];
			format(Query, sizeof(Query), "UPDATE `mafia` SET yakuzabank=%d,lcnbank=%d,rmbank=%d", FracBank[5], FracBank[6], FracBank[7]);
			mysql_tquery(dbHandle, Query, "", "");
			new string[90];
			if(PI[playerid][pSex] == 1) format(string, 90, "[R] %s [%d] положил на склад %i рублей", GetName(playerid), playerid, till);
			else format(string, 90, "[R] %s [%d] положила на склад %i рублей", GetName(playerid), playerid, till);
			SendFMes(PI[playerid][pMember], 0x5da130FF, string);
			WHDataUpdate();
			return 1;
	    }

	case D_MAFIA+7:
	    {
	        if(!response) return 1;
			new till = 0;
			if(sscanf(inputtext, "i", till)) return ShowPlayerDialog(playerid, D_MAFIA+7, 1, "{FFCC00}Взять деньги", "{FFFFFF}Введите количество денег:", "Принять", "Отмена");
			if(till < 0) return ShowPlayerDialog(playerid, D_MAFIA+7, 1, "{FFCC00}Взять деньги", "{FFFFFF}Введите количество денег:", "Принять", "Отмена");
			new i = (PI[playerid][pMember] == TEAM_SPARTAK) ? (0) : (PI[playerid][pMember] == TEAM_CSKA) ? (1) : (PI[playerid][pMember] == TEAM_DINAMO) ? (2) : (PI[playerid][pMember] == TEAM_ZENIT) ? (3) : (4);
			if(till > FracBank[i] || till < 0) return SendClientMessage(playerid, COLOR_RED, "На складе мафии нет столько денег!");
            TransferMoney(-1, playerid, till);
			FracBank[i] -= till;
			new Query[83];
			format(Query, sizeof(Query), "UPDATE `mafia` SET yakuzabank=%d,lcnbank=%d,rmbank=%d", FracBank[5], FracBank[6], FracBank[7]);
			mysql_tquery(dbHandle, Query, "", "");
			new string[90];
			if(PI[playerid][pSex] == 1) format(string, 90, "[R] %s [%d] взял из склада %i рублей", GetName(playerid), playerid, till);
			else format(string, 90, "[R] %s [%d] взяла из склада %i рублей", GetName(playerid), playerid, till);
			SendFMes(PI[playerid][pMember], 0x5da130FF, string);
			WHDataUpdate();
			return 1;
	    }
	case D_MAFIA+8:
	    {
	        if(!response) return 1;
			new till = 0;
			if(sscanf(inputtext, "i", till)) return ShowPlayerDialog(playerid, D_MAFIA+8, 1, "{FFCC00}Взять наркотики", "{FFFFFF}Введите количество грамм наркотиков:", "Принять", "Отмена");
			new i = (PI[playerid][pMember] == TEAM_SPARTAK) ? (0) : (PI[playerid][pMember] == TEAM_CSKA) ? (1) : (PI[playerid][pMember] == TEAM_DINAMO) ? (2) : (PI[playerid][pMember] == TEAM_ZENIT) ? (3) : (4);
			if(till < 0 || till > DrugsBank[i]) return ShowPlayerDialog(playerid, D_MAFIA+8, 1, "{FFCC00}Взять наркотики", "{FFFFFF}Введите количество грамм наркотиков:", "Принять", "Отмена");
			if(PI[playerid][pDrugs]+till > 100) return SendClientMessage(playerid, COLOR_RED, "У Вас не может быть более 100 грамм наркотиков!");
			PI[playerid][pDrugs] += till;
			MysqlUpdatePlayerInt(playerid, "drugs", PI[playerid][pDrugs]);
			DrugsBank[i] -= till;
			new Query[62];
			format(Query, sizeof(Query), "UPDATE `mafia` SET yakuzadrugs=%d,lcndrugs=%d,rmdrugs=%d", DrugsBank[TEAM_SPARTAK], DrugsBank[TEAM_SPARTAK], DrugsBank[TEAM_DINAMO], DrugsBank[TEAM_ZENIT]);
			mysql_tquery(dbHandle, Query, "", "");
			new string[90];
			if(PI[playerid][pSex] == 1) format(string, 90, "[R] %s [%d] взял из склада %i гр. наркотиков", GetName(playerid), playerid, till);
			else format(string, 90, "[R] %s [%d] взяла из склада %i гр. наркотиков", GetName(playerid), playerid, till);
			SendFMes(PI[playerid][pMember], 0x5da130FF, string);
			WHDataUpdate();
			return 1;
	    }
	case D_GANG:
	    {
	        if(!response) return 1;
	        switch(listitem)
			{
				case 0: ShowPlayerDialog(playerid, D_GANG+1, 1, "{FFCC00}Положить патроны", "{FFFFFF}Введите количество патронов:", "Принять", "Отмена");
		  		case 1:	ShowPlayerDialog(playerid, D_GANG+2, 1, "{FFCC00}Положить Метал", "{FFFFFF}Введите количество Метал:", "Принять", "Отмена");
		  		case 2: ShowPlayerDialog(playerid, D_GANG+3, 1, "{FFCC00}Положить деньги", "{FFFFFF}Введите количество денег:", "Принять", "Отмена");
				case 3: ShowPlayerDialog(playerid, D_GANG+4, 1, "{FFCC00}Положить наркотики", "{FFFFFF}Введите количество наркотиков:","Принять", "Отмена");
				case 4:
				{
				    if(PI[playerid][pRank] < 4) return SendClientMessage(playerid, COLOR_RED, "Данная возможность доступна с 4 ранга!");
					ShowPlayerDialog(playerid, D_GANG+5, 1, "{FFCC00}Взять патроны", "{FFFFFF}Введите количество патронов:", "Принять", "Отмена");
				}
				case 5:
				{
				    if(PI[playerid][pRank] < 4) return SendClientMessage(playerid, COLOR_RED, "Данная возможность доступна с 4 ранга!");
					ShowPlayerDialog(playerid, D_GANG+6, 1, "{FFCC00}Взять Метал", "{FFFFFF}Введите количество Метал:", "Принять", "Отмена");
				}
				case 6:
				{
				    if(!PI[playerid][pLeader]) return SendClientMessage(playerid, COLOR_RED, "Данная возможность доступна только лидеру!");
					ShowPlayerDialog(playerid, D_GANG+7, 1, "{FFCC00}Взять деньги", "{FFFFFF}Введите количество денег:", "Принять", "Отмена");
				}
				case 7:
				{
				    if(PI[playerid][pRank] < 4) return SendClientMessage(playerid, COLOR_RED, "Данная возможность доступна с 4 ранга!");
					ShowPlayerDialog(playerid, D_GANG+8, 1, "{FFCC00}Взять наркотики", "{FFFFFF}Введите количество грамм наркотиков:", "Принять", "Отмена");
				}
		  	}
	    }
	case D_GANG+1:
	    {
	        if(!response) return 1;
			new till = 0;
			if(sscanf(inputtext, "i", till)) return ShowPlayerDialog(playerid, D_GANG+1, 1, "{FFCC00}Положить патроны", "{FFFFFF}Введите количество патронов:", "Принять", "Отмена");
			if(till < 0) return ShowPlayerDialog(playerid, D_GANG+1, 1, "{FFCC00}Положить патроны", "{FFFFFF}Введите количество патронов:", "Принять", "Отмена");
			if(PI[playerid][pPatron] < till) return SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно патронов");
			new i = (PI[playerid][pMember] == TEAM_SPARTAK) ? (0) : (PI[playerid][pMember] == TEAM_CSKA) ? (1) : (PI[playerid][pMember] == TEAM_DINAMO) ? (2) : (PI[playerid][pMember] == TEAM_ZENIT) ? (3) : (4);
			PI[playerid][pPatron] -= till;
			MysqlUpdatePlayerInt(playerid, "patron", PI[playerid][pPatron]);
			GangPatr[i] += till;
			new Query[91];
			format(Query, sizeof(Query), "UPDATE `gang` SET grovepat=%d,ballaspat=%d,rifapat=%d,aztecpat=%d,vagospat=%d", GangPatr[0], GangPatr[1], GangPatr[2], GangPatr[3], GangPatr[4]);
			mysql_tquery(dbHandle, Query, "", "");
			new string[90];
			if(PI[playerid][pSex] == 1) format(string, 90, "%s [%d] положил на склад банды %i патрон", GetName(playerid), playerid, till);
			else format(string, 90, "%s [%d] положила на склад банды %i патрон", GetName(playerid), playerid, till);
			SendFMes(PI[playerid][pMember], COLOR_YELLOW2, string);
			WHDataUpdate();
			return 1;
	    }
	case D_GANG+2:
	    {
	        if(!response) return 1;
			new till = 0;
			if(sscanf(inputtext, "i", till)) return ShowPlayerDialog(playerid, D_GANG+2, 1, "{FFCC00}Положить Метал", "{FFFFFF}Введите количество Метал:", "Принять", "Отмена");
			if(till < 0) return ShowPlayerDialog(playerid, D_GANG+2, 1, "{FFCC00}Положить Метал", "{FFFFFF}Введите количество Метал:", "Принять", "Отмена");
			if(PI[playerid][pGunAmount] < till) return SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно металла");
			new i = (PI[playerid][pMember] == TEAM_SPARTAK) ? (0) : (PI[playerid][pMember] == TEAM_CSKA) ? (1) : (PI[playerid][pMember] == TEAM_DINAMO) ? (2) : (PI[playerid][pMember] == TEAM_ZENIT) ? (3) : (4);
			PI[playerid][pGunAmount] -= till;
			MysqlUpdatePlayerInt(playerid, "gunamount", PI[playerid][pGunAmount]);
			GangEd[i] += till;
			new Query[85];
			format(Query, sizeof(Query), "UPDATE `gang` SET groveed=%d,ballased=%d,rifaed=%d,azteced=%d,vagosed=%d", GangEd[0], GangEd[1], GangEd[2], GangEd[3], GangEd[4]);
			mysql_tquery(dbHandle, Query, "", "");
			new string[90];
			if(PI[playerid][pSex] == 1) format(string, 90, "%s [%d] положил на склад банды %i Метал", GetName(playerid), playerid, till);
			else format(string, 90, "%s [%d] пложила на склад банды %i Метал", GetName(playerid), playerid, till);
			SendFMes(PI[playerid][pMember], COLOR_YELLOW2, string);
			WHDataUpdate();
			return 1;
	    }
	case D_GANG+3:
	    {
	        if(!response) return 1;
			new till = 0;
			if(sscanf(inputtext, "i", till)) return ShowPlayerDialog(playerid, D_GANG+3, 1, "{FFCC00}Положить деньги", "{FFFFFF}Введите количество денег:", "Принять", "Отмена");
			if(till < 0) return ShowPlayerDialog(playerid, D_GANG+3, 1, "{FFCC00}Положить деньги", "{FFFFFF}Введите количество денег:", "Принять", "Отмена");
			if(till > GetMoney(playerid) || till < 0) return SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно денег");
			new i = (PI[playerid][pMember] == TEAM_SPARTAK) ? (0) : (PI[playerid][pMember] == TEAM_CSKA) ? (1) : (PI[playerid][pMember] == TEAM_DINAMO) ? (2) : (PI[playerid][pMember] == TEAM_ZENIT) ? (3) : (4);
            TransferMoney(playerid, -1, till);
			FracBank[i] += till;
			new Query[131];
			format(Query, sizeof(Query), "UPDATE `gang` SET grovebank=%d,ballasbank=%d,rifabank=%d,aztecbank=%d,vagosbank=%d", FracBank[0], FracBank[1], FracBank[2], FracBank[3], FracBank[4]);
			mysql_tquery(dbHandle, Query, "", "");
			new string[90];
			if(PI[playerid][pSex] == 1) format(string, 90, "%s [%d] положил на склад банды %i рублей", GetName(playerid), playerid, till);
			else format(string, 90, "%s [%d] положила на склад банды %i рублей", GetName(playerid), playerid, till);
			SendFMes(PI[playerid][pMember], COLOR_YELLOW2, string);
			WHDataUpdate();
			return 1;
	    }
	case D_GANG+4:
		{
	    	if(!response) return 1;
			new till = 0;
			if(sscanf(inputtext, "i", till)) return ShowPlayerDialog(playerid, D_GANG+4, 1, "{FFCC00}Положить наркотики", "{FFFFFF}Введите количество наркотиков:","Принять", "Отмена");
			if(till < 0) return ShowPlayerDialog(playerid, D_GANG+4, 1, "{FFCC00}Положить наркотики", "{FFFFFF}Введите количество наркотиков:","Принять", "Отмена");
			if(PI[playerid][pDrugs] < till) return SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно наркотиков");
			new i = (PI[playerid][pMember] == TEAM_SPARTAK) ? (0) : (PI[playerid][pMember] == TEAM_CSKA) ? (1) : (PI[playerid][pMember] == TEAM_DINAMO) ? (2) : (PI[playerid][pMember] == TEAM_ZENIT) ? (3) : (4);
			PI[playerid][pDrugs] -= till;
			MysqlUpdatePlayerInt(playerid, "drugs", PI[playerid][pDrugs]);
			DrugsBank[i] += till;
			new Query[96];
			format(Query, sizeof(Query), "UPDATE `gang` SET grovedrugs=%d,ballasdrugs=%d,rifadrugs=%d,aztecdrugs=%d,vagosdrugs=%d", DrugsBank[TEAM_SPARTAK], DrugsBank[TEAM_CSKA], DrugsBank[TEAM_DINAMO], DrugsBank[TEAM_ZENIT]);
			mysql_tquery(dbHandle, Query, "", "");
			new string[90];
			if(PI[playerid][pSex] == 1) format(string, 90, "%s [%d] положил на склад банды %i грамм наркотиков", GetName(playerid), playerid, till);
			else format(string, 90, "%s [%d] положила на склад банды %i грамм наркотиков", GetName(playerid), playerid, till);
			SendFMes(PI[playerid][pMember], COLOR_YELLOW2, string);
			WHDataUpdate();
			return 1;
		}
	case D_GANG+5:
	    {
	        if(!response) return 1;
			new till = 0;
			if(sscanf(inputtext, "i", till)) return ShowPlayerDialog(playerid, D_GANG+5, 1, "{FFCC00}Взять патроны", "{FFFFFF}Введите количество патронов:", "Принять", "Отмена");
    		new i = (PI[playerid][pMember] == TEAM_SPARTAK) ? (0) : (PI[playerid][pMember] == TEAM_CSKA) ? (1) : (PI[playerid][pMember] == TEAM_DINAMO) ? (2) : (PI[playerid][pMember] == TEAM_ZENIT) ? (3) : (4);
			if(till < 0 || till > GangPatr[i]) return ShowPlayerDialog(playerid, D_GANG+5, 1, "{FFCC00}Взять патроны", "{FFFFFF}Введите количество патронов:", "Принять", "Отмена");
			if(PI[playerid][pPatron]+till > 500 && !PI[playerid][pImprove][2]) return SendClientMessage(playerid, COLOR_RED, "У Вас не может быть более 500 патрон!");
			if(PI[playerid][pPatron]+till > 1000 && PI[playerid][pImprove][2]) return SendClientMessage(playerid, COLOR_RED, "У Вас не может быть более 1000 патрон!");
			PI[playerid][pPatron] += till;
			MysqlUpdatePlayerInt(playerid, "patron", PI[playerid][pPatron]);
			GangPatr[i] -= till;
			new Query[91];
			format(Query, sizeof(Query), "UPDATE `gang` SET grovepat=%d,ballaspat=%d,rifapat=%d,aztecpat=%d,vagospat=%d", GangPatr[0], GangPatr[1], GangPatr[2], GangPatr[3], GangPatr[4]);
			mysql_tquery(dbHandle, Query, "", "");
			new string[90];
			if(PI[playerid][pSex] == 1) format(string, 90, "%s [%d] взял со склада банды %i патрон", GetName(playerid), playerid, till);
			else format(string, 90, "%s [%d] взяла со склада банды %i патрон", GetName(playerid), playerid, till);
			SendFMes(PI[playerid][pMember], COLOR_YELLOW2, string);
			WHDataUpdate();
			return 1;
	    }
	case D_GANG+6:
	    {
	        if(!response) return 1;
			new till = 0;
			if(sscanf(inputtext, "i",till)) return ShowPlayerDialog(playerid, D_GANG+6, 1, "{FFCC00}Взять Метал", "{FFFFFF}Введите количество Метал:", "Принять", "Отмена");
			new i = (PI[playerid][pMember] == TEAM_SPARTAK) ? (0) : (PI[playerid][pMember] == TEAM_CSKA) ? (1) : (PI[playerid][pMember] == TEAM_DINAMO) ? (2) : (PI[playerid][pMember] == TEAM_ZENIT) ? (3) : (4);
			if(till < 0 || till > GangEd[i]) return ShowPlayerDialog(playerid, D_GANG+6, 1, "{FFCC00}Взять Метал", "{FFFFFF}Введите количество Метал:", "Принять", "Отмена");
			if(PI[playerid][pGunAmount]+till > 500 && !PI[playerid][pImprove][2]) return SendClientMessage(playerid, COLOR_RED, "У Вас не может быть более 500 Метал!");
			if(PI[playerid][pGunAmount]+till > 1000 && PI[playerid][pImprove][2]) return SendClientMessage(playerid, COLOR_RED, "У Вас не может быть более 1000 Метал!");
			PI[playerid][pGunAmount] += till;
			MysqlUpdatePlayerInt(playerid, "gunamount", PI[playerid][pGunAmount]);
			GangEd[i] -= till;
			new Query[85];
			format(Query, sizeof(Query), "UPDATE `gang` SET groveed=%d,ballased=%d,rifaed=%d,azteced=%d,vagosed=%d", GangEd[0], GangEd[1], GangEd[2], GangEd[3], GangEd[4]);
			mysql_tquery(dbHandle, Query, "", "");
			new string[90];
			if(PI[playerid][pSex] == 1) format(string, 90, "%s [%d] взял со склада банды %i Метал", GetName(playerid), playerid, till);
			else format(string, 90, "%s [%d] взяла со склада банды %i Метал", GetName(playerid), playerid, till);
			SendFMes(PI[playerid][pMember], COLOR_YELLOW2, string);
			WHDataUpdate();
			return 1;
	    }
	case D_GANG+7:
	    {
	        if(!response) return 1;
			new till = 0;
			if(sscanf(inputtext, "i", till)) return ShowPlayerDialog(playerid, D_GANG+7, 1, "{FFCC00}Взять деньги", "{FFFFFF}Введите количество денег:", "Принять", "Отмена");
			if(till < 0) return ShowPlayerDialog(playerid, D_GANG+7, 1, "{FFCC00}Взять деньги", "{FFFFFF}Введите количество денег:", "Принять", "Отмена");
			new i = (PI[playerid][pMember] == TEAM_SPARTAK) ? (0) : (PI[playerid][pMember] == TEAM_CSKA) ? (1) : (PI[playerid][pMember] == TEAM_DINAMO) ? (2) : (PI[playerid][pMember] == TEAM_ZENIT) ? (3) : (4);
			if(till > FracBank[i] || till < 0) return SendClientMessage(playerid, COLOR_RED, "На складе банды нет столько денег!");
            TransferMoney(-1, playerid, till);
			FracBank[i] -= till;
			new Query[131];
			format(Query, sizeof(Query), "UPDATE `gang` SET grovebank=%d,ballasbank=%d,rifabank=%d,aztecbank=%d,vagosbank=%d", FracBank[0], FracBank[1], FracBank[2], FracBank[3], FracBank[4]);
			mysql_tquery(dbHandle, Query, "", "");
			new string[90];
			if(PI[playerid][pSex] == 1) format(string, 90, "%s [%d] взял со склада банды %i рублей", GetName(playerid), playerid, till);
			else format(string, 90, "%s [%d] взяла со склада банды %i рублей", GetName(playerid), playerid, till);
			SendFMes(PI[playerid][pMember], COLOR_YELLOW2, string);
			WHDataUpdate();
			return 1;
	    }
  	case 1982:
    {
	    if(!response) return 1;
		new string[300];
	    new till = 0;
	    if(sscanf(inputtext, "i", till)) return ShowPlayerDialog(playerid,1982,DSI,"Склад Армии | Взять металл","Введите кол-во кг. металла, которое хотите взять .","Взять","Закрыть");
	    if(till < 0) return ShowPlayerDialog(playerid,1982,DSI,"Склад Армии | Взять металл","Введите кол-во кг. металла, которое хотите взять .","Взять","Закрыть");
		if(PI[playerid][pSex] == 1) format(string, 90, "%s [%d] взял со склада армии %i кг. металла", GetName(playerid), playerid, till);
		else format(string, 90, "%s [%d] взяла со склада армии %i кг. металла", GetName(playerid), playerid, till);
		SendFMes(PI[playerid][pMember], COLOR_YELLOW2, string);
	    gArmyWarehouse[0] -= till;
		SaveWarehouse();
		WHDataUpdate();
		PI[playerid][pGunAmount] += till;
	    return 1;
	}
	case 1983:
	{
	    if(!response) return 1;
	    new string[300];
	    new till = 0;
	    if(sscanf(inputtext, "i", till)) return ShowPlayerDialog(playerid,1983,DSI,"Склад Армии | Взять патроны","Введите кол-во шт. патронов, которое хотите взять .","Взять","Закрыть");
	    if(till < 0) return ShowPlayerDialog(playerid,1983,DSI,"Склад Армии | Взять патроны","Введите кол-во шт. патронов, которое хотите взять .","Взять","Закрыть");
		if(PI[playerid][pSex] == 1) format(string, 90, "%s [%d] взял со склада армии %i шт. патронов", GetName(playerid), playerid, till);
		else format(string, 90, "%s [%d] взяла со склада армии %i шт. патронов", GetName(playerid), playerid, till);
		SendFMes(PI[playerid][pMember], COLOR_YELLOW2, string);
	    gArmyWarehouse[1] -= till;
		SaveWarehouse();
		WHDataUpdate();
		PI[playerid][pPatron] += till;
	    return 1;
	}
	case 1984:
	{
	    if(response)
		{
			switch(listitem)
			{
			    case 0:
			    {
			        new string[1000];
			    	format(string, sizeof(string), "{FFFFFF}Статистика: {FFCC00}Армия\n{FFFFFF}Патроны: {FFCC00}%d {ffffff}шт.\nМеталл: {FFCC00}%d {ffffff}кг.",gArmyWarehouse[1],gArmyWarehouse[0]);
			    	ShowPlayerDialog(playerid,1985,DSM,"{FFCC00}Статистика: {ffffff}Армия",string,"Изменить","Назад");
			    }
				case 1:
				{
			        new string[1000];
			    	format(string, sizeof(string), "{FFFFFF}Статистика: {FFCC00}ОПГ Ореховская\n{FFFFFF}Патроны: {FFCC00}%d {ffffff}шт.\nМеталл: {FFCC00}%d {ffffff}кг.\nНаркотики: {FFCC00}%d {ffffff}гр.\nДеньги: {FFCC00}%d {ffffff}рублей\nКол-во бизнесов: {FFCC00}%d {ffffff}шт.",MafiaPatr[0], MafiaEd[0], DrugsBank[TEAM_SPARTAK], FracBank[6], MafiaTotalBizz[0]);
			    	ShowPlayerDialog(playerid,1986,DSM,"{FFCC00}Статистика: {ffffff}ОПГ Ореховское",string,"Изменить","Назад");
				}
				case 2:
				{
			        new string[1000];
			    	format(string, sizeof(string), "{FFFFFF}Статистика: {FFCC00}ОПГ Южная\n{FFFFFF}Патроны: {FFCC00}%d {ffffff}шт.\nМеталл: {FFCC00}%d {ffffff}кг.\nНаркотики: {FFCC00}%d {ffffff}гр.\nДеньги: {FFCC00}%d {ffffff}рублей\nКол-во бизнесов: {FFCC00}%d {ffffff}шт.",MafiaPatr[1], MafiaEd[1], DrugsBank[TEAM_DINAMO], DrugsBank[TEAM_ZENIT], DrugsBank[TEAM_ZENIT], FracBank[5], MafiaTotalBizz[1]);
			    	ShowPlayerDialog(playerid,1987,DSM,"{FFCC00}Статистика: {ffffff}ОПГ 'Южное'",string,"Изменить","Назад");
				}
			}
		}
		else { }
	}
	case 1985:
	{
	    if(response)
	    {
	        ShowPlayerDialog(playerid,1988,DSL,"{FFCC00}Выбор действия","{FFCC00}1. {ffffff}Установить металл\n{FFCC00}2. {ffffff}Установить патроны","Далее","Назад");
	    }
	    else
		{
	        ShowPlayerDialog(playerid,1984,DSL,"{FFCC00}Список организаций","{FFCC00}1. {ffffff}Армия\n{FFCC00}2. {ffffff}ОПГ Ореховское\n{FFCC00}3. {ffffff}ОПГ Южное","Выбрать","Закрыть");
		}
	}
	case 1986:
	{
	    if(response)
	    {
	        ShowPlayerDialog(playerid,1992,DSL,"{FFCC00}Выбор действия","{FFCC00}1. {ffffff}Установить металл\n{FFCC00}2. {ffffff}Установить патроны\n{FFCC00}3. {ffffff}Установить деньги\n{FFCC00}4. {ffffff}Установить наркотики","Далее","Назад");
	    }
	    else
		{
	        ShowPlayerDialog(playerid,1984,DSL,"{FFCC00}Список организаций","{FFCC00}1. {ffffff}Армия\n{FFCC00}2. {ffffff}ОПГ Ореховское\n{FFCC00}3. {ffffff}ОПГ Южное","Выбрать","Закрыть");
		}
	}
	case 1987:
	{
	    if(response)
	    {
	        ShowPlayerDialog(playerid,1997,DSL,"{FFCC00}Выбор действия","{FFCC00}1. {ffffff}Установить металл\n{FFCC00}2. {ffffff}Установить патроны\n{FFCC00}3. {ffffff}Установить деньги\n{FFCC00}4. {ffffff}Установить наркотики","Далее","Назад");
	    }
	    else
		{
	        ShowPlayerDialog(playerid,1984,DSL,"{FFCC00}Список организаций","{FFCC00}1. {ffffff}Армия\n{FFCC00}2. {ffffff}ОПГ Ореховское\n{FFCC00}3. {ffffff}ОПГ Южное","Выбрать","Закрыть");
		}
	}
	case 1992:
	{
	    if(response)
	    {
	        switch(listitem)
	        {
	            case 0:
	            {
	                ShowPlayerDialog(playerid,1993,DSI,"{FFCC00}Установить металл","{ffffff}Укажите кол-во металла .","Далее","Назад");
	            }
	            case 1:
	            {
	                ShowPlayerDialog(playerid,1994,DSI,"{FFCC00}Установить патроны","{ffffff}Укажите кол-во патронов .","Далее","Назад");
	            }
	            case 2:
	            {
	                ShowPlayerDialog(playerid,1995,DSI,"{FFCC00}Установить деньги","{ffffff}Укажите кол-во денег .","Далее","Назад");
	            }
	            case 3:
	            {
	                ShowPlayerDialog(playerid,1996,DSI,"{FFCC00}Установить наркотики","{ffffff}Укажите кол-во наркотики .","Далее","Назад");
	            }
	        }
	    }
	    else
	    {

	    }
	}
	case 1997:
	{
	    if(response)
	    {
	        switch(listitem)
	        {
	            case 0:
	            {
	                ShowPlayerDialog(playerid,1998,DSI,"{FFCC00}Установить металл","{ffffff}Укажите кол-во металла .","Далее","Назад");
	            }
	            case 1:
	            {
	                ShowPlayerDialog(playerid,1999,DSI,"{FFCC00}Установить патроны","{ffffff}Укажите кол-во патронов .","Далее","Назад");
	            }
	            case 2:
	            {
	                ShowPlayerDialog(playerid,2000,DSI,"{FFCC00}Установить деньги","{ffffff}Укажите кол-во денег .","Далее","Назад");
	            }
	            case 3:
	            {
	                ShowPlayerDialog(playerid,2001,DSI,"{FFCC00}Установить наркотики","{ffffff}Укажите кол-во наркотики .","Далее","Назад");
	            }
	        }
	    }
	    else
	    {
	        ShowPlayerDialog(playerid,1988,DSL,"{FFCC00}Выбор действия","{FFCC00}1. {ffffff}Установить металл\n{FFCC00}2. {ffffff}Установить патроны","Далее","Назад");
	    }
	}
	case 1998:
	{
	    if(response)
	    {
			new till = 0;
			if(sscanf(inputtext, "i", till)) return ShowPlayerDialog(playerid,1998,DSI,"{FFCC00}Установить металл","{ffffff}Укажите кол-во металла .","Далее","Назад");
			MafiaEd[1] = till;
			WHDataUpdate();
	    }
	}
	case 1999:
	{
	    if(response)
	    {
			new till = 0;
			if(sscanf(inputtext, "i", till)) return ShowPlayerDialog(playerid,1999,DSI,"{FFCC00}Установить патроны","{ffffff}Укажите кол-во патронов .","Далее","Назад");
			MafiaPatr[1] = till;
			WHDataUpdate();
	    }
	}
	case 2000:
	{
	    if(response)
	    {
			new till = 0;
			if(sscanf(inputtext, "i", till)) return ShowPlayerDialog(playerid,2000,DSI,"{FFCC00}Установить деньги","{ffffff}Укажите кол-во денег .","Далее","Назад");
			FracBank[5] = till;
			WHDataUpdate();
	    }
	}
	case 2001:
	{
	    if(response)
	    {
			new till = 0;
			if(sscanf(inputtext, "i", till)) return ShowPlayerDialog(playerid,2001,DSI,"{FFCC00}Установить наркотики","{ffffff}Укажите кол-во наркотики .","Далее","Назад");
			DrugsBank[TEAM_DINAMO] = till;
			WHDataUpdate();
	    }
	}
	case 1993:
	{
	    if(response)
	    {
			new till = 0;
			if(sscanf(inputtext, "i", till)) return ShowPlayerDialog(playerid,1993,DSI,"{FFCC00}Установить металл","{ffffff}Укажите кол-во металла .","Далее","Назад");
			MafiaEd[0] = till;
			WHDataUpdate();
	    }
	}
	case 1994:
	{
	    if(response)
	    {
			new till = 0;
			if(sscanf(inputtext, "i", till)) return ShowPlayerDialog(playerid,1994,DSI,"{FFCC00}Установить патроны","{ffffff}Укажите кол-во патронов .","Далее","Назад");
			MafiaPatr[0] = till;
			WHDataUpdate();
	    }
	}
	case 1995:
	{
	    if(response)
	    {
			new till = 0;
			if(sscanf(inputtext, "i", till)) return ShowPlayerDialog(playerid,1995,DSI,"{FFCC00}Установить деньги","{ffffff}Укажите кол-во денег .","Далее","Назад");
			FracBank[6] = till;
			WHDataUpdate();
	    }
	}
	case 1996:
	{
	    if(response)
	    {
			new till = 0;
			if(sscanf(inputtext, "i", till)) return ShowPlayerDialog(playerid,1996,DSI,"{FFCC00}Установить наркотики","{ffffff}Укажите кол-во наркотики .","Далее","Назад");
			DrugsBank[TEAM_SPARTAK] = till;
			WHDataUpdate();
	    }
	}
	case 1988:
	{
	    if(response)
	    {
	        switch(listitem)
	        {
	            case 0:
	            {
	                ShowPlayerDialog(playerid,1989,DSI,"{FFCC00}Установить металл","{ffffff}Укажите кол-во металла .","Далее","Назад");
	            }
	            case 1:
	            {
	                ShowPlayerDialog(playerid,1990,DSI,"{FFCC00}Установить патроны","{ffffff}Укажите кол-во патронов .","Далее","Назад");
	            }
	        }
	    }
	    else
	    {

	    }
	}
	case 1989:
	{
	    if(response)
	    {
			new till = 0;
			if(sscanf(inputtext, "i", till)) return ShowPlayerDialog(playerid,1989,DSI,"{FFCC00}Установить металл","{ffffff}Укажите кол-во металла .","Далее","Назад");
			gArmyWarehouse[0] = till;
			WHDataUpdate();
	    }
	}
	case 1990:
	{
	    if(response)
	    {
			new till = 0;
			if(sscanf(inputtext, "i", till)) return ShowPlayerDialog(playerid,1990,DSI,"{FFCC00}Установить патроны","{ffffff}Укажите кол-во патронов .","Далее","Назад");
			gArmyWarehouse[1] = till;
			WHDataUpdate();
	    }
	}
	case D_GANG+8:
	    {
	        if(!response) return 1;
			new till = 0;
			if(sscanf(inputtext, "i", till)) return ShowPlayerDialog(playerid, D_GANG+8, 1, "{FFCC00}Взять наркотики", "{FFFFFF}Введите количество грамм наркотиков:", "Принять", "Отмена");
   			new i = (PI[playerid][pMember] == TEAM_SPARTAK) ? (0) : (PI[playerid][pMember] == TEAM_CSKA) ? (1) : (PI[playerid][pMember] == TEAM_DINAMO) ? (2) : (PI[playerid][pMember] == TEAM_ZENIT) ? (3) : (4);
			if(till < 0 || till > DrugsBank[i]) return ShowPlayerDialog(playerid, D_GANG+8, 1, "{FFCC00}Взять наркотики", "{FFFFFF}Введите количество грамм наркотиков:", "Принять", "Отмена");
			if(PI[playerid][pDrugs]+till > 100) return SendClientMessage(playerid, COLOR_RED, "У Вас не может быть более 100 грамм наркотиков!");
			PI[playerid][pDrugs] += till;
			MysqlUpdatePlayerInt(playerid, "drugs", PI[playerid][pDrugs]);
			DrugsBank[i] -= till;
			new Query[96];
			format(Query, sizeof(Query), "UPDATE `gang` SET grovedrugs=%d,ballasdrugs=%d,rifadrugs=%d,aztecdrugs=%d,vagosdrugs=%d", DrugsBank[TEAM_SPARTAK], DrugsBank[TEAM_CSKA], DrugsBank[TEAM_DINAMO]);
			mysql_tquery(dbHandle, Query, "", "");
			new string[90];
			format(string, 90, "Вы взяли со склада банды наркотики (+%i)", till);
			SendClientMessage(playerid, COLOR_GREEN, string);
			if(PI[playerid][pSex] == 1) format(string, 90, "%s [%d] взял со склада банды %i гр. наркотиков", GetName(playerid), playerid, till);
			else format(string, 90, "%s [%d] взяла со склада банды %i гр. наркотиков", GetName(playerid), playerid, till);
			SendFMes(PI[playerid][pMember], COLOR_YELLOW2, string);
			return 1;
	    }
	case D_JOB+14:
		{
			if(!response) return 1;
			new i = GetPVarInt(playerid, "PlayerHouse");
			HouseInfo[i][hLock] = 0;
//			PlayerPlaySound(playerid, 1145, 0.0, 0.0, 0.0);
			GameTextForPlayer(playerid, "~g~unlock", 5000, 5);
			MeAction(playerid, "открывает замок дома");
			MysqlUpdateHouseInt(i, "hLock", HouseInfo[i][hLock]);
			SetPlayerPos(playerid,HouseInfo[i][hExitx],HouseInfo[i][hExity],HouseInfo[i][hExitz]);
			SetPlayerInterior(playerid,HouseInfo[i][hInt]);
			SetPlayerVirtualWorld(playerid,HouseInfo[i][hVirtual]);
			return 1;
		}
	case D_MAIL:
	    {
	        if(!response) return 1;
	        new	code = RandomEx(10000,99999);
			new string[300];
			format(string, sizeof(string), "%s?authkey=%s&email=%s&code=%d", ""PROJECT_SITE"", "Il5w3OwI47tb5h7GyisQvzHn", PI[playerid][pMail], code);
			new result = HTTP(0, HTTP_HEAD, string, "","");
			SetPVarInt(playerid, "authcode", code);
			if(!result) return SendClientMessage(playerid, COLOR_RED, "Произошла ошибка при http запросе");
			ShowPlayerDialog(playerid, D_MAIL+1, DIALOG_STYLE_INPUT, "{FFCC00}Потверждение почты", "{FFFFFF}Используйте сюда код который пришёл Вам на почту", "Принять", "Закрыть");
	    }
	case D_MAIL+1:
	    {
	        if(!response) return 1;
	        if(isNumeric(inputtext) || !strlen(inputtext)) return ShowPlayerDialog(playerid, D_MAIL+1, DIALOG_STYLE_INPUT, "{FFCC00}Потверждение почты", "{FFFFFF}Используйте сюда код который пришёл Вам на почту", "Принять", "Закрыть");
		    if(GetPVarInt(playerid,"authcode") != strval(inputtext)) return ShowPlayerDialog(playerid, D_MAIL+1, DIALOG_STYLE_INPUT, "{FFCC00}Потверждение почты", "{FFFFFF}Используйте сюда код который пришёл Вам на почту\n\n{FF0000}Неверный код, потвердите попытку ввода", "Принять", "Закрыть");
			SendMes(playerid, COLOR_YELLOW, "Вы успешно потвердили свою почту {FFFFFF}'%s'", PI[playerid][pMail]);
			PI[playerid][pMailConfirmed] = 1;
			MysqlUpdatePlayerInt(playerid, "mailconf", PI[playerid][pMailConfirmed]);
			DeletePVar(playerid, "authcode");
	    }
	case D_LICWEAPON:
		{
		    if(!response) return 1;
			if(GetMoney(playerid) < 30000) return SendClientMessage(playerid, COLOR_RED, "Недостаточно средств!");
			TransferMoney(playerid, -1, 30000);
			PI[playerid][pLic][3] = 1;
			ShowPlayerDialog(playerid, D_NULL, DIALOG_STYLE_MSGBOX, " ", "\n\n{FFFFFF}Вы успешно оформили лицензию на оружие\nТеперь Вам разрешено использовать оружие\n\n{F04245}За несоблюдение законов и правил обращения с оружием,\nУ Вас его могут изъять, вместе с лицензией, а также\nВы можете понести наказание по уголовному кодексу штата\n\n", "Ок", "");
		}
	case D_BIZPANEL:
        {
            if(!response) return 1;
            {
                ShowPlayerDialog(playerid, D_HEAL+10, 2, "{FFCC00}Меню бизнеса", "{FFCC00}1. {ffffff}Открыть/Закрыть бизнес\n{FFCC00}2. {ffffff}Изменить цены на товар\n{FFCC00}3. {ffffff}Изменить цену за вход\n{FFCC00}4. {ffffff}Продать бизнес\n{FFCC00}5. {ffffff}Заказать продукты", "Принять", "Отмена");
            }
        }
	case D_APANEL:
	    {
	        if(!response) return 1;
	        switch(listitem)
	        {
	            case 0:
	            {
	                if(PI[playerid][pAdmin] < ADM_GRAND_ADMIN) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
				    new year, month, day, string[100];
				    new current_date = getdate(year, month, day);
					SendClientMessage(playerid, COLOR_BLUE, "VIP игроки:");
					foreach(new i: Player)
					{
						if(!PlayerLogged[i] || !PI[i][pVip]) continue;
						format(string, sizeof(string), "- %s (осталось дн.: %i)", GetName(i), PI[i][pVipTime] - current_date);
						SendClientMessage(playerid, COLOR_WHITE, string);
					}
	            }
	            //case 1: callcmd::admins(playerid); // AFK
				case 1:
	            {
	                if(IsPlayerGrandAdmin(playerid))
	                {
                    	mysql_tquery(dbHandle, "SELECT * FROM "T_ADMIN" WHERE level > '0'", "AllAdmins", "i", playerid);
                    }
	            }
	            case 2: callcmd::ahelp(playerid);
	            case 3:
	            {
	                if(PI[playerid][pAdmin] < ADM_SUPER_ADMIN) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
				    new string[350];
				    format(string, sizeof(string), "{ffffff}Телепорт к себе\t\t| %s\n{ffffff}Телепорт себя\t\t\t| %s\n{ffffff}Слежка за собой\t\t| %s\nИнформация",
					(AdminInfo[playerid][admGoto]) ? ("{F04245}Запрещён") : ("{63BD4E}Разрешён"),
					(AdminInfo[playerid][admGethere]) ? ("{F04245}Запрещён") : ("{63BD4E}Разрешён"),
					(AdminInfo[playerid][admSpectate]) ? ("{F04245}Запрещена") : ("{63BD4E}Разрешена"));
					ShowPlayerDialog(playerid, D_APANEL+3, 2, "{FFCC00}Настройки администратора", string, "Выбрать", "Назад");
	            }
	            case 4:
				{
					if(!IsPlayerGrandAdmin(playerid))
						return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
				    
					new string[400];
				    format(string, sizeof(string), \
					"{FFCC00}[1]{FFFFFF}  Увеличение опыта: %d / payday\n\
					{FFCC00}[2]{FFFFFF}  Кредиты на каждый PayDay: %d\n\
					{FFCC00}[3]{FFFFFF}  Праздники \n\
					{FFCC00}[4]{FFFFFF}  Управление античитом \n\
					{FFCC00}[5]{FFFFFF}  {FF0000}[ОПАСНО!] CODE ACTION\n\
					{FFCC00}[6]{FFFFFF}  BrilliantID логи\n\
					{FFCC00}[7]{FFFFFF}  Управление онлайном",\
					EXP_BOOST,\
					DONATE_ON_PAYDAY,\
					NEWYEAR);
					return ShowPlayerDialog(playerid, D_APANEL+2, 2, "{FFCC00}Управление сервером", string, "Выбрать", "Назад");
				}
	        }
	    }
	case D_APANEL+2:
	    {
	        if(!response) return callcmd::apanel(playerid);
	        switch(listitem)
	        {
	            case 0: {
					ShowPlayerDialog(playerid, D_APANEL+5, DIALOG_STYLE_INPUT, "{FFCC00}Подтверждение акции\t\t\t{FFFFFF}Увеличение опыта", \
					"\t\t\t\t"newblue"Brilliant RP\n\n{FFFFFF} Введите количество EXP, которое будет выдаваться каждый PayDay,\n\
					дополнительно. Внимание! Число должно быть от 1 до 10!", "Подтвердить", "Назад");
				}
	            case 1: {
					ShowPlayerDialog(playerid, D_APANEL+6, DIALOG_STYLE_INPUT, "{FFCC00}Подтверждение акции\t\t\t{FFFFFF}Кредиты каждый PayDay", \
					"\t\t\t\t"newblue"Brilliant RP\n\n{FFFFFF} Введите количество кредитов, которое будет выдаваться каждый PayDay,\n\
					дополнительно. Внимание! Число должно быть от 1 до 100!", "Подтвердить", "Назад");
				}
				case 6: {
					format(STRING_GLOBAL, 250, "{ffcc00}Подключено %d ботов\nОграничитель онлайна: %d/1000\n{FFFFFF}- \tПодключить/отключить ботов\n- \tИзменить ограничитель", connected_bots, online_limiter);
					return ShowPlayerDialog(playerid, D_APANEL+7, DIALOG_STYLE_LIST, "{FFCC00}Управление сервером | Управление онлайном", \
					STRING_GLOBAL, "Далее", "Назад");
					
				}
				default: SendErr(playerid, "Еще в разработке!");
			}
			
	    }
	case D_APANEL+7:
	{
		if(!response) return callcmd::apanel(playerid);
		if(listitem == 2) {
			return ShowPlayerDialog(playerid, D_APANEL+8, DIALOG_STYLE_INPUT, "{FFCC00}Управление сервером | Управление онлайном | Подключить/отключить ботов",\
			"{FFFFFF}Чтобы изменить количество подключенных ботов, введите новое значение в это поле.\nУчтите, что боты будут занимать слоты онлайна, с их помощью можно резервировать места для администрации,\nтак как боты будут отключаться, чтобы администратор мог зайти.", "Ввести", "Отмена");
		} else if(listitem == 3) {
			return ShowPlayerDialog(playerid, D_APANEL+9, DIALOG_STYLE_INPUT, "{FFCC00}Управление сервером | Управление онлайном | Изменить ограничитель",\
			"{FFFFFF}Чтобы изменить ограничитель, введите новое значение в это поле.\nУчтите, что нельзя поставить ограничение больше, чем стоит от хостинга (хотя можно, но в этом нет смысла).\nЕсли новый ограничитель станет меньше, чем в настоящий момент игроков на сервере, то игроки будут кикнуты.", "Ввести", "Отмена");
		}
	}
	case D_APANEL+8:{
		if(!response) return callcmd::apanel(playerid);
		new newbots = strval(inputtext);
		if(newbots > online_limiter-GetOnlinePlayerCount()) return ShowPlayerDialog(playerid, D_APANEL+8, DIALOG_STYLE_INPUT, "{FFCC00}Управление сервером | Управление онлайном | Подключить/отключить ботов",\
			"{FFFFFF}Внимание! Введенное количество ботов больше, чем онлайн игроков и ограничитель онлайна! Введите число меньше!\n\n{FFFFFF}Чтобы изменить количество подключенных ботов, введите новое значение в это поле.\nУчтите, что боты будут занимать слоты онлайна, с их помощью можно резервировать места для администрации,\nтак как боты будут отключаться, чтобы администратор мог зайти.", "Ввести", "Отмена");
		if(newbots == connected_bots) return 1;
		if(newbots > connected_bots) for(new i, j = newbots - connected_bots; i < j; i++) ex_ConnectNPC();
		else {
			foreach(new i : Player) {
				if(!IsPlayerNPC(i)) continue;
				Kick(i);
				connected_bots--;
				if(connected_bots == newbots) break;
			}
		}
		

		connected_bots = strval(inputtext);
		

		new string[80];
		format(string, sizeof string, "Новое количество ботов на сервере - %d.", connected_bots);
		SendSucces(playerid, string);
		format(STRING_GLOBAL, 144, "[ADMIN] Администратор %s изменил количество ботов на сервере. Новое: %d.", GetName(playerid), connected_bots);
		SendAdminMessage(COLOR_GREY, STRING_GLOBAL);
		return callcmd::apanel(playerid);

	}
	case D_APANEL+9: {
		if(!response) return callcmd::apanel(playerid);
		online_limiter = strval(inputtext);
		new string[72];
		format(string, 72, "Ограничитель онлайна изменен. Новый: %d.", online_limiter);
		SendSucces(playerid, string);
		if(GetOnlinePlayerCount() > online_limiter) {
			foreach(new i : Player) {
				if(GetOnlinePlayerCount() == online_limiter) break;
				Kick(i);
			}
		}
		return callcmd::apanel(playerid);
	}
	case D_APANEL+6: {
		if(!response) return callcmd::apanel(playerid);
		if(strval(inputtext) == 0) {
			SendSucces(playerid, "Акция отключена.");
			DONATE_ON_PAYDAY = 0;
			SaveServerOptions();
			return 1;
		}
		if(strval(inputtext) > 100 || strval(inputtext) < 1) return SendErr(playerid, "Число должно быть от 1 до 100!");
		DONATE_ON_PAYDAY = strval(inputtext);
		format(STRING_GLOBAL, 144, "На сервере действует акция 'Кредиты каждый PayDay', Вы получаете %d кредитов каждый пейдей!", DONATE_ON_PAYDAY);
		SendClientMessageToAll(COLOR_YELLOW, STRING_GLOBAL);
		SaveServerOptions();
		return SendSucces(playerid, "Вы запустили акцию 'Кредиты каждый пейдей'!");
	}
	case D_APANEL+5: {
		if(!response) return callcmd::apanel(playerid);
		if(strval(inputtext) == 0) {
			SendSucces(playerid, "Акция отключена.");
			EXP_BOOST = 0;
			SaveServerOptions();
			return 1;
		}
		if(strval(inputtext) > 10 || strval(inputtext) < 1) return SendErr(playerid, "Число должно быть от 1 до 10!");
		EXP_BOOST = strval(inputtext);
		format(STRING_GLOBAL, 144, "На сервере действует акция x%d EXP!", EXP_BOOST);
		SendClientMessageToAll(COLOR_YELLOW, STRING_GLOBAL);
		SaveServerOptions();
		new strI[32], rcncmd[64];
		format(strI, sizeof(strI), ""SERVER_NAME" | x%d EXP!", EXP_BOOST);
		format(rcncmd, 64, "hostname %s", strI);
		SendRconCommand(rcncmd);
		return SendSucces(playerid, "Вы запустили акцию дополнительного опыта!");
	}
	case D_APANEL+3:
	    {
	        if(!response) return callcmd::apanel(playerid);
	        if(listitem < 3)
	        {
		        new string[350], Query[128];
		        switch(listitem)
		        {
		            case 0:
					{
						AdminInfo[playerid][admGoto] = (!AdminInfo[playerid][admGoto]) ? (1) : (0);
						format(Query, sizeof(Query), "UPDATE `admins` SET a_goto='%d' WHERE name='%s' LIMIT 1", AdminInfo[playerid][admGoto], GetName(playerid));
						mysql_tquery(dbHandle, Query, "", "");
					}
		            case 1:
		            {
						AdminInfo[playerid][admGethere] = (!AdminInfo[playerid][admGethere]) ? (1) : (0);
						format(Query, sizeof(Query), "UPDATE `admins` SET a_gethere='%d' WHERE name='%s' LIMIT 1", AdminInfo[playerid][admGoto], GetName(playerid));
						mysql_tquery(dbHandle, Query, "", "");
					}
					case 2:
					{
					    AdminInfo[playerid][admSpectate] = (!AdminInfo[playerid][admSpectate]) ? (1) : (0);
					    format(Query, sizeof(Query), "UPDATE `admins` SET a_spec='%d' WHERE name='%s' LIMIT 1", AdminInfo[playerid][admGoto], GetName(playerid));
						mysql_tquery(dbHandle, Query, "", "");
					}
		        }
			    format(string, sizeof(string), "{ffffff}Телепорт к себе\t\t| %s\n{ffffff}Телепорт себя\t\t\t| %s\n{ffffff}Слежка за собой\t\t| %s\nИнформация",
				(AdminInfo[playerid][admGoto]) ? ("{F04245}Запрещён") : ("{63BD4E}Разрешён"),
				(AdminInfo[playerid][admGethere]) ? ("{F04245}Запрещён") : ("{63BD4E}Разрешён"),
				(AdminInfo[playerid][admSpectate]) ? ("{F04245}Запрещена") : ("{63BD4E}Разрешена"));
				ShowPlayerDialog(playerid, D_APANEL+3, 2, "{FFCC00}Настройки администратора", string, "Выбрать", "Назад");
			}
			else
			{
			    switch(listitem)
				{
				    case 3: ShowPlayerDialog(playerid, D_APANEL+4, 0, "{FFCC00}Информация", "{FFFFFF}Данные запреты действуют только на администраторов младше 5 уровня.", "Назад", "");
				}
			}
	    }
	case D_APANEL+4:
	    {
	        if(response)
	        {
	            new string[350];
	            format(string, sizeof(string), "{ffffff}Телепорт к себе\t\t| %s\n{ffffff}Телепорт себя\t\t\t| %s\n{ffffff}Слежка за собой\t\t| %s\nИнформация",
				(AdminInfo[playerid][admGoto]) ? ("{F04245}Запрещён") : ("{63BD4E}Разрешён"),
				(AdminInfo[playerid][admGethere]) ? ("{F04245}Запрещён") : ("{63BD4E}Разрешён"),
				(AdminInfo[playerid][admSpectate]) ? ("{F04245}Запрещена") : ("{63BD4E}Разрешена"));
				ShowPlayerDialog(playerid, D_APANEL+3, 2, "{FFCC00}Настройки администратора", string, "Выбрать", "Назад");
	        }
	    }
//==============================================================================
	case D_JOB+201:
	    {
	        if(!response) return ShowPlayerMenuDialog(playerid);
	        switch(listitem)
	        {
	            case 0: ShowPlayerDialog(playerid, D_JOB+18, 1, "Смена пароля", "{FFFFFF}Введите ваш действующий пароль:", "Далее", "Отмена");
	            case 1:
	            {
	                SendClientMessage(playerid, COLOR_RED, "Временно недоступно");
	                /*if(!GetPVarInt(playerid, "authcode"))
	                {
	                	if(PI[playerid][pMailConfirmed]) return SendClientMessage(playerid, COLOR_RED, "Ваша почта уже потверждена!");
						ShowPlayerDialog(playerid, D_MAIL, DIALOG_STYLE_MSGBOX, "{FFCC00}Потверждение почты", "{FFFFFF}На почту, которую Вы указали при регистрации, отправлен код потверждения.", "Ок", "Закрыть");
					}
					else ShowPlayerDialog(playerid, D_MAIL+1, DIALOG_STYLE_INPUT, "{FFCC00}Потверждение почты", "{FFFFFF}Используйте сюда код который пришёл Вам на почту", "Принять", "Закрыть");*/
	            }
	            case 2:
	            {
	                if(PI[playerid][pCheckCode])
					{
					    PI[playerid][pCheckCode] = 0;
					    MysqlUpdatePlayerInt(playerid,"checkcode",PI[playerid][pCheckCode]);
						PlayerSecurity(playerid);
					}
					else ShowPlayerDialog(playerid, 12422, DIALOG_STYLE_INPUT, "{FFCC00}Графический пароль", "{FFFFFF}Графический пароль защищает ваш аккаунт, если Ваш IP адрес не совпадает с последним IP адресом.\nУбедитесь в правильности ввода данных и сделайте скриншот (F8).\nГрафический пароль может состоять только из 4 цифр!", "Принять", "Назад");
	            }
	            case 3:
	            {
	                if(PI[playerid][pCheckCode])
	                {
	                    new str[300], mes[30];
	                    switch(PI[playerid][pCheckCode])
	                    {
	                        case 1: mes = "Запрашивается всегда";
	                        case 2: mes = "При несовпадении IP адреса";
	                        case 3: mes = "При несовпадении подсети";
	                    }
	                    format(str, sizeof(str), "{FFCC00}- %s{FFFFFF}\n1. Запрашивать всегда\n2. При несовпадении IP адреса\n3. При несовпадении подсети", mes);
	                	ShowPlayerDialog(playerid, 12423, DIALOG_STYLE_LIST, "{FFCC00}Настройки графического пароля", str, "Выбрать", "Назад");
                	}
                	else SendClientMessage(playerid, COLOR_RED, "У Вас не установлен графический пароль!");
	            }
	        }
			// switch(listitem) {

			// 	case 0: {
			// 		if(PI[playerid][pCheckCode])
			//  		{

			// 			ShowPlayerDialog(playerid, SECURITY_CODE, DIALOG_STYLE_LIST, "", info[], button1[], button2[])
			//  		    PI[playerid][pCheckCode] = 0;
			//  		    MysqlUpdatePlayerInt(playerid,"checkcode",PI[playerid][pCheckCode]);
			// 			SendClientMessage(playerid, -1, "{FFCC00}Секретный код был отключен");
			//  			return PlayerSecurity(playerid);
			//  		}
			//  		else return ShowPlayerDialog(playerid, 12422, DIALOG_STYLE_INPUT, "{FFCC00}Графический пароль", "{FFFFFF}Графический пароль защищает ваш аккаунт, если Ваш IP адрес не совпадает с последним IP адресом.\nУбедитесь в правильности ввода данных и сделайте скриншот (F8).\nГрафический пароль может состоять только из 4 цифр!", "Принять", "Назад");
			// 	}



			// }
	    }
	case 12422:
		{
			if(!response) return PlayerSecurity(playerid);
			new day;
			if(sscanf(inputtext, "i", day)) return ShowPlayerDialog(playerid, 12422, DIALOG_STYLE_INPUT, "{FFCC00}Графический пароль", "{FFFFFF}Графический пароль защищает ваш аккаунт, если Ваш IP адрес не совпадает с последним IP адресом.\nУбедитесь в правильности ввода данных и сделайте скриншот (F8).\nГрафический пароль может состоять только из 4 цифр!", "Принять", "Назад");
			if(strlen(inputtext) != 4) return ShowPlayerDialog(playerid, 12422, DIALOG_STYLE_INPUT, "{FFCC00}Графический пароль", "{FFFFFF}Графический пароль защищает ваш аккаунт, если Ваш IP адрес не совпадает с последним IP адресом.\nУбедитесь в правильности ввода данных и сделайте скриншот (F8).\nГрафический пароль может состоять только из 4 цифр!", "Принять", "Назад");
			if(strfind(inputtext, "0", true) != -1)
			{
			    ShowPlayerDialog(playerid, 12422, DIALOG_STYLE_INPUT, "{FFCC00}Графический пароль", "{FFFFFF}Графический пароль защищает ваш аккаунт, если Ваш IP адрес не совпадает с последним IP адресом.\nУбедитесь в правильности ввода данных и сделайте скриншот (F8).\nГрафический пароль может состоять только из 4 цифр!", "Принять", "Назад");
				return SendClientMessage(playerid, COLOR_RED, "В графическом пароле нельзя использовать цифру 0");
			}
			PI[playerid][pSecurityCode] = day;
			PI[playerid][pCheckCode] = 2;
			SendMes(playerid, COLOR_LIME, "Ваш новый графический пароль: {ffffff}%i", day);
			SendClientMessage(playerid, COLOR_LIME, "Рекомендуется сделать скриншот. Клавиша: {ffffff}F8");
			MysqlUpdatePlayerInt(playerid,"securitycode",PI[playerid][pSecurityCode]);
			MysqlUpdatePlayerInt(playerid,"checkcode",PI[playerid][pCheckCode]);
		}
	case 12423:
	    {
	        if(!response) return PlayerSecurity(playerid);
			switch(listitem)
			{
				case 1:
				{
					PI[playerid][pCheckCode] = 1;
					SendClientMessage(playerid, COLOR_GREEN, "Графический пароль будет запрашиваться при каждом заходе на сервер");
				}
				case 2:
				{
				    PI[playerid][pCheckCode] = 2;
				    SendClientMessage(playerid, COLOR_GREEN, "Графический пароль будет запрашиваться при несовпадении IP адреса");
				}
				case 3:
				{
				    PI[playerid][pCheckCode] = 3;
				    SendClientMessage(playerid, COLOR_GREEN, "Графический пароль будет запрашиваться при несовпадении подсети");
				}
			}
			MysqlUpdatePlayerInt(playerid,"checkcode",PI[playerid][pCheckCode]);
	    }
	case D_JOB+18:
		{
			if(!response) return 1;
			new password[32];
			if(sscanf(inputtext, "s[32]",password)) return ShowPlayerDialog(playerid, D_JOB+18, 1, "{FFCC00}Смена пароля", "{ffffff}Введите ваш действующий пароль:", "Принять", "Отмена");
			if(strlen(password) < 6 || strlen(password) > 16)
			{
				SendClientMessage(playerid, COLOR_RED, "Количество символов от 6 до 16!");
				return ShowPlayerDialog(playerid, D_JOB+18, 1, "{FFCC00}Смена пароля", "{ffffff}Введите ваш действующий пароль:", "Принять", "Отмена");
			}
			if(IsTextRussian(password))
			{
				SendClientMessage(playerid, COLOR_RED, "Использовать русские символы запрещено!");
				return ShowPlayerDialog(playerid, D_JOB+18, 1, "{FFCC00}Смена пароля", "{ffffff}Введите ваш действующий пароль:", "Принять", "Отмена");
			}
			if(!strcmp(password, PI[playerid][pPassword], true)) ShowPlayerDialog(playerid, D_JOB+19, 1, "{FFCC00}Смена пароля", "{ffffff}Введите новый пароль от 5 до 16 символов", "Далее", "Отмена");
			else
			{
				SendClientMessage(playerid, COLOR_RED, "{ffffff}Сервер закрыл соединение! Для выхода из игры введите: /q(/quit)");
				Kick(playerid);
			}
		}
	case D_JOB+19:
		{
			if(!response) return 1;
			new password[32];
			if(sscanf(inputtext, "s[32]",password)) return ShowPlayerDialog(playerid, D_JOB+19, 1, "{FFCC00}Смена пароля", "{ffffff}Введите новый пароль:", "Принять", "Отмена");
			if(strlen(password) < 3 || strlen(password) > 16)
			{
				SendClientMessage(playerid, COLOR_RED, "Количество символов от 3 до 16!");
				return ShowPlayerDialog(playerid, D_JOB+19, 1, "{FFCC00}Смена пароля", "{ffffff}Введите новый пароль от 5 до 16 символов", "Далее", "Отмена");
			}
			if(IsTextRussian(password))
			{
				SendClientMessage(playerid, COLOR_RED, "Использовать русские символы запрещено!");
				return ShowPlayerDialog(playerid, D_JOB+19, 1, "{FFCC00}Смена пароля", "{ffffff}Введите новый пароль от 5 до 16 символов", "Далее", "Отмена");
			}
			strmid(PI[playerid][pPassword], password, 0, strlen(password), 32);
			SendMes(playerid, COLOR_BLUE, "Ваш новый пароль: {FFCC00}%s", inputtext);
			MysqlUpdatePlayerStr(playerid, "password", PI[playerid][pPassword]);
		}
		case D_JOB+20:
		{
			if(!response) return 1;
			new nickname[24];
			if(sscanf(inputtext, "s[24]", nickname)) return ShowPlayerDialog(playerid, D_JOB+20, 1, "{FFCC00}Смена нонРП ника", "{FFFFFF}Введите будущий ник\n\n{F04245}Возможно сменить только если У Вас нонРП ник!", "Принять", "Назад");
			if(strlen(nickname) < 3 || strlen(nickname) > 24) return SendClientMessage(playerid, COLOR_RED, "Длина ника не может быть меньше трех и больше 24 символов");
            if(IsLoginInvalid(nickname)) return SendClientMessage(playerid, COLOR_RED, "В нике найдены запрещенные символы/пробелы");
            if(IsTextRussian(nickname)) return SendClientMessage(playerid, COLOR_RED, "Ник должен содержать только латинские буквы");
			if(strfind(GetName(playerid), "_", true) != -1) return SendClientMessage(playerid, COLOR_RED, "Менять ник можно только если У Вас нонРП ник");
			if(strfind(nickname, "_", true) == -1) return SendClientMessage(playerid, COLOR_RED, "Новый ник должен быть формата Имя_Фамилия");
			format(query, sizeof(query), "SELECT * FROM `accounts` WHERE name = '%s'", nickname);
			mysql_tquery(dbHandle, query, "OnPlayerChangeName", "is", playerid, nickname);
		}
		case D_JOB+22:
		{
			if(!response) return 1;
			{
			   	PI[playerid][cModel] = 0;
				PI[playerid][cLock] = 1;
				PI[playerid][cColor][0] = PI[playerid][cColor][1] = 0;
				PI[playerid][cClass] = 0;
				PI[playerid][cFuel] = 100;
				PI[playerid][cPaintjob] = 3;
				PI[playerid][cProbeg] = 0.0;
				for(new i = 0; i < 14; i++) PI[playerid][cVehcoms][i] = 0;
				format(PI[playerid][cVehcom], 64, "%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d",
				PI[playerid][cVehcoms][0],PI[playerid][cVehcoms][1],PI[playerid][cVehcoms][2],
				PI[playerid][cVehcoms][3],PI[playerid][cVehcoms][4],PI[playerid][cVehcoms][5],
				PI[playerid][cVehcoms][6],PI[playerid][cVehcoms][7],PI[playerid][cVehcoms][8],
				PI[playerid][cVehcoms][9],PI[playerid][cVehcoms][10],PI[playerid][cVehcoms][11],
				PI[playerid][cVehcoms][12],PI[playerid][cVehcoms][13]);
				new string[128];
				format(string, sizeof(string), "Вы продали транспорт");
				SendClientMessage(playerid, COLOR_BLUE, string);
				format(string, sizeof(string), "На основной банковский счет переведено {ffffff}%d рублей.", PI[playerid][cCost] / 2);
				SendClientMessage(playerid, COLOR_LIME, string);
				TransferMoney(-1,playerid,PI[playerid][cCost] / 2);
				PI[playerid][pRegVehicle] = 0;
    			MysqlUpdatePlayerInt(playerid, "veh_reg", PI[playerid][pRegVehicle]);
    			MysqlUpdatePlayerStr(playerid, "veh_number", PI[playerid][pNumberVehicle]);
				format(string, sizeof(string), "Игрок %s продал транспорт %s [%i] за %d рублей", GetName(playerid), VehicleNames[GetVehicleModel(PI[playerid][PlayerCarID])-400], GetPlayerVehicleID(playerid), PI[playerid][cCost] / 2);
				SendLog("SellCar", string);
				if(PI[playerid][PlayerCarID] != INVALID_VEHICLE_ID)
				{
					DestroyVehicle(PI[playerid][PlayerCarID]);
					PI[playerid][PlayerCarID] = INVALID_VEHICLE_ID;
				}
				PI[playerid][cCost] = 0;
			}
			if(GetPlayerVehicleID(playerid) == PI[playerid][PlayerCarID][1])
			{
			   	PI[playerid][cModel][1] = 0;
				PI[playerid][cLock][1] = 1;
				PI[playerid][cColor1][0] = PI[playerid][cColor1][1] = 0;
				PI[playerid][cClass][1] = 0;
				PI[playerid][cFuel][1] = 100;
				PI[playerid][cPaintjob][1] = 3;
				for(new i = 0; i < 14; i++) PI[playerid][cVehcoms1][i] = 0;
				format(PI[playerid][cVehcom][1], 64, "%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d",
				PI[playerid][cVehcoms1][0],PI[playerid][cVehcoms1][1],PI[playerid][cVehcoms1][2],
				PI[playerid][cVehcoms1][3],PI[playerid][cVehcoms1][4],PI[playerid][cVehcoms1][5],
				PI[playerid][cVehcoms1][6],PI[playerid][cVehcoms1][7],PI[playerid][cVehcoms1][8],
				PI[playerid][cVehcoms1][9],PI[playerid][cVehcoms1][10],PI[playerid][cVehcoms1][11],
				PI[playerid][cVehcoms1][12],PI[playerid][cVehcoms1][13]);
				new string[128];
				format(string, sizeof(string), "Вы продали транспорт");
				SendClientMessage(playerid, COLOR_BLUE, string);
				format(string, sizeof(string), "На основной банковский счет переведено {ffffff}%d рублей.", PI[playerid][cCost] / 2);
				SendClientMessage(playerid, COLOR_LIME, string);
				TransferMoney(-1,playerid,PI[playerid][cCost][1] / 2);
				strmid(PI[playerid][pNumberVehicle1], "None", 0, strlen("None"), 20);
				MysqlUpdatePlayerStr(playerid, "veh_number1", PI[playerid][pNumberVehicle1]);
				format(string, sizeof(string), "Игрок %s продал транспорт %s [%i] за %d рублей", GetName(playerid), VehicleNames[GetVehicleModel(PI[playerid][PlayerCarID])-400], GetPlayerVehicleID(playerid), PI[playerid][cCost] / 2);
				SendLog("SellCar", string);
				SetVehicleNumberPlate(PI[playerid][PlayerCarID][1], PI[playerid][pNumberVehicle1]);
				if(PI[playerid][PlayerCarID][1] != INVALID_VEHICLE_ID)
				{
					DestroyVehicle(PI[playerid][PlayerCarID][1]);
					PI[playerid][PlayerCarID][1] = INVALID_VEHICLE_ID;
				}
				PI[playerid][cCost][1] = 0;
			}
		}
		case D_JOB+23:
		{
		    if(!response) return RemoveFromVehicle(playerid);
	        new arid = GetArendCarID(GetPlayerVehicleID(playerid));
	        if(arid != -1)
	        {
	        	if(GetPVarInt(playerid, "arendkey") == -1)
				{
		            if(ArendInfo[arid][aPlayerID] == INVALID_PLAYER_ID || !IsPlayerConnected(ArendInfo[arid][aPlayerID]))
		            {
				        if(GetMoney(playerid) >= ArendInfo[arid][aCost])
				        {
				            SetPVarInt(playerid, "arendkey", arid);
				            TransferMoney(playerid, -1, ArendInfo[arid][aCost]);
				            ArendInfo[arid][aPlayerID] = playerid;
				            SendClientMessage(playerid, COLOR_LIME, "Вы арендовали транспорт");
				        }
						else
						{
						    SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно денег");
						    RemoveFromVehicle(playerid);
						}
					}
					else
					{
					    SendClientMessage(playerid, COLOR_RED, "Этот транспорт уже арендуют");
					    RemoveFromVehicle(playerid);
					}
				}
				else
				{
					SendClientMessage(playerid, COLOR_RED, "Вы уже арендуете транспорт, для отмены аренды введите {FFFFFF}/unrent");
					RemoveFromVehicle(playerid);
				}
			}
		    return 1;
		}
		case D_JOB+24:
		{
			new targetid = GetPVarInt(playerid, "CarPlayer"), price = GetPVarInt(playerid, "CarPrice");
   			new numbercar = GetPVarInt(playerid,"NUMBERCAR");
			if(response)
			{
				if(GetMoney(playerid) < price)
				{
					SendMes(targetid, COLOR_RED, "У %s недостаточно средств!", GetName(playerid));
					DeletePVar(playerid, "CarPrice");
					DeletePVar(playerid, "CarPlayer");
					SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно денег!");
					return 1;
				}
				if(numbercar == 1)
				{
					SetPVarInt(playerid,"CModel",PI[playerid][cModel][0]);
					SetPVarInt(playerid,"CClass",PI[playerid][cClass][0]);
					SetPVarInt(playerid,"CFuel",PI[playerid][cFuel][0]);
					SetPVarInt(playerid,"CColor1",PI[playerid][cColor][0]);
					SetPVarInt(playerid,"CColor2",PI[playerid][cColor][1]);
					SetPVarInt(playerid,"CCost",PI[playerid][cCost][0]);
					SetPVarString(playerid,"CVehcom",PI[playerid][cVehcom][0]);
					SetPVarInt(playerid,"cPaintjob",PI[playerid][cPaintjob][0]);
					////////////////////////////////////////////////////////////////
					PI[playerid][cModel][0] = PI[targetid][cModel][0];
					PI[playerid][cClass][0] = PI[targetid][cClass][0];
					PI[playerid][cFuel][0] = PI[targetid][cFuel][0];
					PI[playerid][cColor][0] = PI[targetid][cColor][0];
					PI[playerid][cColor][1] = PI[targetid][cColor][1];
					PI[playerid][cCost][0] = PI[targetid][cCost][0];
					PI[playerid][cVehcom][0] = PI[targetid][cVehcom][0];
					sscanf(PI[playerid][cVehcom][0], "p<,>a<i>[14]", PI[playerid][cVehcoms]);
					PI[playerid][cPaintjob][0] = PI[targetid][cPaintjob][0];
					////////////////////////////////////////////////////////////////
					PI[targetid][cModel][0] = GetPVarInt(playerid, "CModel");
					PI[targetid][cClass][0] = GetPVarInt(playerid, "CClass");
					PI[targetid][cFuel][0] = GetPVarInt(playerid, "CFuel");
					PI[targetid][cColor][0] = GetPVarInt(playerid, "CColor1");
					PI[targetid][cColor][1] = GetPVarInt(playerid, "CColor2");
					PI[targetid][cCost][0] = GetPVarInt(playerid, "CCost");
					PI[targetid][cVehcom][0] = GetPVarInt(playerid, "CVehcom");
					sscanf(PI[targetid][cVehcom][0], "p<,>a<i>[14]",PI[targetid][cVehcoms]);
					PI[targetid][cPaintjob][0] = GetPVarInt(playerid, "cPaintjob");
					DestroyVehicle(PI[playerid][PlayerCarID][0]);
					LoadMyCar(playerid);
					DestroyVehicle(PI[targetid][PlayerCarID][0]);
					LoadMyCar(targetid);
					SendMes(playerid, COLOR_GREEN, "Вы обменялись транспортами с %s'ом. Ваша доплата: %i руб", GetName(targetid), price);
					SendMes(targetid, COLOR_GREEN, "%s обменялся транспортами с Вами. Доплата игрока: %i руб", GetName(playerid), price);
					SaveAccount(playerid);
					SaveAccount(targetid);
					TransferMoney(playerid, -1, price);
					TransferMoney(-1, targetid, price);
	    			strmid(PI[playerid][pNumberVehicle], "None", 0, strlen("None"), 20);
	    			MysqlUpdatePlayerStr(playerid, "veh_number", PI[playerid][pNumberVehicle]);
	    			strmid(PI[targetid][pNumberVehicle], "None", 0, strlen("None"), 20);
	    			MysqlUpdatePlayerStr(targetid, "veh_number", PI[targetid][pNumberVehicle]);
    			}
    			else if(numbercar == 2)
    			{
    			    SetPVarInt(playerid,"CModel",PI[playerid][cModel][1]);
					SetPVarInt(playerid,"CClass",PI[playerid][cClass][1]);
					SetPVarInt(playerid,"CFuel",PI[playerid][cFuel][1]);
					SetPVarInt(playerid,"CColor1",PI[playerid][cColor][0]);
					SetPVarInt(playerid,"CColor2",PI[playerid][cColor][1]);
					SetPVarInt(playerid,"CCost",PI[playerid][cCost][1]);
					SetPVarString(playerid,"CVehcom",PI[playerid][cVehcom][1]);
					SetPVarInt(playerid,"cPaintjob",PI[playerid][cPaintjob][1]);
					////////////////////////////////////////////////////////////////
					PI[playerid][cModel][1] = PI[targetid][cModel][1];
					PI[playerid][cClass][1] = PI[targetid][cClass][1];
					PI[playerid][cFuel][1] = PI[targetid][cFuel][1];
					PI[playerid][cColor1][0] = PI[targetid][cColor][0];
					PI[playerid][cColor1][1] = PI[targetid][cColor][1];
					PI[playerid][cCost][1] = PI[targetid][cCost][1];
					PI[playerid][cVehcom][1] = PI[targetid][cVehcom][1];
					sscanf(PI[playerid][cVehcom][1], "p<,>a<i>[14]", PI[playerid][cVehcoms1]);
					PI[playerid][cPaintjob][1] = PI[targetid][cPaintjob][1];
					////////////////////////////////////////////////////////////////
					PI[targetid][cModel][1] = GetPVarInt(playerid, "CModel");
					PI[targetid][cClass][1] = GetPVarInt(playerid, "CClass");
					PI[targetid][cFuel][1] = GetPVarInt(playerid, "CFuel");
					PI[targetid][cColor1][0] = GetPVarInt(playerid, "CColor1");
					PI[targetid][cColor1][1] = GetPVarInt(playerid, "CColor2");
					PI[targetid][cCost][1] = GetPVarInt(playerid, "CCost");
					PI[targetid][cVehcom][1] = GetPVarInt(playerid, "CVehcom");
					sscanf(PI[targetid][cVehcom][1], "p<,>a<i>[14]",PI[targetid][cVehcoms1]);
					PI[targetid][cPaintjob][1] = GetPVarInt(playerid, "cPaintjob");
					DestroyVehicle(PI[playerid][PlayerCarID][1]);
					LoadMyCar(playerid);
					DestroyVehicle(PI[targetid][PlayerCarID][1]);
					LoadMyCar(targetid);
					SendMes(playerid, COLOR_GREEN, "Вы обменялись транспортами с %s'ом. Ваша доплата: %i руб", GetName(targetid), price);
					SendMes(targetid, COLOR_GREEN, "%s обменялся транспортами с Вами. Доплата игрока: %i руб", GetName(playerid), price);
					SaveAccount(playerid);
					SaveAccount(targetid);
					TransferMoney(playerid, -1, price);
					TransferMoney(-1, targetid, price);
	    			strmid(PI[playerid][pNumberVehicle1], "None", 0, strlen("None"), 20);
	    			MysqlUpdatePlayerStr(playerid, "veh_number1", PI[playerid][pNumberVehicle1]);
	    			strmid(PI[targetid][pNumberVehicle1], "None", 0, strlen("None"), 20);
	    			MysqlUpdatePlayerStr(targetid, "veh_number1", PI[targetid][pNumberVehicle1]);
    			}
			}
			else SendMes(targetid, COLOR_RED, "%s отклонил предложение обменяться транспортом с Вами", GetName(playerid));
			DeletePVar(playerid, "CarPrice");
			DeletePVar(playerid, "CarPlayer");
			DeletePVar(playerid, "NUMBERCAR");
		}
	case D_JOB+30:
		{
            if(response)
			{
                strmid(PI[playerid][pReferal], "None", 0, strlen("None"), MAX_PLAYER_NAME);
				if(strlen(inputtext) < 1 || strlen(inputtext) > MAX_PLAYER_NAME) return ShowPlayerDialog(playerid, D_JOB+30, 1, "{FFCC00}Реферал",\
				"{FFFFFF}{ffffff}Введите имя игрока, пригласившего Вас на сервер\n\
				Если Вас никто не приглашал, то нажмите \"Пропустить\"\n\n\
				{FFCC00}Если Вы достигните 5 уровня,\n\
				то Ваш реферал получит 50 000 рублей", "Ок", "Пропустить");
				if(IsTextRussian(inputtext) || IsLoginInvalid(inputtext))
				{
					SendClientMessage(playerid, COLOR_RED, "Использовать русские символы запрещено!");
					return ShowPlayerDialog(playerid, D_JOB+30, 1, "{FFCC00}Реферал",\
					"{FFFFFF}{ffffff}Введите имя игрока, пригласившего Вас на сервер\n\
					Если Вас никто не приглашал, то нажмите \"Пропустить\"\n\n\
					{FFCC00}Если Вы достигните 5 уровня, то Ваш реферал получит 50 000 рублей", "Ок", "Пропустить");
				}
				SetPVarString(playerid, "Drug", inputtext);
				new Query[128];
				format(Query, sizeof(Query), "SELECT * FROM `accounts` WHERE name = '%s' LIMIT 1", inputtext);
				mysql_tquery(dbHandle, Query, "OnPlayerReferal", "i", playerid);
			}
			else
			{
				new name[MAX_PLAYER_NAME];
				GetPVarString(playerid, "Drug", name, sizeof(name));
				strmid(PI[playerid][pReferal], name, 0, strlen(name), MAX_PLAYER_NAME);
				ClothesRound[playerid] = 1;
				PlayerRegistered[playerid] = 1;
				SetHealth(playerid, 100);
				SetHunger(playerid, 100);
				PlayerLogged[playerid] = true;
				return SpawnPlayer(playerid);	
			}
		}
	case D_JOB+31:
		{
			if(!response) return 1;
			ClothesRound[playerid] = 2;
			InShopSkin[playerid] = GetPlayerVirtualWorld(playerid);
			SpawnPlayer(playerid);
		}
	case D_JOB+38:
		{
			if(!response) return 1;
			new Float:x, Float:y, Float:z, Float:fa, shop = GetPVarInt(playerid, "InShop");
			switch(shop)
			{
				case 1: x=2640.9773, y=-1909.2632, z=2328.1699, fa=270.6537;
				case 2: x=2640.9773, y=-1909.2632, z=2328.1699, fa=270.6537;
			}
			if(PI[playerid][SalonCarID] != INVALID_VEHICLE_ID) DestroyVehicle(PI[playerid][SalonCarID]);
			DeletePVar(playerid, "InShop");
			TogglePlayerControllable(playerid,true);
			for(new i; i < 19; i++)
			{
			    PlayerTextDrawHide(playerid,choicecars[playerid][i]);
			}
			FreezePlayer(playerid, 2000);
		    CancelSelectTextDraw(playerid);
			SetPlayerPos(playerid,x,y,z);
			SetPlayerFacingAngle(playerid,fa);
			SetPlayerInterior(playerid,1);
			SetPlayerVirtualWorld(playerid,0);
			SetCameraBehindPlayer(playerid);
		}
	case D_JOB+54:
		{
			if(!response) return 1;
			new color[2];
			if(sscanf(inputtext, "p<,>ii",color[0], color[1])) return ShowPlayerDialog(playerid, D_JOB+54, 1, "{FFCC00}Цвета транспорта", "{FFFFFF}Введите первый и второй цвет транспорта через запятую:", "Принять", "Отмена");
			if(color[0] < 0 || color[0] > 252)
			{
				ShowPlayerDialog(playerid, D_JOB+54, 1, "{FFCC00}Цвета транспорта", "{FFFFFF}Введите первый и второй цвет транспорта через запятую:", "Принять", "Отмена");
				return SendClientMessage(playerid, COLOR_RED, "ID цвета от 0 до 252!");
			}
			if(color[1] < 0 || color[1] > 252)
			{
				ShowPlayerDialog(playerid, D_JOB+54, 1, "{FFCC00}Цвета транспорта", "{FFFFFF}Введите первый и второй цвет транспорта через запятую:", "Принять", "Отмена");
				return SendClientMessage(playerid, COLOR_RED, "ID цвета от 0 до 252!");
			}
			ChangeVehicleColor(GetPlayerVehicleID(playerid), color[0], color[1]);
			for(new i = 0; i < 2; i++) colors[playerid][i] = color[i];
			return 1;
		}
		case D_JOB+55:
		{
			if(!response) return 1;
			new price;
			if(sscanf(inputtext, "i", price)) return ShowPlayerDialog(playerid, D_JOB+55, 1, "{FFCC00}Проезд", "{ffffff}Введите цену за проезд:", "Ок", "Отмена");
			if(price < 15 || price > 200)
			{
				SendClientMessage(playerid, COLOR_RED, "Цена проезда от 15 до 200!");
				return ShowPlayerDialog(playerid, D_JOB+55, 1, "{FFCC00}Проезд", "{ffffff}Введите цену за проезд:", "Ок", "Отмена");
			}
			SetPVarInt(playerid, "PriceBus", price);
			ShowPlayerDialog(playerid, D_JOB+56, 2, "{FFCC00}Маршрут", "Арзамас - Батырево\nВокзал - Шахта", "Принять", "Отмена");
		}
		case D_JOB+56:
		{
			if(!response) return 1;
			new vehicleid = GetPlayerVehicleID(playerid);
			PI[playerid][BusCarID] = vehicleid;
			TransferMoney(playerid, -1, 200);
			new name[30];
			switch(listitem)
			{
				//case 0: name = "пгт.Батырево - г.Южный";
				//case 1: name = "ЖД - Шахта";
				case 0: name = "Арзамас - Батырево";
				case 1: name = "Вокзал - Шахта";
			}
			new string[128];
			SetPVarInt(playerid, "TypeBus", listitem+1);
			format(string, 90, "{0099FF}%s\n{FFFFFF}Стоимость проезда: {FFCC00}%i руб", name, GetPVarInt(playerid, "PriceBus"));
			if(!IsValidDynamic3DTextLabel(BusText3D[playerid])) BusText3D[playerid] = CreateDynamic3DTextLabel(string, 0xffa500FF, 0.0, 0.0, 3.0, 20.0, INVALID_PLAYER_ID, vehicleid);
			pPressed[playerid] = 0;
			new i = pPressed[playerid], type = GetPVarInt(playerid, "TypeBus");
			switch(type)
			{
				case 1: SetPlayerRaceCheckpoint(playerid,0,arzamas_batirevo[i][0],arzamas_batirevo[i][1],arzamas_batirevo[i][2],arzamas_batirevo[i][3],arzamas_batirevo[i][4],arzamas_batirevo[i][5],5.0);
				case 2: SetPlayerRaceCheckpoint(playerid,0,BusCitySF[i][0],BusCitySF[i][1],BusCitySF[i][2],BusCitySF[i][3],BusCitySF[i][4],BusCitySF[i][5],5.0);
				case 3: SetPlayerRaceCheckpoint(playerid,0,BusCityLV[i][0],BusCityLV[i][1],BusCityLV[i][2],BusCityLV[i][3],BusCityLV[i][4],BusCityLV[i][5],5.0);
				case 4: SetPlayerRaceCheckpoint(playerid,0,BusSchool[i][0],BusSchool[i][1],BusSchool[i][2],BusSchool[i][3],BusSchool[i][4],BusSchool[i][5],5.0);
				case 5: SetPlayerRaceCheckpoint(playerid,0,BusLS[i][0],BusLS[i][1],BusLS[i][2],BusLS[i][3],BusLS[i][4],BusLS[i][5],5.0);
			}
			return 1;
		}
		case D_JOB+57:
		{
			if(!response) return 1;
			new price;
			if(sscanf(inputtext, "i",price)) return ShowPlayerDialog(playerid, D_JOB+57, 1, "{FFCC00}Тариф", "{ffffff}Введите стоимость проезда:", "Принять", "Отмена");
			if(price < 15 || price > 200)
			{
				SendClientMessage(playerid, COLOR_RED, "Цена проезда от 15 до 200");
				return ShowPlayerDialog(playerid, D_JOB+57, 1, "{FFCC00}Тариф", "{ffffff}Введите стоимость проезда:", "Принять", "Отмена");
			}
			new string[90];
			SendClientMessage(playerid, COLOR_BLUE, "Вы начали работу таксиста");
			SetPVarInt(playerid, "PriceTaxi", price);
			format(string, 90, "Тариф: {FFCC00}%i рублей", price);
			if(!IsValidDynamic3DTextLabel(TaxiText3D[playerid])) TaxiText3D[playerid] = CreateDynamic3DTextLabel(string, 0xFFFFFFFF, 0.0, 0.0, 1.24, 40.0, INVALID_PLAYER_ID, GetPlayerVehicleID(playerid));
			return 1;
		}
	case D_JOB+58:
		{
			if(!response) return RemoveFromVehicle(playerid);
			ShowPlayerDialog(playerid, D_JOB+55, 1, "{FFCC00}Проезд", "{FFFFFF}Введите стоимость проезда:", "Принять", "Отмена");
			return 1;
		}
	case D_JOB+59:
		{
		    if(!response) return RemoveFromVehicle(playerid);
		    if(GetPlayerState(playerid) != PLAYER_STATE_DRIVER) return 1;
		    new vehicleid = GetPlayerVehicleID(playerid);
			SendClientMessage(playerid, COLOR_GREEN, "Вы арендовали такси");
			PI[playerid][TaxiCarID] = vehicleid;
			TransferMoney(playerid, -1, 200);
			return 1;
		}
	case D_JOB+66:
		{
			if(!response) return RemoveFromVehicle(playerid);
		    if(GetPlayerState(playerid) != PLAYER_STATE_DRIVER) return 1;
		    new vehicleid = GetPlayerVehicleID(playerid);
			SendClientMessage(playerid, COLOR_GREEN, "Вы арендовали транспорт");
			PI[playerid][MechanicCarID] = vehicleid;
			TransferMoney(playerid, -1, 200);
			return 1;
		}
	case 11212:
		{
		    new vehicleid = GetPlayerVehicleID(playerid);
			new price = GetPVarInt(playerid,"truckprice");
			DeletePVar(playerid,"truckprice");
			if(GetMoney(playerid) < price) return SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно денег");
			if(!response || vehicleid == INVALID_VEHICLE_ID) return RemoveFromVehicle(playerid);
			PI[playerid][TruckerCarID] = vehicleid;
			TransferMoney(playerid, -1, price);
            SendClientMessage(playerid, COLOR_GREEN, "Вы арендовали грузовик. Используйте /tgps, чтобы найти один из пунктов загрузки");
			return 1;
		}
	case D_JOB+67:
		{
			new targetid = GetPVarInt(playerid, "PlayerMech"), price = GetPVarInt(playerid, "MechanicPrice");
			if(response)
			{
				if(GetPlayerState(playerid) == 2)
				{
					if(GetMoney(playerid) < price)
					{
						SendMes(targetid,COLOR_LIGHTBLUE, "У игрока %s недостаточно средств", GetName(playerid));
						DeletePVar(playerid, "PlayerMech");
						DeletePVar(playerid, "MechanicPrice");
						return 1;
					}
					SendMes(playerid,COLOR_LIME, "Вы приняли предложение от %s", GetName(targetid));
					SendMes(targetid,COLOR_LIGHTBLUE, "Вы отремонтировали авто %s за %d рублей", GetName(playerid),price);
					SetVehicleHealth(GetPlayerVehicleID(playerid),1000);
					RepairVehicle(GetPlayerVehicleID(playerid));
					DeletePVar(playerid, "PlayerMech");
					DeletePVar(playerid, "MechanicPrice");
					TransferMoney(playerid,-1,price);
					TransferMoney(-1,targetid,price);
				}
				else SendClientMessage(playerid, COLOR_LIGHTBLUE, "Вы должны находится в транспорте!");
			}
			else
			{
				SendMes(targetid, COLOR_LIGHTBLUE, "%s отклонил предложение починить транспорт за %i рублей", GetName(playerid), price);
				DeletePVar(playerid, "PlayerMech");
				DeletePVar(playerid, "MechanicPrice");
			}
		}
	case D_JOB+179:
	    {
			if(!response) return callcmd::donate(playerid);
			if(PI[playerid][pCredits] < 20) return SendClientMessage(playerid, COLOR_RED, "Недостаточно кредитов!");
			new nickname[24];
			if(sscanf(inputtext, "s[24]", nickname)) return ShowPlayerDialog(playerid, D_JOB+179, 1, "{FFCC00}Смена ника", "{FFFFFF}Введите будущий ник:", "Принять", "Назад");
			if(strlen(nickname) < 3 || strlen(nickname) > 24) return SendClientMessage(playerid, COLOR_RED, "Длина ника не может быть меньше трех и больше 24 символов");
            if(IsLoginInvalid(nickname)) return SendClientMessage(playerid, COLOR_RED, "В нике найдены запрещенные символы/пробелы");
            if(IsTextRussian(nickname)) return SendClientMessage(playerid, COLOR_RED, "Ник должен содержать только латинские буквы");
			if(strfind(nickname, "_", true) == -1) return SendClientMessage(playerid, COLOR_RED, "Новый ник должен быть формата Имя_Фамилия");
			format(query, sizeof(query), "SELECT * FROM `accounts` WHERE name = '%s'", nickname);
			mysql_tquery(dbHandle, query, "OnPlayerChangeDonateName", "is", playerid, nickname);
	    }
	case D_JOB+128:
		{
			if(!response) return true;
			new fuel;
			new bizz = BizzInfo[GetPVarInt(playerid, "FuelBizzID")][bTill] / 3;
			if(sscanf(inputtext, "i",fuel)) return ShowPlayerDialog(playerid, D_JOB+128, DIALOG_STYLE_INPUT, "{FFCC00}Топливо", "{FFFFFF}Введите количество литров топлива:", "Принять", "Отмена");
			if(fuel < 1 || fuel > 100)
			{
				SendClientMessage(playerid, COLOR_RED, "Топлива от 1 до 100 литров!");
				return ShowPlayerDialog(playerid, D_JOB+128, DIALOG_STYLE_INPUT, "{FFCC00}Топливо", "{FFFFFF}Введите количество литров топлива:", "Принять", "Отмена");
			}
			if(fuel+Fuel[GetPlayerVehicleID(playerid)] > 100)
			{
				SendMes(playerid, COLOR_RED, "Слишком много топлива. Рекомендуем: %i литров", 100-Fuel[GetPlayerVehicleID(playerid)]);
				return ShowPlayerDialog(playerid, D_JOB+128, DIALOG_STYLE_INPUT, "{FFCC00}Топливо", "{FFFFFF}Введите количество литров топлива:", "Принять", "Отмена");
			}
			if(fuel*bizz > GetMoney(playerid))
			{
				SendClientMessage(playerid, COLOR_RED, "Недостаточно средств!");
				return ShowPlayerDialog(playerid, D_JOB+128, DIALOG_STYLE_INPUT, "{FFCC00}Топливо", "{FFFFFF}Введите количество литров топлива:", "Принять", "Отмена");
			}
			new price = fuel*bizz;
			TransferMoney(playerid, -1, price);
			if(BizzInfo[GetPVarInt(playerid, "FuelBizzID")][bProduct] > 0)
			{
				BizzPay[GetPVarInt(playerid, "FuelBizzID")] += price/2;
				BizzInfo[GetPVarInt(playerid, "FuelBizzID")][bMoney] += price/2;
				BizzInfo[GetPVarInt(playerid, "FuelBizzID")][bProduct] -= fuel;
				MysqlUpdateBizzInt(BizzInfo[GetPVarInt(playerid, "FuelBizzID")][bID], "product", BizzInfo[GetPVarInt(playerid, "FuelBizzID")][bProduct]);
			}
			DeletePVar(playerid, "FuelBizzID");
			SendClientMessage(playerid, COLOR_BLUE, "Ваш транспорт заправлен");
			SetPVarInt(playerid, "Refueling", fuel);
			TogglePlayerControllable(playerid, false);
			
			Fuel[GetPlayerVehicleID(playerid)] ++;
			
			SetPVarInt(playerid, "Filling", GetPVarInt(playerid, "Filling") + 1);
			if(GetPVarInt(playerid, "Refueling") <= GetPVarInt(playerid, "Filling"))
			{
				DeletePVar(playerid, "Refueling");
				DeletePVar(playerid, "Filling");
				TogglePlayerControllable(playerid, true);
			}
			
			SaveAcc();
			return true;
		}
		case D_JOB+130:
		{
			new targetid = GetPVarInt(playerid, "MechanicPlayer"), price = GetPVarInt(playerid, "MechanicPrice");
			if(response)
			{
				if(GetPlayerState(playerid) == 2)
				{
					if(GetMoney(playerid) < price)
					{
						SendMes(targetid,COLOR_LIGHTBLUE, "У игрока %s недостаточно средств", GetName(playerid));
						DeletePVar(playerid, "MechanicPlayer");
						DeletePVar(playerid, "MechanicPrice");
						return SendClientMessage(playerid, COLOR_RED, "Недостаточно средств");
					}
					if(Fuel[GetPlayerVehicleID(playerid)] >= 150)
					{
						SendClientMessage(targetid, COLOR_BLUE, "У игрока достаточно бензина в баке");
						DeletePVar(playerid, "MechanicPlayer");
						DeletePVar(playerid, "MechanicPrice");
						return SendClientMessage(playerid, COLOR_RED, "У Вас достаточно бензина в баке");
					}
					TransferMoney(playerid, -1, price);
					PI[playerid][pBank] += price;
					SendMes(playerid, COLOR_BLUE, "Автомеханик %s заправил ваш транспорт за %i рублей", GetName(targetid), price);
					SendMes(targetid, COLOR_BLUE, "Вы заправили транспорт %s за %i рублей", GetName(playerid), price);
					Fuel[GetPlayerVehicleID(playerid)] = 150;
				}
				else SendClientMessage(playerid, COLOR_LIGHTBLUE, "Вы должны находится в транспорте!");
			}
			else
			{
				SendMes(targetid, COLOR_LIGHTBLUE, "%s отклонил предложение заправить транспорт за %i рублей", GetName(playerid), price);
				DeletePVar(playerid, "MechanicPlayer");
				DeletePVar(playerid, "MechanicPrice");
			}
		}
		case D_JOB+131:
		{
			if(!response) return 1;
			switch(listitem)
			{
			case 0:
	            {
			        new price, bank;
					if(sscanf(inputtext, "i",price)) return ShowPlayerDialog(playerid, D_JOB+133, 1, "{FFCC00}Положить деньги", "{FFFFFF}Введите количество денег:", "Положить", "Назад");
					if(price < 1 || price > GetMoney(playerid))
					{
						SendMes(playerid, COLOR_RED, "Количество доллларов от 1 до %i!", GetMoney(playerid));
						return ShowPlayerDialog(playerid, D_JOB+133, 1, "{FFCC00}Положить деньги", "{FFFFFF}Введите количество денег:", "Положить", "Назад");
					}
					if(sscanf(inputtext, "i",price)) return ShowPlayerDialog(playerid, D_JOB+132, 1, "{FFCC00}Снять деньги", "{FFFFFF}Введите количество денег:", "Принять", "Назад");
					if(PI[playerid][pMember] == TEAM_SMI) bank = FracBank[8];
					if(PI[playerid][pMember] == TEAM_MZA) bank = FracBank[9];
					//if(PI[playerid][pMember] == TEAM_LVNEWS) bank = FracBank[10];
					new sbank = bank+price;
					SendMes(playerid, COLOR_BLUE, "Вы положили %i рублей в сейф. Теперь в сейфе: %i рублей", price, sbank);
					TransferMoney(playerid, -1, price);
					if(PI[playerid][pMember] == TEAM_SMI) MysqlUpdateOtherInt("lsnbank", FracBank[8]),FracBank[8]+=price;
					if(PI[playerid][pMember] == TEAM_MZA) MysqlUpdateOtherInt("sfnbank", FracBank[9]),FracBank[9]+=price;
					//if(PI[playerid][pMember] == TEAM_LVNEWS) MysqlUpdateOtherInt("lvnbank", FracBank[10]),FracBank[10]+=price;
				}
			case 1:
			   	{
			   		if(PlayerLogged[playerid] == false) return 1;
			      	if(PI[playerid][pLeader] > 0)
			        {
						new price, bank;
						if(sscanf(inputtext, "i",price)) return ShowPlayerDialog(playerid, D_JOB+132, 1, "{FFCC00}Снять деньги", "{FFFFFF}Введите количество денег:", "Обналичить", "Назад");
						if(PI[playerid][pMember] == TEAM_SMI) bank = FracBank[8];
						if(PI[playerid][pMember] == TEAM_MZA) bank = FracBank[9];
						//if(PI[playerid][pMember] == TEAM_LVNEWS) bank = FracBank[10];
						if(price < 1 || price > bank)
						{
							SendMes(playerid, COLOR_RED, "Количество денег от 1 до %i!", bank);
							return ShowPlayerDialog(playerid, D_JOB+132, 1, "{FFCC00}Снять деньги", "{FFFFFF}Введите количество денег:", "Обналичить", "Назад");
						}
						SendMes(playerid, COLOR_BLUE, "Вы взяли %i рублей из сейфа. Остаток: %i рублей", price, bank-price);
						TransferMoney(-1, playerid, price);
						if(PI[playerid][pMember] == TEAM_SMI) MysqlUpdateOtherInt("lsnbank", FracBank[8]),FracBank[8]-=price;
						if(PI[playerid][pMember] == TEAM_MZA) MysqlUpdateOtherInt("sfnbank", FracBank[9]),FracBank[9]-=price;
						//if(PI[playerid][pMember] == TEAM_LVNEWS) MysqlUpdateOtherInt("lvnbank", FracBank[10]),FracBank[10]-=price;
					}
				}
			}
		}
	case D_JOB+132:
		{
			if(PlayerLogged[playerid] == false) return 1;
          	if(PI[playerid][pLeader] > 0)
	        {
				new price, bank;
				if(sscanf(inputtext, "i",price)) return ShowPlayerDialog(playerid, D_JOB+132, 1, "{FFCC00}Снять деньги", "{FFFFFF}Введите количество денег:", "Обналичить", "Назад");
				if(PI[playerid][pMember] == TEAM_SMI) bank = FracBank[8];
				if(PI[playerid][pMember] == TEAM_MZA) bank = FracBank[9];
				//if(PI[playerid][pMember] == TEAM_LVNEWS) bank = FracBank[10];
				if(price < 1 || price > bank)
				{
					SendMes(playerid, COLOR_RED, "Количество денег от 1 до %i!", bank);
					return ShowPlayerDialog(playerid, D_JOB+132, 1, "{FFCC00}Снять деньги", "{FFFFFF}Введите количество денег:", "Обналичить", "Назад");
				}
				SendMes(playerid, COLOR_BLUE, "Вы взяли %i рублей из сейфа. Остаток: %i рублей", price, bank-price);
				TransferMoney(-1, playerid, price);
				if(PI[playerid][pMember] == TEAM_SMI) MysqlUpdateOtherInt("lsnbank", FracBank[8]),FracBank[8]-=price;
				if(PI[playerid][pMember] == TEAM_MZA) MysqlUpdateOtherInt("sfnbank", FracBank[9]),FracBank[9]-=price;
				//if(PI[playerid][pMember] == TEAM_LVNEWS) MysqlUpdateOtherInt("lvnbank", FracBank[10]),FracBank[10]-=price;
			}
         	else SendClientMessage(playerid,COLOR_RED,"Вы не лидер");
			return 1;
		}
	case D_JOB+133:
		{
			new price, bank;
			if(sscanf(inputtext, "i",price)) return ShowPlayerDialog(playerid, D_JOB+133, 1, "{FFCC00}Положить деньги", "{FFFFFF}Введите количество денег:", "Положить", "Назад");
			if(price < 1 || price > GetMoney(playerid))
			{
				SendMes(playerid, COLOR_RED, "Количество доллларов от 1 до %i!", GetMoney(playerid));
				return ShowPlayerDialog(playerid, D_JOB+133, 1, "{FFCC00}Положить деньги", "{FFFFFF}Введите количество денег:", "Положить", "Назад");
			}
			if(sscanf(inputtext, "i",price)) return ShowPlayerDialog(playerid, D_JOB+132, 1, "{FFCC00}Снять деньги", "{FFFFFF}Введите количество денег:", "Принять", "Назад");
			if(PI[playerid][pMember] == TEAM_SMI) bank = FracBank[8];
			if(PI[playerid][pMember] == TEAM_MZA) bank = FracBank[9];
			//if(PI[playerid][pMember] == TEAM_LVNEWS) bank = FracBank[10];
			new sbank = bank+price;
			SendMes(playerid, COLOR_BLUE, "Вы положили %i рублей в сейф. Теперь в сейфе: %i рублей", price, sbank);
			TransferMoney(playerid, -1, price);
			if(PI[playerid][pMember] == TEAM_SMI) MysqlUpdateOtherInt("lsnbank", FracBank[8]),FracBank[8]+=price;
			if(PI[playerid][pMember] == TEAM_MZA) MysqlUpdateOtherInt("sfnbank", FracBank[9]),FracBank[9]+=price;
			//if(PI[playerid][pMember] == TEAM_LVNEWS) MysqlUpdateOtherInt("lvnbank", FracBank[10]),FracBank[10]+=price;
			return 1;
		}
	case D_JOB+136:
		{
			if(!response) return 1;
	   		switch(listitem)
	   		{
				case 0: SetPlayerSpecialAction(playerid,SPECIAL_ACTION_HANDSUP);
				case 1: SetPlayerSpecialAction(playerid,SPECIAL_ACTION_PISS);
			    case 2: SetPlayerSpecialAction(playerid,SPECIAL_ACTION_DANCE1);
			    case 3: SetPlayerSpecialAction(playerid,SPECIAL_ACTION_DANCE2);
			    case 4: SetPlayerSpecialAction(playerid,SPECIAL_ACTION_DANCE3);
			    case 5: SetPlayerSpecialAction(playerid,SPECIAL_ACTION_DANCE4);
			    case 6: ApplyAnimation(playerid,"DANCING","dnce_M_b",4.1,1,0,0,0,0,1);
				case 7: ApplyAnimation(playerid,"DANCING","dnce_M_a",4.1,1,0,0,0,0,1);
				case 8: ApplyAnimation(playerid,"DANCING","dnce_M_b",4.1,1,0,0,0,0,1);
				case 9: ApplyAnimation(playerid,"DANCING","DAN_Down_A",4.1,1,0,0,0,0,1);
				case 10: ApplyAnimation(playerid,"DANCING","DAN_Left_A",4.1,1,0,0,0,0,1);
				case 11: ApplyAnimation(playerid,"DANCING","DAN_Loop_A",4.1,1,0,0,0,0,1);
				case 12: ApplyAnimation(playerid,"SMOKING","M_smklean_loop",4.1,1,0,0,0,0,1);
				case 13: ApplyAnimation(playerid,"PED","fucku",4.1,0,0,0,0,0,1);
				case 14: ApplyAnimation(playerid,"INT_OFFICE","OFF_Sit_Crash",4.1,0,0,0,1,0,1);
				case 15: ApplyAnimation(playerid,"BEACH","ParkSit_W_Loop",4.1,1,0,0,1,0,1);
				case 16: ApplyAnimation(playerid,"PED","SEAT_down",4.1,0,0,0,1,0,1);
				case 17: ApplyAnimation(playerid,"BEACH","ParkSit_M_loop",4.1,1,0,0,1,0,1);
				case 18: ApplyAnimation(playerid,"BEACH","SitnWait_loop_W",4.1,1,0,0,1,0,1);
				case 19: ApplyAnimation(playerid,"BEACH","Lay_Bac_Loop",4.1,1,0,0,1,0,1);
				case 20: ApplyAnimation(playerid,"GANGS","hndshkba",4.1,0,0,0,0,0,1);
				case 21: ApplyAnimation(playerid,"ON_LOOKERS","WAVE_LOOP",4.1,1,1,1,0,0,1);
				case 22: ApplyAnimation(playerid,"BENCHPRESS","GYM_BP_CELEBRATE",4.1,1,1,1,0,0,1);
				case 23: ApplyAnimation(playerid,"GANGS","smkcig_prtl",4.1,0,0,0,0,0,1);
				case 24: ApplyAnimation(playerid,"DEALER","DEALER_DEAL",4.1,0,0,0,0,0,1);
				case 25: ApplyAnimation(playerid,"DEALER","DEALER_IDLE_01",4.1,0,0,0,0,0,1);
				case 26: ApplyAnimation(playerid,"DEALER","DEALER_IDLE_03",4.1,0,0,0,0,0,1);
				case 27: ApplyAnimation(playerid,"DEALER","DRUGS_BUY",4.1,0,0,0,0,0,1);
				case 28: ApplyAnimation(playerid,"RYDER","RYD_Die_PT1",4.1,1,1,0,0,0,1);
				case 29: ApplyAnimation(playerid,"MISC","plyr_shkhead",4.1,0,0,0,0,0,1);
				case 30: ApplyAnimation(playerid,"CRACK","Crckidle2",4.1,1,0,0,0,0,0);
				case 31: ApplyAnimation(playerid,"PED","cower",3.0,1,0,0,0,0);
		    }
		    SetPVarInt(playerid, "Animation", 1);
			TextDrawShowForPlayer(playerid, AnimDraw);
			return 1;
		}
	case D_JOB+139:
		{
		    if(!response) return 1;
			switch(listitem)
			{
			    case 0: ShowPlayerDialog(playerid, D_JOB+140, 2, "{FFCC00}Города", "{ffcc00}1. {ffffff}Южный\n{ffcc00}2. {ffffff}Арзамас\n{ffcc00}3. {ffffff}Батырево\n{ffcc00}4. {ffffff}Лыткарино\n{ffcc00}5. {ffffff}Эдово\n{ffcc00}6. {ffffff}Гарель", "Телепорт", "Назад");
			    case 1: ShowPlayerDialog(playerid, D_JOB+143, 2, "{FFCC00}Общественные места", "{ffcc00}1. {ffffff}Автосалон\t{3399FF}г. Арзамас\n{ffcc00}2. {ffffff}Вокзал\t{3399FF}г. Арзамас", "Телепорт", "Назад");
			    case 2: ShowPlayerDialog(playerid, D_JOB+141, 2, "{FFCC00}Работы", "{ffcc00}1. {ffffff}Водолазы\n{ffcc00}2. {ffffff}Шахта\n{ffcc00}3. {ffffff}Дальнобойщики\n{ffcc00}4. {ffffff}Водитель автобуса {0099FF}\t\tг. Арзамас\n{ffcc00}5. {ffffff}Комбайнеры\n{ffcc00}6. {ffffff}Грузчики", "Телепорт", "Назад");
			    case 3: ShowPlayerDialog(playerid, D_JOB+142, 2, "{FFCC00}Базы организаций", "{ffcc00}1. {ffffff}Администрация Области\n{ffcc00}2. {ffffff}Патрульно-постовая служба\n{ffcc00}3. {ffffff}Дорожно-постовая служба\n{ffcc00}4. {ffffff}Федеральная Служба Безопаности\n{ffcc00}5.{ffffff} Воинская Часть (ВДВ, г. Батырево)\n{ffcc00}6. {ffffff}Центральная Больница\n{ffcc00}7. {ffffff}Средство Массовой Информации {0099FF}Арзамас\n{ffcc00}8. {ffffff}Средство Массовой Информации {0099FF}Южный\n{ffcc00}9.{ffffff} ОПГ Южная\n{ffcc00}10.{ffffff} ОПГ Ореховская\n{ffcc00}11.{ffffff} ОПГ Солнцевская\n{ffcc00}12.{ffffff} Чеченская Мафия", "Телепорт", "Назад");
			}
		}
	case D_ALOGIN:
		{
			if(!response) return 1;
			new string[144];
			switch(GetPVarInt(playerid,"aLogin"))
			{
			case 1:
				{
					if(!strlen(inputtext)|| !strcmp(inputtext, "qwerty", true) || strlen(inputtext) < 6 || strlen(inputtext) > 16 || strfind(inputtext, "=", true) != -1)
					return ShowPlayerDialogEx(playerid, D_ALOGIN, DIALOG_STYLE_PASSWORD, "{3399FF} Регистрация администратора", "\
					{FFFFFF}Введите пароль, который будет от панели администратора\n\n\
					{3399FF}Примечание:\n\
					\t- Пароль должен состоять из латинских букв и цифр\n\
					\t- Размер пароля от 6 до 15 символов", "Принять", "Отмена");
					SetPVarString(playerid, "inputtext", inputtext);
					format(string, sizeof(string), "SELECT * FROM "T_ADMIN" WHERE `name` = '%s'", GetName(playerid));
					mysql_tquery(dbHandle, string, "AloginReg", "is", playerid, GetName(playerid));
				}
			case 0:
				{
					if(!strlen(inputtext)) return ShowPlayerDialogEx(playerid, D_ALOGIN, DIALOG_STYLE_PASSWORD, "{3399FF} Доступ администратора", "{FFFFFF}Введите Ваш пароль от панели администратора", "Принять", "Отмена");
					mysql_format(dbHandle, string, sizeof(string), "SELECT * FROM "T_ADMIN" WHERE `name` = '%s' AND `password` = '%e'", GetName(playerid), inputtext);
					mysql_tquery(dbHandle, string, "AloginAuth", "is", playerid, inputtext);
				}
			}
			return 1;
		}
	case D_JOB+140:
		{
			if(!response) return callcmd::tp(playerid);
			new Float:X, Float:Y, Float:Z, intid = 0, worldid = 0;
			switch(listitem)
			{
                case 0: X = 2549.8933, Y = -2189.6653, Z = 21.9676;
				case 1: X = 185.8267, Y = 793.0167, Z = 12.2403;
			    case 2: X = 1882.9900, Y = 2179.8164, Z = 15.8297;
			    case 3: X = -2177.2808, Y = -18.3449, Z = 27.0077;
			    case 4: X = -2346.8933, Y = 2506.1638, Z = 42.5932;
			    case 5: X = 2359.8779, Y = -223.5775, Z = 2.2314;
			}
			if (GetPlayerState(playerid) == 2) SetVehiclePos(GetPlayerVehicleID(playerid), X, Y, Z);
			else SetPlayerPos(playerid, X, Y, Z);
			SetPlayerInterior(playerid, intid);
			SetPlayerVirtualWorld(playerid, worldid);
			GameTextForPlayer(playerid, "~y~TELEPORT", 2000, 5);
		}
  	case D_JOB+143:
		{
			if(!response) return callcmd::tp(playerid);
			new Float:X, Float:Y, Float:Z, intid = 0, worldid = 0;
			switch(listitem)
			{
                case 0: X = 657.5516, Y = 978.7207, Z = 12.0600;
				case 1: X = 411.3846, Y = 1563.1683, Z = 12.0400;
			    case 2: X = 1882.9900, Y = 2179.8164, Z = 15.8297;
			    case 3: X = -2177.2808, Y = -18.3449, Z = 27.0077;
			    case 4: X = -2346.8933, Y = 2506.1638, Z = 42.5932;
			    case 5: X = 2359.8779, Y = -223.5775, Z = 2.2314;
			}
			if (GetPlayerState(playerid) == 2) SetVehiclePos(GetPlayerVehicleID(playerid), X, Y, Z);
			else SetPlayerPos(playerid, X, Y, Z);
			SetPlayerInterior(playerid, intid);
			SetPlayerVirtualWorld(playerid, worldid);
			GameTextForPlayer(playerid, "~y~TELEPORT", 2000, 5);
		}
    case D_JOB+141:
		{
		    if(!response) return callcmd::tp(playerid);
			new Float:X, Float:Y, Float:Z, intid = 0, worldid = 0;
			switch(listitem)
			{
				case 0: X = 2821.4341, Y = -1411.9084, Z = 2.9151;
				case 1: X = 1713.0626, Y = 1337.9641, Z = 11.9986;
				case 2: X = 788.1452, Y = 749.0098, Z = 12.0000;
				case 3: X = 405.4777, Y = 1493.9476, Z = 12.1203;
				case 4: X = 2321.7949, Y = 1427.4882, Z = 11.5000;
				case 5: X = 2355.1406, Y = -263.8434, Z = 2.7890;
			}
			if (GetPlayerState(playerid) == 2) SetVehiclePos(GetPlayerVehicleID(playerid), X, Y, Z);
			else SetPlayerPos(playerid, X, Y, Z);
			SetPlayerInterior(playerid, intid);
			SetPlayerVirtualWorld(playerid, worldid);
			GameTextForPlayer(playerid, "~y~TELEPORT", 2000, 5);
		}
    case D_JOB+142:
		{
		    if(!response) return callcmd::tp(playerid);
			new Float:X, Float:Y, Float:Z, intid = 0, worldid = 0;
			switch(listitem)
			{
				case 0: X = 1923.1288, Y = -2235.0562, Z = 11.2581;
				case 1: X= 403.5460, Y=753.8602, Z=12.0700; // ппс
				case 2: X= 2579.1819, Y=-2415.9722, Z=21.9888; // дпс
				case 3: X= 813.2831, Y=2435.4827, Z=12.2100; // фсб
				case 4: X= 1736.9955, Y=1763.2067, Z=15.3263; // вдв
				case 5: X= 2113.7607, Y=-2373.1204, Z=21.9430; // Центральная Больница
	   			//case 6: X= 2412.7063, Y=-1848.4103, Z=21.8574; // смп-а
				case 6: X= -318.1783, Y=823.2277, Z=13.0635; //трк арз
				case 7: X= 2127.4338, Y=-1956.5875, Z=20.2422; // трк южн
				case 8: X= 2060.9866, Y=-2587.8481, Z=10.8200; // южн
				case 9: X= 2621.0298, Y=1763.4601, Z=2.5900; // орех
				case 10: X= -43.4178, Y=1515.7999, Z=13.8203; // солнце
				case 11: X= 1947.3324, Y=2181.0271, Z=15.7100; // чечен
			}
			if (GetPlayerState(playerid) == 2) SetVehiclePos(GetPlayerVehicleID(playerid), X, Y, Z);
			else SetPlayerPos(playerid, X, Y, Z);
			SetPlayerInterior(playerid, intid);
			SetPlayerVirtualWorld(playerid, worldid);
			//case 3: ShowPlayerDialog(playerid, D_JOB+142, 2, "{FFCC00}Базы организаций", "{ffcc00}1. {ffffff}Администрация области\n{ffcc00}2. {ffffff}Патрульно-постовая служба\n{ffcc00}3. {ffffff}Дорожно-постовая служба\n{ffcc00}4. {ffffff}Федеральная Служба Безопаности\n{ffcc00}5.{ffffff} Воинская Часть (ВДВ, г. Батырево)\n{ffcc00}6. {ffffff}Скорая Медицинская Помощь {0099FF}г. Арзамас\n{ffcc00}7. {ffffff}Скорая Медицинская Помощь {0099FF}г. Южный\n{ffcc00}8. {ffffff}Средство Массовой Информации {0099FF}Арзамас{ffcc00}9. {ffffff}Средство Массовой Информации {0099FF}Южный\n{ffcc00}10.{ffffff} ОПГ Южная\n{ffcc00}11.{ffffff} ОПГ Ореховская\n{ffcc00}11.{ffffff} ОПГ Солнцевская\n{ffcc00}12.{ffffff} Чеченская Мафия", "Телепорт", "Назад");
		}
  	case D_BANYA:
		{
            if(!response) return 1;
    		if(PI[playerid][pCash] < 500) return SendClientMessage(playerid, COLOR_RED, "Недостаточно средств для покупки абонемента!");
    		GiveMoney(playerid, -500);
    		PI[playerid][pBanya] = 1;
    		return SendClientMessage(playerid, COLOR_BLUE, "Вы купили абонемент за 500 рублей");
		}
//==============================================================================
    case SelectSpawn:
		{
		    if(!response) return true;
		    switch(listitem)
		    {
		        case 0:
		        {
                    PI[playerid][pSpawnChange] = 0;
					FreezePlayer(playerid, 2000);
		            SpawnPlayer(playerid);
				}
				case 1:
				{
				    if(!GetPlayerHouse(playerid)) return ShowPlayerDialog(playerid, SelectSpawn, DIALOG_STYLE_LIST, "{FFCC00}Выберите спавн:", "- Вокзал\n- Дом\n- Квартира\n- База организации", "Выбрать", "Отмена"), SendClientMessage(playerid, COLOR_RED, "У Вас нет дома, попробуйте выбрать спавн в Квартире");
					PI[playerid][pSpawnChange] = 1;
					FreezePlayer(playerid, 4000);
					SpawnPlayer(playerid);
				}
				case 2:
				{
					if(PI[playerid][P_ENTRANCE] == -1 || PI[playerid][P_ROOM] == -1)
						return SendClientMessage(playerid, COLOR_RED, "У Вас нет квартиры");

					PI[playerid][pSpawnChange] = 4;
					SpawnPlayer(playerid);
                }
		        case 3:
		        {
					if(PI[playerid][pMember] == 0) return ShowPlayerDialog(playerid, SelectSpawn, DIALOG_STYLE_LIST, "{FFCC00}Выберите спавн:", "- Вокзал\n- Дом\n- Квартира\n- База организации", "Выбрать", "Отмена"), SendClientMessage(playerid, COLOR_RED, "Вы не состоите в организации!");
					PI[playerid][pSpawnChange] = 2;
					FreezePlayer(playerid, 4000);
					SpawnPlayer(playerid);
				}
				case 4:
				{
                    PI[playerid][pSpawnChange] = 3;
					FreezePlayer(playerid, 4000);
                    SpawnPlayer(playerid);
                }
			}
			return true;
		}
//==============================================================================
    case ArendTruckerDialog:
		{
			if(!response) return true;
			switch(listitem)
			{
			    case 0:
			    {
					ShowPlayerDialog(playerid,2034,DSM,"{FFCC00}ЗИЛ","{FFFFFF}Вы действительно хотите арендовать это авто за {FFFFFF}800 {ffffff}руб.","Аренда","Закрыть");
			    }
			    case 1:
			    {
					if(PI[playerid][pTruckLevel] >= 5)
					{
						ShowPlayerDialog(playerid,2035,DSM,"{FFCC00}КАМАЗ","{FFFFFF}Вы действительно хотите арендовать это авто за {FFFFFF}3400 {ffffff}руб.","Аренда","Закрыть");
					}
					else
					{
					    SCM(playerid,COLOR_RED,"Ваш уровень дальнобойщика мал");
					}
			    }
			    case 2:
			    {
					if(PI[playerid][pTruckLevel] >= 10)
					{
						ShowPlayerDialog(playerid,2036,DSM,"{FFCC00}КАЗ","{FFFFFF}Вы действительно хотите арендовать это авто за {FFFFFF}4600 {ffffff}руб.","Аренда","Закрыть");
					}
					else
					{
					    SCM(playerid,COLOR_RED,"Ваш уровень дальнобойщика мал");
					}
			    }
			    case 3:
			    {
					if(PI[playerid][pTruckLevel] >= 20)
					{
						ShowPlayerDialog(playerid,2037,DSM,"{FFCC00}International","{FFFFFF}Вы действительно хотите арендовать это авто за {FFFFFF}7200 {ffffff}руб.","Аренда","Закрыть");
					}
					else
					{
					    SCM(playerid,COLOR_RED,"Ваш уровень дальнобойщика мал");
					}
			    }
			}
  		}
	case 2034:
	{
	    if(!response) return 1;
		if(PI[playerid][pCash] < 800) return SendClientMessage(playerid, COLOR_RED, "Недостаточно денег для аренды!");
		GiveMoney(playerid, -800);
		SetPVarInt(playerid, "TruckerJob", 1);
		SetPVarInt(playerid, "TruckerJobRazgruzka", 1);
		// SetPVarInt(playerid, "TruckerJobTimeGoToCar", 45);
		SetPVarInt(playerid, "TruckerJobFuel", 1);
		TruckerCar[playerid] = CreateVehicleEx(403,781.5688,737.1736,16.3808,245.9893, 1, 1, -1);
		PutPlayerInVehicle(playerid, TruckerCar[playerid], 0);
		PI[playerid][TruckerCarID] = TruckerCar[playerid];
		CollisionForTruck(playerid);

		// TruckerGruz[playerid] = CreateVehicleEx(584,791.6150,606.0684,12.9925,66.0277, 202,1,1);
		return 1;
	}
	case 2035:
	{
	    if(!response) return 1;
		if(PI[playerid][pCash] < 3400) return SendClientMessage(playerid, COLOR_RED, "Недостаточно денег для аренды!");
		GiveMoney(playerid, -3400);
		SetPVarInt(playerid, "TruckerJob", 1);
		SetPVarInt(playerid, "TruckerJobRazgruzka", 1);
		SetPVarInt(playerid, "TruckerJobTimeGoToCar", 45);
		SetPVarInt(playerid, "TruckerJobFuel", 1);
		// TruckerGruz[playerid] = CreateVehicleEx(584,791.6150,606.0684,12.9925,66.0277, 202,1,1);
		TruckerCar[playerid] = CreateVehicleEx(514,781.5688,737.1736,16.3808,245.9893, 202,1,1);
		PI[playerid][TruckerCarID] = TruckerCar[playerid];
		CollisionForTruck(playerid);

		return 1;
	}
	case 2036:
	{
	    if(!response) return 1;
		if(PI[playerid][pCash] < 4600) return SendClientMessage(playerid, COLOR_RED, "Недостаточно денег для аренды!");
		GiveMoney(playerid, -4600);
		SetPVarInt(playerid, "TruckerJob", 1);
		SetPVarInt(playerid, "TruckerJobRazgruzka", 1);
		// SetPVarInt(playerid, "TruckerJobTimeGoToCar", 45);
		SetPVarInt(playerid, "TruckerJobFuel", 1);
		// TruckerGruz[playerid] = CreateVehicleEx(584,791.6150,606.0684,12.9925,66.0277, 202,1,1);
		TruckerCar[playerid] = CreateVehicleEx(515,781.5688,737.1736,16.3808,245.9893, 202,1,1);
		PI[playerid][TruckerCarID] = TruckerCar[playerid];
		PutPlayerInVehicle(playerid, TruckerCar[playerid], 0);
		CollisionForTruck(playerid);
		return 1;
	}
	case 2037:
	{
	    if(!response) return 1;
		if(PI[playerid][pCash] < 7200) return SendClientMessage(playerid, COLOR_RED, "Недостаточно денег для аренды!");
		GiveMoney(playerid, -7200);
		SetPVarInt(playerid, "TruckerJob", 1);
		SetPVarInt(playerid, "TruckerJobRazgruzka", 1);
		// SetPVarInt(playerid, "TruckerJobTimeGoToCar", 45);
		SetPVarInt(playerid, "TruckerJobFuel", 1);
		TruckerCar[playerid] = CreateVehicleEx(515,781.5688,737.1736,16.3808,245.9893, 202,1,1);
		PI[playerid][TruckerCarID] = TruckerCar[playerid];
		PutPlayerInVehicle(playerid, TruckerCar[playerid], 0);

		return 1;
	}
	case JobVodolaz://Работа водолаза
		{
            if(!response) return 1;
            SetPVarInt(playerid,"JobVodolazSkin",GetPlayerSkin(playerid));// Сохраним скин игрока
            if(PI[playerid][pSex] == 1) //муж
		    {
		       SetPlayerSkin(playerid,154);
            }
		    else
	        {
                SetPlayerSkin(playerid,140);
		    }
		    SetHealth(playerid, 100000);
		    SendClientMessage(playerid,COLOR_BLUE,"Вы начали работу водолаза!");
		    SendClientMessage(playerid,COLOR_LIME,"Ящики находится на дне моря, найдите их и подберите");
		    SendClientMessage(playerid,COLOR_LIME,"Нужно найти 2 ящика и тогда можно возвращаться на берег");
		    SendClientMessage(playerid,COLOR_LIME,"Если Вы уйдете далеко от места работы, то Ваша зарплата аннулируется");
            SetPVarInt(playerid,"InJobVodolaz",1);// Устанавливаем игроку работу.
		    SetPlayerAttachedObject(playerid, 5, 1010, 1, -0.023000,-0.071999,-0.020999,-84.700012,176.299942,1.700001,1.000000,1.000000,1.000000);
		 }
     case JobVodolaz1:
		 {
			SetPlayerSkin(playerid,GetPVarInt(playerid,"JobVodolazSkin"));
			RemovePlayerAttachedObject(playerid,1);
			RemovePlayerAttachedObject(playerid,2);
			RemovePlayerAttachedObject(playerid,8);
			RemovePlayerAttachedObject(playerid,5);
			new str[150];
			format(str,sizeof(str),"Рабочий день завершен!");
            SendClientMessage(playerid,0xFFFFFFFF,str);// Выводим текст
            format(str,sizeof(str),"Получено за работу: {00FF00}%i рублей",GetPVarInt(playerid,"JobVodolazYashiki")*2500);
            SendClientMessage(playerid,0xFFFFFFFF,str);// Выводим текст
            format(str,sizeof(str),"Ящиков поднято: {FFCC00}%d",GetPVarInt(playerid,"JobVodolazYashiki"));
            SendClientMessage(playerid,0xFFFFFFFF,str);// Выводим текст
            GiveMoney(playerid,GetPVarInt(playerid,"JobVodolazYashiki")*2500);// Выдаём деньги
            DeletePVar(playerid,"JobVodolazYashiki");// Удаляем PVar с колличеством вещей
            DeletePVar(playerid,"InJobVodolaz");
		    DeletePVar(playerid, "VodolazMeshok1");
		    DeletePVar(playerid, "VodolazMeshok2");
		    DeletePVar(playerid, "VodolazGoToSklad");
			SetHealth(playerid,100);
		}
	}
    return 1;
}
/*@_ShowPorchFlats(playerid);
@_ShowPorchFlats(playerid)
{
	new rows, fields;
	new cost, h_days, owner[MAX_PLAYER_NAME+1];
    cache_get_data(rows, fields);
	if(rows)
	{
		new string[41 + (38+MAX_PLAYER_NAME)*sizeof(PorchFlatsCoord)] = "Номер\t\tСтоимость\t\tОплачено\t\tСтатус\n";
		for(new idx = 1; idx < sizeof(PorchFlatsCoord); idx++)
		{	
			cache_get_row(idx-1, 0, owner, dbHandle, MAX_PLAYER_NAME+1); 
			cost = cache_get_row_int(idx-1, 1, dbHandle);
			h_days = cache_get_row_int(idx-1, 2, dbHandle);
			if(!strcmp(owner, "none", true)) owner = "{00FF00}Свободен";
			format(string, sizeof string, "%s{FFFFFF}\n№ %d\t\t%d\t\t\t%d дн.\t\t\t{FF0000}%s",string, idx, cost, h_days, owner);
		} 
		ShowPlayerDialog(playerid, 0, DIALOG_STYLE_MSGBOX, "{FFE726}Список квартир", string, "Закрыть", "");
	}
	
}*/

public OnPlayerCommandReceived(playerid, cmd[], params[], flags)
{
	if(PlayerLogged[playerid] == false) return 0;
	return 1;
}
//==============================================================================
CMD:mynumber(playerid, params[])
{
	if(IsPlayerInRangeOfPoint(playerid, 10, -101.0118,737.2228,1620.9200))
	{
		ShowPlayerDialog(playerid, D_NUMBER_MENU, DIALOG_STYLE_LIST, "{ffcc00}Получение номеров", "{ffcc00}1. {ffffff}Получить номера\n{ffcc00}2. {ffffff}Снять Т/С с учета", "Выбрать", "Отмена");
	}
	else SCM(playerid, COLOR_RED, "Вы должны находится в здании ДПС");
	return 1;
}
//==============================================================================
/*CMD:td_off(playerid, params[])
{
	for(new i; i < sizeof gps_support_td; i ++) TextDrawHideForPlayer(playerid, gps_support_td[i]);
//	for(new i; i < sizeof arzp_PTD; i ++) TextDrawHideForPlayer(playerid, arzp_PTD[i]);
}
CMD:td_on(playerid, params[])
{
	for(new i; i < sizeof gps_support_td; i ++) TextDrawShowForPlayer(playerid, gps_support_td[i]);
//	for(new i; i < sizeof arzp_PTD; i ++) TextDrawShowForPlayer(playerid, arzp_PTD[i]);
}*/
CMD:getnumber(playerid, params[])
{
	if(IsPlayerInRangeOfPoint(playerid, 10, -101.0118,737.2228,1620.9200))
	{
		if(PI[playerid][PlayerCarID] == INVALID_VEHICLE_ID) return SendClientMessage(playerid, COLOR_RED, "У Вас нет автомобиля");
		if(PI[playerid][pRegVehicle] == 1) return SendClientMessage(playerid, COLOR_RED, "У Вас уже имеется номерной знак на этом авто!");
		if(strlen(params) < 1 || params[0] != '1') return ShowPlayerDialog(playerid, D_CARNUMBER, DIALOG_STYLE_MSGBOX, "{FFCC00}Получение номеров", "{FFFFFF}Вы уверены что хотите поставить транспорт на учет?\nЦена: {FFCC00}25000 рублей", "Ок", "Отмена");
		//if(GetPVarInt(playerid, "get_number") > gettime()) return SCM(playerid, COLOR_RED, "Подождите %d сек.", (GetPVarInt(playerid, "get_number")-gettime()));
		new number[20];//, string[200];
		Delete3DTextLabel(VehicleLabel[PI[playerid][PlayerCarID]]);
		for(new i; i != 6; i++)
		{
			if(!i) number[i] = random('М' - 'А') + 'А';
			if(i >= 1 && i <=3) number[i] = random('9' - '0') + '0';
			if(i > 3) number[i] = random('М' - 'А') + 'А';
		}
		strmid(PI[playerid][pNumberVehicle], number, 0, strlen(number), 20);
		PI[playerid][pRegVehicle] = 1;
		VehicleLabel[PI[playerid][PlayerCarID]] = Create3DTextLabel(PI[playerid][pNumberVehicle], 0xFFFFFFFF, 0, 0, 0, 10.0, 0);
		Attach3DTextLabelToVehicle(VehicleLabel[PI[playerid][PlayerCarID]], PI[playerid][PlayerCarID], 0, 0, 0.2);
		SetVehicleNumberPlate(PI[playerid][PlayerCarID], "-----");
		GiveMoney(playerid, -25000);
		SendMes(playerid, COLOR_BLUE, "Вы получили гос.номера {FFFFFF}\"%s\" {0099FF}на свой транспорт", number);
		MysqlUpdatePlayerInt(playerid, "veh_reg", PI[playerid][pRegVehicle]);
		MysqlUpdatePlayerStr(playerid, "veh_number", PI[playerid][pNumberVehicle]);

		SetPVarInt(playerid, "get_number", gettime()+300);
	}
	else SCM(playerid, COLOR_RED, "Вы должны находится в здании ДПС");
	return 1;
}
//==============================================================================
CMD:delnumber(playerid)
{
	if(IsPlayerInRangeOfPoint(playerid, 10, -101.0118,737.2228,1620.9200))
	{
		if(PI[playerid][PlayerCarID] == INVALID_VEHICLE_ID) return SendClientMessage(playerid, COLOR_RED, "У Вас нет автомобиля");
		if(PI[playerid][pRegVehicle] == 0) return SendClientMessage(playerid, COLOR_RED, "Транспорт не зарегистрирован");
		Delete3DTextLabel(VehicleLabel[PI[playerid][PlayerCarID]]);
		format(PI[playerid][pNumberVehicle], 20, "[ НЕТ НОМЕРОВ ]");
		PI[playerid][pRegVehicle] = 0;
		VehicleLabel[PI[playerid][PlayerCarID]] = Create3DTextLabel(PI[playerid][pNumberVehicle], 0xFFFFFFFF, 0, 0, 0, 10.0, 0);
		Attach3DTextLabelToVehicle(VehicleLabel[PI[playerid][PlayerCarID]], PI[playerid][PlayerCarID], 0, 0, 0.2);
		SetVehicleNumberPlate(PI[playerid][PlayerCarID], "-----");

		MysqlUpdatePlayerInt(playerid, "veh_reg", PI[playerid][pRegVehicle]);
		MysqlUpdatePlayerStr(playerid, "veh_number", PI[playerid][pNumberVehicle]);

		SCM(playerid, COLOR_LIME, "Вы успешно сняли свой транспорт с учета!");
	}
	else SCM(playerid, COLOR_RED, "Вы должны находится в здании ДПС");
	return 1;
}
CMD:findcar(playerid)
{
    new Float:pos[3], locname[30];
    if(PI[playerid][cModel][0] == 0)
	    return SendClientMessage(playerid,COLOR_RED,"У Вас нет автомобиля");
    if(PI[playerid][PlayerCarID][0] == INVALID_VEHICLE_ID)
	    return SendClientMessage(playerid, COLOR_RED, "Ваш автомобиль не создан, введите: /car");
    GetVehiclePos(PI[playerid][PlayerCarID],pos[0],pos[1],pos[2]);
	locname = "Автомобиль №1";
	GPSPlayer_(playerid, pos[0],pos[1],pos[2], locname);
	return true;
}
CMD:gpsavto(playerid) return callcmd::findcar(playerid);
/*CMD:fixcar(playerid)
{
	new full = 0;
	foreach(new i: Player)
	{
		if(!IsPlayerConnected(i)) continue;
		if(IsPlayerInVehicle(i, GetPlayerCar(playerid))) full++; break;
	}
	if(full != 0) return SendClientMessage(playerid, COLOR_RED, "В транспорте находится игрок");
	DestroyVehicleOP(GetPlayerCar(playerid));
	LoadMyCar(playerid);
	SendClientMessage(playerid, COLOR_LIME, "Ваш транспорт был доставлен на парковку около дома / подъезда");
	SendClientMessage(playerid, COLOR_LIME, "Чтобы найти транспорт, введите: {FFFFFF}/gpsavto");
	return true;
}*/
CMD:car(playerid, params[])
{
	//new h = GetPlayerHouse(playerid) || GetPlayerPorchHouse(playerid);
	new h = GetPlayerHouse(playerid);
	if(!h) return SendClientMessage(playerid, COLOR_RED, "У Вас нет дома/квартиры");
	if(PI[playerid][cModel] < 400) return SendClientMessage(playerid, COLOR_RED, "У Вас нет автомобиля");
	if(PI[playerid][PlayerCarID] == INVALID_PLAYER_ID) LoadMyCar(playerid);

	if(strval(params) == 1)
	{
		if(PI[playerid][pCash] < 10000) return SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно денег");
		else TransferMoney(playerid,-1, 10000);

		/*SetPlayerPosEx(playerid, HouseInfo[h][hCarx], HouseInfo[h][hCary], HouseInfo[h][hCarz]);
		foreach(new i : Player)
		{
			if(GetPlayerVehicleID(i) == PI[playerid][PlayerCarID]) RemovePlayerFromVehicle(i);
		}
		DestroyVehicleOP(GetPlayerCar(playerid));
		SetVehiclePos(PI[playerid][PlayerCarID], HouseInfo[h][hCarx], HouseInfo[h][hCary], HouseInfo[h][hCarz]);
		SetVehicleZAngle(PI[playerid][PlayerCarID], HouseInfo[h][hCarfa]);
		SetVehicleVirtualWorld(PI[playerid][PlayerCarID], 0);
		LinkVehicleToInterior(PI[playerid][PlayerCarID], 0);
		Engine[PI[playerid][PlayerCarID]] = Lights[PI[playerid][PlayerCarID]] = false;
		IsLocked[PI[playerid][PlayerCarID]] = true;
		VehicleArentPlayer[PI[playerid][PlayerCarID]] = INVALID_PLAYER_ID;*/
		DestroyVehicleOP(GetPlayerCar(playerid));
		LoadMyCar(playerid);
		SendClientMessage(playerid, COLOR_LIME, "Ваш транспорт был доставлен на парковку около дома / подъезда");
		SendClientMessage(playerid, COLOR_LIME, "Чтобы найти транспорт, введите: {FFFFFF}/gpsavto");
	}
	else ShowPlayerDialog(playerid, D_HOME+3, 0, "{FFCC00}Доставка транспорта", "{FFFFFF}Вы хотите чтобы Ваш транспорт доставили к дому?\nЦена: {FFCC00}10000 рублей", "Да", "Нет");

	return 1;
}

CMD:untow(playerid)
{
	if(IsPlayerConnected(playerid))
	{
		new vehplid=GetPlayerVehicleID(playerid);
		DetachTrailerFromVehicle(vehplid);
		SendClientMessage(playerid, COLOR_GRAD1, "Вы отцепили тросс от авто");
	}
	return 1;
}
CMD:towncar(playerid)
{
	if(IsPlayerConnected(playerid))
	{
		if(GetVehicleModel(GetPlayerVehicleID(playerid)) == 509 || GetVehicleModel(GetPlayerVehicleID(playerid)) == 510 || GetVehicleModel(GetPlayerVehicleID(playerid)) == 462 || GetVehicleModel(GetPlayerVehicleID(playerid)) == 481 || GetVehicleModel(GetPlayerVehicleID(playerid)) == 522) return SendClientMessage(playerid, COLOR_GREY, "На это транспортное средство нельзя установить трос!");
		new vehplid=GetPlayerVehicleID(playerid);
		new Float:plAngle;    GetVehicleZAngle(vehplid, plAngle);
		new Float:crAngle,Float:Angle,Float:Angle2;
		//====================
		new Float:posx, Float:posy, Float:posz;
		new Float:oldposx, Float:oldposy, Float:oldposz;
		new Float:tempposx, Float:tempposy, Float:tempposz;
		new Float:Radi=6.0;        //Расстояние от тачки
		new Float:AngRange=90.0;    //максимальный радиус
		//======================
		for(new i = 0; i < MAX_VEHICLES; i++)   //700
		{
			if(i == vehplid) continue;    //себя цеплять ненадо
			GetVehiclePos(vehplid, posx, posy, posz); //координаты тачки
			GetVehiclePos(i, oldposx, oldposy, oldposz); //координаты ближайшей
			tempposx = (oldposx -posx);
			tempposy = (oldposy -posy);
			tempposz = (oldposz -posz);
			if (((tempposx < Radi) && (tempposx > -Radi)) && ((tempposy < Radi) && (tempposy > -Radi)) && ((tempposz < Radi) && (tempposz > -Radi)))
			{
				GetVehicleZAngle(i, crAngle);
				Angle = (plAngle -crAngle);
				Angle2= (Angle-180.0);
				if (( ((Angle < AngRange) && (Angle > -AngRange)) || ((Angle2 < AngRange) && (Angle2 > -AngRange)) ))
				{
					AttachTrailerToVehicle(i, vehplid);
					new string[128];
					format(string,sizeof(string),"Автомобиль подцеплен. Отцепить: /untown");
					SendClientMessage(playerid, COLOR_GRAD1, string);
					return 1;
				}
			}
		}
		SendClientMessage(playerid, COLOR_GRAD1, " * Подъедьте поближе к автомобилю.");
		return 1;
	}
	return 1;
}
//==============================================================================
cmd:createradar(playerid)
{
	//if(admin_ban_time[playerid] > 0) return SendErr(playerid, "Ваши админ-действия на сервере заблокированы");
	if(PI[playerid][pAdmin] > 6)
	{
		ShowPlayerDialogEx(playerid, D_RADAR, DIALOG_STYLE_LIST, "{0099FF}>> Создание радара","\
			{FFFFFF}1. Дворовая территория {99CC00}(Макс. доп. скорость: 20км/ч)\n\
			{FFFFFF}2. Населенные пункты {99CC00}(Макс. доп. скорость: 60км/ч)\n\
			{FFFFFF}3. Автомагистрали {99CC00}(Макс. доп. скорость: 110км/ч)\n\
			{FFFFFF}4. Вне населенных пунктов(ост. дороги): {99CC00}(Макс. доп. скорость: 90км/ч)",
		"Выбрать","Отмена");
	}
	else SendClientMessage(playerid,COLOR_GREEN,"Радар имеет право устанавливать только Гл.Администратор сервера");
	return 1;
}
//==============================================================================
CMD:mycar(playerid)
{
    if(PI[playerid][pAdmin] < ADM_MODER) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(PI[playerid][PlayerCarID] == INVALID_VEHICLE_ID) return SendClientMessage(playerid, COLOR_RED, "У Вас нет автомобиля");
	PutPlayerInVehicle(playerid, PI[playerid][PlayerCarID], 0);
	return 1;
}
CMD:buymet(playerid)
{
	if(IsPlayerInRangeOfPoint(playerid, 8.0, 1646.49, 1409.40, 12.00))
	{
		if(IsPlayerInVehicle(playerid, 578))
		{
			ShowPlayerDialog
			(
				playerid, DIALOG_BUY_METALL, DIALOG_STYLE_MSGBOX,
				"{FFCC00}Шахта",
				"{ffffff}Вы действительно хотите купить {FFCC00}500 кг. {FFFFFF}металла за {FFFFFF}4000 рублей?",
				"Да", "Нет"
			);
		}
	}
}

CMD:pov(playerid, params[])
{
    if(!IsPlayerConnected(playerid)) return 1;
    switch(switch_fp[playerid])
    {
        case false:
        {
            switch_fp[playerid] = true, SendClientMessage(playerid, COLOR_LIME, "Вы включили вид от 1-го лица");
            FirstPerson[playerid] = CreateObject(19300, 0, 0, 0, 0, 0, 0);
            ChangeView(playerid, 0, GetPlayerState(playerid));
        }
        case true: switch_fp[playerid] = false, SetCameraBehindPlayer(playerid), SendClientMessage(playerid, COLOR_LIME, "Вы выключили вид от 1-го лица");
    }
    return 1;
}
/*CMD:fmenu(playerid)
{
    new String[156];
    //if(PI[playerid][pLogin] == 0) return true;
    if(PI[playerid][pFamily] == 0) return SendClientMessage(playerid, COLOR_RED,"Вы не состоите не в какой семье");
    //
    format(String, sizeof(String), "1. Информация о семье\n2. {FFA54F}Покинуть семью{FFFFFF}\n3. Изменить цвет рации семьи\n4. Смена названия семьи\n5. Члены семьи онлайн: %d\n6. Склад", family_info [PI[playerid][pFamily]] [f_online]);
	ShowPlayerDialog(playerid, 702, DIALOG_STYLE_LIST, "{FFCC00}Меню семьи", String, "Выбор", "Выход");
    return true;
}*/

/*CMD:fmenu(playerid)
{
	STRING_GLOBAL = "";
	if(PI[playerid][pFamily] == 0) return SendClientMessage(playerid, COLOR_RED,"Вы не состоите ни в какой семье");
	new famonline = 0;
    foreach(new i: Player)
	{
		if(PI[playerid][pFamily] == PI[i][pFamily]) famonline++;
	}
	if(family_info [ PI[playerid][pFamily] ] [ f_spawn_virt ] == 0)
	{
	    format(STRING_GLOBAL, 400, "{FFCC00}1. {FFFFFF}Информация о семье\n{FFCC00}2. {FFFFFF}Покинуть семью\n{FFCC00}3. {FFFFFF}Изменить цвет рации семьи\n{FFCC00}4. {FFFFFF}Смена названия семьи\n{FFCC00}5. {FFFFFF}Дом семьи: {FF6347}Нет{FFFFFF}\n{FFCC00}6. {FFFFFF}Общак семьи\n{FFCC00}7. {FFFFFF}Автопарк семьи\n{FFCC00}8. {FFFFFF}Весь состав семьи\n{FFCC00}9. {FFFFFF}Члены семьи онлайн: {FFCC00}%d{FFFFFF} человек(а)", famonline);
		ShowPlayerDialogEx(playerid, 702, DIALOG_STYLE_LIST, "{FFCC00} Меню семьи", STRING_GLOBAL, "Выбор", "Выход");
	}
	else
	{
	    format(STRING_GLOBAL, 400, "{FFCC00}1. {FFFFFF}Информация о семье\n{FFCC00}2. {FFFFFF}Покинуть семью\n{FFCC00}3. {FFFFFF}Изменить цвет рации семьи\n{FFCC00}4. {FFFFFF}Смена названия семьи\n{FFCC00}5. {FFFFFF}Дом семьи: {FFCC00}№%d{FFFFFF}\n{FFCC00}6. {FFFFFF}Общак семьи\n{FFCC00}7. {FFFFFF}Автопарк семьи\n{FFCC00}8. {FFFFFF}Весь состав семьи\n{FFCC00}9. {FFFFFF}Члены семьи онлайн: {FFCC00}%d{FFFFFF} человек(а)", family_info [ PI[playerid][pFamily] ] [ f_spawn_virt ], famonline);
		ShowPlayerDialogEx(playerid, 702, DIALOG_STYLE_LIST, "{FFCC00} Меню семьи", STRING_GLOBAL, "Выбор", "Выход");
	}
	return 1;
}*/

/*CMD:family(playerid, params[])
{
	new familyid = PI[playerid][P_FAMILY];

	if(familyid == 0)
		return SendMess(playerid, MSG_NO_PLAYER_CONSIST_FAMILY);

	STRING_GLOBAL[0] = EOS;

	strcat(STRING_GLOBAL, "1. Информация о семье\n");
	strcat(STRING_GLOBAL, "2. Состав семьи онлайн\n");
	strcat(STRING_GLOBAL, "3. Состав семьи оффлайн\n");
	strcat(STRING_GLOBAL, "4. Изменить цвет чата\n");
	strcat(STRING_GLOBAL, "5. Покинуть семью\n");
	strcat(STRING_GLOBAL, "6. Найти семейный транспорт\n");

	if(GetFamilyRang(playerid) != 1)
	{
		strcat(STRING_GLOBAL, "7. Загрузить/выгрузить семейный транспорт\n");
		strcat(STRING_GLOBAL, "8. Продать семейный транспорт\n");
	}

	if(GetFamilyRang(playerid) != 1)
	{
		strcat(STRING_GLOBAL, "9. Заказать продукты\n");
	}

	if(GetFamilyData(familyid, F_OWNED) == PI[playerid][pID])
	{
		strcat(STRING_GLOBAL, "10. Изменить спавн семьи\n");
	}

	ShowPlayerDialog
	(
		playerid, DIALOG_FAMILY, DIALOG_STYLE_LIST,
		"{ffcc00}Меню семьи",
		STRING_GLOBAL,
		"Далее", "Отмена"
	);

	return 1;
}*/

/*CMD:finvite(playerid, params[])
{
    new String[128];
    //if(PI[playerid][pLogin] == 0) return true;
    if(PI[playerid][pFamilySozd] == 0 && PI[playerid][pFamilyZam] == 0) return SendClientMessage(playerid, COLOR_RED, "Принимать в семью может только создатель и заместитель семьи");
    if(sscanf(params, "d", params [0])) return SendClientMessage(playerid, COLOR_RED, "Ввведите: /finvite [id]");
    if(!IsPlayerConnected(params [0])) return SendClientMessage(playerid, COLOR_RED, "Указан не верный ID игрока");
    if(GetDistanceBetweenPlayers(playerid, params[0]) > 5.0) return SendClientMessage(playerid, COLOR_RED, "Этот игрок находится далеко от Вас");
    if(PI[params[0]][pFamily] > 0) return SendClientMessage(playerid, COLOR_RED, "Этот игрок уже состоит в семье!");
    new text_string [46 + MAX_PLAYER_NAME + 32];
    format(text_string,sizeof(text_string),"Вы пригласили %s присоединиться к семье %s",GetName(params[0]),family_info [PI[playerid][pFamily]] [f_name]);
    SendClientMessage(playerid,-1,text_string);
	//
    format(String,sizeof(String),"{ffffff}%s приглашает Вас присоединиться к семье %s.\nВы согласны присоединиться?",GetName(playerid),family_info[PI[playerid][pFamily]] [f_name]);
    ShowPlayerDialog(params[0],707,DIALOG_STYLE_MSGBOX,"{FFCC00}Приглашение в семью",String,"Да","Нет");
	//
    SetPVarInt(params [0],"family_id",PI[playerid][pFamily]);
    SetPVarInt(params [0],"family_playerid",playerid);
    return 1;
}
CMD:funinvite(playerid, params[])
{
    new String[128], YCMDstr[64];
    //if(PI[playerid][pLogin] == 0) return true;
    if(sscanf(params, "ds[128]",params[0],String)) return SendClientMessage(playerid, COLOR_RED, "Используйте: /funinvite [id] [причина]");
	{
	    if(PI[playerid][pFamilySozd] == 0 && PI[playerid][pFamilyZam] == 0) return SendClientMessage(playerid, COLOR_RED,"Выгонять из семьи может только заместитель и создатель");
	    if(params[0] == playerid) return SendClientMessage(playerid, COLOR_RED, "Вы не можете выгнать самого себя!");
	    if(PI[params[0]][pFamilySozd] > 0) return SendClientMessage(playerid, COLOR_RED, "Вы не можете уволить создателя семьи!");
	    if(PI[playerid][pFamily] != PI[params[0]][pFamily]) return SendClientMessage(playerid, COLOR_RED, "Данный игрок не состоит в Вашей семье");
	    format(YCMDstr, sizeof(YCMDstr), "%s выгнал Вас из семьи. Причина: %s",GetName(playerid), String);
		SendClientMessage(params[0], 0xFFD39BFF, YCMDstr);
		format(YCMDstr, sizeof(YCMDstr), "Вы выгнали игрока %s из семьи. Причина %s",GetName(params[0]), String);
		SendClientMessage(playerid, 0xFFD39BFF, YCMDstr);
		family_info [ PI[params[0]][pFamily]] [ f_online ] -= 1;
	 	family_info [ PI[params[0]][pFamily] ] [ f_members_amount ] -= 1;
	 	PI[params[0]][pFamily] = 0;
	 	PI[params[0]][pFamilyZam] = 0;
        format(String,sizeof(String),"{%s}[%s]{FFD39B} %s выгнал игрока %s из семьи. Причина: %s",family_chat_color [family_info[PI[playerid][pFamily]] [f_chat_color ]],family_info [PI[playerid][pFamily]] [f_name],GetName(playerid),GetName(params[0]),String);
	  	family_message(PI[playerid][pFamily],-1, String);
	  	SaveAccount(params[0]);
	  	//
		format ( String, sizeof String, "UPDATE "T_FAMILY" SET `fam_members_amount` = '%d' WHERE `fam_id` = '%d' LIMIT 1",family_info [PI[playerid][pFamily]] [f_members_amount], PI[playerid][pFamily]);
		mysql_function_query ( dbHandle, String, false, "", "" ) ;
		return true;
	}
}*/
/*CMD:f(playerid, params[])
{
	new String[128];
	if(PI[playerid][pFamily] == 0) return SendClientMessage(playerid, COLOR_RED, "Вы не состоите в семье!");
    if(sscanf(params, "s[128]", params[0]))return SendClientMessage(playerid, COLOR_LIME, "Информация:{FFFFFF} /f [текст]");
	if(PI[playerid][pMuted] > 0) return SendClientMessage(playerid, COLOR_RED, "У Вас затычка. Узнать подробней: /time");
	else if(IsIpFound(params[0]) || CheckString(params[0])) return PlayerGetsChatBan(playerid, params[0]);
    format(String, sizeof(String), "{%s}[%s]{FFD39B} %s [%d]: %s",family_chat_color [family_info [PI[playerid][pFamily]] [f_chat_color]],family_info [PI[playerid][pFamily]] [f_name],GetName(playerid),playerid,params);
    family_message(PI[playerid][pFamily],-1, String);
    SetPlayerChatBubble(playerid, "Отправляет сообщение в рацию",COLOR_PURPLE,30.0,10000);
    return true;
}*/
CMD:help(playerid)
{
	ShowPlayerDialog(playerid, 3794, DIALOG_STYLE_LIST, "{FFCC00}Помощь", "{FFCC00}1.{FFFFFF} Начало игры\n{FFCC00}2.{FFFFFF} Предыстория\n{FFCC00}3.{FFFFFF} Первоначальный заработок\n{FFCC00}4.{FFFFFF} Шаги к приобретению первого имущества\n{FFCC00}5.{FFFFFF} Водительские права\n{FFCC00}6.{FFFFFF} Доступные работы и устройство в организацию\n{FFCC00}8.{FFFFFF} Дополнение списка необходимых правил\n{FFCC00}9.{FFFFFF} Будь с нами!", "Выбрать", "Назад");
}
CMD:buyk(playerid)
{
	if(PlayerLogged[playerid] == false) return true;
	new full;
	if(full == 0)
	for(new i = 1; i <= TOTALBIZZ; i++)
	{
		if(IsPlayerInRangeOfPoint(playerid, 5.0, BizzInfo[i][bEntrx], BizzInfo[i][bEntry], BizzInfo[i][bEntrz])
				&& BizzInfo[i][bType] == 2)
		{
		
			if(!GetPVarInt(playerid, "have_jerrican"))
			{
				if(PI[playerid][pCash] >= 500)
				{
					GiveMoney(playerid, -500);

					SetPVarInt(playerid, "have_jerrican", 1);
					SetPlayerAttachedObject(playerid, 3, 1650, 5, 0.15, 0.0, 0.0, 0.0, -90.0, 180.0, 1.0, 1.0, 1.0, 0);

					SCM(playerid, 0x99CC00FF, "Вы купили канистру");
				}
				else SCM(playerid, COLOR_RED, "У Вас недостаточно денег. Для покупки канистры нужно 500 рублей");
			}
		}
	}
	return 1;
}
//==============================================================================
CMD:backpack(playerid)
{
    if(PI[playerid][pWatch] == 0) return SendClientMessage(playerid, COLOR_RED, "У Вас нет рюкзака, Вы можете купить его в 24/7");
	{
		if(PI[playerid][pWatch] == 1)
		{
			SetPlayerAttachedObject(playerid, 1, 3026, 1, -0.176000, -0.066000, 0.0000,0.0000, 0.0000, 0.0000, 1.07600, 1.079999, 1.029000);
			SCM(playerid, COLOR_LIME, "Вы надели рюкзак");
		}
		else
		{
			RemovePlayerAttachedObject(playerid, 1);
	    	SCM(playerid, COLOR_LIME, "Вы сняли рюкзак");
		}
	}
	return 1;
}
//==============================================================================
// CMD:unrent(playerid)
// {
//     if(GetPVarInt(playerid, "arendkey") == -1) return SendClientMessage(playerid, COLOR_RED, "Вы не арендуете транспорт");
// 	new rc = GetPVarInt(playerid, "arendkey");
// 	if(ArendInfo[rc][aPlayerID] != playerid)
// 	{
// 	    SendClientMessage(playerid, COLOR_RED, "Вы не арендуете транспорт");
// 	    SetPVarInt(playerid, "arendkey", -1);
// 	    return 1;
// 	}
// 	ShowPlayerDialog(playerid, D_CANCELRENT, 0, "{FFCC00}Отмена аренды", "\n\n{FF6600}Вы действительно хотите отменить аренду транспорта?\n{FFFFFF}Дальнейшее его использование станет недоступным,\nдо нового заключения договора на аренду транспорта.\n\n", "Принять", "Отмена");
// 	return 1;
// }
CMD:en(playerid)
{
    if(IsPlayerInAnyVehicle(playerid))
    {
	    new vehicleid = GetPlayerVehicleID(playerid);
		GetVehicleParamsEx(vehicleid,engine,lights,alarm,doors,bonnet,boot,objective);
		SetVehicleParamsEx(vehicleid,(Engine[vehicleid])?(false):(true),lights,alarm,doors,bonnet,boot,objective);
		Engine[vehicleid] = (Engine[vehicleid])?(false):(true);
    }
    return 1;
}
CMD:slimit(playerid, params[])
{
    if(isnull(params)) return SendClientMessage(playerid, COLOR_LIME, !"• Информация:{FFFFFF} /slimit [скорость (0-60)] (0 - снять ограничение)");
    new speed_ts = strval(params);

    if(speed_ts < 0 || speed_ts > 60) return SendClientMessage(playerid, COLOR_RED, !"Значение скорости должно быть от 0 до 60");
    SetPVarInt(playerid, "speed_test", speed_ts);
    return true;
}
CMD:gotohouse(playerid,params[])
{
    if(PI[playerid][pAdmin] < ADM_ADMIN) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	if(sscanf(params, "d",params[0])) return SendClientMessage(playerid,COLOR_LIME, "Информация: {ffffff}/gotohouse [номер дома]");
	new string[145];
	SetPlayerInterior(playerid,0);
	SetPlayerVirtualWorld(playerid,0);
	SetPlayerPos(playerid,HouseInfo[params[0]][hEntrx],HouseInfo[params[0]][hEntry],HouseInfo[params[0]][hEntrz]);
	format(string, sizeof(string), "Вы телепортировались к дому №%d",params[0]);
	SendClientMessage(playerid,COLOR_LIME,string);
	return true;
}
CMD:gotobiz(playerid,params[])
{
    if(PI[playerid][pAdmin] < ADM_ADMIN) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	if(sscanf(params, "d",params[0])) return SendClientMessage(playerid,COLOR_LIME, "Информация: {ffffff}/gotobiz [номер бизнеса]");
	new string[145];
	SetPlayerInterior(playerid,0);
	SetPlayerVirtualWorld(playerid,0);
	SetPlayerPos(playerid,BizzInfo[params[0]][bEntrx],BizzInfo[params[0]][bEntry],BizzInfo[params[0]][bEntrz]);
	format(string, sizeof(string), "Вы телепортировались к бизнесу №%d",params[0]);
	SendClientMessage(playerid,COLOR_LIME,string);
	return true;
}
//==============================================================================
CMD:setnomer(playerid, params[])
{
    if(PI[playerid][pAdmin] < ADM_GRAND) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
    if(sscanf(params, "is", params[0], params[1])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/setnomer [id игрока] [номера]");
	Delete3DTextLabel(VehicleLabel[PI[params[0]][PlayerCarID]]);
	strmid(PI[params[0]][pNumberVehicle], params[1], 0, strlen(params[1]), 20);
    MysqlUpdatePlayerStr(playerid, "veh_number", PI[playerid][pNumberVehicle]);
    SetVehicleNumberPlate(PI[params[0]][PlayerCarID], PI[params[0]][pNumberVehicle]);
	return true;
}
//==============================================================================
CMD:agivevoen(playerid, params[])
{
	if(PI[playerid][pAdmin] < ADM_TOP) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
    else if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/agivevoen [id игрока]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_DARKORANGE, PlayerIsNotOnline);
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_DARKORANGE, PlayerIsNotAuthorized);
	else if(PI[params[0]][pVoennik]) return SendClientMessage(playerid, COLOR_DARKORANGE, "У игрока уже имеется военный билет!");
	PI[params[0]][pVoennik] = 1;
	SendClientMessage(params[0], COLOR_BLUE, "Поздравляем! Вы получили военный билет");
	SendClientMessage(playerid, COLOR_LIME, "Вы выдали военный билет!");
    return 1;
}
//==============================================================================
CMD:tp(playerid)
{
	if(PI[playerid][pAdmin] < 3) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	ShowPlayerDialog(playerid, D_JOB+139, DIALOG_STYLE_LIST, "{FFCC00}Телепорт", "{FFC000}1. {FFFFFF}Города\n{FFC000}2. {FFFFFF}Общественные места\n{FFC000}3. {FFFFFF}Работы\n{FFC000}4. {FFFFFF}Базы организаций", "Выбрать", "Закрыть");
	return 1;
}
//==============================================================================
CMD:givenumber(playerid, params[])
{
	if(!IsPlayerInRangeOfPoint(playerid, 5, -99.1576,737.2919,1620.9200)) return SCM(playerid, COLOR_RED, "Вы должны находится в здании ДПС!");
	if(PI[playerid][pMember] != TEAM_DPS) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/givenumber [id игрока]");
   	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(params[0] == playerid) return SendClientMessage(playerid, COLOR_RED, "Вы указали свой ID!");
	else if(PI[playerid][PlayerCarID] == INVALID_VEHICLE_ID) return SendClientMessage(playerid, COLOR_RED, "У Вас нет автомобиля!");
	else if(PI[playerid][pRegVehicle] == 1) return SendClientMessage(playerid, COLOR_RED, "У Вас уже имеется номерной знак на этом автомобиле");
	else if(IsPlayerInAnyVehicle(params[0])) return SendClientMessage(playerid, COLOR_RED, "Игрок не должен находится в транспорте!");
	else if(!IsPlayerInRangeOfPlayer(8.0, playerid, params[0])) return SendClientMessage(playerid, COLOR_RED, "Игрок слишком далеко!");

	new number[128], targetid;

	for(new i; i != 6; i++)
	{
		if(!i) number[i] = random('М' - 'А') + 'А';
		if(i >= 1 && i <=3) number[i] = random('9' - '0') + '0';
		if(i > 3) number[i] = random('М' - 'А') + 'А';
	}
	strmid(PI[targetid][pNumberVehicle], number, 0, strlen(number), 20);

	PI[targetid][pRegVehicle] = 1;

	format(number, sizeof number, "Вы получили гос. номера {FFFFFF}\"%s\" {0099FF}на свой транспорт %s", number, VehicleNames[GetVehicleModel(PI[targetid][PlayerCarID])-400]);
	SendClientMessage(targetid, COLOR_BLUE, number);

	MysqlUpdatePlayerInt(targetid, "veh_reg", PI[targetid][pRegVehicle]);
	MysqlUpdatePlayerStr(targetid, "veh_number", PI[targetid][pNumberVehicle]);

	DestroyDynamic3DTextLabel(VehicleLabel[PI[targetid][PlayerCarID]]);
	VehicleLabel[PI[targetid][PlayerCarID]] = CreateDynamic3DTextLabel(number, 0xFFFFFFFF, 0.0, 0.0, 0.0, 15.0);
	SetVehicleNumberPlate(PI[targetid][PlayerCarID][0], PI[targetid][pNumberVehicle]);
	return 1;
}
CMD:setvw(playerid, params[])
{
    if(PI[playerid][pAdmin] < ADM_SUPER_MODER) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
    if(sscanf(params, "ii", params[0], params[1])) return SendClientMessage(playerid, COLOR_LIME, "• Информация: {ffffff}/setvw [id игрока] [Вирт.мир]");
	SetPlayerVirtualWorld(params[0], params[1]);
	new string[128];
	format(string, sizeof(string), "Вы установили игроку %s [%d] виртуальный мир %i", GetName(params[0]), params[0], params[1]);
	SendClientMessage(playerid, COLOR_BLUE, string);
	format(string, sizeof(string), "[A] %s [%d] установил игроку %s [%d] виртуальный мир %i", GetName(playerid), playerid, GetName(params[0]), params[0], params[1]);
	SendAdminMessage(COLOR_GREY, string);
	format(string, sizeof(string), "Администратор %s установил Вам виртуальный мир %i", GetName(playerid), params[1]);
	SendClientMessage(params[0], COLOR_BLUE, string);
    return 1;
}
CMD:setint(playerid, params[])
{
    if(PI[playerid][pAdmin] < ADM_SUPER_MODER) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	if(sscanf(params, "ui", params[0], params[1])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/setint [id игрока] [id интерьера]");
    SetPlayerInterior(params[0], params[1]);
	new string[128];
	format(string, sizeof(string), "Вы установили игроку %s [%d] интерьер %i", GetName(params[0]), params[0], params[1]);
	SendClientMessage(playerid, COLOR_BLUE, string);
	format(string, sizeof(string), "[A] %s [%d] изменил %s [%d] виртуальный интерьер на №%i", GetName(playerid), playerid, GetName(params[0]), params[0], params[1]);
	SendAdminMessage(COLOR_GREY, string);
	format(string, sizeof(string), "Администратор %s установил Вам интерьер %i", GetName(playerid), params[1]);
	SendClientMessage(params[0], COLOR_BLUE, string);
	return true;
}

cmd:alogs(playerid, params[])
{
	if(PI[playerid][pAdmin] < 1)
	return 1;

	if(AdminInfo[playerid][admAlog] == 0)
	{
		AdminInfo[playerid][admAlog] = 1;

		SendClientMessage(playerid, COLOR_BLUE, "Вы включили информацию о входах/выходах");
	}
	else
	{
		AdminInfo[playerid][admAlog] = 0;

		SendClientMessage(playerid, COLOR_BLUE, "Вы выключили информацию о входах/выходах");
	}

	new fmt_query[80];

	mysql_format(dbHandle, fmt_query, sizeof fmt_query, "UPDATE "T_ADMIN" SET alog=%d WHERE name='%s' LIMIT 1", AdminInfo[playerid][admAlog], GetName(playerid));
	mysql_tquery(dbHandle, fmt_query, "", "");

	return 1;
}

CMD:agivevb(playerid, params[])
{
	if(PI[playerid][pAdmin] < ADM_TOP) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
    else if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/agivevb [id игрока]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(PI[params[0]][pVoennik]) return SendClientMessage(playerid, COLOR_RED, "У игрока уже имеется военный билет!");
	PI[params[0]][pVoennik] = 1;
	SendClientMessage(params[0], COLOR_BLUE, "Поздравляем! Вы получили военный билет");
	SendClientMessage(playerid, COLOR_LIME, "Вы выдали военный билет!");
    return 1;
}
CMD:givevb(playerid, params[])
{
	if(PI[playerid][pMember] != TEAM_VDV) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
    else if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/givevb [id игрока]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(PI[params[0]][pVoennik]) return SendClientMessage(playerid, COLOR_RED, "У игрока уже имеется военный билет!");
	else if(PI[params[0]][pMember] != TEAM_VDV) return SendClientMessage(playerid, COLOR_RED, "Игрок не служит в армии!");
	else if(IsPlayerInAnyVehicle(params[0])) return SendClientMessage(playerid, COLOR_RED, "Игрок не должен находится в транспорте!");
	else if(!IsPlayerInRangeOfPlayer(8.0, playerid, params[0])) return SendClientMessage(playerid, COLOR_RED, "Игрок слишком далеко!");
	if(PI[playerid][pMember] == TEAM_VDV && PI[playerid][pRank] >= 9)
	{
        PI[params[0]][pVoennik] = 1;
		SendClientMessage(params[0], COLOR_BLUE, "Поздравляем! Вы получили военный билет");
		SendClientMessage(playerid, COLOR_LIME, "Вы выдали военный билет!");
	}
    else SendClientMessage(playerid, COLOR_WHITE, "Вы не можете выдавать военный билет!");
    return 1;
}
CMD:takevb(playerid, params[])
{
	if(PI[playerid][pMember] != TEAM_VDV) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
    else if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/takevb [id игрока]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(PI[params[0]][pMember] != TEAM_VDV) return SendClientMessage(playerid, COLOR_RED, "Игрок не служит в армии!");
	else if(IsPlayerInAnyVehicle(params[0])) return SendClientMessage(playerid, COLOR_RED, "Игрок не должен находится в транспорте!");
	else if(!IsPlayerInRangeOfPlayer(8.0, playerid, params[0])) return SendClientMessage(playerid, COLOR_RED, "Игрок слишком далеко!");
	if(PI[playerid][pMember] == TEAM_VDV && PI[playerid][pRank] >= 9)
	{
        PI[params[0]][pVoennik] = 0;
		SendClientMessage(params[0], COLOR_BLUE, "У Вас забрали военный билет");
		SendClientMessage(playerid, COLOR_LIME, "Вы забрали военный билет!");
	}
    else SendClientMessage(playerid, COLOR_WHITE, "Вы не можете забрать военный билет!");
    return 1;
}
CMD:mp(playerid)
{
	if(PI[playerid][pAdmin] < ADM_ADMIN) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	if(Teleport == 0)
	{
		GetPlayerPos(playerid, TeleportFloat[0], TeleportFloat[1], TeleportFloat[2]);
		TeleportInfo[0] = GetPlayerInterior(playerid);
		TeleportInfo[1] = GetPlayerVirtualWorld(playerid);
		Teleport = 1;
		new string[120];
		format(string, sizeof(string), "Вы включили телепорт на МП");
		SendClientMessage(playerid, COLOR_LIME, string);
		format(string, sizeof(string), "[A] %s [%d] открыл телепортацию на МП: /gotomp", GetName(playerid), playerid);
		SendAdminMessage(COLOR_YELLOW, string);
	}
	else if(Teleport == 1)
	{
		new string[120];
		format(string, sizeof(string), "Вы закрыли телепорт МП");
		SendClientMessage(playerid, COLOR_LIME, string);
		format(string, sizeof(string), "[A] %s [%d] прекратил МП", GetName(playerid), playerid);
		SendAdminMessage(COLOR_GREY, string);
		Teleport = 0;
	}
	return 1;
}
CMD:gotomp(playerid)
{
    if(PI[playerid][pJail] > 0) return SendClientMessage(playerid, COLOR_RED, "Заключённым нельзя телепортироваться");
    if(Teleport == 0) return true;
    else
    SetPlayerPos(playerid, TeleportFloat[0], TeleportFloat[1], TeleportFloat[2]);
    SetPlayerInterior(playerid, TeleportInfo[0]);
    SetPlayerVirtualWorld(playerid, TeleportInfo[1]);
    return true;
}
/*CMD:createobject(playerid)
{
	if(PI[playerid][pAdmin] < ADM_TOP) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
  	ShowPlayerDialog(playerid, dLego, DIALOG_STYLE_LIST, "Редактор объектов", "Инструкция\nСоздать объект\nИзменить карту\nУдалить все","Выбрать","Отмена");
  	return 1;
}*/
CMD:startmp(playerid)
{
    if(PI[playerid][pAdmin] < ADM_TOP) return SendClientMessage(playerid, COLOR_WHITE, "Команда не обнаружена! {FFCC00}/menu {FFFFFF}для просмотра команд");
	if(paintt[1] == 1)
	   return SendClientMessage(playerid, COLOR_RED, "[МП] Матч по пейнтболу уже начался!");

    if(GetPVarInt(playerid, "paintball") == 2)
       return SendClientMessage(playerid, COLOR_RED, "[МП] Матч по пейнтболу уже начался!");

    SendClientMessageToAll(0xFFCC00FF, "[МП] Внимание! Начало пейнтбола через 5 минут!!");

    paintt[0] = 300;
    paintt[1] = 1;

	foreach(new i: Player)
	{
        if(GetPVarInt(i, "paintball") == 1)
        {
            DeletePVar(i, "paintball");
		}
	}

	return 1;
}
//==============================================================================
CMD:sethp(playerid, params[])
{
	if(PI[playerid][pAdmin] < 4) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(sscanf(params, "ui", params[0], params[1])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/sethp [ид игрока] [HP]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	PI[params[0]][pHeal] = params[1];
	PI[params[0]][pHealthS] = params[1];
	SetHealth(params[0], params[1]);
	new string[128];
	format(string, sizeof(string), "Вы изменили здоровье %s [%d] на %i hp", GetName(params[0]), params[0], params[1]);
	SendClientMessage(playerid, COLOR_WHITE, string);
	format(string, sizeof(string), "Администратор %s изменил Ваше здоровье", GetName(playerid));
	SendClientMessage(params[0], COLOR_BLUE, string);
	format(string, sizeof(string), "[A] %s [%d] изменил %s [%d] здоровье на %i", GetName(playerid), playerid, GetName(params[0]), params[0], params[1]);
	SendAdminMessage(COLOR_GREY, string);
	return 1;
}
//==============================================================================
CMD:setarmour(playerid, params[])
{
	if(PI[playerid][pAdmin] < ADM_SUPER_MODER) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(sscanf(params, "ui", params[0],params[1])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/setarmour [ид игрока] [кол-во брони]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(params[1] > 100 || params[1] < 0) return SendClientMessage(playerid, COLOR_RED, "Количество брони от 0 до 100!");
	SetArmour(params[0], params[1]);
	new string[128];
	format(string, sizeof(string), "Администратор %s [%d] изменил Вам показатель брони на %i", GetName(playerid), playerid, params[1]);
	SendClientMessage(params[0], COLOR_WHITE, string);
	format(string, sizeof(string), "[A] %s [%d] изменил показатель брони игроку %s [%d] на %i", GetName(playerid), playerid, GetName(params[0]), params[0], params[1]);
	SendAdminMessage(COLOR_GREY, string);
	return 1;
}
//==============================================================================
CMD:hbject(playerid, params[])
{
	if(PI[playerid][pAdmin] < 5) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/hbject [id игрока]");
	else if(PlayerLogged[params[0]] == false) return 1;
 	objectplayerid = params[0];
	ShowPlayerDialog(playerid,8420,DIALOG_STYLE_LIST,"{FFCC00}Выдать объект игроку","1. Шляпа курицы\n2. Огонек на голову\n3. Мигалка на голову\n4. Черная маска\n5. Бандана №1\n6. Бандана №2\n7. Бандана №3\n8. Бандана №4\n9. Бандана №5\n10. Маска дракона\n11. Лазер на голову\n12. Комплект всемогущий\n13. Попугай на плечо\n14. Яркий свет\n15. Большой М4 в руку\n16. Пенис\n17. Костюм попугая\n18. Удалить все объекты","Выбрать","Закрыть");
	return 1;
}
//==============================================================================
CMD:okay(playerid, params[])
{
	if(PI[playerid][pAdmin] < ADM_ADMIN) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	if(set_name == -1) return SendClientMessage(playerid, COLOR_RED, "Никто не предлагал сменить ник!");
	else if(!strcmp(PlayerName[set_name], "None", true)) return SendClientMessage(playerid, COLOR_RED, "Этот игрок не предлагал сменить ник!");
	if(GetPlayerHouse(set_name))
	{
		new i = GetPVarInt(set_name, "PlayerHouse");
		if(!strcmp(HouseInfo[i][hOwner], GetName(set_name), true))
		{
			format(HouseInfo[i][hOwner], MAX_PLAYER_NAME, PlayerName[set_name]);
			MysqlUpdateHouseStr(i, "hOwner", PlayerName[set_name]);
		}
	}
	if(GetPlayerBizz(set_name))
	{
		new i = GetPVarInt(set_name, "PlayerBizz");
		if(!strcmp(BizzInfo[i][bOwner], GetName(set_name), true))
		{
			format(BizzInfo[i][bOwner], MAX_PLAYER_NAME, PlayerName[set_name]);
			MysqlUpdateBizzStr(i, "owner", PlayerName[set_name]);
			UpdateBizz(i);
		}
	}
	new string[128];
	format(string, sizeof(string), "[A] Заявку одобрил Администратор %s", GetName(playerid));
	SendAdminMessage(COLOR_LIME, string);
	format(string, sizeof(string), "[НонРП] %s одобрил смену нонРП ника %s на %s", GetName(playerid), GetName(set_name), PlayerName[set_name]);
	SendLog("SetName", string);
	format(string, sizeof(string), "%s сменил ник на %s", GetName(set_name), PlayerName[set_name]);
	SendClientMessageToAll(COLOR_LIME, string);
	format(query, sizeof(query),"UPDATE `accounts` SET name='%s' WHERE name='%s'", PlayerName[set_name], GetName(set_name));
	mysql_tquery(dbHandle, query, "", "");
	if(PI[set_name][pAdmin])
	{
		format(query, sizeof(query), "UPDATE `admins` SET name='%s' WHERE name='%s'", PlayerName[set_name], GetName(set_name));
		mysql_tquery(dbHandle, query, "", "");
	}
	format(query, sizeof(query), "INSERT INTO `historyname` (`idacca`, `Name`) VALUE ('%d', '%s')", PI[set_name][pID], PlayerName[set_name]);
	mysql_tquery(dbHandle, query, "", "");
	format(GetName(set_name), MAX_PLAYER_NAME, PlayerName[set_name]);
	SetPlayerName(set_name, PlayerName[set_name]);
	SendMes(set_name, COLOR_GREEN, "Ваше новое имя: {ffffff}%s", PlayerName[set_name]);
	SendClientMessage(set_name, COLOR_GREEN, "Обязательно нужно сделать скриншот. Клавиша: {ffffff}F8");
	SendClientMessage(set_name, COLOR_GREEN, "Пропишите свой новый ник в окне {ffffff}SA:MP");
	strmid(PlayerName[set_name], "None", 0, strlen("None"), MAX_PLAYER_NAME);
	Kick(set_name);
	set_name = -1;
	return 1;
}

CMD:tie(playerid, params[])
{
	if(!IsAMafia(playerid)) return SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	if(pCuff[playerid][pCuffee] == playerid) return SendClientMessage(playerid, COLOR_RED, "Вы в наручниках, Вы не можете связывать!");
	if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/tie [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	new Float:possed[4];
	GetPlayerPos(params[0],possed[0],possed[1],possed[2]);
	if(!IsPlayerInRangeOfPoint(playerid, 1, possed[0],possed[1],possed[2])) return SendClientMessage(playerid, COLOR_RED, "Вы слишком далеко от данного игрока");
	if(params[0] == playerid) return SendClientMessage(playerid, COLOR_RED, "Вы не можете связать себя!");
	if(PlayerTied[params[0]]) return SendClientMessage(playerid, COLOR_RED, "Игрок уже связан!");
	new string[100];
	SendMes(playerid, 0x6495EDFF, "Вы связали %s", GetName(params[0]));
	if(PI[playerid][pSex] == 1)
	{
		SendMes(params[0], 0x6495EDFF, "%s связал Вас", GetName(playerid));
		format(string, sizeof(string), "связал %s", GetName(params[0]));
	}
	else
	{
	    SendMes(params[0], 0x6495EDFF, "%s связала Вас", GetName(playerid));
		format(string, sizeof(string), "связала %s", GetName(params[0]));
	}
	MeAction(playerid, string);
	GameTextForPlayer(playerid, "~r~tieted", 5000, 5);
	GameTextForPlayer(params[0], "~r~tieted", 5000, 5);
	TogglePlayerControllable(params[0], 0);
	PlayerTied[params[0]] = true;
	return 1;
}

cmd:ahelp(playerid){
	if(!PI[playerid][pAdmin]) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	if(PI[playerid][pAdmin] >= 1) SendClientMessage(playerid, COLOR_ADMIN, "[AHELP]: weap admins alogs a ans check afk apanel specoff spec");
	if(PI[playerid][pAdmin] >= 1) SendClientMessage(playerid, COLOR_ADMIN, "[AHELP]: cban stat slap adm alogin hp");
	if(PI[playerid][pAdmin] >= 2) SendClientMessage(playerid, COLOR_ADMIN, "[AHELP]: kills nick respawncars fixveh gm mycar setvw setint spawn spa");
	if(PI[playerid][pAdmin] >= 2) SendClientMessage(playerid, COLOR_ADMIN, "[AHELP]: kick mg resguns aunjail mute jail nrp dm epp unmute get");
	if(PI[playerid][pAdmin] >= 3) SendClientMessage(playerid, COLOR_ADMIN, "[AHELP]: gotohouse gotobiz tp mp okay goto up down left right gotocar getcar");
	if(PI[playerid][pAdmin] >= 3) SendClientMessage(playerid, COLOR_ADMIN, "[AHELP]: skick offget adivorce gethere settime msg mpsay mparm mphp mpskin fstats");
	if(PI[playerid][pAdmin] >= 3) SendClientMessage(playerid, COLOR_ADMIN, "[AHELP]: getip pgetip auninvite atake alock setfuelall setfuel setskin warn ban");
	if(PI[playerid][pAdmin] >= 4) SendClientMessage(playerid, COLOR_ADMIN, "[AHELP]: offban givegun delveh vehnitro sethp hstats nitro rears ears history");
	if(PI[playerid][pAdmin] >= 4) SendClientMessage(playerid, COLOR_ADMIN, "[AHELP]: sban unwarnplayer offjail offmute offwarn iban fly");
	if(PI[playerid][pAdmin] >= 5) SendClientMessage(playerid, COLOR_ADMIN, "[AHELP]: tskin alldelveh veh arang hbject jet weather tempzone setbizprod");
	if(PI[playerid][pAdmin] >= 5) SendClientMessage(playerid, COLOR_ADMIN, "[AHELP]: unbanip banip unban unb setsex setorg");
	if(PI[playerid][pAdmin] >= 6) SendClientMessage(playerid, COLOR_ADMIN, "[AHELP]: unlwarn lwarn setleader clearchat setnomer gcontrol ");
	if(PI[playerid][pAdmin] >= 6) SendClientMessage(playerid, COLOR_ADMIN, "[AHELP]: setleader adown payday pos astats gethouse");
	if(PI[playerid][pAdmin] >= 7) SendClientMessage(playerid, COLOR_ADMIN, "[AHELP]: rt createradar agivevoen agivevb startmp admremove");
	if(PI[playerid][pAdmin] >= 7) SendClientMessage(playerid, COLOR_ADMIN, "[AHELP]: resetmoney res tpcor vpc agl givevip gmx");
	if(PI[playerid][pAdmin] >= 7) SendClientMessage(playerid, COLOR_ADMIN, "[AHELP]: setstat delacc nb cmd admdown admup givedonate");
	return 1;
}
//==============================================================================
CMD:untie(playerid, params[])
{
	if(!IsAMafia(playerid)) return SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/untie [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	new Float:possed[4];
	GetPlayerPos(params[0],possed[0],possed[1],possed[2]);
	if(!IsPlayerInRangeOfPoint(playerid, 4, possed[0],possed[1],possed[2])) return SendClientMessage(playerid, COLOR_RED, "Вы слишком далеко от данного игрока");
	if(params[0] == playerid) return SendClientMessage(playerid, COLOR_RED, "Вы не можете развязать себя!");
	if(!PlayerTied[params[0]]) return SendClientMessage(playerid, COLOR_RED, "Игрок не связан!");
	new string[100];
	SendMes(playerid, 0x6495EDFF, "Вы развязали %s", GetName(params[0]));
	if(PI[playerid][pSex] == 1)
	{
		SendMes(params[0], 0x6495EDFF, "%s развязал Вас", GetName(playerid));
		format(string, sizeof(string), "развязал %s", GetName(params[0]));
	}
	else
	{
	    SendMes(params[0], 0x6495EDFF, "%s развязала Вас", GetName(playerid));
		format(string, sizeof(string), "развязала %s", GetName(params[0]));
	}
	MeAction(playerid, string);
	GameTextForPlayer(playerid, "~g~untied", 5000,5);
	GameTextForPlayer(params[0], "~g~untied", 5000,5);
	TogglePlayerControllable(params[0], 1);
	PlayerTied[params[0]] = false;
	return 1;
}
CMD:spawn(playerid)
{
    if(PI[playerid][pAdmin] < ADM_MODER) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");

	SpawnPlayer(playerid);
	FreezePlayer(playerid, 4000);

    SendClientMessage(playerid, COLOR_LIME, "Вы заспавнили себя");
    SendClientMessage(playerid, COLOR_LIME, "Заспавнить игрока с возможностью выбора места появления: {FFCC00}/spa");
    return 1;
}
CMD:spa(playerid, params[])
{
	if(PI[playerid][pAdmin] < ADM_SUPER_MODER) return SendClientMessage(playerid, COLOR_WHITE, "анной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/spa [ид игрока]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	new string[128];
	format(string, sizeof(string), "Вы заспавнили %s [%d]", GetName(params[0]), params[0]);
	SendClientMessage(playerid, COLOR_LIME, string);
	ShowPlayerDialog(params[0], SelectSpawn, DIALOG_STYLE_LIST, "{FFCC00}Выберите спавн:", "- Вокзал\n- Дом\n- Квартира\n- База организации", "Выбрать", "Отмена");
	return 1;
}
cmd:jet(playerid,  params[])
{
	//if(admin_ban_time[playerid] > 0) return SendErr(playerid, "Ваши админ-действия на сервере заблокированы");
	if(PI[playerid][pAdmin] < 5) return 1;
	if(sscanf(params, "d", params[0])) return SendInf(playerid, "/jet [id игрока]");
	if(PI[params[0]][pAdmin] < 1) return SendErr(playerid, "Данный игрок не администратор");

	new string[128];
	format(string, sizeof(string), "[A] %s[%d] выдал(а) JetPack %s[%d]", GetName(playerid), playerid, GetName(params[0]), params[0]);
	SendAdminMessage(COLOR_GREY, string);

	SetPlayerSpecialAction(params[0],SPECIAL_ACTION_USEJETPACK);
	return 1;
}
CMD:g(playerid, params[]) return callcmd::goto(playerid, params);
CMD:goto(playerid, params[])
{
	if(PI[playerid][pAdmin] < ADM_SUPER_MODER) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/goto [ид игрока]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(PI[playerid][pAdmin] < ADM_TOP && AdminInfo[params[0]][admGoto]) return SendClientMessage(playerid, COLOR_RED, "Телепорт к этому администратору запрещён");
	else if(playerid == params[0]) return SendClientMessage(playerid, COLOR_RED, "Телепортироваться к себе - не получится");
	new Float:plocx,Float:plocy,Float:plocz;
 	GetPlayerPos(params[0], plocx, plocy, plocz);
	if(GetPlayerState(playerid) == 2) SetVehiclePos(GetPlayerVehicleID(playerid), plocx+2, plocy+2, plocz);
	else SetPlayerPos(playerid, plocx+2, plocy+2, plocz);
	SetPlayerVirtualWorld(playerid, GetPlayerVirtualWorld(params[0]));
	SetPlayerInterior(playerid, GetPlayerInterior(params[0]));
	new string[128];
	if(PI[playerid][pSex] == 1) format(string, sizeof(string), "[A] %s [%d] телепортировался к %s [%d]", GetName(playerid), playerid, GetName(params[0]), params[0]);
	else format(string, sizeof(string), "[A] %s [%d] телепортировалась к %s [%d]", GetName(playerid), playerid, GetName(params[0]), params[0]);
	SendAdminMessage(COLOR_GREY, string);
	GameTextForPlayer(playerid, "~y~TELEPORT", 2000, 5);
	return 1;
}
//==============================================================================
CMD:up(playerid)
{
    new Float:plocx,Float:plocy,Float:plocz;
    if(PI[playerid][pAdmin] < ADM_SUPER_MODER) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
    GetPlayerPos(playerid, plocx, plocy, plocz);
    SetPlayerPos(playerid, plocx, plocy, plocz+2);
	return 1;
}
//==============================================================================
CMD:down(playerid)
{
    new Float:plocx,Float:plocy,Float:plocz;
    if(PI[playerid][pAdmin] < ADM_SUPER_MODER) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
    GetPlayerPos(playerid, plocx, plocy, plocz);
    SetPlayerPos(playerid, plocx, plocy, plocz-2);
	return 1;
}
//==============================================================================
CMD:left(playerid)
{
    new Float:plocx,Float:plocy,Float:plocz;
    if(PI[playerid][pAdmin] < ADM_SUPER_MODER) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
    GetPlayerPos(playerid, plocx, plocy, plocz);
    SetPlayerPos(playerid, plocx, plocy-2, plocz);
	return 1;
}
//==============================================================================
CMD:right(playerid)
{
    new Float:plocx,Float:plocy,Float:plocz;
    if(PI[playerid][pAdmin] < ADM_SUPER_MODER) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
    GetPlayerPos(playerid, plocx, plocy, plocz);
    SetPlayerPos(playerid, plocx, plocy+2, plocz);
	return 1;
}
//==============================================================================
CMD:gotocar(playerid, params[])
{
	if(PI[playerid][pAdmin] < 3) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(sscanf(params, "i", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/gotocar [id транспорта]");
	new Float:x, Float:y, Float:z;
	GetVehiclePos(params[0], x, y, z);
	SetPlayerPos(playerid, x+2, y+2, z);
	GameTextForPlayer(playerid, "~y~TELEPORT", 2000, 5);
	return 1;
}
//==============================================================================
CMD:getcar(playerid, params[])
{
    if(PI[playerid][pAdmin] < 3) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
    if(sscanf(params, "d", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/getcar [ID Авто]");
    new Float:plocx,Float:plocy,Float:plocz;
    GetPlayerPos(playerid, plocx, plocy, plocz);
    SetVehiclePos(params[0],plocx,plocy+4, plocz);
    return true;
}
//==============================================================================
cmd:setyoutube(playerid, params[])
{
	//if(admin_ban_time[playerid] > 0) return SendErr(playerid, "Ваши админ-действия на сервере заблокированы");
    if(IsPlayerGrandAdmin(playerid))
	{
		if(PlayerLogged[playerid] == false) return 1;
		new playername[24], admin_level;
		if(sscanf(params, "s[64]i", playername, admin_level)) return SendInf(playerid, "/setyt [ник игрока] [уровень ютубера]");
		new string[128];
		format(string, sizeof(string), "SELECT * FROM "T_YOUTUBER" WHERE `name` = '%s'", playername);
		mysql_tquery(dbHandle, string, "SetYouTuber", "isi", playerid, playername, admin_level);
	}
	return 1;
}
//==============================================================================
forward SetYouTuber(playerid, name[], level);
public SetYouTuber(playerid, name[], level)
{
	new rows, fields, string[256];
	cache_get_data(rows, fields);
	if(rows)
	{
		if(!level)
		{
			if(GetPlayerID(name) != INVALID_PLAYER_ID) PI[GetPlayerID(name)][pYouTuber] = 0;
			mysql_format(dbHandle, string, sizeof(string), "DELETE FROM "T_YOUTUBER" WHERE `name`='%s'", name);
			mysql_tquery(dbHandle, string, "", "");
			mysql_format(dbHandle, string, sizeof(string), "UPDATE "T_YOUTUBER" SET `admin` = '0' WHERE `name` = '%s'", name);
			mysql_tquery(dbHandle, string, "", "");
			format(string, sizeof(string), "Вы сняли %s с должности ютубера", name);
			SendClientMessage(playerid, COLOR_YELLOW, string);
		}
		else
		{
			if(GetPlayerID(name) != INVALID_PLAYER_ID) PI[GetPlayerID(name)][pYouTuber] = level;
			mysql_format(dbHandle, string, sizeof(string), "UPDATE "T_YOUTUBER" SET `level` = '%d' WHERE `name` = '%s' LIMIT 1", level, name);
			mysql_tquery(dbHandle, string, "", "");
			format(string, sizeof(string), "Вы установили уровень ютубера %s на %i", name, level);
			SendClientMessage(playerid, COLOR_YELLOW, string);
		}
	}
	else
	{
		if(!level) return SendErr(playerid, "Игрок не администратор");
		new data[15];
		getdate(years, months, days);
		format(data, sizeof(data), "%02d.%02d.%04d", days, months, years);
		mysql_format(dbHandle, string, sizeof(string), "INSERT INTO "T_YOUTUBER" (`name`, `level`, `last_connect`, `put_admin`, `data`) VALUES ('%s', %d, '%s', '%s', '%s')", name, level, data, GetName(playerid), data);
		mysql_tquery(dbHandle, string, "", "");
		format(string, sizeof(string), "%s добавлен в список ютуберов. Уровень полномочий %i", name, level);
		SendClientMessage(playerid, COLOR_GREEN, string);
		if(GetPlayerID(name) != INVALID_PLAYER_ID)
		{
		    PI[GetPlayerID(name)][pYouTuber] = 1;
			format(string, sizeof(string), "%s назначил Вас ютубером", GetName(playerid));
			SendClientMessage(GetPlayerID(name), COLOR_YELLOW, string);
		}
	}
	return 1;
}
//==============================================================================
/*CMD:setadmin(playerid, params[])
{
	if(IsPlayerGrandAdmin(playerid))
	{
		if(PlayerLogged[playerid] == false) return 1;
		new playername[24], admin_level;

		if(strlen(playername) > 24)
			return SendClientMessage(playerid, COLOR_RED, "Вы ввели слишком длинный ник");

		if(sscanf(params, "s[24]i", playername, admin_level)) return SendClientMessage(playerid, COLOR_LIME, "Информация:{ffffff} /setadmin [ник игрока] [уровень админа]");
		new string[128];
		format(string, sizeof(string), "SELECT * FROM "T_ADMIN" WHERE `name` = '%s'", playername);
		mysql_tquery(dbHandle, string, "SetAdmin", "isi", playerid, playername, admin_level);
	}
	return 1;
}*/

/*CMD:fullaccess(playerid, params[])
{
	if(!IsPlayerGrandAdmin(playerid))
		return 1;

	ShowPlayerDialog
	(
		playerid, DIALOG_FULL_ACCESS, DIALOG_STYLE_LIST,
		"{FFCC00}Полный доступ",
		"{E4D122}1. {FFFFFF}Выдать полный доступ администратору\n\
		{E4D122}2. {FFFFFF}Список администраторов с полным доступом",
		"Выбрать", "Отмена"
	);

	return 1;
}*/

CMD:setadmin(playerid, params[])
{
    if(IsPlayerGrandAdmin(playerid))
	{
		if(PlayerLogged[playerid] == false) return 1;
		new playername[24], admin_level;

		if(strlen(playername) > 24)
			return SendClientMessage(playerid, COLOR_RED, "Вы ввели слишком длинный ник");

		if(sscanf(params, "s[24]i", playername, admin_level)) return SendClientMessage(playerid, COLOR_LIME, "Информация:{ffffff} /setadmin [ник игрока] [уровень админа]");
        SendClientMessage(playerid, COLOR_LIME, "7 лвл макс. Таблице {FFFFFF}'fullaccess' {99CC00}доступно {FFFFFF}/setadmin");
		new string[128];
		format(string, sizeof(string), "SELECT * FROM "T_ADMIN" WHERE `name` = '%s'", playername);
		mysql_tquery(dbHandle, string, "SetAdmin", "isii", playerid, playername, admin_level, 0);
	}
	return 1;
}

CMD:admremove(playerid, params[])
{
    if(IsPlayerGrandAdmin(playerid))
    {
		if(PI[playerid][pAdmin] < 7)
		if(sscanf(params, "i", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация:{ffffff} /admremove [id игрока]");
		else if(PI[params[0]][pAdmin] < 1) return SendClientMessage(playerid, COLOR_RED, "Этот игрок не является администратором");
		RemoveAdmin(params[0], GetName(params[0]));
		new string[128];
		SendMes(playerid, COLOR_GREEN, "Вы сняли %s с должности администратора", GetName(params[0]));
		format(string, sizeof(string), "[Внимание] %s [%i] снял %s с должности администратора", GetName(playerid), playerid, GetName(params[0]));
		SendAdminMessageEx(COLOR_RED, string, 5);
	}
	return 1;
}

CMD:admdown(playerid, params[])
{
    if(IsPlayerGrandAdmin(playerid))
    {
		if(sscanf(params, "i", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация:{ffffff} /admdown [id игрока]");
		else if(PI[params[0]][pAdmin] < 1) return SendClientMessage(playerid, COLOR_RED, "Этот игрок не является администратором");
		else if(PI[params[0]][pAdmin] > 9) return SendClientMessage(playerid, COLOR_RED, "Этот администратор не может быть понижен");
		else if(params[0] == playerid) return SendClientMessage(playerid, COLOR_RED, "Нельзя изменить свой уровень");
		new string[128];
		if(PI[params[0]][pAdmin] > 1)
		{
			PI[params[0]][pAdmin]--;
			MysqlUpdatePlayerInt(params[0], "admin", PI[params[0]][pAdmin]);
			format(string, sizeof(string), "%s понизил Ваш уровень администратора", GetName(playerid));
			SendClientMessage(params[0], COLOR_YELLOW, string);
			format(string, sizeof(string), "[A] %s [%d] понизил администратора %s [%d] до %d уровня", GetName(playerid), playerid, GetName(params[0]), params[0], PI[params[0]][pAdmin]);
			SendAdminMessageEx(COLOR_RED, string, 5);
			mysql_format(dbHandle, string, sizeof(string), "UPDATE "T_ADMIN" SET `level` = '%d' WHERE `name` = '%s' LIMIT 1", PI[params[0]][pAdmin], GetName(params[0]));
			mysql_tquery(dbHandle, string, "", "");
		}
		else if(PI[params[0]][pAdmin] == 1)
		{
			RemoveAdmin(params[0], GetName(params[0]));
			format(string, sizeof(string), "[A] %s снял %s с должности администратора", GetName(playerid), GetName(params[0]));
			SendAdminMessageEx(COLOR_RED, string, 5);
		}
	}
	return 1;
}
//==============================================================================
CMD:admup(playerid, params[])
{
    if(IsPlayerGrandAdmin(playerid))
    {
		if(sscanf(params, "i", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация:{ffffff} /admup [id игрока]");
		else if(PI[params[0]][pAdmin] < 1) return SendClientMessage(playerid, COLOR_RED, "Этот игрок не является администратором");
		else if(PI[params[0]][pAdmin] > 9) return SendClientMessage(playerid, COLOR_RED, "Этот администратор не может быть повышен");
		else if(params[0] == playerid) return SendClientMessage(playerid, COLOR_RED, "Нельзя изменить свой уровень");
		new string[128];
		PI[params[0]][pAdmin]++;
		MysqlUpdatePlayerInt(params[0], "admin", PI[params[0]][pAdmin]);
		format(string, sizeof(string), "%s повысил Ваш уровень администратора", GetName(playerid));
		SendClientMessage(params[0], COLOR_YELLOW, string);
		format(string, sizeof(string), "[A] %s [%d] повысил администратора %s [%d] до %d уровня", GetName(playerid), playerid, GetName(params[0]), params[0], PI[params[0]][pAdmin]);
		SendAdminMessageEx(COLOR_RED, string, 5);
		mysql_format(dbHandle, string, sizeof(string), "UPDATE "T_ADMIN" SET `level` = '%d' WHERE `name` = '%s' LIMIT 1", PI[params[0]][pAdmin], GetName(params[0]));
		mysql_tquery(dbHandle, string, "", "");
	}
	return 1;
}
//==============================================================================
CMD:gethere(playerid, params[])
{
	if(PI[playerid][pAdmin] < 3) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/gethere [ид игрока]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(PI[playerid][pAdmin] < ADM_GRAND && AdminInfo[params[0]][admGethere]) return SendClientMessage(playerid, COLOR_RED, "Телепорт этого администратора запрещён");
	new Float:plocx, Float:plocy, Float:plocz;
	GetPlayerPos(playerid, plocx, plocy, plocz);
	if(GetPlayerState(params[0]) == 2) SetVehiclePos(GetPlayerVehicleID(params[0]), plocx, plocy, plocz);
	else SetPlayerPos(params[0], plocx, plocy, plocz);
	SetPlayerVirtualWorld(params[0], GetPlayerVirtualWorld(playerid));
	SetPlayerInterior(params[0], GetPlayerInterior(playerid));
	if(InHospital[params[0]]) InHospital[params[0]] = false;
	new string[128];
	format(string, sizeof(string), "Администратор %s телепортировал Вас к себе", GetName(playerid));
	SendClientMessage(params[0], COLOR_BLUE, string);
	format(string, sizeof(string), "[A] %s [%d] телепортировал к себе %s [%d]", GetName(playerid), playerid, GetName(params[0]), params[0]);
	SendAdminMessage(COLOR_GREY, string);
	format(string, sizeof(string), "Вы телепортировали к себе %s [%d]", GetName(params[0]), params[0]);
	SendClientMessage(playerid, COLOR_LIME, string);
	return 1;
}
//==============================================================================
CMD:settime(playerid, params[])
{
	if(PI[playerid][pAdmin] < 3) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	//if(admin_ban_time[playerid] > 0) return SendErr(playerid, "Ваши админ-действия на сервере заблокированы");
	{
		if(AdminLogged[playerid] == false) return SendErr(playerid, "Вы не авторизованы. Используйте {FFFFFF}/alogin");
		if(sscanf(params, "i", params[0])) return SendInf(playerid, "/settime [время]");
		else if(params[0] < 0 || params[0] > 23) return SendErr(playerid, "Время от 0 до 23!");
		SetWorldTime(params[0]);
		new string[128];
		format(string, sizeof(string), "[A] %s[%d] изменил(а) время на %i часа", GetName(playerid), playerid, params[0]);
		SendAdminMessage(COLOR_GREY, string);
	}
	return 1;
}
//==============================================================================
CMD:weather(playerid, params[])
{
	//if(admin_ban_time[playerid] > 0) return SendErr(playerid, "Ваши админ-действия на сервере заблокированы");
	if(PI[playerid][pAdmin] < 5) return 1;
	else if(AdminLogged[playerid] == false) return SendErr(playerid, "Вы не авторизованы. Используйте {f1c40f}/alogin");
	ShowPlayerDialogEx(playerid, D_WEATHER, 2, "{3498db}>> Погода", "\
		1. Разные версии синих небес/облаков\n\
		2. Разные версии синих небес/облаков\n\
		3. Разные версии синих небес/облаков\n\
		4. Разные версии синих небес/облаков\n\
		5. Разные версии синих небес/облаков\n\
		6. Разные версии синих небес/облаков\n\
		7. Разные версии синих небес/облаков\n\
		8. Гроза\n\
		9. Пасмурно и туман\n\
		10. Ясное синее небо\
	", "Принять", "Отмена");
	return 1;
}
//==============================================================================
CMD:msg(playerid, params[])
{
	//if(admin_ban_time[playerid] > 0) return SendErr(playerid, "Ваши админ-действия на сервере заблокированы");
	if(PI[playerid][pAdmin] < 3) return 1;
	//else if(AdminLogged[playerid] == false) return SendErr(playerid, "Вы не авторизованы. Используйте {f1c40f}/alogin");
	else if(isnull(params)) return SendInf(playerid, "/msg [текст]");
	else if(TextReset[playerid] > gettime() && GetStringY(OldMessage[playerid], params[0])) return SendErr(playerid, "Вы слишком часто пытаетесь отправить сообщение");
	new string[128];
	format(string, sizeof(string), "Администратор %s[%d]: %s", GetName(playerid), playerid, params[0]);
	SendClientMessageToAll(0xFFCC00FF, string);
	SetString(OldMessage[playerid], params[0]);
	TextReset[playerid] = gettime()+3;
	return 1;
}
//==============================================================================
CMD:mpsay(playerid, params[])
{
	if(PI[playerid][pAdmin] < ADM_ADMIN) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(isnull(params)) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/mpsay [текст]");
	else if(TextReset[playerid] > gettime() && GetStringY(OldMessage[playerid], params[0])) return SendClientMessage(playerid,COLOR_RED, "Не флудите");
	new string[128];
	format(string, sizeof(string), "МП | Администратор %s: %s", GetName(playerid), params[0]);
 	SendClientMessageToAll(0x0099FFAA, string);
 	SetString(OldMessage[playerid], params[0]);
	TextReset[playerid] = gettime()+3;
 	SendLog("MsgLog",string);
	return 1;
}
//==============================================================================
CMD:hstats(playerid)
{
	if(PI[playerid][pAdmin] < ADM_SUPER_ADMIN) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");

    new fmt_dialog[120];

	format
	(
		fmt_dialog, sizeof fmt_dialog,
		"{FFFFFF}Свободно квартир: {FFCC00}%d\n\
		{FFFFFF}Свободно домов: {FFCC00}%d",
		TotalFreeApartments,
		TotalFreeHouses
	);

	ShowPlayerDialog
	(
		playerid, INVALID_DIALOG_ID, DIALOG_STYLE_MSGBOX,
		"{99CC00}Статистика домов",
		fmt_dialog,
		"Закрыть", ""
	);

	return 1;
}
//==============================================================================
CMD:a(playerid,params[])
{
	if(PI[playerid][pAdmin] < 1) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(isnull(params)) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/a [текст]");
	else if(TextReset[playerid] > gettime() && GetStringY(OldMessage[playerid], params[0])) return SendClientMessage(playerid, COLOR_RED, "Не флудите");
	new string[128];
	format(string, sizeof(string), "[ADM-CHAT]{FFFFFF} %s[%d]: %s", GetName(playerid), playerid, params[0]);
	SendAdminMessage(COLOR_SERVER, string);
	SetString(OldMessage[playerid], params[0]);
	TextReset[playerid] = gettime()+3;
	return 1;
}
//==============================================================================
cmd:ya(playerid,params[])
{
	//if(admin_ban_time[playerid] > 0) return SendErr(playerid, "Ваши админ-действия на сервере заблокированы");
	if(PI[playerid][pYouTuber] < 1) return 1;
	else if(isnull(params)) return SendInf(playerid, "/ya [текст]");
	else if(TextReset[playerid] > gettime() && GetStringY(OldMessage[playerid], params[0])) return SendErr(playerid, "Вы слишком часто пытаетесь отправить сообщение");
	new string[128];
	format(string, sizeof(string), "[Y] %s[%d]: %s", GetName(playerid), playerid, params[0]);
	SendYouTuberMessage(COLOR_YT, string);
	SetString(OldMessage[playerid], params[0]);
	TextReset[playerid] = gettime()+3;
	return 1;
}
//==============================================================================
cmd:b(playerid, params[]) return callcmd::n(playerid, params);
cmd:n(playerid, params[])
{
	if(PI[playerid][pMuted] > 0) return SendErr(playerid, "У вас бан чата. {FFFFFF}(/time)");
	else if(isnull(params)) return SendInf(playerid, "/n [текст]");
	else if(TextReset[playerid] > gettime() && GetStringY(OldMessage[playerid], params[0])) return SendErr(playerid, "Вы слишком часто пытаетесь отправить сообщение");
	else if(IsIpFound(params[0]) || CheckString(params[0])) return PlayerGetsChatBan(playerid, params[0]);
	new string[128];
	format(string, sizeof(string), "(( %s[%i]: %s ))", GetName(playerid), playerid, params);
	ProxDetector(20.0, playerid, string, 0xCCCC99FF, 0xCCCC99FF, 0xCCCC99FF, 0xCCCC99FF, 0xCCCC99FF);
	SetPlayerChatBubble(playerid, params, 0xCCCC99FF, 20.0, 7000);
	SetString(OldMessage[playerid], params[0]);
	TextReset[playerid] = gettime()+3;
	return 1;
}
//==============================================================================
CMD:s(playerid, params[])
{
    if(PI[playerid][pTime] < 0) return SendClientMessage(playerid, COLOR_RED, "Вы должны играть на сервере более 1 часа!");
	else if(PI[playerid][pMuted] > 0) return SendClientMessage(playerid, 0xff6600AA, "У Вас затычка. Узнать подробней: /time");
	else if(isnull(params)) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/s [текст]");
	else if(TextReset[playerid] > gettime() && GetStringY(OldMessage[playerid], params[0])) return SendClientMessage(playerid,COLOR_RED, "Не флудите!");
	else if(IsIpFound(params[0]) || CheckString(params[0])) return PlayerGetsChatBan(playerid, params[0]);
	new string[128];
	format(string, sizeof(string), "- %s[%d] кричит: %s", GetName(playerid), playerid, params[0]);
	if(GetPlayerState(playerid) == PLAYER_STATE_ONFOOT) ApplyAnimation(playerid,"RIOT","RIOT_shout",4.1,0,0,0,0,1);
	foreach(new i: Player)
	{
		if(!IsPlayerConnected(i)) continue;
		new Float:rdist, c;
		rdist = GetPlayerDistanceToPlayer(playerid, i);
		if(!PlayerLogged[i] || rdist > 13.0 || GetPlayerVirtualWorld(playerid) != GetPlayerVirtualWorld(i)) continue;
		switch(floatround(rdist))
		{
			case 0..3: c = 0xFFFFFFFF;
			case 4..8: c = 0xCCCCCCFF;
			case 9..13: c = 0xAAAAAAFF;
			default: c = 0x888888FF;
		}
		SendClientMessage(i, c, string);
	}
	SetString(OldMessage[playerid], params[0]);
	TextReset[playerid] = gettime()+3;
	return 1;
}
//==============================================================================
CMD:gov(playerid, params[])
{
	if(!IsTheMember(PI[playerid][pMember])) return SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	else if(PI[playerid][pMuted] > 0) return SendClientMessage(playerid, 0xff6600AA, "У Вас затычка. Узнать подробней: /time");
	else if(PI[playerid][pGovMute] > 0) return SendClientMessage(playerid, 0xff6600AA, "У Вас имеется ограничение на подачу гос. новостей");
	else if(!IsAbleToGosNewsRank(playerid)) return SendClientMessage(playerid, COLOR_RED, "Канал гос. новостей не доступен для Вас!");
	else if(sscanf(params, "s[128]", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/gov [текст]");
	else if(IsIpFound(params[0]) || CheckString(params[0])) return PlayerGetsChatBan(playerid, params[0]);
	new string[128];
	format(string, sizeof(string), "[Государственные новости]: {FFFFFF}%s", params[0]);
//	format(string, sizeof(string), "[Государственные новости]: {FFFFFF}%s [%d]: %s", GetName(playerid), playerid, params[0]);
	SendClientMessageToAll(0x4466CCFF, string);
	return 1;
}
//==============================================================================
CMD:ans(playerid, params[])
{
	if(PI[playerid][pAdmin] < ADM_MODER) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(sscanf(params, "us[128]", params[0],params[1])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/ans [ид игрока] [текст]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	new string[228];
	format(string, sizeof(string), "Администратор %s [%d] для %s [%d]: %s", PI[playerid][pName],playerid,PI[params[0]][pName],params[0], params[1]);
	SendAdminMessage(0xFF9945FF, string);
	format(string, sizeof(string), "Ответ от администратора: %s[%d]: %s", PI[playerid][pName],playerid, params[1]);
	SendClientMessage(playerid,0xFF9945FF, string);

	playerReported[params[0]] = 0;
	
	SetPVarInt(params[0], "AnsReport", 1);
	SetPVarString(params[0], "AnsReportText", params[1]);
	TextDrawShowForPlayer(params[0], TDmessage);
	SendClientMessage(params[0],-1,"У вас новое уведомление! Для скрытие введите: {FF00FF} /uved");
	PI[playerid][pCREPORT] ++;
	return 1;
}

cmd:reports(playerid) {
	if(CheckAdmin(playerid, 1)) return 0;
	new string[200*20];
	new tmp[200];
	foreach(new i : Player) {
		if(playerReported[i]) {
			format(tmp, 200, "{FFCC00}%s(%d):\t {FFFFFF}%s\n", GetName(i), i, playerReportText[i]);
			strcat(string, tmp);
		} else continue;
	}
	ShowPlayerDialog(playerid, D_NULL, DIALOG_STYLE_LIST, "{FFCC00}Список репортов", string, "Закрыть", "");
	return 1;
}



CMD:uved(playerid)
{
	if(GetPVarInt(playerid, "AnsReport") != 1) return SendClientMessage(playerid, COLOR_RED, "У вас нет уведомений");
	new string[228], otvet[199];
	GetPVarString(playerid, "AnsReportText", otvet, sizeof otvet);
	format(string, sizeof(string), "Ответ от администрации: %s",otvet);
	ShowPlayerDialog(playerid, 0, DIALOG_STYLE_MSGBOX, "{FFA500}Ответ от администрации", string, "Хорошо", "");
	TextDrawHideForPlayer(playerid, TDmessage);
	DeletePVar(playerid, "AnsReportText");
	DeletePVar(playerid, "AnsReport");
	return 1;
}
/*CMD:ansp(playerid, params[])
{
	if(PI[playerid][pSupports] != 1) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(sscanf(params, "us[128]", params[0],params[1])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/ansp [ид игрока] [текст]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	new string[228];
	format(string, sizeof(string), "Агент поддержки %s [%d] для %s [%d]: %s", PI[playerid][pName],playerid,PI[params[0]][pName],params[0], params[1]);
	SendClientMessage(params[0], 0xFF9945FF, string);
	format(string, sizeof(string), "Агент поддержки %s [%d] для %s [%d]: %s", PI[playerid][pName],playerid,PI[params[0]][pName],params[0], params[1]);
	SendAdminMessage(0xFF9945FF, string);
	PI[playerid][pCREPORT] ++;
	return 1;
}*/
//==============================================================================
cmd:check(playerid, params[])
{
	//if(admin_ban_time[playerid] > 0) return SendErr(playerid, "Ваши админ-действия на сервере заблокированы");
	if(PI[playerid][pAdmin] < 1) return 1;
	//else if(AdminLogged[playerid] == false) return SendErr(playerid, "Вы не авторизованы. Используйте {3399FF}/alogin");
	else if(sscanf(params, "u", params[0])) return SendInf(playerid, "/check [id игрока]");
	else if(!IsPlayerConnected(params[0])) return SendErr(playerid, "Игрок не в игре");
	else if(PlayerLogged[params[0]] == false) return SendErr(playerid, "Игрок не авторизован");
	ShowPlayerDialog(playerid, CHECK, DIALOG_STYLE_LIST, GetName(params[0]), \
	"Статистика игрока\nСведения античита\nПроверить наказания\nОружие игрока\nАкссесуары игрока\n[3+] Апелляции игрока\n[3+] Проверить IP", \
	"Далее", "Отмена");
	return 1;
}
CMD:mparm(playerid, params[])
{
	if(PI[playerid][pAdmin] < ADM_ADMIN) return 1;
	new arm;
	if(sscanf(params, "udS()[32]", arm)) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/mparm(our) [кол-во брони]");
	new Float:PlayerPos[3];
	GetPlayerPos(playerid, PlayerPos[0], PlayerPos[1], PlayerPos[2]);
	foreach(new i:Player)
	{
		if(PlayerToPoint(10.0, i, PlayerPos[0], PlayerPos[1], PlayerPos[2]))
	{
		SetArmour(i, arm);
	}
	}
	return 1;
}
CMD:mphp(playerid, params[])
{
	if(PI[playerid][pAdmin] < ADM_ADMIN) return 1;
	new hp;
	if(sscanf(params, "udS()[32]", hp)) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/mphp [кол-во ХП]");
	new Float:PlayerPos[3];
	GetPlayerPos(playerid, PlayerPos[0], PlayerPos[1], PlayerPos[2]);
	foreach(new i:Player)
    {
		if(PlayerToPoint(10.0, i, PlayerPos[0], PlayerPos[1], PlayerPos[2]))
    {
		SetHealth(i, hp);
	}
	}
    return 1;
}
CMD:mpskin(playerid, params[])
{
	if(PI[playerid][pAdmin] < ADM_ADMIN) return 1;
	if(sscanf(params, "udS()[32]", params[0], params[1])) return SendClientMessage(playerid, COLOR_LIME, "• Информация: {ffffff}/mpskin [номер команды] [скин]");
	if(params[1] > 297) return true;
	new team_1[250],team_2[250], all, team1, team2, string[128];
	new Float:x,Float:y,Float:z;
	GetPlayerPos(playerid, x,y,z);
   	foreach(new i: Player)
	{
	    if(i == playerid) continue;
		if(!IsPlayerConnected(i)) continue;
		if(PlayerToPoint(10.0, i, x,y,z))
		{
			all++;
			if(params[0] == 3)
			{
			    SetPlayerSkin(i,params[1]);
				format(string, sizeof(string), "Мероприятие (ООС): Люди на МП получили %i скин", params[1]);
			    SendClientMessage(playerid, COLOR_YELLOW, string);
			    continue;
			}
			if(params[0] == 2 && all%2 == 0)
			{
			    team2++;
				team_2[team2] = i;
				SetPlayerSkin(i,params[1]);
			    format(string, sizeof(string), "Мероприятие (ООС): Люди на МП получили %i скин", params[1]);
			    SendClientMessage(playerid, COLOR_YELLOW, string);
				continue;
			}
			if(params[0] == 1 && all%2 == 1)
			{
			    team1++;
			    team_1[team1] = i;
			    SetPlayerSkin(i,params[1]);
				format(string, sizeof(string), "Мероприятие (ООС): Люди на МП получили %i скин", params[1]);
			    SendClientMessage(playerid, COLOR_YELLOW, string);
			    continue;
			}
			if(params[0] < 1 || params[0] > 3)
			{
			    SendClientMessage(playerid, COLOR_LIME, "• Информация: {ffffff}/mpskin [номер команды] [скин]");
			    break;
			}
		}
   	}
    return true;
}
cmd:paintjob(playerid, params[]) {
	if(CheckAdmin(playerid, 7)) return 0;
	if(sscanf(params, "d", params[0])) return SendErr(playerid, "Используйте: /paintjob [id]");
	if(!IsPlayerInAnyVehicle(playerid)) return SendErr(playerid, "Вы должны быть в машине!");
	if(3 <= params[0] < 0) return SendErr(playerid, "ID painjob от 0 до 2!");
	ChangeVehiclePaintjob(GetPlayerVehicleID(playerid), params[0]);
	SendSucces(playerid, "Painjob изменен!");
	return 1;
}

cmd:setvehhp(playerid, params[]) {
	if(CheckAdmin(playerid, 4)) return 0;
	new Float:newhp;
	if(sscanf(params, "f", newhp)) return SendErr(playerid, "Используйте: /servehhp [hp]");
	SetVehicleHealth(GetPlayerVehicleID(playerid), newhp);
	SendMes(playerid, -1, "{FFFFFF}Вы установили вашей машине новое кол-во HP: %0.f", newhp);
	return 1;
}

cmd:vehcolor(playerid, params[]) {

	if(CheckAdmin(playerid, 7)) return 0;
	if(sscanf(params, "dd", params[0], params[1])) return SendErr(playerid, "Используйте: /vehcolor [color 1] [color 2]");
	ChangeVehicleColor(GetPlayerVehicleID(playerid), params[0], params[1]);
	SendSucces(playerid, "Цвет машины изменен!");
	return 1;
}

CMD:mphere(playerid, params[])
{
	if(PI[playerid][pAdmin] < ADM_ADMIN) return 1;
	new Float:x,Float:y,Float:z;
	GetPlayerPos(playerid, x,y,z);
	foreach(new i: Player)
	{
		if(i == playerid) continue;
		if(!IsPlayerConnected(i)) continue;
		if(PlayerToPoint(100.0, i, x,y,z))
		{
			SetPlayerPos(i, x-5,y,z);
		}
	}
	return true;
}

new const BannedWords[2][7][10] = {

		{"еба","пизд","хуй","хер","член","бля","соси"},
		{"diamond", "radmir", "даймонд", "радмир", "7777", "arizona", "аризона"}
};

stock CheckText(text[]){


	for(new is; is < 2; is++) {
		for(new js; js < 7; js++){
			if(!strcmp(text, BannedWords[is][js], true)) return is;
		}
	}

	return 10;

}


cmd:rep(playerid, const params[]) {

	if(GetPVarInt(playerid,"AntiFloodRep") > gettime()) return SendClientMessage(playerid, COLOR_BLUE, "Отправить вопрос/жалобу можно раз в 30 секунд");
	new rep_text[128];
	if(sscanf(params, "s", rep_text)) return SendClientMessage(playerid, COLOR_BLUE, "Используйте: /rep [текст]");
	playerReported[playerid] = 1;
	new string[128];
	format(string, sizeof(string), "Жалоба/Вопрос от: %s[%i]: %s",GetName(playerid),playerid,params[0]);
	SendAdminMessage(COLOR_LIME, string);
	SendClientMessage(playerid, COLOR_LIME, string);
	format(playerReportText[playerid], 128, "%s", params[0]);
	SendPond(playerid, "Если Вы хотите пожаловаться на использование читов, то лучше обращаться /cheatreport (/crep)");
	if(PI[playerid][pVip]) SetPVarInt(playerid, "AntiFloodRep", gettime() + 5);
	else SetPVarInt(playerid, "AntiFloodRep", gettime() + 15);

	return 1;
}

cmd:clist(playerid,params[]){

	if(PI[playerid][pAdmin] < 2) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	if(sscanf(params, "d", params[0])) return SendClientMessage(playerid, -1, "Используйте: /clist [id]");
	if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, -1, "Такого ID не существует!");
	SetPVarInt(playerid, "SetColorPlayerID", params[0]);
	ShowPlayerDialog(playerid, CLIST, DIALOG_STYLE_LIST, "Выберите цвет", "1. {FF0000}Красный{FFFFFF}\n\
	2. {ffde5a}Желтый{FFFFFF}\n\
	3. {ff630f}Оранжевый{FFFFFF}\n\
	4. {dc143c}Малиновый{FFFFFF}\n\
	5. {d7d7d7}Серый{FFFFFF}\n\
	6. {000000}Черный{FFFFFF}\n\
	7. {00a86b}Зеленый{FFFFFF}",\
	"Установить", "Отмена");
	return 1;
}

CMD:mpgun(playerid, params[])
{
    if(PI[playerid][pAdmin] < ADM_ADMIN) return 1;
	if(sscanf(params, "ddd", params[0], params[1], params[2])) return SendClientMessage(playerid, COLOR_LIME, "• Информация: {ffffff}/mpgun [номер команды] [номер оружия] [кол-во пт]");
  	else if(params[1] > 47 || params[1] < 1) return SendClientMessage(playerid, COLOR_RED,"Такого оружия не существует!");
    else if(params[2] > 1000 || params[2] < 1) return SendClientMessage(playerid, COLOR_RED,"Неверное количество патрон!");

	new team_1[250],team_2[250], all, team1, team2;
	new Float:x,Float:y,Float:z;
	GetPlayerPos(playerid, x,y,z);

	foreach(new i: Player)
	{
		if(i == playerid) continue;
		if(!IsPlayerConnected(i)) continue;
		if(PlayerToPoint(100.0, i, x,y,z))
		{
		    all++;
            if(params[0] == 3)
			{
			    GivePlayerWeaponAC(i,params[1], params[2]);
			    continue;
			}
            if(params[0] == 2 && all%2 == 0)
            {
                team2++;
            	team_2[team2] = i;
            	GivePlayerWeaponAC(i,params[1], params[2]);
            	continue;
			}
			if(params[0] == 1 && all%2 == 1)
			{
			    team1++;
				team_1[team1] = i;
			    GivePlayerWeaponAC(i,params[1], params[2]);
			    continue;
			}
			if(params[0] < 1 || params[0] > 2)
			{
			    SendClientMessage(playerid, COLOR_LIME, "• Информация: {ffffff}/mpgun [номер команды] [номер оружия] [кол-во пт]");
			    break;
			}
		}
   	}
	
	return 1;
}
//==============================================================================
CMD:freeze(playerid, params[])
{
	//if(admin_ban_time[playerid] > 0) return SendErr(playerid, "Ваши админ-действия на сервере заблокированы");
	if(PI[playerid][pAdmin] < 3) return 1;
	//else if(AdminLogged[playerid] == false) return SendErr(playerid, "Вы не авторизованы. Используйте {FFFFFF}/alogin");
	if(sscanf(params, "dd", params[0], params[1])) return SendClientMessage(playerid, -1, "Введите: /freeze [id игрока] [время (мин)]");
	else if(!IsPlayerConnected(params[0])) return SendErr(playerid, "Игрок не в игре");
	else if(PlayerLogged[params[0]] == false) return SendErr(playerid, "Игрок не авторизован");
	new string[128];
	format(string, sizeof(string), "[A] %s [%i] заморозил %s [%d] на %d мин", GetName(playerid), playerid, GetName(params[0]), params[0], params[1]);
	SendAdminMessage(COLOR_GREY, string);
	format(string, sizeof(string), "Администратор %s заморозил Вас на %d мин", GetName(playerid), params[1]);
	SendClientMessage(params[0], COLOR_BLUE, string);

	TogglePlayerControllable(params[0], 0);
	SetTimerEx("UnFreezePlayer2", 60000*params[1], false, "i", params[0]);
	return true;
}
//==============================================================================
forward UnFreezePlayer2(playerid);
public UnFreezePlayer2(playerid)
{
    TogglePlayerControllable(playerid, true);
    return true;
}
//==============================================================================
cmd:unfreeze(playerid, params[])
{
	//if(admin_ban_time[playerid] > 0) return SendErr(playerid, "Ваши админ-действия на сервере заблокированы");
	if(PI[playerid][pAdmin] < 3) return 1;
	//else if(AdminLogged[playerid] == false) return SendErr(playerid, "Вы не авторизованы. Используйте {FFFFFF}/alogin");
	else if(sscanf(params, "u", params[0])) return SendInf(playerid, "/unfreeze [id игрока]");
	else if(!IsPlayerConnected(params[0])) return SendErr(playerid, "Игрок не в игре");
	else if(PlayerLogged[params[0]] == false) return SendErr(playerid, "Игрок не авторизован");
	//lse if(FreezePlayer1[params[0]] == false) return SendErr(playerid, "Этот игрок не заморожен");
	new string[128];
	format(string, sizeof(string), "[A] %s[%i] разморозил(а) %s[%d]", GetName(playerid), playerid, GetName(params[0]), params[0]);
	SendAdminMessage(COLOR_GREY, string);
	format(string, sizeof(string), "Администратор %s разморозил(а) Вас", GetName(playerid));
	SendClientMessage(params[0], COLOR_BLUE, string);
	TogglePlayerControllable(params[0], 1);
	SetTimerEx("UnFreezePlayer2", 50, false, "i", params[0]);
//	FreezePlayer1[params[0]] = false;
	return 1;
}
//==============================================================================
CMD:kick(playerid, params[])
{
	if(PI[playerid][pAdmin] < ADM_SUPER_MODER) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(sscanf(params, "uS()[32]", params[0], params[1])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/kick [ид игрока] [причина]");
	else if(!IsPlayerConnected(params[0]) || params[0] == INVALID_PLAYER_ID || params[0] == playerid) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
   	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
    else if(PI[playerid][pAdmin] <= PI[params[0]][pAdmin]) return AttemptRemoveAdmin(playerid);
    else if(IsIpFound(params[1]) || CheckString(params[1])) return AdminAntisliv(playerid, params[1]);
    new string[128];
    if(PI[playerid][pSex] == 1) format(string, sizeof(string), "Администратор %s кикнул игрока %s. Причина: %s", GetName(playerid), GetName(params[0]), params[1]);
    else format(string, sizeof(string), "Администратор %s кикнула игрока %s. Причина: %s", GetName(playerid), GetName(params[0]), params[1]);
	SendAdminMessageToAll(COLOR_RED, string);
	SendLog("Kick",string);
	Kick(params[0]);
	PI[playerid][pCKICK] ++;
	return 1;
}

CMD:skick(playerid, params[])
{
	if(PI[playerid][pAdmin] < ADM_ADMIN) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/skick [ид игрока]");
	else if(!IsPlayerConnected(params[0]) || params[0] == INVALID_PLAYER_ID || params[0] == playerid) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	if(PI[playerid][pAdmin] <= PI[params[0]][pAdmin]) return AttemptRemoveAdmin(playerid);
	new string[128];
	format(string, sizeof(string), "[A] %s [%d] кикнул игрока %s [%d] без лишнего шума", GetName(playerid), playerid, GetName(params[0]), params[0]);
	SendAdminMessage(COLOR_GREY, string);
	SendLog("Skick", string);
	Kick(params[0]);
	PI[playerid][pCKICK] ++;
	return 1;
}

CMD:stat(playerid, params[])
{
	if(PI[playerid][pAdmin] < ADM_MODER) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/stat [id игрока]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	ShowPlayerStatsDialog(playerid, params[0]);
	return 1;
}

CMD:setstat(playerid, params[])
{
    if(PI[playerid][pAdmin] < 7) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	{
		if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/setstat [ид игрока]");
		else if(!IsPlayerConnected(params[0])) return SCM(playerid, COLOR_RED, "Такого игрока нет");
		else if(PlayerLogged[params[0]] == false) return SCM(playerid, COLOR_RED, "Игрок не ввел пароль!");
		NameStats[playerid] = params[0];
		ShowPlayerDialog(playerid, D_UCPADMIN, DIALOG_STYLE_LIST, GetName(params[0]), "Ник\nУровень\nОпыт\nПол\nУровень дальнобойщика", "Принять", "Отмена");
	}
	return 1;
}

CMD:sban(playerid, params[])
{
	if(PI[playerid][pAdmin] < ADM_SUPER_ADMIN) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(sscanf(params, "ids[32]", params[0], params[1], params[2])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/sban [id игрока] [кол-во дней] [причина]");
	else if(!IsPlayerConnected(params[0]) || params[0] == INVALID_PLAYER_ID || params[0] == playerid) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
    else if(PI[playerid][pAdmin] <= PI[params[0]][pAdmin]) return AttemptRemoveAdmin(playerid);
    else if(IsIpFound(params[2]) || CheckString(params[2])) return AdminAntisliv(playerid, params[2]);
	else if(params[1] > 30 || params[1] < 1) return SendClientMessage(playerid, COLOR_RED, "Количество дней от 1 до 30!");
	new string[128];
	format(string, sizeof(string), "[A] %s [%d] тихо забанил игрока %s на %d дней. Причина: %s", GetName(playerid), playerid, GetName(params[0]),params[1], params[2]);
	SendAdminMessage(COLOR_GREY,string);
	new data[15], unbandate;
	getdate(years, months, days);
	unbandate = gettime() + params[1]*86400;
	format(data, sizeof(data), "%02d.%02d.%04d", days, months, years);
	format(query, sizeof(query), "INSERT INTO bans (name, whobanned, ip, bandate, time, unbandate, reason) VALUES ('%s', '%s', '%s', '%s', %d, %d, '%s')", GetName(params[0]), GetName(playerid), PI[params[0]][pIP], data, params[1], unbandate, params[2]);
	mysql_tquery(dbHandle, query, "", "");
	Kick(params[0]);
	return 1;
}

cmd:getip(playerid, params[])
{
	//new gownogol[90];
	/*if(PI[playerid][pAccep] == 0)
	{
		SendClientMessage(playerid,COLOR_RED,"Наблюдается попытка взлома!");
		format(gownogol,sizeof(gownogol),"-[G-GUARD] %s подозревается во зломе, проверьте его и авторизируйте /acceptadmin [5 lvl]", GetName(playerid));
		SendAdminMessage(COLOR_RED,gownogol);
		return false;
	}*/
	//if(admin_ban_time[playerid] > 0) return SendErr(playerid, "Ваши админ-действия на сервере заблокированы");
	if(PI[playerid][pAdmin] < 3) return 1;
	//else if(AdminLogged[playerid] == false) return SendErr(playerid, "Вы не авторизованы. Используйте {3399FF}/alogin");
	else if(sscanf(params, "u", params[0])) return SendInf(playerid, "/getip [id игрока]");
	else if(!IsPlayerConnected(params[0])) return SendErr(playerid, "Игрок не в игре");
	//else if(GetStringY(GetName(playerid), NGA1)) return SendErr(playerid, "Нельзя просмотреть IP данного администратора!");

	STRING_GLOBAL[0] = EOS;
	format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "[%s] [IP: %s]-[RegIP: %s]-[LastIP: %s]", GetName(params[0]),PI[params[0]][pIP],PI[params[0]][pRegIP],PI[params[0]][pLastIP]);
	SendClientMessage(playerid, COLOR_YELLOW, STRING_GLOBAL);
	return 1;
}

cmd:allheal(playerid)
{
	if(PI[playerid][pAdmin] >= 3)
	{
		for(new i; i<MAX_PLAYERS; i++)
		{
			SetPlayerHealth(i,100);
			SendClientMessage(i,COLOR_BLUE,"Администратор всех вылечил");
		}
	}
	return 1;
}

CMD:pgetip(playerid,params[])
{
	//new gownogol[90];
	/*if(PI[playerid][pAccep] == 0)
	{
		SendClientMessage(playerid,COLOR_RED,"Наблюдается попытка взлома!");
		format(gownogol,sizeof(gownogol),"-[G-GUARD] %s подозревается во зломе, проверьте его и авторизируйте /acceptadmin [5 lvl]", GetName(playerid));
		SendAdminMessage(COLOR_RED,gownogol);
		return false;
	}*/
	if(PI[playerid][pAdmin] < 3) return 1;
	if(sscanf(params,"s[60]",params[0])) return SendInf(playerid, "/pgetip [ip]");

	STRING_GLOBAL = "";
	format(STRING_GLOBAL, 300, "SELECT `name` FROM `accounts` WHERE `ip` = '%s'", params[0]);
	mysql_tquery(dbHandle, STRING_GLOBAL, "p_get_ip", "i", playerid);

	return 1;
}

forward p_get_ip(playerid);
public p_get_ip(playerid)
{
	new rows, fields;
	cache_get_data(rows, fields);

	if(rows)
	{
		new name[MAX_PLAYER_NAME+1];
		for(new i = 0; i < rows; i++)
		{
			cache_get_row(i, 3, name, dbHandle, MAX_PLAYER_NAME);
			format(STRING_GLOBAL, 128, "%i. %s", i+1, name);
			SendInf(playerid, STRING_GLOBAL);
		}
	}
	else SendErr(playerid, "IP адресов по Вашему запросу не найдено");

	return 1;
}

cmd:hgps(playerid)
{
	if(GetPlayerHouse(playerid) == 0) return SendErr(playerid, "Вы не владеете домом");
	for(new i = TOTALHOUSE; i > 0; i --)
	{
		if(strcmp(GetName(playerid),HouseInfo[i][hOwner], true) == 0)
		{
			SetPlayerRaceCheckpoint(playerid,1, HouseInfo[i][hEntrx],HouseInfo[i][hEntry],HouseInfo[i][hEntrz],0.0,0.0,0.0, 4.0);
			SendClientMessage(playerid, COLOR_WHITE, "Ваш дом обозначен на карте {FF6347}красной меткой");
			SetPVarInt(playerid, "Home", 1);
		}
	}
	return 1;
}

CMD:saveacc(playerid, params[])
{
	if(PI[playerid][pAdmin] < 7) return 1;
	SaveAcc();
	SCM(playerid, COLOR_RED, "Вы успешно сохранили все аккаунты");
	new string[128];
	format(string, sizeof(string), "[A] %s [%d] сохранил все аккаунты", GetName(playerid), playerid);
	SendAdminMessage(COLOR_GREY, string);
	return 1;
}
CMD:setorg(playerid)
{
    if(PI[playerid][pAdmin] < 5) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	ShowPlayerDialog(playerid,1984,DSL,"{FFCC00}Список организаций","{FFCC00}1. {ffffff}Армия\n{FFCC00}2. {ffffff}ОПГ ''Ореховское\n{FFCC00}3. {ffffff}ОПГ Южное","Выбрать","Закрыть");
	return 1;
}
CMD:hclose(playerid)
{
    new a = GetPVarInt(playerid, "PlayerHouse");
	if(GetPlayerHouse(playerid) == 0) return SendClientMessage(playerid, COLOR_RED, "У Вас нет дома!");

	if(IsPlayerInRangeOfPoint(playerid, 15.0, HouseInfo[a][hEntrx], HouseInfo[a][hEntrz], HouseInfo[a][hEntrz]) || IsPlayerInRangeOfPoint(playerid, 15.0, HouseInfo[a][hEntrx], HouseInfo[a][hEntry], HouseInfo[a][hEntrz]))
	{
		HouseInfo[a][hLock] = 1;
		GameTextForPlayer(playerid, "~w~ДОМ ~r~ЗАКРЫТ", 2000, 5);
	}
	return 1;
}
CMD:hopen(playerid)
{
    new a = GetPVarInt(playerid, "PlayerHouse");
	if(GetPlayerHouse(playerid) == 0) return SendClientMessage(playerid, COLOR_RED, "У Вас нет дома!");
	
	if(IsPlayerInRangeOfPoint(playerid, 15.0, HouseInfo[a][hEntrx], HouseInfo[a][hEntrz], HouseInfo[a][hEntrz]) || IsPlayerInRangeOfPoint(playerid, 15.0, HouseInfo[a][hEntrx], HouseInfo[a][hEntry], HouseInfo[a][hEntrz]))
	{
		HouseInfo[a][hLock] = 0;
		GameTextForPlayer(playerid, "~w~ДОМ ~r~ОТКРЫТ", 2000, 5);
	}
	return 1;
}
CMD:openvdv(playerid)
{
    if(PI[playerid][pMember] == TEAM_VDV && PI[playerid][pRank] >= 4 && IsPlayerInRangeOfPoint(playerid, 10.0, 1891.0800, 1722.3900, 16.2200))
	{
		if(ope == 1)
		{
	    	MoveDynamicObject(openvdv, 1891.0800, 1722.3900, 16.2200, 1, 0.0000, 0.0000, -90.0000);
	    	ope = 0;
	    	SCM(playerid,COLOR_RED,"Вы закрыли ворота");
	    	SetPlayerChatBubble(playerid,"Закрывает ворота",COLOR_RED,30.0,10000);
		}
		else
		{
		    MoveDynamicObject(openvdv, 1891.0800, 1733.5000, 16.2200, 1, 0.0000, 0.0000, -90.0000);
		    ope = 1;
		    SCM(playerid,COLOR_LIME,"Вы открыли ворота");
		    SetPlayerChatBubble(playerid,"Открывает ворота",COLOR_LIME,30.0,10000);
		}
	}
	return 1;
}
/*CMD:open(playerid)
{
	if(!IsAMafia(playerid)) return SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	if(!IsPlayerInRangeOfPoint(playerid, 10.0, 1900.79, 2157.29, 15.19)) return 1;
	if(status_slak == 0)
    {
		MoveObject(policeobject_slak, 1900.79, 2157.29, 15.19, 0.004, 0.00, 4.00, -91.00);
		status_slak = 1;
		SendClientMessage(playerid, COLOR_LIME, "Вы открыли шлагбаум");
    }
	else if(status_slak == 1)
	{
		MoveObject(policeobject_slak, 1900.79, 2157.29, 15.19, 0.004, 0.00, 88.00, -91.00);
		status_slak = 0;
		SendClientMessage(playerid, COLOR_RED, "Вы закрыли шлагбаум");
    }
   	return 1;
}*/
//==============================================================================
CMD:ban(playerid, params[])
{
	if(PI[playerid][pAdmin] < 3) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	if(sscanf(params, "udS()[32]", params[0], params[1], params[2])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/ban [id игрока] [количество дней] [причина]");
	else if(!IsPlayerConnected(params[0]) || params[0] == INVALID_PLAYER_ID || params[0] == playerid) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(params[1] > 30 || params[1] < 1) return SendClientMessage(playerid, COLOR_RED, "Количество дней от 1 до 30!");
	else if(PI[playerid][pAdmin] <= PI[params[0]][pAdmin]) return AttemptRemoveAdmin(playerid);
	else if(IsIpFound(params[2]) || CheckString(params[2])) return AdminAntisliv(playerid, params[2]);
	PI[params[0]][pSpawnChange] = 0;
	new string[128];
	if(PI[playerid][pSex] == 1) format(string, sizeof(string), "Администратор %s забанил игрока %s на %d дней. Причина: %s", GetName(playerid), GetName(params[0]), params[1], params[2]);
    else format(string, sizeof(string), "Администратор %s забанила игрока %s на %d дней. Причина: %s", GetName(playerid), GetName(params[0]), params[1], params[2]);
	SendAdminMessageToAll(COLOR_RED, string);
	format(string, sizeof(string), "- %s [%d] | IP: %s | L-IP: %s | R-IP: %s",PI[params[0]][pName],  params[0],PI[params[0]][pIP],PI[params[0]][pLastIP],PI[params[0]][pRegIP]);
	SendAdminMessage(COLOR_RED,string);
	new data[15], unbandate;
	getdate(years, months, days);
	unbandate = gettime() + params[1]*86400;
	format(data, sizeof(data), "%02d.%02d.%04d", days, months, years);
	format(query, sizeof(query), "INSERT INTO bans (name, whobanned, ip, bandate, time, unbandate, reason) VALUES ('%s', '%s', '%s', '%s', %d, %d, '%s')", GetName(params[0]), GetName(playerid), PI[params[0]][pIP], data, params[1], unbandate, params[2]);
	mysql_tquery(dbHandle, query, "", "");
	ResetPlayerWeaponsAC(params[0]);
	Kick(params[0]);
	PI[playerid][pCBAN] ++;
	return 1;
}
//==============================================================================
CMD:iban(playerid, params[])
{
	if(PI[playerid][pAdmin] < 4) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	if(sscanf(params, "udS()[32]", params[0], params[2])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/iban [id игрока] [причина]");
	else if(!IsPlayerConnected(params[0]) || params[0] == INVALID_PLAYER_ID || params[0] == playerid) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(PI[playerid][pAdmin] <= PI[params[0]][pAdmin]) return AttemptRemoveAdmin(playerid);
	else if(IsIpFound(params[2]) || CheckString(params[2])) return AdminAntisliv(playerid, params[2]);
	PI[params[0]][pSpawnChange] = 0;
	new string[128];
	format(string, sizeof(string), "[A] %s [%d] забанил игрока %s [%d] навсегда. Причина: %s", GetName(playerid), playerid, GetName(params[0]), params[0], params[2]);
	SendAdminMessage(COLOR_BLUE,string);
	format(string, sizeof(string), "[A] - Ник: %s | IP: %s | L-IP: %s | R-IP: %s",PI[params[0]][pName],PI[params[0]][pIP],PI[params[0]][pLastIP],PI[params[0]][pRegIP]);
	SendAdminMessage(COLOR_BLUE,string);
	new data[15], unbandate;
	getdate(years, months, days);
	unbandate = gettime() + 86400*999;
	format(data, sizeof(data), "%02d.%02d.%04d", days, months, years);
	format(query, sizeof(query), "INSERT INTO bans (name, whobanned, ip, bandate, time, unbandate, reason) VALUES ('%s', '%s', '%s', '%s', %d, %d, '%s')", GetName(params[0]), GetName(playerid), PI[params[0]][pIP], data, params[1], unbandate, params[2]);
	mysql_tquery(dbHandle, query, "", "");
	format(string, sizeof(string), "{FFCC00}Администратор: {FFFFFF}%s\n\
	{FFCC00}Причина: {FFFFFF}%s\n\
	{FFCC00}Дата:{FFFFFF} %d/%d/%d\n\
	{FFCC00}Время:{FFFFFF}%d:%d\n\
	{FFCC00}Дата разблокировки: {FFFFFF}заблокирован навсегда\n\n\n\
	{FFFFFF}Если Вы считаете, что ваша блокировка нарушает правила или администратор выдал Вам ее несправедливо,\n\
	то обратитесь с жалобой и скриншотом (F8) данного окна на форум: "PROJECT_FORUM"", GetName(playerid), params[2], gDay, gMonth, gYear, gCurHour, gCurMinutes);
	ShowPlayerDialog(playerid, D_NULL, DIALOG_STYLE_MSGBOX, "Ваш аккаунт заблокирован", string, "/q", "");
	
	Kick(params[0]);
	PI[playerid][pCBAN] ++;
	return 1;
}
//==============================================================================
CMD:cmd(playerid, params[])
{ 
	if(!IsPlayerGrandAdmin(playerid))
		return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
					
	if(PI[playerid][pAdmin] < ADM_TOP) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	if(sscanf(params, "ds[90]", params[0], params[1],params[2])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/cmd [ид игрока] [команда] [текст]");
	new mess[100];format(mess, sizeof(mess), "%s", params[1]);
	OnPlayerCommandText(params[0], mess);
	return 1;
}
//==============================================================================
forward ActivateAccount(playerid, name[]);
public ActivateAccount(playerid, name[])
{
	new r, f;
	cache_get_data(r, f);
	if(!r) return SendErr(playerid, "Аккаунт этого игрока не деактивирован или его нет в базе данных");

	STRING_GLOBAL[0] = EOS;
	mysql_format(dbHandle, STRING_GLOBAL, sizeof(STRING_GLOBAL), "UPDATE "T_ACCOUNTS" SET `deactivate` = '0' WHERE `name` = '%s'", name);
	mysql_tquery(dbHandle, STRING_GLOBAL, "", "");

	STRING_GLOBAL[0] = EOS;
	format(STRING_GLOBAL, 128, "[{0099FF}A{999999}] Администратор %s активировал аккаунт игрока %s", GetName(playerid), name);
	SendAdminMessage(COLOR_ADMIN, STRING_GLOBAL);
	return 1;
}
stock SaveSalary()
{
	new String[200];
	for(new A; A != 18; A++)
	{
	    //if(A >= 4 && A <= 7 || A >= 16 && A <= 18) continue;
		format(String, sizeof(String), "UPDATE `salary` SET `Salary` = '%d' WHERE `Organise` = '%d'", SalaryStatus[A], A);
		mysql_tquery(dbHandle, String, "", "");
	}
	for(new A; A != 44; A++)
	{
		format(String, sizeof(String), "UPDATE `work_salary` SET `Salary` = '%d' WHERE `Work` = '%d'", WorkSalary[A], A);
		mysql_tquery(dbHandle, String, "", "");
	}
	return 1;
}
forward LoadSalary();
public LoadSalary()
{
    new Rows, Fields;
    cache_get_data(Rows, Fields);
    for(new A; A != Rows; A++)
	{
 		new LoadOrganise = cache_get_field_content_int(A, "Organise");
   		SalaryStatus[LoadOrganise] = cache_get_field_content_int(A, "Salary");
	}
	return 1;
}

forward LoadWorkSalary();
public LoadWorkSalary()
{
    new Rows, Fields;
    cache_get_data(Rows, Fields);
    for(new A; A != Rows; A++)
	{
 		new LoadWork = cache_get_field_content_int(A, "Work");
   		WorkSalary[LoadWork] = cache_get_field_content_int(A, "Salary");
	}
	return 1;
}
CMD:offwarn(playerid, params[])
{
	if(PI[playerid][pAdmin] < 4) return 1;
	//else if(AdminLogged[playerid] == false) return SendMess(playerid, MSG_YOU_NOT_LOGGED_AS_ADMIN);
	new playername[MAX_PLAYER_NAME], reason[32];
	if(sscanf(params, "s[60]s[60]", playername, reason)) return SendClientMessage(playerid, 0x99CC00FF, "Информация: {FFFFFF}/offwarn [ник игрока] [причина]");
	//else if(CheckExceptionName(playername)) return AttemptRemoveChiefAdmin(playerid);
	//else if(IsIpFound(reason) || CheckString(reason)) return AdminAntisliv(playerid, reason);
	else if(GetPlayerID(playername) != INVALID_PLAYER_ID) return SendClientMessage(playerid, COLOR_RED, "Игрок в сети, используйте команду /warn");

	STRING_GLOBAL[0] = EOS;
	format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "SELECT * FROM "T_ACCOUNTS" WHERE `name`='%s'", playername);
	mysql_tquery(dbHandle, STRING_GLOBAL, "OnPlayerOffwarn", "iss", playerid, playername, reason);

	//ServerProtection(playerid);
	return 1;
}
//==============================================================================
CMD:warn(playerid, params[])
{
	if(PI[playerid][pAdmin] < 3) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(sscanf(params, "us", params[0], params[1])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/warn [ID игрока] [Причина]");
	else if(!IsPlayerConnected(params[0]) || params[0] == INVALID_PLAYER_ID || params[0] == playerid) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(PI[playerid][pAdmin] <= PI[params[0]][pAdmin]) return AttemptRemoveAdmin(playerid);
	else if(IsIpFound(params[1]) || CheckString(params[1])) return AdminAntisliv(playerid, params[1]);
	PI[params[0]][pWarn]++;
	new string[128];
	if(PI[params[0]][pWarn] < 3) format(string, sizeof(string), "Администратор %s выдал предупреждение %s [%i|3]. Причина: %s", GetName(playerid), GetName(params[0]), PI[params[0]][pWarn], params[1]);
	else
	{
	    new data[15], unbandate;
		PI[params[0]][pWarn] = 0;
		format(string, sizeof(string), "Администратор %s забанил игрока %s (3 предупреждения). Причина: %s", GetName(playerid), GetName(params[0]), params[1]);
		getdate(years, months, days);
		unbandate = gettime() + 7*86400;
		format(data, sizeof(data), "%02d.%02d.%04d", days, months, years);
		format(query, sizeof(query), "INSERT INTO bans (name, whobanned, ip, bandate, time, unbandate, reason) VALUES ('%s', '%s', '%s', '%s', 7, %d, '%s')", GetName(params[0]), GetName(playerid), PI[params[0]][pIP], data, unbandate, params[1]);
		mysql_tquery(dbHandle, query, "", "");
	}
	SendAdminMessageToAll(COLOR_RED, string);
	LeaveFractionPlayer(params[0]);
	PI[params[0]][pSpawnChange] = 0;
	format(string, sizeof(string), "Администратор %s выдал предупреждение %s [%i|3]. Причина: %s", GetName(playerid), GetName(params[0]), PI[params[0]][pWarn], params[1]);
	format(string, sizeof(string), "Вы выдали предупреждение %s (%i из 3). Причина: %s", GetName(params[0]), PI[params[0]][pWarn],params[1]);
	SendClientMessage(playerid, COLOR_RED, string);
	SendClientMessage(params[0], COLOR_RED, "До снятия всех предупреждений Вам запрещено вступать в любые организации{FF6600}");
	SendClientMessage(params[0], COLOR_RED, "Для просмотра информации про предупреждения перезайдите и введите {FFCC00}/unwarn{FF6600}");
	SendLog("WarnLog",string);
	Kick(params[0]);
	return 1;
}
//==============================================================================
CMD:offawarn(playerid, params[])
{
	if(PI[playerid][pAdmin] < ADM_TOP) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	new playername[MAX_PLAYER_NAME], reason[32];
	if(sscanf(params, "s[24]s[24]", playername, reason)) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/offawarn [ник] [причина]");
	else if(IsIpFound(reason) || CheckString(reason)) return AdminAntisliv(playerid, reason);
	else if(GetPlayerID(playername) != INVALID_PLAYER_ID) return SendClientMessage(playerid, COLOR_RED, "Игрок в сети, используйте команду /warn");
	format(query, sizeof(query), "SELECT * FROM `accounts` WHERE `name`='%s'", playername);
	mysql_tquery(dbHandle, query, "OnPlayerOffawarn", "iss", playerid, playername, reason);
	return 1;
}
//==============================================================================
CMD:unwarn(playerid, params[])
{
    if(PI[playerid][pWarn] == 0)
		return SendClientMessage(playerid, COLOR_RED, "На Вашем аккаунте нет предупреждений");
	return 1;
}
//==============================================================================
CMD:unwarnplayer(playerid, params[])
{
	if(PI[playerid][pAdmin] != 0)
	{
		if(PI[playerid][pAdmin] < ADM_SUPER_ADMIN) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
		else if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/unwarn [ID Игрока]");
		else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
		else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
		else if(PI[params[0]][pWarn] == 0) return SendClientMessage(playerid, COLOR_RED, "У данного игрока нету предупреждений!");
		PI[params[0]][pWarn]--;
		new string[128];
		format(string, sizeof(string), "Администратор %s [%d] снял Вам 1 предупреждение", GetName(playerid), playerid);
		SendClientMessage(params[0], COLOR_BLUE, string);
		format(string, sizeof(string), "[A] %s [%d] снял 1 предупреждение игроку %s [%d]", GetName(playerid), playerid, GetName(params[0]), params[0]);
		SendAdminMessage(COLOR_GREY, string);
	}
	else if(PI[playerid][pAdmin] == 0)
	{
	    if(PI[playerid][pWarn] == 0)
			return SendClientMessage(playerid, 0xDF5600FF, "На Вашем аккаунте нет предупреждений");

		format(query, sizeof(query), "DELETE FROM `unwarn` WHERE `name` = '%s'", PI[playerid][pName]);
		mysql_query(dbHandle, query);
		format(query, sizeof(query), "DELETE FROM `warns` WHERE `nick` = '%s'", PI[playerid][pName]);
		mysql_query(dbHandle, query);

		PI[playerid][pWarn] = 0;

		format(query, sizeof(query), "UPDATE `accounts` SET `warn` = '%d' WHERE `id` = '%d'", PI[playerid][pWarn], PI[playerid][pID]);
		mysql_query(dbHandle, query);
	}
	return 1;
}
CMD:delacc(playerid, params[])
{
    if(PI[playerid][pAdmin] < ADM_TOP) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	new playername[MAX_PLAYER_NAME];
	if(sscanf(params, "s[32]", playername) && !GetPVarInt(playerid, "deleting_account")) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/delacc [ник игрока]");
	else if(sscanf(params, "s[32]", playername) && !GetPVarInt(playerid, "deleting_account"))
	{
		DeletePVar(playerid, "deleting_account");
		SendClientMessage(playerid, COLOR_RED, "Вы отменили удаление аккаунта");
		return 1;
	}
	format(query, sizeof(query), "SELECT `id`,`level` FROM `accounts` WHERE `name`='%s'", playername);
	mysql_tquery(dbHandle, query, "OnPlayerDeleteAccount", "is", playerid, playername);
	return 1;
}
CMD:nb(playerid, params[])
{
    if(PI[playerid][pAdmin] < ADM_TOP) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	new playername[MAX_PLAYER_NAME];
	if(sscanf(params, "s[32]", playername) && !GetPVarInt(playerid, "deleting_account")) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/nb [ник игрока]");
	else if(sscanf(params, "s[32]", playername) && !GetPVarInt(playerid, "deleting_account"))
	{
		DeletePVar(playerid, "deleting_account");
		SendClientMessage(playerid, COLOR_RED, "Вы отменили деактивацию аккаунта");
		return 1;
	}
	format(query, sizeof(query), "SELECT `id`,`level` FROM `accounts` WHERE `name`='%s'", playername);
	mysql_tquery(dbHandle, query, "OnPlayerDeleteAccount1", "is", playerid, playername);
	return 1;
}
CMD:unb(playerid, params[])
{
	if(PI[playerid][pAdmin] < ADM_SUPER_ADMIN) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(sscanf(params, "s[32]", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/unb [имя игрока]");
	format(query, sizeof(query), "SELECT * FROM bans WHERE name = '%s'", params[0]);
	mysql_tquery(dbHandle, query, "OnPlayerActiva", "is", playerid, params[0]);
	return 1;
}
//==============================================================================
CMD:unban(playerid, params[])
{
	if(PI[playerid][pAdmin] < 5) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(sscanf(params, "s[32]", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/unban [имя игрока]");
	format(query, sizeof(query), "SELECT * FROM bans WHERE name = '%s'", params[0]);
	mysql_tquery(dbHandle, query, "OnPlayerUnban", "is", playerid, params[0]);
	return 1;
}
//==============================================================================
CMD:banip(playerid, params[])
{
	if(PI[playerid][pAdmin] < 5) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(isnull(params)) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/banip [ip адрес]");
	new string[100];
	format(string, sizeof(string), "[A] %s заблокировал IP адрес %s", GetName(playerid), params);
	SendAdminMessageEx(COLOR_RED, string, 4);
	format(string, sizeof(string), "banip %s", params);
	SendRconCommand(string);
	return 1;
}
//==============================================================================
CMD:unbanip(playerid, params[])
{
	if(PI[playerid][pAdmin] < 5) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(isnull(params)) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/unbanip [ip адрес]");
	new string[100];
	format(string, sizeof(string), "[A] %s разблокировал IP адрес %s", GetName(playerid), params);
	SendAdminMessageEx(COLOR_RED, string, 4);
	format(string, sizeof(string), "unbanip %s", params);
	SendRconCommand(string);
	return 1;
}
//==============================================================================
/*CMD:engine(playerid)
{
	if(GetPlayerState(playerid) != PLAYER_STATE_DRIVER) return 0;
	new vehicleid = GetPlayerVehicleID(playerid);
	if(!IsAPlane(vehicleid)) return 0;
	GetVehicleParamsEx(vehicleid,engine,lights,alarm,doors,bonnet,boot,objective);
	SetVehicleParamsEx(vehicleid,(Engine[vehicleid])?(false):(true),lights,alarm,doors,bonnet,boot,objective);
	Engine[vehicleid] = (Engine[vehicleid])?(false):(true);
	return 1;
}
*/

CMD:unmute(playerid, params[])
{
	if(PI[playerid][pAdmin] < ADM_SUPER_MODER) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/unmute [ID игрока]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(PI[params[0]][pMuted] == 0) return SendClientMessage(playerid, COLOR_RED, "Игрок не имеет бан чата!");
	PI[params[0]][pMuted] = 0;
	SendClientMessage(params[0], COLOR_LIME, "Доступ в чат разблокирован");
	new string[100];
	format(string, sizeof(string), "Администратор %s снял затычку игроку %s",GetName(playerid),GetName(params[0]));
	SendAdminMessageToAll(COLOR_RED, string);
	return 1;
}
CMD:epp(playerid, params[])
{
	if(PI[playerid][pAdmin] < ADM_SUPER_MODER) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/epp [ид игрока]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(PI[params[0]][pJail] > 0) return SendClientMessage(playerid, COLOR_RED, "Игрок уже находится в тюрьме!");
	ResetPlayerWeaponsAC(params[0]);
	PI[params[0]][pJailTime] = 5*60;
	if(pCuff[params[0]][pCuffer] != INVALID_PLAYER_ID)
	{
		new cuffer = pCuff[params[0]][pCuffer];
		SetPlayerSpecialAction(params[0], SPECIAL_ACTION_NONE);
		RemovePlayerAttachedObject(params[0], 0);
		pCuff[params[0]][pCuffer] = INVALID_PLAYER_ID;
		pCuff[params[0]][pCuffee] = INVALID_PLAYER_ID;
		pCuff[cuffer][pCuffee] = INVALID_PLAYER_ID;
		pCuff[cuffer][pCuffer] = INVALID_PLAYER_ID;
	}
	SetPlayerVirtualWorld(params[0], 1);
	new string[128];
	format(string, sizeof(string), "[A] %s [%i] посадил %s [%i] на 5 мин", GetName(playerid), playerid, GetName(params[0]), params[0]);
	SendAdminMessage(COLOR_GREY, string);
	format(string, sizeof(string), "Администратор %s посадил Вас в деморган на 5 мин. (NonRP езда (поля))", GetName(playerid));
	SendClientMessage(params[0], COLOR_BLUE, string);
	format(string, sizeof(string), "Администратор %s посадил в деморган %s. Причина: NonRP езда по полям", GetName(playerid), GetName(params[0]));
	SendClientMessageToAll(COLOR_RED, string);
	format(string, sizeof(string), "Время до окончания деморгана: {FFCC00}/time");
	SendClientMessage(params[0], COLOR_WHITE, string);
    FreezePlayer(playerid, 2000);
    SetPlayerInterior(params[0], 0);
	SetPlayerPos(params[0],449.9814,1320.2548,1723.5298);
	SetPlayerFacingAngle(params[0], 360.0000);
	PI[params[0]][pJail] = 3;
	SetPlayerWantedLevel(params[0], 0);
	PI[playerid][pCJAIL] ++;
	return 1;
}
CMD:dm(playerid, params[])
{
	if(PI[playerid][pAdmin] < ADM_SUPER_MODER) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/dm [ид игрока]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(PI[params[0]][pJail] > 0) return SendClientMessage(playerid, COLOR_RED, "Игрок уже находится в тюрьме!");
	ResetPlayerWeaponsAC(params[0]);
	PI[params[0]][pJailTime] = 10*60;
	if(pCuff[params[0]][pCuffer] != INVALID_PLAYER_ID)
	{
		new cuffer = pCuff[params[0]][pCuffer];
		SetPlayerSpecialAction(params[0], SPECIAL_ACTION_NONE);
		RemovePlayerAttachedObject(params[0], 0);
		pCuff[params[0]][pCuffer] = INVALID_PLAYER_ID;
		pCuff[params[0]][pCuffee] = INVALID_PLAYER_ID;
		pCuff[cuffer][pCuffee] = INVALID_PLAYER_ID;
		pCuff[cuffer][pCuffer] = INVALID_PLAYER_ID;
	}
	SetPlayerVirtualWorld(params[0], 1);
	new string[128];
	format(string, sizeof(string), "[A] %s [%i] посадил %s [%i] на 10 мин", GetName(playerid), playerid, GetName(params[0]), params[0]);
	SendAdminMessage(COLOR_GREY, string);
	format(string, sizeof(string), "Администратор %s посадил Вас в деморган на 10 мин. (DM)", GetName(playerid));
	SendClientMessage(params[0], COLOR_BLUE, string);
	format(string, sizeof(string), "Администратор %s наказал игрока %s. Причина: DM", GetName(playerid), GetName(params[0]));
	SendClientMessageToAll(COLOR_RED, string);
	format(string, sizeof(string), "Время до окончания деморгана: {FFCC00}/time");
	SendClientMessage(params[0], COLOR_WHITE, string);
    FreezePlayer(playerid, 2000);
    SetPlayerInterior(params[0], 0);
	SetPlayerPos(params[0],449.9814,1320.2548,1723.5298);
	SetPlayerFacingAngle(params[0], 360.0000);
	PI[params[0]][pJail] = 3;
	SetPlayerWantedLevel(params[0], 0);
	PI[playerid][pCJAIL] ++;
	return 1;
}
//==============================================================================
CMD:nrp(playerid, params[])
{
	if(PI[playerid][pAdmin] < ADM_SUPER_MODER) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/nrp [ид игрока]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(PI[params[0]][pJail] > 0) return SendClientMessage(playerid, COLOR_RED, "Игрок уже находится в тюрьме!");
	ResetPlayerWeaponsAC(params[0]);
	PI[params[0]][pJailTime] = 10*60;
	if(pCuff[params[0]][pCuffer] != INVALID_PLAYER_ID)
	{
		new cuffer = pCuff[params[0]][pCuffer];
		SetPlayerSpecialAction(params[0], SPECIAL_ACTION_NONE);
		RemovePlayerAttachedObject(params[0], 0);
		pCuff[params[0]][pCuffer] = INVALID_PLAYER_ID;
		pCuff[params[0]][pCuffee] = INVALID_PLAYER_ID;
		pCuff[cuffer][pCuffee] = INVALID_PLAYER_ID;
		pCuff[cuffer][pCuffer] = INVALID_PLAYER_ID;
	}
	SetPlayerVirtualWorld(params[0], 1);
	new string[128];
	format(string, sizeof(string), "[A] %s [%i] посадил %s [%i] на 10 мин", GetName(playerid), playerid, GetName(params[0]), params[0]);
	SendAdminMessage(COLOR_GREY, string);
	format(string, sizeof(string), "Администратор %s посадил Вас в деморган на 10 мин. (NonRP)", GetName(playerid));
	SendClientMessage(params[0], COLOR_BLUE, string);
	format(string, sizeof(string), "Администратор %s посадил в деморган %s. Причина: NonRP", GetName(playerid), GetName(params[0]));
	SendClientMessageToAll(COLOR_RED, string);
	format(string, sizeof(string), "Время до окончания деморгана: {FFCC00}/time");
	SendClientMessage(params[0], COLOR_WHITE, string);
    FreezePlayer(playerid, 2000);
    SetPlayerInterior(params[0], 0);
	SetPlayerPos(params[0],449.9814,1320.2548,1723.5298);
	SetPlayerFacingAngle(params[0], 360.0000);
	PI[params[0]][pJail] = 3;
	SetPlayerWantedLevel(params[0], 0);
	PI[playerid][pCJAIL] ++;
	return 1;
}
/*CMD:jail(playerid, params[])
{
	if(PI[playerid][pAdmin] < ADM_SUPER_MODER) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(PI[playerid][pAdmin] < 1) return SendClientMessage(playerid, COLOR_RED, "[MySQL] Впишите себя в таблице admin");
	//else if(sscanf(params, "uiis[64]", params[0], params[1], params[2],  params[3])) return SendClientMessage(playerid, COLOR_LIME, "• Информация: {ffffff}/jail [id игрока] [минуты] [причина]");
	else if(sscanf(params, "uiis[64]", params[0], params[2])) return SendClientMessage(playerid, COLOR_LIME, "• Информация: {ffffff}/jail [id игрока] [минуты] [причина]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(PI[params[0]][pJail] > 0) return SendClientMessage(playerid, COLOR_RED, "Игрок уже в деморгане");
	//else if(params[1] < 1 || params[1] > 2) return SendClientMessage(playerid, COLOR_RED, "Номер тюрьмы от 1 до 2");
	else if(params[2] < 1 || params[2] > 180) return SendClientMessage(playerid, COLOR_RED, "Время заключения от 1 до 180 минут");
	ResetPlayerWeaponsAC(params[0]);
	PI[params[0]][pJailTime] = params[2]*60;
	if(pCuff[params[0]][pCuffer] != INVALID_PLAYER_ID)
	{
		new cuffer = pCuff[params[0]][pCuffer];
		SetPlayerSpecialAction(params[0], SPECIAL_ACTION_NONE);
		RemovePlayerAttachedObject(params[0], 0);
		pCuff[params[0]][pCuffer] = INVALID_PLAYER_ID;
		pCuff[params[0]][pCuffee] = INVALID_PLAYER_ID;
		pCuff[cuffer][pCuffee] = INVALID_PLAYER_ID;
		pCuff[cuffer][pCuffer] = INVALID_PLAYER_ID;
	}
	SetPlayerVirtualWorld(params[0], 1);
	new string[128];
	format(string, sizeof(string), "[A] %s [%i] посадил %s [%i] на %i мин", GetName(playerid), playerid, GetName(params[0]), params[0], params[2]);
	SendAdminMessage(COLOR_GREY, string);
	format(string, sizeof(string), "Администратор %s посадил Вас в деморган на %i мин. (%s)", GetName(playerid), params[2], params[3]);
	SendClientMessage(params[0], COLOR_BLUE, string);
	format(string, sizeof(string), "Администратор %s посадил в деморган %s. Причина: %s", GetName(playerid), GetName(params[0]), params[3]);
	SendClientMessageToAll(COLOR_RED, string);
	format(string, sizeof(string), "Время до окончания деморгана: {FFCC00}/time");
	SendClientMessage(params[0], COLOR_WHITE, string);
    FreezePlayer(playerid, 2000);
    SetPlayerInterior(params[0], 0);
	SetPlayerPos(params[0], -1157.8915,352.7553,1769.3417);
	SetPlayerFacingAngle(params[0], 190.0000);
	PI[params[0]][pJail] = 3;
	SetPlayerWantedLevel(params[0], 0);
	PI[playerid][pCJAIL] ++;
	return 1;
}
*/
	/*switch(params[1])
	{
	    case 1:
	    {
            FreezePlayer(playerid, 2000);
	        SetPlayerInterior(params[0], 0);
			SetPlayerPos(params[0], 449.9814,1320.2548,1723.5298);
			SetPlayerFacingAngle(params[0], 360.0000);
			PI[params[0]][pJail] = 3;
			SetPlayerWantedLevel(params[0], 0);
	    }
	    case 2:
	    {
            FreezePlayer(playerid, 2000);
	        SetPlayerInterior(params[0], 0);
			SetPlayerPos(params[0], 450.0131,1332.1290,1723.5298);
			SetPlayerFacingAngle(params[0], 180.2417);
			PI[params[0]][pJail] = 4;
			SetPlayerWantedLevel(params[0], 0);
	    }
	}*/
//==============================================================================
CMD:jail(playerid, params[])
{
	if(PI[playerid][pAdmin] < 2) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	//else if(AdminLogged[playerid] == false) return SendClientMessage(playerid, COLOR_RED, YouAreNotLoggedInAsAdmin);
	else if(sscanf(params, "uiis[64]", params[0], params[1], params[2],  params[3])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/jail [id игрока] [1/2] [минуты] [причина]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(PI[params[0]][pJail] > 0) return SendClientMessage(playerid, COLOR_RED, "Игрок уже находится в тюрьме!");
	else if(params[1] < 1 || params[1] > 2) return SendClientMessage(playerid, COLOR_RED, "Номер тюрьмы от 1 до 2!"); // 3 номер тюрьмы удалил
	else if(params[2] < 1 || params[2] > 180) return SendClientMessage(playerid, COLOR_RED, "Количество минут от 1 до 180!");
	ResetPlayerWeaponsAC(params[0]);
	PI[params[0]][pJailTime] = params[2] * 60;
	PI[params[0]][pWanted] = 0;
	if(pCuff[params[0]][pCuffer] != INVALID_PLAYER_ID)
	{
		new cuffer = pCuff[params[0]][pCuffer];
		SetPlayerSpecialAction(params[0], SPECIAL_ACTION_NONE);
		RemovePlayerAttachedObject(params[0], 0);
		pCuff[params[0]][pCuffer] = INVALID_PLAYER_ID;
		pCuff[params[0]][pCuffee] = INVALID_PLAYER_ID;
		pCuff[cuffer][pCuffee] = INVALID_PLAYER_ID;
		pCuff[cuffer][pCuffer] = INVALID_PLAYER_ID;
	}
	SetPlayerVirtualWorld(params[0], 1);
	new string[128];
	format(string, sizeof(string), "Администратор %s [%i] посадил игрока %s [%i] в Деморган. Причина: %s", GetName(playerid), playerid, GetName(params[0]), params[0], params[2], params[3]);
	SendClientMessageToAll(COLOR_RED, string);
	format(string, sizeof(string), "~n~~n~~n~~n~~n~~n~~n~~n~~n~~n~~y~JAILED: ~w~%d", PI[playerid][pJailTime]);
	GameTextForPlayer(params[0], string, 3000, 3);
	format(string, sizeof(string), "[A] %s [%i] посадил в тюрьму %s [%i] на %i минут (%s)", GetName(playerid), playerid, GetName(params[0]), params[0], params[2], params[3]);
	SendAdminMessage(COLOR_GREY, string);
	switch(params[1])
	{
	case 1:
		{
			FreezePlayer(playerid, 2000);
			SetPlayerInterior(params[0], 0);
			SetPlayerPos(params[0],449.9814,1320.2548,1723.5298);
			SetPlayerFacingAngle(params[0], 360.0000);
			PI[params[0]][pJail] = 3;
			SetPlayerWantedLevel(params[0], 0);
		}
	case 2:
		{
			FreezePlayer(playerid, 2000);
			SetPlayerInterior(params[0], 0);
			SetPlayerPos(params[0],450.0131,1332.1290,1723.5298);
			SetPlayerFacingAngle(params[0], 180.2417);
			PI[params[0]][pJail] = 3;
			SetPlayerWantedLevel(params[0], 0);
		}
	}
	return 1;
}
//==============================================================================
CMD:mute(playerid, params[])
{
	if(PI[playerid][pAdmin] < ADM_SUPER_MODER) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(sscanf(params, "udS()[64]", params[0], params[1], params[2])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/mute [id игрока] [Минуты] [Причина]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(PI[params[0]][pMuted] > 0) return SendClientMessage(playerid, COLOR_RED, "Игрок уже имеет бан чата!");
	else if(params[1] > 300 || params[1] < 1) return SendClientMessage(playerid, COLOR_RED, "Время от 1 до 300 минут!");
	else if(IsIpFound(params[2]) || CheckString(params[2])) return AdminAntisliv(playerid, params[2]);
	PI[params[0]][pMuted] = params[1]*60;
	new string[128];
	if(strlen(params[2])) format(string, sizeof(string), "%s получил бан чата от администратора %s",GetName(params[0]), GetName(playerid));
//	SendClientMessage(params[0], 0xFFFFFFFF, "Вам дали бан чата на %d минут(ы). Причина: %s", params[1], params[2]);
	SendClientMessage(params[0], 0xFFFFFFFF, "Что бы посмотреть время до разблокировки чата введите /mutetime");
	PI[playerid][pCMUTE] ++;
	return 1;
}
//==============================================================================
CMD:offmute(playerid, params[])
{
    if(PI[playerid][pAdmin] < 4) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	new playername[MAX_PLAYER_NAME], time, reason[32];
    if(sscanf(params, "s[24]is[24]", playername, time, reason)) return SendClientMessage(playerid, COLOR_LIME, "• Информация: {ffffff}/offmute [ник игрока] [время (минуты)] [причина]");
	else if(GetPlayerID(playername) != INVALID_PLAYER_ID) return SendClientMessage(playerid, COLOR_RED, "Игрок в сети, используйте команду /mute");
	else if(time > 300 || time < 1) return SendClientMessage(playerid, COLOR_RED, "Время от 1 до 300 минут!");
 	mysql_tquery(dbHandle, "SET NAMES 'cp1251'", "", "");
	mysql_tquery(dbHandle, "SET CHARACTER SET 'cp1251'", "", "");
	format(query, sizeof(query), "SELECT * FROM `accounts` WHERE `name`='%s'", playername);
    mysql_tquery(dbHandle, query, "OnPlayerOffMute", "isis", playerid, playername, time, reason);
    PI[playerid][pCMUTE] ++;
    return 1;
}
//==============================================================================
CMD:offjail(playerid, params[])
{
    if(PI[playerid][pAdmin] < 4) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	new playername[MAX_PLAYER_NAME], time, reason[32];
    if(sscanf(params, "s[24]is[24]", playername, time, reason)) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/offjail [ник игрока] [время (минуты)] [причина]");
	else if(GetPlayerID(playername) != INVALID_PLAYER_ID) return SendClientMessage(playerid, COLOR_RED, "Игрок в сети, используйте команду /jail");
	else if(time > 300 || time < 1) return SendClientMessage(playerid, COLOR_RED, "Время от 1 до 300 минут!");
 	mysql_tquery(dbHandle, "SET NAMES 'cp1251'", "", "");
	mysql_tquery(dbHandle, "SET CHARACTER SET 'cp1251'", "", "");
	format(query, sizeof(query), "SELECT * FROM `accounts` WHERE `name`='%s'", playername);
    mysql_tquery(dbHandle, query, "OnPlayerOffJail", "isis", playerid, playername, time, reason);
    return 1;
}
//==============================================================================
CMD:offban(playerid, params[])
{
	if(PI[playerid][pAdmin] < 4) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	new playername[MAX_PLAYER_NAME], countday, reason[32];
	if(sscanf(params, "s[24]is[24]", playername, countday, reason)) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/offban [Ник игрока] [Кол-во дней] [Причина]");
	else if(IsIpFound(reason) || CheckString(reason)) return AdminAntisliv(playerid, reason);
	else if(GetPlayerID(playername) != INVALID_PLAYER_ID) return SendClientMessage(playerid, COLOR_RED, "Игрок в сети, используйте команду /ban");
	else if(countday > 30 || countday < 1) return SendClientMessage(playerid, COLOR_RED, "Количество дней от 1 до 30!");
    mysql_tquery(dbHandle, "SET NAMES 'cp1251'", "", "");
	mysql_tquery(dbHandle, "SET CHARACTER SET 'cp1251'", "", "");
	format(query, sizeof(query), "SELECT * FROM `accounts` WHERE `name`='%s'", playername);
	mysql_tquery(dbHandle, query, "OnPlayerOffban", "isis", playerid, playername, countday, reason);
	return 1;
}
//==============================================================================
CMD:mg(playerid, params[])
{
	if(PI[playerid][pAdmin] < ADM_SUPER_MODER) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(sscanf(params, "udS()[64]", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/mg [ид игрока]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(PI[params[0]][pMuted] > 0) return SendClientMessage(playerid, COLOR_RED, "Игрок уже имеет бан чата!");
	PI[params[0]][pMuted] = 10*60;
	new string[128];
	if(strlen(params[2])) format(string, sizeof(string), "Администратор %s поставил затычку игроку %s на 10 мин. Причина: MG",GetName(playerid), GetName(params[0]));
	else format(string, sizeof(string), "Администратор %s поставил затычку игроку %s на 10 минут. Причина: MG",GetName(playerid), GetName(params[0]));
	SendAdminMessageToAll(COLOR_RED, string);
	SendClientMessage(params[0], 0xFFFFFFFF, "Время до окончания бана чата: {CCCC00}/time");
	PI[playerid][pCMUTE] ++;
	return 1;
}
//==============================================================================
CMD:aunjail(playerid, params[])
{
	if(PI[playerid][pAdmin] < 2) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/aunjail [id игрока]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(PI[params[0]][pJail] == 0) return SendClientMessage(playerid, COLOR_RED, "Игрок не находится в деморгане!");
	PI[params[0]][pJailTime] = 1;
	ResetPlayerWeaponsAC(params[0]);
	new string[128];
	format(string, sizeof(string), "[A] %s [%i] выпустил из деморгана %s [%i]",GetName(playerid),playerid,GetName(params[0]),params[0]);
	SendAdminMessage(COLOR_GREY, string);
	format(string, sizeof(string), "Администратор %s выпустил Вас из деморгана", GetName(playerid));
	SendClientMessage(params[0], COLOR_BLUE, string);
	return 1;
}
//==============================================================================
CMD:free(playerid, params[])
{
	if(PI[playerid][pMember] != TEAM_AO) return 1;
	else if(!IsPlayerInRangeOfPoint(playerid, 60.0,450.2789,1325.9873,1723.5300)) return true;
 	else if(PI[playerid][pRank] != 5) return SendClientMessage(playerid, COLOR_RED, "Доступно только адвокатам!");
	else if(sscanf(params, "i", params[0])) return SendClientMessage(playerid,  COLOR_LIME, "Информация: {ffffff}/free [id игрока]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(!IsPlayerInRangeOfPlayer(8.0, playerid, params[0])) return SendClientMessage(playerid, COLOR_RED, "Игрок слишком далеко!");
	else if(PI[params[0]][pJail] == 0) return SendClientMessage(playerid, COLOR_RED, "Игрок не находится в тюрьме!");
	SendMes(params[0], COLOR_BLUE, "Адвокат %s оформил(а) документы по освобождению в размере 5000", GetName(playerid));
	SendClientMessage(params[0], COLOR_WHITE, "{FFFFFF}Нажмите {03c03c}Y {FFFFFF}чтобы согласиться или {ff7518}N {FFFFFF}для отказа");
	SetPVarInt(params[0], "JailPlayer", playerid);
	SetPVarInt(params[0], "JailSumma", 5000);
	SetPVarInt(params[0], "KeyJail", 1);
	return 1;
}
CMD:id(playerid, params[])
{
	if(isnull(params)) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/id [ник игрока]");
	new fmt_str[64];
	new count;
	foreach(new idx : Player)
	{
		if(!IsPlayerConnected(idx)) continue;

		if(strfind(PI[idx][pName], params, true) != -1)
		{
			count ++;

			SendClientMessage(playerid, 0x33adffFF, "Игроки онлайн:");

			format(fmt_str, sizeof fmt_str, "%s [%d]", PI[idx][pName], idx);
			SendClientMessage(playerid, 0xFFFFFFFF, fmt_str);

			if(count >= 5)
			{
				SendClientMessage(playerid, 0x999999FF, "Показаны первые 5 совпадений");
				break;
			}
		}
	}
	if(!count)
		SendClientMessage(playerid, 0x999999FF, "Совпадений не найдено");

	return 1;
}
//==============================================================================
CMD:givegun(playerid, params[])
{
	if(PI[playerid][pAdmin] < 4) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(sscanf(params, "uii", params[0],params[1],params[2]))
	{
		SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/givegun [id игрока] [id оружия] [патроны]");
		SendClientMessage(playerid, COLOR_WHITE, "[3] дубинка [4] нож [5] бита [6] лопата [7] кий [8] катана [9] бензопила [10-13] дилдо [14] цветы [15] топор [16-18] гранаты [22] пистолет");
		SendClientMessage(playerid, COLOR_WHITE, "[23] пистолет с глушителем [24] Desert Eagle [25] дробовик [26] обрез [27] боевой дробовик [28] UZI [29] АКС-У (MP5)");
		SendClientMessage(playerid, COLOR_WHITE, "[30] AK-105 (AK-47) [31] Винторез (M4) [32] TEC9 [33] County Rifle [34] Sniper Rifle [35] Rocket Launcher [36] Heat Speaker");
		SendClientMessage(playerid, COLOR_WHITE, "[37] Flamethrower [38] Minigun [41] Spray Can [42] Fire Extinguisher [43] Camera [46] Parachute");
		return 1;
	}
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(params[1] > 47 || params[1] < 1) return SendClientMessage(playerid, COLOR_RED, "ID оружия от 1 до 47!");
	else if(params[1] > 1000 || params[1] < 1) return SendClientMessage(playerid, COLOR_RED, "Количество патрон от 1 до 1000");
	GivePlayerWeaponAC(params[0], params[1], params[2]);
	new string[120];
	format(string, sizeof(string), "[A] %s [%d] выдал %s [%d] %s с %d пт", GetName(playerid), playerid, GetName(params[0]), params[0], WeaponNames[params[1]], params[2]);
	SendAdminMessage(COLOR_GREY, string);
	format(string, sizeof(string), "Администратор %s выдал Вам %s и %d пт", GetName(playerid), WeaponNames[params[1]], params[2]);
	SendClientMessage(params[0], COLOR_BLUE, string);
	return 1;
}
//==============================================================================
CMD:resguns(playerid, params[])
{
	if(PI[playerid][pAdmin] < ADM_SUPER_MODER) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/resguns [id игрока]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	ResetPlayerWeaponsAC(params[0]);
	SendMes(playerid, COLOR_YELLOW, "Вы сбросили оружие игроку %s",GetName(params[0]));
	new string[120];
	format(string, sizeof(string), "[A] %s [%d] сбросил оружие игроку %s [%d]", GetName(playerid), playerid, GetName(params[0]), params[0]);
	SendAdminMessage(COLOR_GREY, string);
	SendMes(params[0], COLOR_GREEN, "Администратор %s обнулил ваше оружие",GetName(playerid));
	return 1;
}
CMD:givemoney(playerid, params[])
{
	if(PI[playerid][pAdmin] < ADM_TOP) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	{
	    new string[128];
		if(sscanf(params, "ui", params[0],params[1])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/givemoney [id игрока] [количество]");
		if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
		if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
		if(params[1] > 25000000 || params[1] < 1) return SendClientMessage(playerid, COLOR_RED, "Количество денег от 1 до 25000000!");
	    TransferMoney(-1,params[0],params[1]);
		SendMes(playerid, COLOR_BLUE, "Игрок %s [%d] получил от Вас %d рублей", GetName(params[0]),params[0],params[1]);
		SendMes(params[0], COLOR_BLUE, "Администратор %s выдал Вам %d рублей", GetName(playerid),params[1]);
		format(string, sizeof(string), "Администратор %s выдал %d рублей игроку %s", GetName(playerid), params[1], GetName(params[0]));
		SendLog("GiveMoney",string);
 	}
	return 1;
}
CMD:givedonate(playerid, params[])
{
    if(PI[playerid][pAdmin] < ADM_TOP) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	{
		if(sscanf(params, "ui", params[0],params[1])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/givedonate [ид игрока] [кол-во]");
		else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
		else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
		else if(params[1] > 10000 || params[1] < 1) return SendClientMessage(playerid, COLOR_RED, "Количество от 1 до 10000!");
		PI[params[0]][pCredits] += params[1];
		PI[params[0]][pTotalCredits] += params[1];
		new string[128];
		format(string, sizeof(string), "Вы выдали %i кредитов игроку %s", params[1], GetName(params[0]));
        SendClientMessage(playerid, COLOR_LIME, string);
		format(string, sizeof(string), "%s перевёл %d кредитов на счёт игроку %s [%d]", GetName(playerid), params[1], GetName(params[0]), params[0]);
		SendLog("givedonate",string);
		format(string, sizeof(string), "UPDATE `accounts` SET credits=%d,totalcredits=%d WHERE id=%d", PI[playerid][pCredits], PI[playerid][pTotalCredits], PI[playerid][pID]);
		mysql_tquery(dbHandle, string, "", "");
	}
	return 1;
}
CMD:kills(playerid)
{
	if(PI[playerid][pAdmin] < ADM_SUPER_MODER) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	if(killused[playerid] == 1) return SendClientMessage(playerid, COLOR_BLUE, "Вы отключили информацию о убийствах."), killused[playerid] = 0;
	killused[playerid] = 1;
	SendClientMessage(playerid, COLOR_BLUE, "Вы включили информацию о убийствах");
	return 1;
}
CMD:deletemoney(playerid, params[])
{
	if(PI[playerid][pAdmin] < 7) return SendClientMessage(playerid, COLOR_RED, "У Вас нет доступа!");
	{
		new id, money;
		if(sscanf(params, "dd", id, money)) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/deletemoney [id игрока] [кол-во]");
		if(!IsPlayerConnected(id)) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
		if(PlayerLogged[id] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
		ex_GiveMoney(playerid, -money);
		PI[id][pCash] -= money;
		SaveAccount(id);
		SendMes(playerid, COLOR_LIME, "Вы отобрали %d рублей у игрока %s", money, GetName(id));
		SendMes(id, COLOR_LIME, "Администратор %s забрал у Вас %d рублей.", GetName(playerid), money);
	}
	return 1;
}
//==============================================================================
CMD:setnumber(playerid, params[])
{
    if(IsPlayerGrandAdmin(playerid))
    {
		if(sscanf(params, "is", params[0], params[1])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/setnumber [playerid] [nomer]");
		Delete3DTextLabel(VehicleLabel[PI[params[0]][PlayerCarID]]);
		strmid(PI[params[0]][pNumberVehicle], params[1], 0, strlen(params[1]), 20);
		new stringnumber1[40];
		format(stringnumber1, sizeof(stringnumber1), "%s", PI[playerid][pNumberVehicle]);
		VehicleLabel[PI[playerid][PlayerCarID]] = Create3DTextLabel(stringnumber1, 0xFFFFFFFF, 0, 0, 0, 10.0, 0);
		Attach3DTextLabelToVehicle(VehicleLabel[PI[playerid][PlayerCarID]], PI[playerid][PlayerCarID], 0, 0, 0.2);
		MysqlUpdatePlayerStr(playerid, "veh_number", PI[playerid][pNumberVehicle]);
	}
	return true;
}
//==============================================================================
CMD:drop(playerid, params[])
{
	if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация:{FFFFFF} /drop [сумма] (Пожертвовать деньги)");
	/*new string[500];
	format(string, sizeof(string), "{FFFFFF}Пожертвование денег области заключает в себе моментальный перевод средств с Вашего счета в фонд области\n\{FFCC00}Вы уверены, что хотите перевести %s руб.?", params[0]);
	Dialog(playerid,15420,DSL,"{FFCC00}Подтверждение пожертвования",string,"Да","Отмена");*/
 	GiveMoney(playerid, -params[0]);
	return 1;
}
//==============================================================================
CMD:slap(playerid, params[])
{
	if(PI[playerid][pAdmin] < 1) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/slap [id игрока]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	new Float:shealth,Float:slx, Float:sly, Float:slz;
	GetPlayerHealth(params[0], shealth);
	SetHealth(params[0], shealth-5);
	GetPlayerPos(params[0], slx, sly, slz);
	SetPlayerPos(params[0], slx, sly, slz+5);
	PlayerPlaySound(params[0], 1130, slx, sly, slz+5);
	new string[128];
	format(string, sizeof(string), "Администратор %s Вас слапнул", GetName(playerid));
	SendClientMessage(params[0], COLOR_BLUE, string);
	format(string, sizeof(string), "[A] %s [%d] слапнул %s [%d]", GetName(playerid), playerid, GetName(params[0]), params[0]);
	SendAdminMessage(COLOR_GREY, string);
	PI[playerid][pCSLAP] ++;
	return 1;
}
//==============================================================================
CMD:nick(playerid, params[])
{
	if(PI[playerid][pAdmin] < ADM_SUPER_MODER) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	extract params -> new to_player; else return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/nick [id игрока]");
	new fmt_msg[128];
	format(fmt_msg, sizeof fmt_msg, "Администратор %s кикнул игрока %s. Причина: смените ник. (Формат: Имя_Фамилия)", PI[playerid][pName], PI[to_player][pName]);
	SendClientMessageToAll(0xFF4530FF, fmt_msg);
	Kick(to_player);
	PI[playerid][pCKICK] ++;
	return 1;
}
CMD:setsex(playerid, params[])
{
	if(PI[playerid][pAdmin] < ADM_GRAND_ADMIN) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/setsex [id игрока]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	new string[128];
	switch(PI[params[0]][pSex])
	{
	case 1:
		{
		    format(string, sizeof(string), "Вы изменили пол игроку %s на женский", GetName(params[0]));
			SendClientMessage(playerid, COLOR_LIME, string);
			SendClientMessage(params[0], COLOR_LIME, "Администратор изменил ваш пол на женский");
			PI[params[0]][pSex] = 2;
		}
	case 2:
		{
		    format(string, sizeof(string), "Вы изменили пол игроку %s на мужской",GetName(params[0]));
			SendClientMessage(playerid, COLOR_LIME, string);
			SendClientMessage(params[0], COLOR_LIME, "Администратор изменил ваш пол на мужской");
			PI[params[0]][pSex] = 1;
		}
	}
	return 1;
}
//==============================================================================
CMD:tsetskin(playerid, params[])
{
	if(PI[playerid][pAdmin] < 5) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(sscanf(params, "ui", params[0],params[1])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/skin [id игрока] [id внешности]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(params[1] > 299 || params[1] < 1) return SendClientMessage(playerid, COLOR_RED, "Неверный скин");
	SetPlayerSkin(params[0], params[1]);
	new string[128];
	if(PI[playerid][pSex] == 1) format(string, sizeof(string), "Администратор %s выдал Вам временный скин №%i", GetName(playerid), params[1]);
	else format(string, sizeof(string), "Администратор %s выдал Вам временный скин №%i", GetName(playerid), params[1]);
	SendClientMessage(params[0], COLOR_BLUE, string);
	format(string, sizeof(string), "Вы выдали %s [%d] временный скин №%i", GetName(params[0]), params[0], params[1]);
	SendClientMessage(playerid, COLOR_BLUE, string);
	if(PI[playerid][pSex] == 1) format(string, sizeof(string), "[A] %s [%i] выдал %s [%d] временный скин №%i", GetName(playerid), playerid, GetName(params[0]), params[0], params[1]);
	format(string, sizeof(string), "[A] %s [%i] выдал %s [%d] временный скин №%i", GetName(playerid), playerid, GetName(params[0]), params[0], params[1]);
	SendAdminMessage(COLOR_GREY, string);
	return 1;
}
//==============================================================================
cmd:getskin(playerid, params[])
{
	//if(admin_ban_time[playerid] > 0) return SendErr(playerid, "Ваши админ-действия на сервере заблокированы");
	if(PI[playerid][pYouTuber] < 1) return 1;
	//else if(AdminLogged[playerid] == false) return SendErr(playerid, "Вы не авторизованы. Используйте {f1c40f}/alogin");
	else if(sscanf(params, "d", params[0])) return SendInf(playerid, "/getskin [id внешности]");
	//else if(!IsPlayerConnected(params[0])) return SendErr(playerid, "Игрок не в игре");
	//else if(PlayerLogged[params[0]] == false) return SendErr(playerid, "Игрок не авторизован");
	else if(params[0] > 299 || params[0] < 1) return SendErr(playerid, "Неверный id внешности. Можно установить от 1 до 299");
 	//else if(sscanf(params, "d", params[0])) return SCM(playerid, COLOR_LIME, "Информация: {ffffff}/getskin [skinid]");
	//else if(params[0] > 299 || params[0] < 1) { SCM(playerid, COLOR_DARKORANGE, "Неверный скин"); return true; }
	/*if(PI[params[0]][pMember])
	{
		PI[params[0]][pMemberSkin] = params[1];
		SetPlayerSkin(params[0], PI[params[0]][pMemberSkin]);
		MysqlUpdatePlayerInt(params[0], "memberskin", PI[params[0]][pMemberSkin]);
	}
	else
	{
		ClosetSkins[params[0]][0] = params[1];
		SetPlayerSkin(params[0], ClosetSkins[params[0]][0]);
		MysqlUpdatePlayerInt(params[0], "Skin", ClosetSkins[params[0]][0]);
	}*/
	SetPlayerSkin(playerid, params[0]);
    SendClientMessage(playerid, COLOR_LIME, "Вы выдали себе временный скин");
	return 1;
}
//==============================================================================
CMD:setskin(playerid, params[])
{
	if(PI[playerid][pAdmin] < ADM_ADMIN) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(sscanf(params, "ui", params[0],params[1])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/setskin [id игрока] [id внешности]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(params[1] > 299 || params[1] < 1) return SendClientMessage(playerid, COLOR_RED, "Неверный скин");
	if(PI[params[0]][pMember])
	{
		PI[params[0]][pMemberSkin] = params[1];
		SetPlayerSkin(params[0], PI[params[0]][pMemberSkin]);
		MysqlUpdatePlayerInt(params[0], "memberskin", PI[params[0]][pMemberSkin]);
	}
	else
	{
		PI[params[0]][pModel] = params[1];
		SetPlayerSkin(params[0], PI[params[0]][pModel]);
		MysqlUpdatePlayerInt(params[0], "model", PI[params[0]][pModel]);
	}
	new string[128];
	format(string, sizeof(string), "Администратор %s выдал Вам статический скин", GetName(playerid));
	SendClientMessage(params[0], COLOR_BLUE, string);
	format(string, sizeof(string), "Вы выдали %s [%d] постоянный скин №%i", GetName(params[0]), params[0], params[1]);
	SendClientMessage(playerid, COLOR_BLUE, string);
	return 1;
}
CMD:skill(playerid, params[])
{
	if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/skill [id игрока]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(!IsPlayerInRangeOfPlayer(8.0, playerid, params[0])) return SendClientMessage(playerid, COLOR_RED, "Игрок слишком далеко!");
	else if(playerid == params[0]) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/myskill");

	if(params[0] == playerid)
	{
	    new fmt_dialog[200];

		format
		(
			fmt_dialog, sizeof fmt_dialog,
			"{ffffff}SDPistol:\t%d / 100%%\n\
			Deagle:\t\t%d / 100%%\n\
			ShotGun:\t%d / 100%%\n\
			MP5:\t\t%d / 100%%\n\
			AK-47:\t\t%d / 100%%\n\
			M4A1:\t\t%d / 100%",
			PI[playerid][pSkill],
			PI[playerid][pSkill][1],
			PI[playerid][pSkill][2],
			PI[playerid][pSkill][3],
			PI[playerid][pSkill][4],
			PI[playerid][pSkill][5]
		);

		ShowPlayerDialog
		(
			playerid, INVALID_DIALOG_ID, DIALOG_STYLE_MSGBOX,
			"{FFCC00}Навыки владения оружием",
			fmt_dialog,
			"Закрыть", ""
		);

	   	MeAction(playerid, "просматривает свои навыки владения оружием");
	}
	return 1;
}
cmd:setplayername(playerid, params[]) {
	if(CheckAdmin(playerid, 7)) return 0;
	new newname[MAX_PLAYER_NAME];
	if(sscanf(params, "s[20]", newname)) return SendErr(playerid, "Использование: /setplayername [Новое имя (не более 20 символов)]");
	SetPlayerName(playerid, newname);
	return 1;
}
CMD:myskill(playerid)
{
	new fmt_dialog[200];

	format
	(
		fmt_dialog, sizeof fmt_dialog,
		"{ffffff}SDPistol:\t%d / 100%%\n\
		Deagle:\t\t%d / 100%%\n\
		ShotGun:\t%d / 100%%\n\
		MP5:\t\t%d / 100%%\n\
		AK-47:\t\t%d / 100%%\n\
		M4A1:\t\t%d / 100%",
		PI[playerid][pSkill],
		PI[playerid][pSkill][1],
		PI[playerid][pSkill][2],
		PI[playerid][pSkill][3],
		PI[playerid][pSkill][4],
		PI[playerid][pSkill][5]
	);

	ShowPlayerDialog
	(
		playerid, INVALID_DIALOG_ID, DIALOG_STYLE_MSGBOX,
		"{FFCC00}Навыки владения оружием",
		fmt_dialog,
		"Закрыть", ""
	);

	return 1;
}
CMD:jskill(playerid)
{
	new string[130];
	format(string, sizeof(string), "{ffffff}Дальнобойщики\n\n{FFFFFF}Уровень: {FFCC00}%d\n{FFFFFF}Рейсов: {FFCC00}%d/30", PI[playerid][pTruckLevel], PI[playerid][pTruckSkill]);
	ShowPlayerDialog(playerid, D_NULL, DIALOG_STYLE_MSGBOX, "{FFCC00}Рабочие навыки", string, "Закрыть", "");
	return true;
}

CMD:smoke(playerid, params[])
{
	if(IsPlayerInRangeOfPoint(playerid,100.0,-1519.6149,1342.5447,1523.7000)) return SendClientMessage(playerid, COLOR_RED, "В больнице запрещено курить!");
	else if(PI[playerid][pCiggare] == 0) return SendClientMessage(playerid, COLOR_RED, "У Вас нет сигарет, купите их в супермаркете или 24/7!");
	SetPlayerSpecialAction(playerid, SPECIAL_ACTION_SMOKE_CIGGY);
	if(PI[playerid][pHunger] <= 93) GiveHunger(playerid, 7);
	else SetHunger(playerid, 100);
	PI[playerid][pCiggare]--;
	if(GetPlayerState(playerid) == PLAYER_STATE_ONFOOT) ApplyAnimation(playerid,"SMOKING","M_smk_drag",4.1,0,0,0,0,0,1);
	if(PI[playerid][pSex] == 1) MeAction(playerid, "достал сигарету и скурил её");
	else MeAction(playerid, "достала сигарету и скурила её");
	return 1;
}
CMD:pepsi(playerid, params[])
{
	if(PI[playerid][pSprunk] == 0) return SendClientMessage(playerid,COLOR_RED,"У Вас нет бутылки пепси");
	SetPlayerSpecialAction(playerid,SPECIAL_ACTION_DRINK_SPRUNK);
	//GiveZhazhda(playerid, 25);
	GiveHunger(playerid, 25);
	PI[playerid][pSprunk]--;
	format(query, sizeof(query), "{FFCC00}Вы выпили бутылочку пепси");
	SendClientMessage(playerid,-1, query);
	PlayerPlaySound(playerid,42600,0.0,0.0,0.0);
	return 1;
}
CMD:eat(playerid)
{
	if(PI[playerid][pCHIPS] == 0) return SendClientMessage(playerid, COLOR_RED, "У Вас нет чипс");
	if((20 + PI[playerid][pHunger]) > 100)
 		return SendClientMessage(playerid, COLOR_RED,"Вы не голодны!");
	PI[playerid][pCHIPS] -= 1;
	PI[playerid][pHunger] += 20;
	SendClientMessage(playerid, COLOR_WHITE, "Вы съели чипсы. Некоторые нужды пополнены: {FFCC00}(/need)");
    return 1;
}
CMD:repaircar(playerid, params[])
{
    if(!IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_RED, "Вы должны находится в транспорте!");
    else if(PI[playerid][pRepairCar] == 0) return SendClientMessage(playerid, COLOR_RED, "У Вас нет набора инструментов");
	RepairVehicle(GetPlayerVehicleID(playerid));
	PI[playerid][pRepairCar] = 0;
	SendClientMessage(playerid, COLOR_BLUE, "Вы использовали набор инструментов. Ваш транспорт починен");
	MeAction(playerid, "использовал набор инструментов");
	return 1;
}
CMD:mask(playerid, params[])
{
	if(PI[playerid][pMask] == 0) return SendClientMessage(playerid,COLOR_RED,"У Вас нет маски, купите ее в супермаркете или 24/7!");
	if(!PlayerUseMask[playerid])
	{
		SetPlayerColor(playerid, 0x00000000);
		PlayerUseMask[playerid] = true;
		if(!IsPlayerInAnyVehicle(playerid)) ApplyAnimation(playerid, "SHOP", "ROB_Shifty", 4.1, 0, 0, 0, 0, 0);
		SendClientMessage(playerid, COLOR_YELLOW, "Ваше местоположение на GPS {ffffff}скрыто{FFCC00} на 10 минут!");
		SetPlayerChatBubble(playerid, "одевает маску", COLOR_ORANGE, 20.0, 500);
		GameTextForPlayer(playerid, "~b~INVISABLE ON", 800, 4);
		PlayerPlaySound(playerid, 21000, 0.0, 0.0, 0.0);
		MeAction(playerid, "одевает маску");
		
		//mask_off_timer[playerid] = 1;
	}
	else
	{
		SetPlayerColorEx(playerid,COLOR_WHITE);
		PlayerUseMask[playerid] = false;
		PI[playerid][pMask]--;
	    GameTextForPlayer(playerid, "~y~INVISABLE OFF", 800, 4);
	    PlayerPlaySound(playerid, 21001, 0.0, 0.0, 0.0);
		MeAction(playerid, "снимает маску");
		SetPlayerChatBubble(playerid, "{FF9900}снимает маску", -1, 20.0, 500);
	}
	return 1;
}
//==============================================================================
//==============================================================================
CMD:healme(playerid, params[])
{
	if(IsPlayerInRangeOfPoint(playerid,100.0,-1519.6149,1342.5447,1523.7000)) return SendClientMessage(playerid,COLOR_RED,"В больнице запрещено использовать аптечку!");
	else if(PI[playerid][pAptechka] == 0) return SendClientMessage(playerid, COLOR_RED,"У Вас нет аптечки");
	new Float:shealth;
	GetPlayerHealth(playerid, shealth);
	if(shealth >= 100) return SendClientMessage(playerid, COLOR_RED, "Твое здоровье вполне в хорошем состоянии!");
	SetHealth(playerid, shealth+40);
	GetPlayerHealth(playerid, shealth);
	if(shealth > 100) SetHealth(playerid, 100);
	if(!IsPlayerInAnyVehicle(playerid)) { ApplyAnimation(playerid,"ped","gum_eat",4.0,0,0,0,0,0,1); }
	PI[playerid][pAptechka]--;
	if(PI[playerid][pSex] == 1) SetPlayerChatBubble(playerid,"перебинтовал раны",COLOR_PURPLE,30.0,1000);
	else SetPlayerChatBubble(playerid,"перебинтовала раны",COLOR_PURPLE,30.0,1000);
    GameTextForPlayer(playerid, "~b~+40 HP", 100, 1);
	return 1;
}
//==============================================================================
CMD:mutetime(playerid, params[])
{
	if(PI[playerid][pMuted] >= 1)
	{
	    format(query, sizeof(query), "{FFCC00}Время до окончания затычки: {FFCC00}%d:%02d", floatround(PI[playerid][pMuted] / 60) % 60, (PI[playerid][pMuted] % 60));
	    SendClientMessage(playerid,-1, query);
	}
}
//==============================================================================
CMD:time(playerid, params[])
{
	new hour, minuite, second, year, month, day, string[256], saturday = 1310155200, w = gettime(), day_week;
	gettime(hour, minuite, second);
	getdate(year, month, day);
	while(w - saturday > 60 * 60 * 24)
    {
        w -= 60 * 60 * 24;
        day_week ++;
    }
    while(day_week >= 7) day_week -= 7;
	format(string, sizeof(string), "%02d:%02d~n~~b~%02d-%02d-%04d~n~~b~in game %d~n~~b~", hour, minuite, day, month, year, PI[playerid][pTime]/60);
	GameTextForPlayer(playerid, string, 5000, 1);
	if(PI[playerid][pMuted] >= 1)
	{
	    format(query, sizeof(query), "{FFCC00}Время до окончания затычки: {FFCC00}%d:%02d", floatround(PI[playerid][pMuted] / 60) % 60, (PI[playerid][pMuted] % 60));
	    SendClientMessage(playerid,-1, query);
	}
	if(PI[playerid][pJail] >= 1)
	{
	    format(query, sizeof(query), "{FFCC00}Времени до выхода из КПЗ: {FFCC00}%d минут", PI[playerid][pJailTime] / 60);
	    SendClientMessage(playerid,-1, query);
	}
	if(PI[playerid][pJail] >= 2)
	{
	    format(query, sizeof(query), "{FFCC00}Времени до выхода из КПЗ: {FFCC00}%d минут", PI[playerid][pJailTime] / 60);
	    SendClientMessage(playerid,-1, query);
	}
	if(PI[playerid][pJail] >= 3)
	{
	    format(query, sizeof(query), "{FFCC00}Времени до выхода из деморгана: {FFCC00}%d минут", PI[playerid][pJailTime] / 60);
	    SendClientMessage(playerid,-1, query);
	}
	if(GetPlayerState(playerid) == PLAYER_STATE_ONFOOT) ApplyAnimation(playerid,"COP_AMBIENT","Coplook_watch",4.1,0,0,0,0,0,1);
	return 1;
}
//==============================================================================
cmd:tveh(playerid, params[])
{
	//if(admin_ban_time[playerid] > 0) return SendErr(playerid, "Ваши админ-действия на сервере заблокированы");
	if(PI[playerid][pAdmin] < 5) return 1;

	else if(AdminLogged[playerid] == false)
	return SendClientMessage(playerid, COLOR_RED, "Вы не авторизованы. Используйте {FFFFFF}/alogin");
/*	else if(GetPlayerInterior(playerid) > 0)
	return SendErr(playerid, "В интерьере нельзя создавать транспорт!");*/
	else if(sscanf(params, "ddd", params[0], params[1], params[2]))
	return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/tveh [id машины] [цвет 1] [цвет 2]");
	else if(params[0] > 611 || params[0] < 400)
	return SendClientMessage(playerid, COLOR_RED, "ID машины не может быть меньше 400 и больше чем 611");//SendErr(playerid, "ID машины не может быть меньше 400 и больше чем 611");
	else if(params[1] > 255 || params[1] < 0)
	return SendClientMessage(playerid, COLOR_RED, "Номер цвета не может быть меньше 0 и больше 255");//SendErr(playerid, "Номер цвета не может быть меньше 0 и больше 255");
	else if(params[2] > 255 || params[2] < 0)
	return SendClientMessage(playerid, COLOR_RED, "Номер цвета не может быть меньше 0 и больше 255");//SendErr(playerid, "Номер цвета не может быть меньше 0 и больше 255");
	else if(TotalAdminVehicles > 80)
	return SendClientMessage(playerid, COLOR_RED, "Лимит админ-машин превышен");

	new Float:X,
Float:Y,
Float:Z;

	GetPlayerPos(playerid, X,Y,Z);
	X += 1.5;

	AVehicle[TotalAdminVehicles] = CreateVehicle(params[0], X,Y,Z, 0.0, params[1], params[2], -1);
	SetVehicleVirtualWorld(TotalAdminVehicles, GetPlayerVirtualWorld(playerid));
	LinkVehicleToInterior(TotalAdminVehicles, GetPlayerInterior(playerid));

	Fuel[TotalAdminVehicles] = 100;
	Engine[TotalAdminVehicles] = Lights[TotalAdminVehicles] = IsLocked[TotalAdminVehicles] = false;
	SetVehicleNumberPlate(AVehicle[TotalAdminVehicles],"{FF0000}NOT FOR USE");
	// SetVehicleNumberPlate(TotalAdminVehicles, "{FFCC00}"SERVER_NAME_UK"");
	
	/*new veh_id = 0;
	veh_id = CreateVehicle(params[0], X,Y,Z, 0.0, params[1], params[2], -1);
	SetVehicleVirtualWorld(veh_id, GetPlayerVirtualWorld(playerid));
	LinkVehicleToInterior(veh_id, GetPlayerInterior(playerid));
	Fuel[veh_id] = 100;
	Engine[veh_id] = Lights[veh_id] = IsLocked[veh_id] = false;
	SetVehicleNumberPlate(veh_id,"{FF0000}ADMIN");*/
	PutPlayerInVehicle(playerid, AVehicle[TotalAdminVehicles], 0);

	TotalAdminVehicles++;
	return 1;
}
//==============================================================================
cmd:veh(playerid, params[])
{
	//if(admin_ban_time[playerid] > 0) return SendErr(playerid, "Ваши админ-действия на сервере заблокированы");
	if(PI[playerid][pAdmin] < 5) return 1;

	else if(AdminLogged[playerid] == false)
	return SendClientMessage(playerid, COLOR_RED, "Вы не авторизованы. Используйте {FFFFFF}/alogin");
/*	else if(GetPlayerInterior(playerid) > 0)
	return SendErr(playerid, "В интерьере нельзя создавать транспорт!");*/
	else if(sscanf(params, "ddd", params[0], params[1], params[2]))
	return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/veh [id машины] [цвет 1] [цвет 2]");
	else if(params[0] > 611 || params[0] < 400)
	return SendClientMessage(playerid, COLOR_RED, "ID машины не может быть меньше 400 и больше чем 611");//SendErr(playerid, "ID машины не может быть меньше 400 и больше чем 611");
	else if(params[1] > 255 || params[1] < 0)
	return SendClientMessage(playerid, COLOR_RED, "Номер цвета не может быть меньше 0 и больше 255");//SendErr(playerid, "Номер цвета не может быть меньше 0 и больше 255");
	else if(params[2] > 255 || params[2] < 0)
	return SendClientMessage(playerid, COLOR_RED, "Номер цвета не может быть меньше 0 и больше 255");//SendErr(playerid, "Номер цвета не может быть меньше 0 и больше 255");
	else if(TotalAdminVehicles > 80)
	return SendClientMessage(playerid, COLOR_RED, "Лимит админ-машин превышен");

	new Float:X,
Float:Y,
Float:Z;

	GetPlayerPos(playerid, X,Y,Z);
	X += 1.5;

	AVehicle[TotalAdminVehicles] = CreateVehicle(params[0], X,Y,Z, 0.0, params[1], params[2], -1);
	SetVehicleVirtualWorld(TotalAdminVehicles, GetPlayerVirtualWorld(playerid));
	LinkVehicleToInterior(TotalAdminVehicles, GetPlayerInterior(playerid));

	Fuel[TotalAdminVehicles] = 100;
	Engine[TotalAdminVehicles] = Lights[TotalAdminVehicles] = IsLocked[TotalAdminVehicles] = false;
//	SetVehicleNumberPlate(TotalAdminVehicles,"{FF0000}ADMIN");
	SetVehicleNumberPlate(AVehicle[TotalAdminVehicles], "{FFCC00}NOT FOR USE");
	
	/*new veh_id = 0;
	veh_id = CreateVehicle(params[0], X,Y,Z, 0.0, params[1], params[2], -1);
	SetVehicleVirtualWorld(veh_id, GetPlayerVirtualWorld(playerid));
	LinkVehicleToInterior(veh_id, GetPlayerInterior(playerid));
	Fuel[veh_id] = 100;
	Engine[veh_id] = Lights[veh_id] = IsLocked[veh_id] = false;
	SetVehicleNumberPlate(veh_id,"{FF0000}ADMIN");*/

	TotalAdminVehicles++;
	return 1;
}
cmd:dagestan(playerid, params[]) {
	if(GetPlayerState(playerid) != 2) return SendErr(playerid, "Вы должны быть в машине");
	new Float:newgrav;
	if(sscanf(params, "f", newgrav)) return SendErr(playerid, "/dagestan [grav]");
	SetPlayerGravity(playerid, newgrav);
	return 1;
}

cmd:getgravity(playerid, params[]) {
	if(CheckAdmin(playerid, 3)) return 0;
	if(sscanf(params, "d", params[0])) {
		new string[50];
		format(string, 50, "Ваша гравитация - %f", GetPlayerGravity(playerid));
		SendInfo(playerid, string);
	} else {
		new string[60];
		format(string, 60, "Гравитация игрока %s(%d) - %f", GetName(playerid), playerid, GetPlayerGravity(playerid));
		SendInfo(playerid, string);
	}
	return 1;
}

//==============================================================================
cmd:vehtube(playerid, params[])
{
	//if(admin_ban_time[playerid] > 0) return SendErr(playerid, "Ваши админ-действия на сервере заблокированы");
	if(PI[playerid][pYouTuber] < 1) return 1;

	//else if(AdminLogged[playerid] == false)
	//return SendClientMessage(playerid, COLOR_RED, "Вы не авторизованы. Используйте {FFFFFF}/alogin");//SendErr(playerid, "Вы не авторизованы. Используйте {f1c40f}/alogin");
	else if(GetPlayerInterior(playerid) > 0)
	return SendErr(playerid, "В интерьере нельзя создавать транспорт!");
	else if(sscanf(params, "ddd", params[0], params[1], params[2]))
	return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/vehtube [id машины] [цвет 1] [цвет 2]");
	else if(params[0] > 611 || params[0] < 400)
	return SendClientMessage(playerid, COLOR_RED, "ID машины не может быть меньше 400 и больше чем 611");//SendErr(playerid, "ID машины не может быть меньше 400 и больше чем 611");
	else if(params[1] > 255 || params[1] < 0)
	return SendClientMessage(playerid, COLOR_RED, "Номер цвета не может быть меньше 0 и больше 255");//SendErr(playerid, "Номер цвета не может быть меньше 0 и больше 255");
	else if(params[2] > 255 || params[2] < 0)
	return SendClientMessage(playerid, COLOR_RED, "Номер цвета не может быть меньше 0 и больше 255");//SendErr(playerid, "Номер цвета не может быть меньше 0 и больше 255");
	else if(TotalAdminVehicles > 30)
	return SendClientMessage(playerid, COLOR_RED, "Лимит ютуб-машин превыше");

	new Float:X,
Float:Y,
Float:Z;

	GetPlayerPos(playerid, X,Y,Z);
	X += 1.5;

	AVehicle[TotalAdminVehicles] = CreateVehicle(params[0], X,Y,Z, 0.0, params[1], params[2], -1);
	SetVehicleVirtualWorld(TotalAdminVehicles, GetPlayerVirtualWorld(playerid));
	LinkVehicleToInterior(TotalAdminVehicles, GetPlayerInterior(playerid));

	Fuel[TotalAdminVehicles] = 100;
	Engine[TotalAdminVehicles] = Lights[TotalAdminVehicles] = IsLocked[TotalAdminVehicles] = false;
	//SetVehicleNumberPlate(TotalAdminVehicles,"{FF0000}YOUTUBE");

	/*new veh_id = 0;
	veh_id = CreateVehicle(params[0], X,Y,Z, 0.0, params[1], params[2], -1);
	SetVehicleVirtualWorld(veh_id, GetPlayerVirtualWorld(playerid));
	LinkVehicleToInterior(veh_id, GetPlayerInterior(playerid));
	Fuel[veh_id] = 100;
	Engine[veh_id] = Lights[veh_id] = IsLocked[veh_id] = false;
	SetVehicleNumberPlate(veh_id,"{FF0000}YOUTUBE");*/

	TotalAdminVehicles++;
	return 1;
}

cmd:alldelveh(playerid, params[])
{
	//if(admin_ban_time[playerid] > 0) return SendErr(playerid, "Ваши админ-действия на сервере заблокированы");
	if(PI[playerid][pAdmin] < 5) return 1;
	//else if(AdminLogged[playerid] == false) return SendErr(playerid, "Вы не авторизованы. Используйте {f1c40f}/alogin");
	new string[128];
	format(string, sizeof(string), "[A] %s[%i] удалил все автомобили созданные администраторами", GetName(playerid), playerid);
	SendAdminMessage(COLOR_GREY, string);
	for(new i = 0; i < TotalAdminVehicles; i++)
	{
		if(IsValidVehicle(AVehicle[i]))
		{
			DestroyVehicle(AVehicle[i]);
		}
		AVehicle[i] = 0;
	}
	TotalAdminVehicles = 0;
	return 1;
}

CMD:respawncar(playerid, params[])
{
	if(PI[playerid][pAdmin] < ADM_SUPER_MODER) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	if(sscanf(params, "d", params[0])) return SCM(playerid, COLOR_LIME, "Информация: {ffffff}/respawncar [id т.с]");
	SetVehicleToRespawn(params[0]);
	new string[128];
	SendClientMessage(playerid, COLOR_BLUE, "Транспорт зареспавнен");
	format(string, sizeof(string), "[A] %s [%d] зареспавнил транспорт №%d", GetName(playerid), playerid, params[0]);
	SendAdminMessage(COLOR_GREY, string);
	return true;
}
cmd:res(playerid, params[])
{
	//if(admin_ban_time[playerid] > 0) return SendErr(playerid, "Ваши админ-действия на сервере заблокированы");
	if(PI[playerid][pAdmin] < 7) return 1;
	//else if(AdminLogged[playerid] == false) return SendErr(playerid, "Вы не авторизованы. Используйте {f1c40f}/alogin");
	new radius;
	if(sscanf(params, "d", radius)) return SendInf(playerid, "/res [радиус] (радиус от 1 до 80 | значение радиуса '-1' зареспавнит весь транспорт на сервере)");
	else if(!(radius >= -100 && radius <= 0x50)) return SendErr(playerid, "Неверное значение радиуса");
	if(radius == -1)
	{
		for(new i = 1; i < MAX_VEHICLES; i++)
		{
			if(s_IsVehicleOccupied(i)) continue;
			AC_SetVehicleToRespawn(i);
		}
		new string[128];
		format(string, sizeof(string), "[A] %s зареспавнил весь транспорт на сервере", GetName(playerid));
		SendAdminMessage(COLOR_ADMIN, string);
	}
	else
	{
		new Float:x, Float:y, Float:z;
		for(new i = 1; i < MAX_VEHICLES; i++)
		{
			GetPlayerPos(playerid, x, y, z);
			if(IsVehicleInRangeOfPoint(i, radius, x, y, z))
			{
			    if(s_IsVehicleOccupied(i)) continue;
				AC_SetVehicleToRespawn(i);
			}
		}
		new string[128];
		format(string, sizeof(string), "[{A] %s зареспавнил весь транспорт в радиусе %d м", GetName(playerid), radius);
		SendAdminMessage(COLOR_ADMIN, string);
	}
	return 1;
}
cmd:delveh(playerid, params[])
{
	//if(admin_ban_time[playerid] > 0) return SendErr(playerid, "Ваши админ-действия на сервере заблокированы");
	if(PI[playerid][pAdmin] < 4) return 1;
	//else if(AdminLogged[playerid] == false) return SendErr(playerid, "Вы не авторизованы. Используйте {f1c40f}/alogin");
	else if(!IsPlayerInAnyVehicle(playerid)) return SendErr(playerid, "Вы должны находиться в транспорте!");
	new vehh = GetPlayerVehicleID(playerid);
	new slot = -1;
	for(new i = 0; i < TotalAdminVehicles; i++)
	{
		if(vehh == AVehicle[i])
		{
			slot = i;
		}

	}
	if(slot == -1) return SendErr(playerid, "Этот автомобиль не создавал администратор");
	new string[128];
	format(string, sizeof(string), "[A] %s[%i] удалил транспорт (%s, ID: %d)", GetName(playerid), playerid, VehicleNames[GetVehicleModel(AVehicle[slot])-400], AVehicle[slot]);
	SendAdminMessage(COLOR_GREY, string);
	if(IsValidVehicle(AVehicle[slot]))
	{
		DestroyVehicle(AVehicle[slot]);
	}
	AVehicle[slot] = 0;
	TotalAdminVehicles--;
	return 1;
}
CMD:fv(playerid, params[])
{
    if(PI[playerid][pAdmin] < ADM_ADMIN) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(sscanf(params, "d", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/fv [id транспорта]");
	if(IsValidVehicle(params[0]))
	{
		RepairVehicle(params[0]);
		new string[100];
		format(string, sizeof(string), "Вы установили 1000 HP транспорту");
		SendClientMessage(playerid, COLOR_WHITE, string);
	}
	return 1;
}
CMD:fixveh(playerid, params[])
{
	if(PI[playerid][pAdmin] < ADM_SUPER_MODER) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(!IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_RED, "Вы должны находится в транспорте!");
	RepairVehicle(GetPlayerVehicleID(playerid));
	SendSucces(playerid, "Транспорт отремонтирован");
	return 1;
}
CMD:do(playerid, params[])
{
    if(PI[playerid][pMuted] > 0) return SendClientMessage(playerid, 0xff6600AA, "У Вас затычка. Узнать подробней: /time");
	else if(isnull(params)) return SendClientMessage(playerid, COLOR_LIME, "• Информация: {ffffff}/do [описание]");
	else if(TextReset[playerid] > gettime() && GetStringY(OldMessage[playerid], params[0])) return SendClientMessage(playerid,COLOR_RED,"Не флудите");
	else if(IsIpFound(params[0]) || CheckString(params[0])) return PlayerGetsChatBan(playerid, params[0]);
	DoAction(playerid, params[0]);
	SetString(OldMessage[playerid], params[0]);
	TextReset[playerid] = gettime()+3;
	return 1;
}

CMD:try(playerid, params[])
{
    if(PI[playerid][pMuted] > 0) return SendClientMessage(playerid, 0xff6600AA, "У Вас затычка. Узнать подробней: /time");
	if(isnull(params)) return SendClientMessage(playerid, COLOR_LIME, "• Информация: {ffffff}/try [*действие]");
	else if(TextReset[playerid] > gettime() && GetStringY(OldMessage[playerid], params[0])) return SendClientMessage(playerid,COLOR_RED,"Не флудите");
	else if(IsIpFound(params[0]) || CheckString(params[0])) return PlayerGetsChatBan(playerid, params[0]);
	TryAction(playerid, params[0]);
	SetString(OldMessage[playerid], params[0]);
	TextReset[playerid] = gettime()+3;
	return 1;
}

CMD:advertforce(playerid) {
	if(CheckAdmin(playerid, 7)) return SendErr(playerid, "!");
	EveryTenMinuteTimer();
	return 1;
}

CMD:me(playerid, params[])
{
    if(PI[playerid][pMuted] > 0) return SendClientMessage(playerid, 0xff6600AA, "У Вас затычка. Узнать подробней: /time");
	if(isnull(params)) return SendClientMessage(playerid, COLOR_LIME, "• Информация: {ffffff}/me [действие]");
	else if(TextReset[playerid] > gettime() && GetStringY(OldMessage[playerid], params[0])) return SendClientMessage(playerid,COLOR_RED,"Посылать сообщение можно раз в 2 секунды!");
	else if(IsIpFound(params[0]) || CheckString(params[0])) return PlayerGetsChatBan(playerid, params[0]);
	MeAction(playerid, params[0]);
	SetString(OldMessage[playerid], params[0]);
	TextReset[playerid] = gettime()+3;
	return 1;
}
CMD:setfuel(playerid, params[])
{
	if(PI[playerid][pAdmin] < ADM_ADMIN) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(!IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_RED, "Вы должны находится в транспорте!");
	else if(sscanf(params, "d", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/setfuel [кол-во бензина]");
	else if(params[0] > 100 || params[0] < 1) return SendClientMessage(playerid, COLOR_RED, "Неверное кол-во литров. Можно установить от 1 до 100 л");
	Fuel[GetPlayerVehicleID(playerid)] = params[0];
	SendClientMessage(playerid, COLOR_BLUE, "Транспорт заправлен");
	return 1;
}
CMD:setfuelall(playerid, params[])
{
	if(PI[playerid][pAdmin] < ADM_ADMIN) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	for(new i; i != lastveh; i++) Fuel[i] = 100;
    new string[128];
    format(string, sizeof(string), "[A] %s [%d] поставил 100 литров всему серверу", GetName(playerid), playerid);
	SendAdminMessage(COLOR_GREY, string);
	SendClientMessage(playerid, COLOR_BLUE, "Вы установили 100 литров всему транспорту");
	return 1;
}
CMD:hp(playerid)
{
	if(PI[playerid][pAdmin] < ADM_MODER) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");

	SetHealth(playerid, 100);

	return SCM(playerid, COLOR_LIME, "Вы вылечили себя");
}

//==============================================================================
cmd:alogin(playerid, params[])
{
	if(GetPVarInt(playerid, "check_alogin") > gettime()) return 1;
	else if(AdminLogged[playerid]) return SendClientMessage(playerid, COLOR_RED, "Вы уже авторизовались как администратор!");
	new string[128];
	format(string, sizeof(string), "SELECT * FROM "T_ADMIN" WHERE `name` = '%s'", GetName(playerid));
	mysql_tquery(dbHandle, string, "Alogin", "is", playerid, GetName(playerid));
	SetPVarInt(playerid, "check_alogin", gettime()+5);
	return 1;
}
//==============================================================================
cmd:admins(playerid)
{
	if(CheckAdmin(playerid, 1)) return 0;
	if(PI[playerid][pAdmin] > ADM_NONE)
	{
		new info[29], str[170];
		format(info, sizeof(info), "Администрация в сети:");
//		format(info, sizeof(info), "Администраторы онлайн: (%i)", GetAdminsOnline());
		SendClientMessage(playerid, COLOR_GREEN, info);
		foreach(new i: Admins)
		{
		    if(PI[i][pAdmin] != ADM_NONE || PI[i][pAdmin] <= PI[playerid][pAdmin])
		    {
				format(str, sizeof(str), "%s[%d] [%i уровень] ", GetName(i), i, PI[i][pAdmin]);
				if(PI[i][Spectating][0] == INVALID_PLAYER_ID && PI[i][pAFK] >= 3)
				format(str, sizeof(str), "%s AFK %s", str, Converts(PI[i][pAFK]));
				else if(PI[i][Spectating][0] != INVALID_PLAYER_ID && PI[i][pAFK] < 3)
				format(str, sizeof(str), "%s {e74c3c}(SP >> %i)", str, PI[i][Spectating][0]);
				else if(PI[i][Spectating][0] != INVALID_PLAYER_ID && PI[i][pAFK] >= 3)
				format(str, sizeof(str), "%s AFK %s {e74c3c}(SP >> %i)", str, Converts(PI[i][pAFK]), PI[i][Spectating][0]);
				SendClientMessage(playerid, COLOR_WHITE, str);
			}
		}
	}
	return 1;
}
// cmd:smssend(playerid, params[]) {
// 	new pnumber[12];
// 	new text[129];
// 	if(sscanf(params, "s[11]s[128]", pnumber, text)) return SendErr(playerid, "/smssend [номер] [сообщение]");
// 	SMSSend(pnumber, text);
// 	return 1;
// }
//==============================================================================
cmd:supports(playerid)
{
	if(PI[playerid][pAdmin] > 0 || PI[playerid][pSupport] > 0 || PI[playerid][pVip] > 0)
	{
		new info[29], str[170];
		format(info, sizeof(info), "Хелперы онлайн: (%i)", GetSupportsOnline());
		SendClientMessage(playerid, COLOR_GREEN, info);
		foreach(new i: Supports)
		{
		    if(PI[i][pSupport] != 0)
		    {
				format(str, sizeof(str), "%s[%d] (%i lvl) ", GetName(i), i, PI[i][pSupport]);
				if(PI[i][Spectating][0] == INVALID_PLAYER_ID && PI[i][pAFK] >= 3)
				format(str, sizeof(str), "%s AFK %s", str, Converts(PI[i][pAFK]));
				else if(PI[i][Spectating][0] != INVALID_PLAYER_ID && PI[i][pAFK] < 3)
				format(str, sizeof(str), "%s {e74c3c}(SP >> %i)", str, PI[i][Spectating][0]);
				else if(PI[i][Spectating][0] != INVALID_PLAYER_ID && PI[i][pAFK] >= 3)
				format(str, sizeof(str), "%s AFK %s {e74c3c}(SP >> %i)", str, Converts(PI[i][pAFK]), PI[i][Spectating][0]);
				SendClientMessage(playerid, COLOR_WHITE, str);
			}
		}
	}
	return 1;
}
//==============================================================================
cmd:yt(playerid)
{
	if(PI[playerid][pAdmin] > 0 || PI[playerid][pSupport] > 0 || PI[playerid][pYouTuber] > 0 || PI[playerid][pVip] > 0)
	{
		new info[29], str[170];
		format(info, sizeof(info), "Ютуберы онлайн: (%i)", GetYouTubersOnline());
		SendClientMessage(playerid, COLOR_LIME, info);
		foreach(new i: YouTubers)
		{
		    if(PI[i][pYouTuber] != 0)
		    {
				format(str, sizeof(str), "%s[%d] (%i lvl) ", GetName(i), i, PI[i][pYouTuber]);
				if(PI[i][Spectating][0] == INVALID_PLAYER_ID && PI[i][pAFK] >= 3)
				format(str, sizeof(str), "%s AFK %s", str, Converts(PI[i][pAFK]));
				else if(PI[i][Spectating][0] != INVALID_PLAYER_ID && PI[i][pAFK] < 3)
				format(str, sizeof(str), "%s {e74c3c}(SP >> %i)", str, PI[i][Spectating][0]);
				else if(PI[i][Spectating][0] != INVALID_PLAYER_ID && PI[i][pAFK] >= 3)
				format(str, sizeof(str), "%s AFK %s {e74c3c}(SP >> %i)", str, Converts(PI[i][pAFK]), PI[i][Spectating][0]);
				SendClientMessage(playerid, COLOR_WHITE, str);
			}
		}
	}
	return 1;
}
//==============================================================================
/*CMD:admins(playerid)
{
    if(PI[playerid][pAdmin] > ADM_MODER)

	SendClientMessage(playerid, 0x99CC00FF, "Администрация онлайн:");

	new fmt_msg[85], afk[25], spec[20];

	foreach(new i: Player)
	{
        if(PI[i][pAdmin] == 0) continue;
        {
			if(1 <= PI[i][pAdmin] <= 7)
			{
				format(fmt_msg, sizeof fmt_msg, "%s [%d] (%d уровень)", PI[i][pName], i, PI[i][pAdmin]);

				if(IsPlayerAfk(i))
					format(afk, sizeof afk, " - {FF9900}AFK [%02d:%02d]", (floatround(player_afk_time[i] / 60) % 60), player_afk_time[i] % 60), strcat(fmt_msg, afk);

				if(GetPlayerState(i) == PLAYER_STATE_SPECTATING)
		        {
		            format(spec, sizeof spec, "{FF0000} > /sp %d", PI[i][Spectating][0]), strcat(fmt_msg, spec);
				}
				SendClientMessage(playerid, COLOR_YELLOW, fmt_msg);
			}
		}
	}
	return 1;
}*/
/*CMD:admins(playerid)
{
	if(PI[playerid][pAdmin] > ADM_MODER)
{
	new str[300];
	SendClientMessage(playerid, COLOR_BLUE, "Администрация онлайн:");
	for(new i = 0; i < GetMaxPlayers(); i++)
{
	if(!PlayerLogged[i]) continue;
	if(PI[i][pAdmin] > ADM_NONE)
{
	format(str, sizeof(str), "%s [%d] - %s (%i уровень)", GetName(i), i, GetAdminRang(i), PI[i][pAdmin]);
	if(PI[i][Spectating][0] == INVALID_PLAYER_ID && PI[i][pAFK] >= 3)
	format(str, sizeof(str), "%s {FF0000}[AFK %s]", str, Converts(PI[i][pAFK]));
	else if(PI[i][Spectating][0] != INVALID_PLAYER_ID && PI[i][pAFK] < 3)
	format(str, sizeof(str), "%s {FF0000}/sp %i", str, PI[i][Spectating][0]);
	else if(PI[i][Spectating][0] != INVALID_PLAYER_ID && PI[i][pAFK] >= 3)
	format(str, sizeof(str), "%s {FF9900}[AFK %s] {FF0000}/spec %i", str, Converts(PI[i][pAFK]), PI[i][Spectating][0]);
	SendClientMessage(playerid, COLOR_WHITE, str);
	}
}
	new string[128];
	format(string, sizeof(string), "Время администратирования за сегодня: %i минут", AdminInfo[playerid][admTimeMin] / 60);
	SendClientMessage(playerid, 0x99CCFFFF, string);
	}
	return 1;
}*/
CMD:weap(playerid, params[])
{
	if(PI[playerid][pAdmin] < ADM_MODER) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/weap [id игрока]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	new strings[1000],strin[70],strs[100],gunname[32];
	new weapons[13][2];
	format(strs, 100, "Игрок:\t\t\t%s{FFFFFF}", GetName(params[0]));
	strcat(strings, strs);
	for(new i = 0; i != 12; i ++)
	{
		GetPlayerWeaponData(params[0], i, weapons[i][0], weapons[i][1]);
		GetWeaponName(weapons[i][0],gunname,32);
		if(weapons[i][0] != 0)
		{
			format(strin,70,"\n\nОружие:\t\t%s (%d)\nПатроны:\t\t%d",gunname,weapons[i][0],weapons[i][1]);
			strcat(strings,strin);
		}
	}
	ShowPlayerDialog(playerid,D_NULL,0,"{FFCC00}Оружие игрока",strings,"Закрыть","");
	return 1;
}
//==============================================================================
CMD:add(playerid, params[])
{
	if(!IsPlayerGrandAdmin(playerid))
		return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	ShowPlayerDialog(playerid, D_ADDNED, 2, "{FFCC00}Меню создания", "Добавить дом\nДобавить бизнес\nДобавить транспорт\nДобавить ATM\nДобавить подъезд", "Добавить", "Отмена");
	return 1;
}
//==============================================================================
CMD:changecar(playerid, params[])
{
	if(GetPlayerHouse(playerid) == 0) return SendClientMessage(playerid, COLOR_RED, "Вы не владеете домом!");
	else if(!IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_RED, "Вы должны находится в транспорте!");
	else if(GetPlayerVehicleID(playerid) != PI[playerid][PlayerCarID]) return SendClientMessage(playerid, COLOR_RED, "Вы должны находится в вашем личном транспорте!");
	else if(sscanf(params, "ui", params[0], params[1])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/changecar [id игрока] [доплата]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(params[0] == playerid) return SendClientMessage(playerid, COLOR_RED, "Вы не можете обменять транспорт себе!");
	else if(GetPlayerHouse(params[0]) == 0) return SendClientMessage(playerid, COLOR_RED, "У игрока нет дома!");
	else if(!IsPlayerInVehicle(params[0], GetPlayerVehicleID(playerid))) return SendClientMessage(playerid, COLOR_RED, "Игрок должен находится с Вами в транспорте!");
	else if(params[1] < 0 || params[1] > 7000000) return SendClientMessage(playerid, COLOR_RED, "Количество доплаты от 1 до 7000000!");
	new string[256];
	SendMes(playerid, COLOR_LIGHTBLUE, "Вы предложили обменяться транспортами с %s. Доплата игрока: %d", GetName(params[0]), params[1]);
	SendMes(params[0], COLOR_LIGHTBLUE, "%s предложил обменяться транспортами с Вами. Ваша доплата: %d", GetName(playerid), params[1]);
	format(string, sizeof(string), "{FFCC00}%s предложил обменять свой транспорт\n\n\t\t{ffffff}(Модель: %s, Доплата: %i)\n{FFCC00}На Ваш транспорт\n\t\t{ffffff}(Модель: %s)\n\n{FFCC00}Вы согласны?",
	GetName(playerid), VehicleNames[GetVehicleModel(PI[playerid][PlayerCarID])-400], params[1], VehicleNames[GetVehicleModel(PI[params[0]][PlayerCarID])-400]);
	ShowPlayerDialog(params[0], D_JOB+24, 0, "{FFCC00}Обмен транспортом", string, "Да", "Нет");
	SendMes(playerid,-1,"Вы успешно предложили обменять транспорт, игроку предложено доплатить %d для обмена", params[1]);
	SetPVarInt(params[0], "CarPlayer", playerid);
	SetPVarInt(params[0], "CarPrice", params[1]);
	return 1;
}
//==============================================================================
CMD:changehouse(playerid, params[])
{
	if(GetPlayerHouse(playerid) == 0) return SendClientMessage(playerid, COLOR_RED, "У Вас нет дома!");
	else if(sscanf(params, "ud", params[0], params[1])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/changehouse [id игрока] [доплата]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(GetPlayerHouse(params[0]) == 0) return SendClientMessage(playerid, COLOR_RED, "У игрока нет дома!");
	else if(params[1] < 0 || params[1] > 15000000) return SendClientMessage(playerid, COLOR_RED, "Количество доплаты от 1 до 15000000!");
	new i = GetPVarInt(playerid, "PlayerHouse");
	new i2 = GetPVarInt(params[0], "PlayerHouse");
	if(IsPlayerInRangeOfPoint(playerid, 5.0, HouseInfo[i][hEntrx], HouseInfo[i][hEntry], HouseInfo[i][hEntrz]) || IsPlayerInRangeOfPoint(playerid, 15.0, HouseInfo[i][hExitx], HouseInfo[i][hExity], HouseInfo[i][hExitz]))
	{
		if(IsPlayerInRangeOfPlayer(3.0, playerid, params[0]) && params[0] != INVALID_PLAYER_ID)
		{
			if(params[0] == playerid) return SendClientMessage(playerid, COLOR_RED, "Вы не можете обменять дом себе!");
			new string[256];
			SendMes(playerid, COLOR_LIGHTBLUE, "Вы предлежили обменяться домами с %s. Твоя доплата: %d",GetName(params[0]), params[1]);
			SendMes(params[0], COLOR_LIGHTBLUE, "%s предлежил обменяться домами с Вами. Доплата: %d",GetName(playerid), params[1]);
			format(string, sizeof(string), "{FFCC00}%s предложил обменять свой дом\n\n\t\t{ffffff}(Номер: %d, Класс: %s, Доплата: %d)\n{FFCC00}На Ваш дом\n\t\t{ffffff}(Номер: %d, Тип: %s)\n\n{FFCC00}Вы согласны?", GetName(playerid), i, HouseInfo[i][hDiscript], params[1], i2, HouseInfo[i2][hDiscript]);
			ShowPlayerDialog(params[0], D_SELLHOUSE+1, 0, "{FFCC00}Обменять дом", string, "Да", "Нет");
			format(string, sizeof(string), "{FFCC00}Вы предложили %s обменять свой дом\n\n\t\t{ffffff}(Номер: %d, Тип: %s, Доплата: %d)\n{FFCC00}на его дом\n\t\t{ffffff}(Номер: %d, Тип: %s)", GetName(params[0]), i, HouseInfo[i][hDiscript], params[1], i2, HouseInfo[i2][hDiscript]);
			ShowPlayerDialog(playerid, D_NULL, 0, "{FFCC00}Обменять дом", string, "Закрыть", "");
			HouseOffer[params[0]] = playerid;
			HousePrice[params[0]] = params[1];
		}
		else SendClientMessage(playerid, COLOR_RED, "Игрок должен находится рядом с тобой!");
	}
	else SendClientMessage(playerid, COLOR_RED, "Вы должны находится в вашем доме!");
	return 1;
}
//==============================================================================
CMD:givekey(playerid, params[])
{
	if(sscanf(params,"ui",params[0],params[1])) return SendClientMessage(playerid, COLOR_LIME,"Информация:{FFFFFF} /givekey [id игрока] [1]");
	if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(GetPlayerDistanceToPlayer(playerid, params[0]) > 3.0 || GetPlayerVirtualWorld(playerid) != GetPlayerVirtualWorld(params[0])) return SendClientMessage(playerid, COLOR_RED, "Игрок слишком далеко!");
	if(params[1] == 1)
	{
		if(PI[playerid][PlayerCarID][0] == INVALID_VEHICLE_ID) return SendClientMessage(playerid, COLOR_RED, "Команда доступна только владельцам авто");
		else if(PI[params[0]][pVehicleKey][0]) return SendClientMessage(playerid, COLOR_RED, "У игрока уже есть ключи от транспорта #1");
		PI[params[0]][pVehicleKey][0] = PI[playerid][PlayerCarID][0];
		new string[128];
		format(string, sizeof(string), "Вы получили ключи от транспорта #1 от %s", GetName(playerid));
		SendClientMessage(params[0], COLOR_BLUE, string);
		format(string, sizeof(string), "Вы выдали %s ключи от вашего транспорта #1", GetName(params[0]));
		SendClientMessage(playerid, COLOR_LIME, string);
	}
	return 1;
}

CMD:takekey(playerid, params[])
{
	if(sscanf(params,"ui",params[0],params[1])) return SendClientMessage(playerid,COLOR_LIME,"Информация: /takekey [id игрока] [1]");
	if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(GetPlayerDistanceToPlayer(playerid, params[0]) > 3.0 || GetPlayerVirtualWorld(playerid) != GetPlayerVirtualWorld(params[0])) return SendClientMessage(playerid, COLOR_RED, "Игрок слишком далеко!");
	if(params[1] == 1)
	{
		if(PI[playerid][PlayerCarID][0] == INVALID_VEHICLE_ID) return SendClientMessage(playerid, COLOR_RED, "Команда доступна только владельцам авто");
		PI[params[0]][pVehicleKey][0] = 0;
		new string[128];
		format(string, sizeof(string), "%s забрал У Вас ключи от транспорта", GetName(playerid));
		SendClientMessage(params[0], COLOR_BLUE, string);
		format(string, sizeof(string), "Вы забрали у %s ключи от вашего транспорта", GetName(params[0]));
		SendClientMessage(playerid, COLOR_LIME, string);
	}
	return 1;
}

CMD:offkey(playerid, params[])
{
	if(sscanf(params,"i",params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: /offkey [1]");
	if(params[0] == 1)
	{
        if(!PI[playerid][pVehicleKey][0]) return SendClientMessage(playerid, COLOR_RED, "У Вас нет дубликатов ключей от транспорта #1");
		PI[playerid][pVehicleKey][0] = 0;
		SendClientMessage(playerid, COLOR_RED, "Вы выбросили ключи от транспорта #1");
  	}
	return 1;
}

CMD:vpc(playerid, params[])
{
	if(PI[playerid][pAdmin] < ADM_TOP) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(GetPVarInt(playerid, "AddVehicleFrac") == 0) return 1;
	else if(GetPlayerState(playerid) != 2) return 1;
	else if(!IsPlayerInVehicle(playerid, GetPVarInt(playerid, "AddVehicleFrac"))) return 1;
	new Float:X,Float:Y,Float:Z,Float:FA;
	GetVehicleZAngle(GetPlayerVehicleID(playerid), FA);
	GetVehiclePos(GetPlayerVehicleID(playerid), X,Y,Z);
	DestroyVehicle(GetPVarInt(playerid, "AddVehicleFrac"));
	TOTALVEH++;
	sscanf(coordv, "p<,>iiiiiii", VehInfo[TOTALVEH][vModel], VehInfo[TOTALVEH][vColor][0],
	VehInfo[TOTALVEH][vColor][1],VehInfo[TOTALVEH][vFraction],VehInfo[TOTALVEH][vInt],VehInfo[TOTALVEH][vWorld], VehInfo[TOTALVEH][vStatus]);
	format(VehInfo[TOTALVEH][vColors], 16, "%i, %i", VehInfo[TOTALVEH][vColor][0],VehInfo[TOTALVEH][vColor][1]);
	VehInfo[TOTALVEH][vPos_X] = X;
	VehInfo[TOTALVEH][vPos_Y] = Y;
	VehInfo[TOTALVEH][vPos_Z] = Z;
	VehInfo[TOTALVEH][vPos_FA] = FA;
	VehInfo[TOTALVEH][vVehicle] = CreateVehicle(VehInfo[TOTALVEH][vModel], VehInfo[TOTALVEH][vPos_X], VehInfo[TOTALVEH][vPos_Y], VehInfo[TOTALVEH][vPos_Z], VehInfo[TOTALVEH][vPos_FA],VehInfo[TOTALVEH][vColor][0],VehInfo[TOTALVEH][vColor][1], 300);
	LinkVehicleToInterior(VehInfo[TOTALVEH][vVehicle], VehInfo[TOTALVEH][vInt]);
	SetVehicleVirtualWorld(VehInfo[TOTALVEH][vVehicle], VehInfo[TOTALVEH][vWorld]);
	Fuel[VehInfo[TOTALVEH][vVehicle]] = 150;
	Engine[VehInfo[TOTALVEH][vVehicle]] = false;
	Lights[VehInfo[TOTALVEH][vVehicle]] = false;
	DeletePVar(playerid, "AddVehicleFrac");
	new totalstring[512];
	format(totalstring,sizeof(totalstring),"INSERT INTO `vehicle` (id, model, x, y, z, fa, vint, world, colors, fraction, status) VALUES (%i, %i, '%f', '%f', '%f', '%f', %i, %i, '%s', %i, %i)",
	TOTALVEH,VehInfo[TOTALVEH][vModel],VehInfo[TOTALVEH][vPos_X],VehInfo[TOTALVEH][vPos_Y],VehInfo[TOTALVEH][vPos_Z],VehInfo[TOTALVEH][vPos_FA],VehInfo[TOTALVEH][vInt],
	VehInfo[TOTALVEH][vWorld],VehInfo[TOTALVEH][vColors],VehInfo[TOTALVEH][vFraction], VehInfo[TOTALVEH][vStatus]);
	mysql_tquery(dbHandle, totalstring, "", "");
	SendMes(playerid, COLOR_LIME, "Транспорт номер %i создан", TOTALVEH);
	return 1;
}

CMD:tpcor(playerid, params[])
{
	if(PI[playerid][pAdmin] < ADM_TOP) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	if(TPC[playerid] == false)
	{
		if(!IsPlayerInVehicle(playerid, VehTest[playerid])) return SendClientMessage(playerid, COLOR_RED, "Вы должны находится в транспорте!");
		new Float:X,Float:Y,Float:Z,Float:FA;
		GetVehicleZAngle(VehTest[playerid], FA);
		GetVehiclePos(VehTest[playerid], X,Y,Z);
		format(coordh, sizeof(coordh), "%f, %f, %f, %f", X, Y, Z, FA);
		DestroyVehicle(VehTest[playerid]);
		VehTest[playerid] = INVALID_VEHICLE_ID;
		TPC[playerid] = true;
		return SendClientMessage(playerid, COLOR_LIME, "Координаты созданы. Установите интерьер: /tpcor");
	}
	if(TPC[playerid] == true)
	{
		new string1[850];
		strcat(string1,"ВАЖНО: Тип интерьера\n\nПРИМЕР: 1\n\n");
		strcat(string1,"1. Низкий класс\n");
		strcat(string1,"2. Средний класс\n");
		strcat(string1,"3. Высокий класс\n");
		strcat(string1,"4. Элитный класс (рублевка)\n");
		strcat(string1,"5. Дэлюксовый класс (топ место, редкий)\n");
		strcat(string1,"6. Особняк (р-н элитный, для семей)\n");
		strcat(string1,"6. Квартира\n");
		ShowPlayerDialog(playerid,D_ADDNED+1,1,"Добавить дом",string1,"Выбрать","Закрыть");
	}
	return 1;
}
CMD:alock(playerid)
{
	new Float: pos[3];
	new string[128];
	if(PI[playerid][pAdmin] < ADM_ADMIN) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	for(new i = 1; i < MAX_VEHICLES; i++)
	{
	    GetVehiclePos(i, pos[0], pos[1], pos[2]);
	    if(PlayerToPoint(4.0, playerid, pos[0], pos[1], pos[2]))
	    {
	        if(IsLocked[i] == false)
			{
	        	IsLocked[i] = true;
				CarDoors(i, 1);
				format(string, 16, "~r~LOCK");
				GameTextForPlayer(playerid, string, 2000,3);
//				PlayerPlaySound(playerid, 24600, 0.0, 0.0, 0.0);
			}
			else
			{
				IsLocked[i] = false;
				CarDoors(i, 0);
				format(string, 16, "~g~OPEN");
				GameTextForPlayer(playerid, string, 2000,3);
//				PlayerPlaySound(playerid, 24600, 0.0, 0.0, 0.0);
			}
			break;
		}
	}
	return 1;
}
CMD:lock(playerid, params[])
{
	if(TextResetCMD[playerid] > gettime()) return SendClientMessage(playerid, COLOR_RED, "Не флудите!");
	new Float:x, Float:y, Float:z, type = 1;
	if(sscanf(params,"i",type))
	{
		SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/lock [номер транспорта]\n");
		SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}1 - личный транспорт | 2 - рабочий транспорт | 3 - каршеринг");
		return 1;
	}
	if(type > 3 || type < 1) type = 1;
	new carid;
	if(PI[playerid][PlayerCarID] && type == 1) carid = PI[playerid][PlayerCarID];
	else if(PI[playerid][pVehicleKey] && type == 2) carid = PI[playerid][pVehicleKey];
	else if(type == 2)
	{

	} else if (type == 3) {
		if(!playerArend[playerid][arendCarID]) return SendErr(playerid, "Вы не арендуете транспорт каршеринг");
		else carid = playerArend[playerid][arendCarID];
	}
	else return SendClientMessage(playerid, COLOR_RED, "У Вас нет авто");
	GetVehiclePos(carid, x, y, z);
	if(!IsPlayerInRangeOfPoint(playerid, 10.0, x, y, z)) return SendClientMessage(playerid, COLOR_RED, "Вы должны находится возле своего транспорта!");
	if(IsLocked[carid] == false)
	{
		PI[playerid][cLock] = 1;
		IsLocked[carid] = true;
		CarDoors(carid, PI[playerid][cLock]);
		GameTextForPlayer(playerid, "~r~LOCK", 2000, 3);
//		PlayerPlaySound(playerid, 24600, 0.0, 0.0, 0.0);
	}
	else
	{
		PI[playerid][cLock] = 0;
		IsLocked[carid] = false;
		CarDoors(carid, PI[playerid][cLock]);
		GameTextForPlayer(playerid, "~g~OPEN", 2000, 3);
//		PlayerPlaySound(playerid, 24600, 0.0, 0.0, 0.0);
	}
	return 1;
}
CMD:sellcar(playerid)
{
	if(PI[playerid][cModel] != 0)
	{
		ShowPlayerDialog(playerid, D_JOB+22, 0, "{FFCC00}Продажа авто", "{ffffff}Вы уверены что хотите продать транспорт?\nНа Ваш банковский счёт будет начислено\n\nЕсли Вы хотите продать другому игроку,\nиспользуйте команду {FFCC00}/sellmycar", "Да", "Нет");
	}
	else
	{
		SCM(playerid,COLOR_LIME,"Информация: {ffffff}Ваше авто не создано по тех. причинам:");
		SCM(playerid,COLOR_LIME,"Информация: {ffffff}Если Вы купили дом / квартиру ТОЛЬКО ЧТО - то перезайдите");
		SCM(playerid,COLOR_LIME,"Информация: {ffffff}Если У Вас отель или квартира, нужно забрать авто (Меню жильца > Забрать авто)");
		SCM(playerid,COLOR_LIME,"Информация: {ffffff}Если У Вас дом, то перезайдите");
	}
	return 1;
}

/*CMD:mycar(playerid, params[]);
{
	new cares[MAX_PLAYERS] = 0;
	if(!IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_RED, "Вы должны находится в транспорте!");
	else if(GetPlayerVehicleID(playerid) == PI[playerid][PlayerCarID][0]) cares[playerid]++;
	else if(GetPlayerVehicleID(playerid) == PI[playerid][PlayerCarID][1]) cares[playerid]++;
	else if(cares[playerid] <= 0) return SendClientMessage(playerid,-1,"Вы должны находится в личном транспорте");
	if(sscanf(params, "uii", params[0], params[1], params[2])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/sellmycar [ид игрока] [цена] [1/2]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(params[0] == playerid) return SendClientMessage(playerid, COLOR_RED, "Вы не можете продать транспорт себе!");
	else if(params[1] < 1 || params[1] > 3000000) return SendClientMessage(playerid, COLOR_RED, "Стоимость от 1 до 3000000 руб");
	SetPVarInt(params[0], "CarPlayer", playerid);
	SetPVarInt(params[0], "CarPrice", params[1]);
	SetPVarInt(params[0], "KeyCar", 1);
	SetPVarInt(params[0], "NumberCar", params[2]);
	SendMes(playerid, COLOR_BLUE, "Вы предложили купить свой транспорт %s, ожидайте подтверждения игрока", GetName(params[0]));
	SendMes(params[0], COLOR_BLUE, "Игрок %s предлагает Вам купить его транспорт %s за %i рублей", GetName(playerid), VehicleNames[GetVehicleModel(PI[playerid][PlayerCarID])-400], params[1]);
	SendClientMessage(params[0], COLOR_WHITE, "{FFFFFF}Нажмите {03c03c}Y {FFFFFF}для согласия или {ff7518}N {FFFFFF}для отказа");
	return 1;
}
*/
CMD:sellhouse(playerid) return callcmd::sellhome(playerid);
CMD:sellmyhouse(playerid) return callcmd::sellhome(playerid);
CMD:sellhome(playerid)
{
	if(GetPlayerHouse(playerid) == 0) return SendClientMessage(playerid, COLOR_RED, "У Вас нет дома!");

	ShowPlayerDialog
	(
		playerid, D_SELLHOUSE, DIALOG_STYLE_MSGBOX,
		"{FFCC00}Продажа дома",
		"{FFFFFF}Вы уверены что хотите продать свой дом государству?\n\n\
		Вам будет возвращена его стоимость за вычитом 20%",
		"Да", "Нет"
	);

	return 1;
}
//==============================================================================
CMD:sellbiz(playerid, params[]) return callcmd::sellmybiz(playerid, params);
CMD:sellmybiz(playerid, params[])
{
	if(GetPlayerBizz(playerid) == 0)
	    return SendClientMessage(playerid, COLOR_RED, "Вы не владеете бизнесом!");
     else if(sscanf(params, "ii", params[0],params[1]))
	    return SendClientMessage(playerid, COLOR_LIME, "Информация: {FFFFFF}/sellmbiz [id игрока] [цена]");
    if(GetPlayerBizz(params[0]) == 1)
	    return SendClientMessage(playerid, COLOR_RED, "У игрока уже есть бизнес!");
	if(params[1] < 1)
	    return SendClientMessage(playerid, COLOR_RED, "Неверная цена!");
	if(params[1] > 99999999)
	    return SendClientMessage(playerid, COLOR_RED, "Неверная цена!");
	new i = GetPVarInt(playerid, "PlayerBizz");
	SetPVarInt(params[0], "sellbiz",1);
   	SetPVarInt(params[0], "bizzid", i);
	SetPVarInt(params[0], "price_bizz", params[1]);
	SetPVarInt(params[0], "idsellplayerbiz",playerid);
	new string[144];
	format(string, sizeof(string), "Вы предложили {FFCC00}%s {0099FF}купить ваш бизнес за {FFFFFF}%i {0099FF}рублей", PI[params[0]][pName], params[1]);
	SendClientMessage(playerid, COLOR_BLUE, string);
	format(string, sizeof(string), "%s предлагает вам купить его бизнес за %i рублей", PI[playerid][pName], params[1]);
	SendClientMessage(params[0], COLOR_BLUE, string);
	SendClientMessage(params[0], COLOR_WHITE, "{FFFFFF}Нажмите {03c03c}Y {FFFFFF}чтобы согласиться или {ff7518}N {FFFFFF}для отказа");
	return 1;
}
//==============================================================================
CMD:carpass(playerid, params[])
{
	if(PI[playerid][cModel] == 0) return SendClientMessage(playerid, COLOR_RED, "У Вас нет авто!");
	else if(!IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_RED, "Вы должны находится в транспорте!");
	else if(GetPlayerVehicleID(playerid) != PI[playerid][PlayerCarID]) return SendClientMessage(playerid, COLOR_RED, "Вы должны находится в вашем личном транспорте!");
	else if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/carpass [ид игрока]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(GetPlayerDistanceToPlayer(playerid, params[0]) > 5.0 || GetPlayerVirtualWorld(playerid) != GetPlayerVirtualWorld(params[0])) return SendClientMessage(playerid, COLOR_RED, "Игрок слишком далеко!");
	new string[100];
	format(string, sizeof(string), "___________[ ДОКУМЕНТЫ НА АВТОМОБИЛЬ ]___________");
	SendClientMessage(params[0],COLOR_WHITE, string);
	SendMes(params[0], COLOR_WHITE, "Владелец: %s",GetName(playerid));
	SendMes(params[0], COLOR_WHITE, "Номерной знак: %s", PI[playerid][pNumberVehicle]);
	SendMes(params[0], COLOR_WHITE, "Модель авто: %s",VehicleNames[GetVehicleModel(PI[playerid][PlayerCarID])-400]);
	SendClientMessage(params[0],COLOR_WHITE, "____________________________________________");
	return 1;
}
CMD:vehnitro(playerid)
{
    if(PI[playerid][pAdmin] < 4) return 1;
	//else if(AdminLogged[playerid] == false) return SCM(playerid, COLOR_DARKORANGE, YouAreNotLoggedInAsAdmin);
	else if(!IsPlayerInAnyVehicle(playerid)) return SCM(playerid, COLOR_DARKORANGE, "Вы должны находится в транспорте!");
    SCM(playerid,COLOR_BLUE,"Вы установили временное нитро на x10 запусков");
	AddVehicleComponent(GetPlayerVehicleID(playerid),1010);
	return 1;
}
CMD:getmet(playerid,params[])
{
    if(PI[playerid][pMember] == 12)
    {
		if(IsPlayerInRangeOfPoint(playerid, 3, -70.9661,1137.1775,2340.5300))
		{
			ShowPlayerDialog(playerid,1982,DSI,"{FFCC00}Склад Армии | Взять металл","{ffffff}Введите кол-во кг. металла, которое хотите взять .","Взять","Закрыть");
		}
    }
    else
    {
        SCM(playerid,COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
    }
	return 1;
}
CMD:re(playerid, params[]) return callcmd::spec(playerid, params);
CMD:sp(playerid, params[]) return callcmd::spec(playerid, params);
CMD:spec(playerid, params[])
{   
	if(PI[playerid][pAdmin] < ADM_MODER) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}(/sp)ec [ид игрока]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(playerid == params[0]) return SendClientMessage(playerid, COLOR_RED, "Следить за собой нельзя");
	else if(PI[playerid][pAdmin] < ADM_GRAND && AdminInfo[params[0]][admSpectate]) return SendClientMessage(playerid, COLOR_RED, "Следить за этим администратором запрещено");
 	
 	new Float:xPos[4];
	GetPlayerPos(playerid, xPos[0], xPos[1], xPos[2]);
	GetPlayerFacingAngle(playerid, xPos[3]);
	if(PI[playerid][Spectating][0] == INVALID_PLAYER_ID)
	{
	    SetPVarInt(playerid, "SpecInt", GetPlayerInterior(playerid));
		SetPVarInt(playerid, "SpecVw", GetPlayerVirtualWorld(playerid));
		SetPVarFloat(playerid, "SpecX", xPos[0]);
		SetPVarFloat(playerid, "SpecY", xPos[1]);
		SetPVarFloat(playerid, "SpecZ", xPos[2]);
		SetPVarFloat(playerid, "SpecA", xPos[3]);
		if(PI[playerid][pAdmin] < 7)
		{
			new string[128];
			format(string, sizeof(string), "[A] %s [%d] начал наблюдать за %s [%d]", GetName(playerid), playerid, GetName(params[0]), params[0]);
    		SendAdminMessage(COLOR_GREY, string);
 		}
	}
  	SetPlayerInterior(playerid, GetPlayerInterior(params[0]));
	SetPlayerVirtualWorld(playerid, GetPlayerVirtualWorld(params[0]));
	TogglePlayerSpectating(playerid, 1);
	if(IsPlayerInAnyVehicle(params[0])) PlayerSpectateVehicle(playerid, GetPlayerVehicleID(params[0]));
	else PlayerSpectatePlayer(playerid, params[0]);
	PI[playerid][Spectating][0] = params[0];
	PI[playerid][Spectating][1] = playerid;
	player_spectate_id = params[0];
	for(new i; i < sizeof pOdmenPanel_TD; i++) TextDrawShowForPlayer(playerid, pOdmenPanel_TD[i]);
    for(new i; i < sizeof pOdminPanel_PTD[]; i++) PlayerTextDrawShow(playerid, pOdminPanel_PTD[playerid][i]);
    SelectTextDraw(playerid, 0xFF9933FF);
	return 1;
}
CMD:spoff(playerid, params[]) return callcmd::specoff(playerid, params);
CMD:specoff(playerid, params[])
{
	if(PI[playerid][pAdmin] < ADM_MODER) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	
	else if(PI[playerid][Spectating][0] == INVALID_PLAYER_ID) return SendClientMessage(playerid, COLOR_RED, "Вы не наблюдаете за игроком!");
	if(PI[playerid][pAdmin] < 1)
	{
		new string[128];
		
		format(string, sizeof(string), "[A] %s [%d] закончил наблюдение за %s [%i]", GetName(playerid), playerid, GetName(PI[playerid][Spectating][0]), PI[playerid][Spectating][0]);
	    SendAdminMessage(COLOR_GREY, string);
  	}
	PI[playerid][Spectating][0] = 0;
	
	TogglePlayerSpectating(playerid, 0);
	
	for(new i; i < sizeof pOdmenPanel_TD; i++) TextDrawHideForPlayer(playerid, pOdmenPanel_TD[i]);
    for(new i; i < sizeof pOdminPanel_PTD[]; i++) PlayerTextDrawHide(playerid, pOdminPanel_PTD[playerid][i]);
	
	CancelSelectTextDraw(playerid);
	
	return 1;
}

CMD:calling(playerid, params[])
{
	if(PI[playerid][pJob] != JOB_MECHANIC) return SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	else if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/gomechanic [id игрока]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(!MechanicON[params[0]]) return SendClientMessage(playerid, COLOR_RED, "Этот игрок не вызывал механика либо его вызов уже приняли");
	foreach(new i: Player)
	{
		if(PlayerLogged[i] == false) continue;
		if(PI[i][pJob] == JOB_MECHANIC) SendMes(i, COLOR_YELLOW, "Автомеханик %s принял вызов %s", GetName(playerid), GetName(params[0]));
	}
	SendMes(params[0], COLOR_GREEN, "Автомеханик %s принял ваш вызов, ждите", GetName(playerid));
	SendMes(playerid, COLOR_GREEN, "Игрок %s отмечен на карте", GetName(params[0]));
	new Float:X, Float:Y, Float:Z;
	GetPlayerPos(params[0], X, Y, Z);
	DisablePlayerRaceCheckpoint(playerid);
	SetPlayerRaceCheckpoint(playerid, 1, X, Y, Z, 0.0, 0.0, 0.0, 5);
	UseGPS[playerid] = true;
	MechanicON[params[0]] = false;
	SetPVarInt(params[0], "CallMech", gettime()+600);
	return 1;
}

CMD:gotaxi(playerid, params[])
{
    if(PI[playerid][pJob] != JOB_TAXI) return SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
    else if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/gotaxi [id игрока]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
    else if(!GetPVarInt(playerid, "PriceTaxi")) return SendClientMessage(playerid, COLOR_RED, "Принять вызов можно только с автомобиля такси с настроеным тарифом!");
	else if(!TaxiON[params[0]]) return SendClientMessage(playerid, COLOR_RED, "Этот игрок не заказывал такси либо его заказ уже приняли");
	foreach(new i: Player)
	{
		if(PlayerLogged[i] == false) continue;
		if(PI[i][pJob] == JOB_TAXI) SendMes(i, COLOR_YELLOW, "Таксист %s принял вызов %s",GetName(playerid), GetName(params[0]));
	}
	SendMes(params[0], COLOR_GREEN, "Таксист %s принял ваш вызов, ждите", GetName(playerid));
	SendMes(playerid, COLOR_GREEN, "Игрок %s отмечен на карте", GetName(params[0]));
	new Float:X, Float:Y, Float:Z;
	GetPlayerPos(params[0], X, Y, Z);
	DisablePlayerRaceCheckpoint(playerid);
	SetPlayerRaceCheckpoint(playerid, 1, X, Y, Z, 0.0, 0.0, 0.0, 5);
	UseGPS[playerid] = true;
	TaxiON[params[0]] = false;
	SetPVarInt(params[0], "CallTaxi", gettime()+600);
	return 1;
}

CMD:gomedhelp(playerid, params[])
{
    if(!IsAMedic(playerid)) return SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	else if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/gomedhelp [id игрока]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(!MedicON[params[0]]) return SendClientMessage(playerid, COLOR_RED, "Этот игрок не вызывал мед.помощь либо его вызов уже приняли");
	foreach(new i: Player)
	{
		if(PlayerLogged[i] == false) continue;
		if(IsAMedic(i)) SendMes(i, COLOR_YELLOW, "%s %s принял вызов %s", Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], GetName(playerid), GetName(params[0]));
	}
	SendMes(params[0], COLOR_GREEN, "%s %s принял ваш вызов, ждите", Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], GetName(playerid));
	SendMes(playerid, COLOR_GREEN, "Игрок %s отмечен на карте", GetName(params[0]));
	new Float:X, Float:Y, Float:Z;
	GetPlayerPos(params[0], X, Y, Z);
	DisablePlayerRaceCheckpoint(playerid);
	SetPlayerRaceCheckpoint(playerid, 1, X, Y, Z, 0.0, 0.0, 0.0, 5);
	UseGPS[playerid] = true;
	MedicON[params[0]] = false;
	SetPVarInt(params[0], "CallMedic", gettime()+600);
	return 1;
}

CMD:gopolice(playerid, params[])
{
    if(!IsACop(playerid)) return SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	else if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/gopolice [id игрока]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(!PoliceON[params[0]]) return SendClientMessage(playerid, COLOR_RED, "Этот игрок не вызывал полицию либо его вызов уже приняли");
	foreach(new i: Player)
	{
		if(PlayerLogged[i] == false) continue;
		if(IsACop(i)) SendMes(i, COLOR_YELLOW, "%s %s принял вызов %s", Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], GetName(playerid), GetName(params[0]));
	}
	SendMes(params[0], COLOR_GREEN, "%s %s принял ваш вызов, ждите", Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], GetName(playerid));
	SendMes(playerid, COLOR_GREEN, "Игрок %s отмечен на карте", GetName(params[0]));
	new Float:X, Float:Y, Float:Z;
	GetPlayerPos(params[0], X, Y, Z);
	DisablePlayerRaceCheckpoint(playerid);
	SetPlayerRaceCheckpoint(playerid, 1, X, Y, Z, 0.0, 0.0, 0.0, 5);
	UseGPS[playerid] = true;
	PoliceON[params[0]] = false;
	SetPVarInt(params[0], "CallPolice", gettime()+600);
	return 1;
}
CMD:gps(playerid, params[])
{
	if(UseGPS[playerid])
	{
		SendClientMessage(playerid, 0x999999AA, "GPS отключен");
		DisablePlayerRaceCheckpoint(playerid);
		UseGPS[playerid] = false;
	}
	if(GetPVarInt(playerid, "GPSWORK") == 1)
	{
		RemovePlayerMapIcon(playerid, 99);
		DeletePVar(playerid, "GPSWORK");
	}
	ShowPlayerDialog(playerid, D_GPS, DIALOG_STYLE_LIST, "{FFCC00}GPS", "\
	{FFCC00}1. {ffffff}Общественные места\n\
	{FFCC00}2. {ffffff}Подработки\n\
	{FFCC00}3. {ffffff}Развлечения\n\
	{FFCC00}4. {ffffff}Организации\n\
	{FFCC00}5. {ffffff}Нелегальные организации\n\
	{FFCC00}6. {ffffff}Бизнесы\n\
	{FFCC00}7. {ffffff}Ближайшие объекты\n\
	{FFCC00}8. {ffffff}Работы\n\
	{FFCC00}9. {ffffff}Районы области", "Выбрать", "Отмена");
	return 1;
}
CMD:gm(playerid, params[])
{
    if(PI[playerid][pAdmin] < ADM_SUPER_MODER) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
    else if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/gm [id игрока]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(StartGMTest[playerid] == true) return SendClientMessage(playerid, COLOR_RED, "Вы тестируете другого человека, подождите окончания теста!");
	new Float:gmhealth;
	GetPlayerHealth(params[0], gmhealth);
	new Float:boomx, Float:boomy, Float:boomz;
	GetPlayerPos(params[0],boomx, boomy, boomz);
    CreateExplosion(boomx, boomy, boomz+7, 5, 0.5);
  	SetTimerEx("GmTest", 1000, false, "ddf", playerid, params[0], gmhealth);
  	StartGMTest[playerid] = true;
    return 1;
}
CMD:setskill(playerid, params[])
{
	if(PI[playerid][pAdmin] < ADM_TOP) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(sscanf(params, "udd", params[0], params[1], params[2]))
	{
		SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/setskill [id игрока] [номер] [количество]");
		SendClientMessage(playerid, COLOR_WHITE, "0 - Silenced 9mm, 1 - Desert Eagle, 2 - Shotgun, 3 - MP5, 4 - AK47, 5 - M4A1, 6 - Pistol, 7 - Micro Uzi");
		return 1;
	}
	else if(params[1] > 7 || params[1] < 0) return SendClientMessage(playerid, COLOR_RED, "Неизвестнео значение");
	else if(params[2] > 100 || params[2] < 0) return SendClientMessage(playerid, COLOR_RED, "Значение владения оружием может быть от 0 до 100");
	else if(!IsPlayerConnected(params[0])) return 1;
	PI[params[0]][pSkill][params[1]] = params[2];
	SendClientMessage(playerid, COLOR_BLUE, "Уровень владения оружием игроку установлен");
	return 1;
}
CMD:gmx(playerid, params[])
{
	if(PI[playerid][pAdmin] < ADM_TOP) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	for(new x; x < 25; x++) SendClientMessageToAll(COLOR_RED, " ");
	GameTextForAll( "~b~RESTART", 5000, 3);
	SaveAcc();
	SaveWarehouse();
	foreach(new i: Player)
	{
	    if(!PlayerLogged[i]) continue;
		Kick(i);
	}
	
	//gamemode_exit_deday[playerid] = 5;
	
	return 1;
}
//==============================================================================
CMD:givevip(playerid, params[])
{
    if(PI[playerid][pAdmin] < ADM_TOP) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	if(sscanf(params, "ui", params[0], params[1])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/givevip [id игрока] [кол-во дней]");
	if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	if(params[1] < 0 || params[1] > 365) return SendClientMessage(playerid, COLOR_RED, "Нельзя выдавать VIP статус более чем на 365 дней");
	new string[128];
	if(params[1] > 0)
	{
	    new year, month, day;
		getdate(year, month, day);
		new current_date = getdate(year, month, day);
	    PI[params[0]][pVip] = 1;
	    PI[params[0]][pVipTime] = current_date + params[1];
	    format(string, sizeof(string), "Вы выдали VIP статус игроку %s [%d] на %i дней", GetName(params[0]), params[0], params[1]);
	    SendClientMessage(playerid, COLOR_YELLOW, string);
	    format(string, sizeof(string), "Администратор %s выдал Вам VIP статус на %i дней", GetName(playerid), params[1]);
	    SendClientMessage(params[0], COLOR_BLUE, string);
	    format(string, sizeof(string), "%s выдал VIP статус %s на %i дней", GetName(playerid), GetName(params[0]), params[1]);
	    SendLog("SetVip", string);
	}
	else if(params[1] == 0)
	{
	    PI[params[0]][pVip] = 0;
	    PI[params[0]][pVipTime] = 0;
	    format(string, sizeof(string), "Вы забрали VIP статус у игрока %s", GetName(params[0]));
	    SendClientMessage(playerid, COLOR_YELLOW, string);
	    format(string, sizeof(string), "Администратор %s забрал У Вас VIP статус", GetName(playerid));
	    SendClientMessage(params[0], COLOR_BLUE, string);
	    format(string, sizeof(string), "%s забрал VIP статус у игрока %s", GetName(playerid), GetName(params[0]));
	    SendLog("SetVip", string);
	}
	return 1;
}
CMD:adown(playerid, params[])
{
    if(PI[playerid][pAdmin] < ADM_GRAND) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	if(sscanf(params, "i", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/adown [ид игрока]");
	if(PI[params[0]][pAdmin] < 1) return SendClientMessage(playerid, COLOR_RED, "Этот игрок не является администратором");
	if(PI[params[0]][pAdmin] > 7) return SendClientMessage(playerid, COLOR_RED, "Этот администратор не может быть понижен");
	if(params[0] == playerid) return SendClientMessage(playerid, COLOR_RED, "Нельзя изменить свой уровень");
	new string[128];
	if(PI[params[0]][pAdmin] > 1)
	{
		PI[params[0]][pAdmin]--;
		MysqlUpdatePlayerInt(params[0], "admin", PI[params[0]][pAdmin]);
		format(string, sizeof(string), "%s понизил Ваш уровень администратора", GetName(playerid));
		SendClientMessage(params[0], COLOR_YELLOW, string);
		format(string, sizeof(string), "[A] %s [%d] понизил администратора %s [%d] до %d уровня", GetName(playerid), playerid, GetName(params[0]), params[0], PI[params[0]][pAdmin]);
		SendAdminMessageEx(COLOR_RED, string, 5);
		mysql_format(dbHandle, string, sizeof(string), "UPDATE `admins` SET `level` = '%d' WHERE `name` = '%s' LIMIT 1", PI[params[0]][pAdmin], GetName(params[0]));
		mysql_tquery(dbHandle, string, "", "");
		format(string, sizeof(string), "%s понизил администратора %s до %d уровня", GetName(playerid), GetName(params[0]), PI[params[0]][pAdmin]);
		SendLog("EditAdmin", string);
	}
	else if(PI[params[0]][pAdmin] == 1)
	{
	    RemoveAdmin(params[0], GetName(params[0]));
	    format(string, sizeof(string), "%s снял %s с должности администратора", GetName(playerid), GetName(params[0]));
		SendAdminMessageEx(COLOR_RED, string, 5);
		SendLog("DeleteAdmin", string);
	}
	return 1;
}
/*
CMD:y(playerid,params[])
{
	if(PI[playerid][pYouTube] != 1) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(isnull(params)) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/y [текст]");
	else if(TextReset[playerid] > gettime() && GetStringY(OldMessage[playerid], params[0])) return SendClientMessage(playerid, COLOR_RED, "Не флудите");
	new string[128];
	format(string, sizeof(string), "[Y] %s [%d]: %s", GetName(playerid), playerid, params[0]);
	SendAdminMessage(COLOR_REDD, string);
	SendYouTuberMessage(COLOR_REDD, string);
	SetString(OldMessage[playerid], params[0]);
	TextReset[playerid] = gettime()+3;
	return 1;
}
CMD:hc(playerid,params[])
{
	if(PI[playerid][pSupports] != 1) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(isnull(params)) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/hc [текст]");
	else if(TextReset[playerid] > gettime() && GetStringY(OldMessage[playerid], params[0])) return SendClientMessage(playerid, COLOR_RED, "Не флудите");
	new string[128];
	format(string, sizeof(string), "[H] %s [%d]: %s", GetName(playerid), playerid, params[0]);
	SendAdminMessage(COLOR_YELLOW, string);
	SendSupportMessage(COLOR_YELLOW, string);
	SetString(OldMessage[playerid], params[0]);
	TextReset[playerid] = gettime()+3;
	return 1;
}
CMD:setyoutube(playerid, params[])
{
    if(PI[playerid][pAdmin] < ADM_GRAND) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	if(sscanf(params, "i", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/setyoutube [ид игрока]");
 	if(PI[params[0]][pYouTube] == 0)
    {
        PI[params[0]][pYouTube] = 1;
		new string[128];
		format(string, sizeof(string), "%s %s назначил Вас ютубером проекта", GetAdminRang(playerid), GetName(playerid));
		SendClientMessage(params[0], COLOR_BLUE, string);
		format(string, sizeof(string), "Вы назначили %s[%d] ютубером проекта", GetName(params[0]), params[0]);
		SendClientMessage(playerid, COLOR_LIME, string);
		new Query[128];
		format(Query, sizeof(Query), "UPDATE `accounts` SET youtube='1' WHERE name='%s' LIMIT 1", GetName(params[0]));
		mysql_tquery(dbHandle, Query, "", "");
  	}
    else
    {
    	PI[params[0]][pYouTube] = 0;
		new string[128];
		format(string, sizeof(string), "%s %s снял Вас с поста ютубера проекта", GetAdminRang(playerid), GetName(playerid));
		SendClientMessage(params[0], COLOR_BLUE, string);
		format(string, sizeof(string), "Вы сняли %s[%d] с поста ютубера", GetName(params[0]), params[0]);
		SendClientMessage(playerid, COLOR_LIME, string);
		new Query[128];
		format(Query, sizeof(Query), "UPDATE `accounts` SET youtube='0' WHERE name='%s' LIMIT 1", GetName(params[0]));
		mysql_tquery(dbHandle, Query, "", "");
		return true;
    }
	return 1;
}
*/
CMD:setsupport(playerid, params[])
{
    if(PI[playerid][pAdmin] < ADM_GRAND) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	if(sscanf(params, "i", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/setsupport [ид игрока]");
 	if(PI[params[0]][pSupport] == 0)
    {
        PI[params[0]][pSupport] = 1;
		new string[128];
		format(string, sizeof(string), "%s %s назначил Вас Агентом поддержки", GetAdminRang(playerid), GetName(playerid));
		SendClientMessage(params[0], COLOR_BLUE, string);
		format(string, sizeof(string), "Вы назначили %s[%d] Агентом поддержки", GetName(params[0]), params[0]);
		SendClientMessage(playerid, COLOR_LIME, string);
		new Query[128];
		format(Query, sizeof(Query), "UPDATE `accounts` SET support='1' WHERE name='%s' LIMIT 1", GetName(params[0]));
		mysql_tquery(dbHandle, Query, "", "");
  	}
    else
    {
    	PI[params[0]][pSupport] = 0;
		new string[128];
		format(string, sizeof(string), "%s %s снял Вас с поста Агента поддержки", GetAdminRang(playerid), GetName(playerid));
		SendClientMessage(params[0], COLOR_BLUE, string);
		format(string, sizeof(string), "Вы сняли %s[%d] с поста Агента поддержки", GetName(params[0]), params[0]);
		SendClientMessage(playerid, COLOR_LIME, string);
		new Query[128];
		format(Query, sizeof(Query), "UPDATE `accounts` SET support='0' WHERE name='%s' LIMIT 1", GetName(params[0]));
		mysql_tquery(dbHandle, Query, "", "");
		return true;
    }
	return 1;
}
//==============================================================================
CMD:setleader(playerid, params[])
{
    if(PI[playerid][pAdmin] < 6) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
    {
		if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, 0x99CC00FF, "Информация: {FFFFFF}/setleader [id игрока]");
		else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Игрока нет в сети");
		else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не авторизовался");
		else if(IsPlayerInAnyVehicle(params[0])) return SendClientMessage(playerid, COLOR_RED, "Игрок не должен находиться в транспорте!");
		else if(PI[params[0]][pTempLeader]) return SendClientMessage(playerid, COLOR_RED, "Сначала снимите с себя права временного состояние в организации!");
		if(PI[params[0]][pLeader])
		{
			LeaveFractionPlayer(params[0]);
			SendMes(playerid, COLOR_BLUE, "Вы сняли %s с должности лидера организации", GetName(params[0]));
			SendMes(params[0], COLOR_RED, "Администратор %s снял Вас с должности лидера организации", GetName(playerid));
		}
		else
		{
			if(PI[params[0]][pLeader] > 0) return SendClientMessage(playerid, COLOR_RED, "Игрок лидер другой организации!");
			if(PI[params[0]][pMember] > 0) return SendClientMessage(playerid, COLOR_RED, "Игрок находится в другой организации!");
			new str[90], str2[600];
			for(new i = 1; i < MAX_FRACTIONS; i++)
			{
				format(str, sizeof(str), "№%i - %s\n", i, Fraction_Name[i]);
				strcat(str2, str);
			}
			SetPVarInt(playerid, "actplayerid", params[0]);
			ShowPlayerDialog(playerid, D_FRACMENU, 2, "Организации", str2, "Выбрать", "Отмена");
		}
	}
	return 1;
}



//==============================================================================
// CMD:tempduty(playerid)
// {
//     if(PI[playerid][pAdmin] < ADM_ADMIN) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
// 	ShowPlayerDialog(playerid, D_TEMPRABOTA, 2, "{ffcc00}Временная работа", "{ffffff}Уволиться\n(1) Водитель маршрутки\n(7) Водитель такси\n(6) Дальнобойщик\n(2) Механик", "Устроиться", "Закрыть");
// 	return 1;
// }
//==============================================================================
CMD:templeader(playerid, params[])
{
    if(IsPlayerGrandAdmin(playerid))
    {
		new id, frac;
		if(sscanf(params, "ud", id, frac))
			return SendClientMessage(playerid, 0x99CC00FF, "Информация: {FFFFFF}/templeader [id игрока] [номер фракции]");
		else if(id == INVALID_PLAYER_ID)
			return SendClientMessage(playerid, COLOR_RED, "Игрок оффлайн");
		else if(!(0 <= frac <= MAX_FRACTIONS))
			return SendClientMessage(playerid, COLOR_RED, "Вы ввели неправильный номер фракции");

		if(PI[id][pMember] > 0)
			SendClientMessage(playerid, COLOR_RED, "Игрок состоит в организации. Сначала нужно его уволить");

		switch(frac)
		{
			case TEAM_PPS,TEAM_DPS,TEAM_FSIN,TEAM_VDV: PI[id][pRank] = 10;
			case TEAM_MZY,TEAM_SPARTAK..TEAM_CSKA,TEAM_DINAMO..TEAM_ZENIT,TEAM_SMI,TEAM_MZA: PI[id][pRank] = 10;
			case TEAM_AO: PI[id][pRank] = 12;
		}
		PI[id][pLeader] = PI[id][pMember] = frac;
		PI[id][pSpawnChange] = 2;
		MysqlUpdatePlayerInt(id, "spawnchange", PI[id][pSpawnChange]);

		STRING_GLOBAL[0] = EOS;
		format(STRING_GLOBAL, sizeof STRING_GLOBAL, "UPDATE accounts SET memberskin=%d, leader=%d, member=%d, rank=%d, job=0 WHERE name='%s'", PI[id][pMemberSkin], PI[id][pLeader], PI[id][pMember], PI[id][pRank], GetName(id));
		mysql_query(dbHandle, STRING_GLOBAL);

		format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "Вы назначили %s временным лидером организации: %s", GetName(id), Fraction_Name[frac]);
		SendClientMessage(playerid, COLOR_LIME, STRING_GLOBAL);
		format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "Администратор %s назначил Вас временным лидером организации: %s", GetName(playerid), Fraction_Name[frac]);
		SendClientMessage(id, COLOR_BLUE, STRING_GLOBAL);
		format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "[A] %s назначил %s временным лидером организации \"%s\"", GetName(playerid), GetName(id), Fraction_Name[frac]);
		SendAdminMessage(COLOR_GREY, STRING_GLOBAL);
		ResetPlayerWeapons(id);
		SetPlayerColorEx(id, TeamColors[GetTeamID(id)]);
	}
	return 1;
}
//==============================================================================
// cmd:tpc(playerid,params[])
// {
// //	if(admin_ban_time[playerid] > 0) return SendErr(playerid, "Ваши админ-действия на сервере заблокированы");
// 	if(PI[playerid][pAdmin] < 3) return 1;
// 	else if(AdminLogged[playerid] == false) return SendErr(playerid, "Вы не авторизованы. Используйте {FFCC00}/alogin");
// 	new Float:px,Float:py,Float:pz,string[128];
// 	if(sscanf(params,"p<,>fff",px,py,pz)) return SendClientMessage(playerid, 0xFFFFFFAA, "{9ACD32}Введите: {FFFFFF} /rt <x,y,z>");
// 	SetPlayerPosEx(playerid,px,py,pz);
// 	format(string, sizeof(string), "Вы были телепортированны на указанные вами координаты: %f, %f, %f",px,py,pz);
// 	SendClientMessage(playerid, 0xFFFFFFAA, string);
// 	return 1;
// }
//==============================================================================
CMD:f(playerid, params[])
{
	if(IsAGang(playerid) || IsAMafia(playerid))
	{
	    if(PI[playerid][pMuted] > 0) return SCM(playerid, COLOR_RED, "У вас затычка. Узнать подробней: /time");
	    else if(isnull(params))return SCM(playerid, COLOR_LIME, "Информация: {ffffff}/r [текст]");
   		else if(TextReset[playerid] > gettime() && GetStringY(OldMessage[playerid], params[0])) return SCM(playerid,COLOR_RED,"Не флуди");
		else if(IsIpFound(params[0]) || CheckString(params[0])) return PlayerGetsChatBan(playerid, params[0]);
		new string[128];
		format(string, sizeof(string), "[F] %s %s[%d]: %s", Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], GetName(playerid), playerid, params[0]);
		SendFMes(PI[playerid][pMember], 0xFF6600AA, string);
		SetPlayerChatBubble(playerid,"сообщает в рацию",COLOR_PURPLE,30.0,10000);
		SetString(OldMessage[playerid], params[0]);
		TextReset[playerid] = gettime()+3;
	}
	else SCM(playerid, COLOR_RED, "Вам недоступна данная функция");
	return 1;
}
//==============================================================================
CMD:fb(playerid, params[])
{
	if(IsAGang(playerid) || IsAMafia(playerid))
	{
	    if(PI[playerid][pMuted] > 0) return SCM(playerid, COLOR_RED, "У вас затычка. Узнать подробней: /time");
	    else if(isnull(params))return SCM(playerid, COLOR_LIME, "Информация: {ffffff}/r [текст]");
   		else if(TextReset[playerid] > gettime() && GetStringY(OldMessage[playerid], params[0])) return SCM(playerid,COLOR_RED,"Не флуди");
		else if(IsIpFound(params[0]) || CheckString(params[0])) return PlayerGetsChatBan(playerid, params[0]);
		new string[128];
		format(string, sizeof(string), "[F] %s %s[%d]: (( %s ))", Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], GetName(playerid), playerid, params[0]);
		SendFMes(PI[playerid][pMember], 0xFF6600AA, string);
		SetPlayerChatBubble(playerid,"сообщает в рацию",COLOR_PURPLE,30.0,10000);
		SetString(OldMessage[playerid], params[0]);
		TextReset[playerid] = gettime()+3;
	}
	else SCM(playerid, COLOR_RED, "Вам недоступна данная функция");
	return 1;
}
//==============================================================================
CMD:r(playerid, params[])
{
	if(IsAGos(playerid))
	{
		if(PI[playerid][pMuted] > 0) return SCM(playerid, COLOR_RED, "У Вас затычка. Узнать подробней: /time");
		else if(isnull(params)) return SCM(playerid, COLOR_LIME, "Информация: {ffffff}/r [текст]");
		else if(TextReset[playerid] > gettime() && GetStringY(OldMessage[playerid], params[0])) return SCM(playerid,COLOR_RED,"Не флуди");
		else if(IsIpFound(params[0]) || CheckString(params[0])) return PlayerGetsChatBan(playerid, params[0]);
		new string[128];
		format(string, sizeof(string), "[R] %s %s[%d]: %s", Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], GetName(playerid), playerid, params[0]);
		SendFMes(PI[playerid][pMember], 0x3366FFAA, string);
		SetPlayerChatBubble(playerid,"сообщает в рацию",COLOR_PURPLE,30.0,10000);
		SetString(OldMessage[playerid], params[0]);
		TextReset[playerid] = gettime()+3;
	}
	else SCM(playerid, COLOR_RED, "Вам недоступна данная функция");
	return 1;
}
//==============================================================================
CMD:rb(playerid, params[])
{
	if(IsAGos(playerid))
	{
		if(PI[playerid][pMuted] > 0) return SCM(playerid, COLOR_RED, "У Вас затычка. Узнать подробней: /time");
		else if(isnull(params)) return SCM(playerid, COLOR_LIME, "Информация: {ffffff}/rb [текст]");
		else if(TextReset[playerid] > gettime() && GetStringY(OldMessage[playerid], params[0])) return SCM(playerid,COLOR_RED,"Не флуди");
		else if(IsIpFound(params[0]) || CheckString(params[0])) return PlayerGetsChatBan(playerid, params[0]);
		new fmt_msg[150];
		format(fmt_msg, sizeof fmt_msg, "[R] %s %s[%d]: (( %s ))", Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], GetName(playerid), playerid, params[0]);
		SendFMes(PI[playerid][pMember], 0x3366FFAA, fmt_msg);
		SetPlayerChatBubble(playerid, "сообщает в рацию", COLOR_PURPLE, 30.0, 10000);
		SetString(OldMessage[playerid], params[0]);
		TextReset[playerid] = gettime()+3;
	}
	else SCM(playerid, COLOR_RED, "Вам недоступна данная функция");
	return 1;
}
//==============================================================================
CMD:invite(playerid, params[])
{
	if(IsAbleToInvite(playerid))
	{
		new targetid;
		if(sscanf(params, "u", targetid)) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/invite [id игрока]");
		else if(!IsPlayerConnected(targetid)) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
		else if(PlayerLogged[targetid] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
		else if(PI[targetid][pLeader] > 0) return SendClientMessage(playerid, COLOR_RED, "Игрок лидер другой организации!");
		else if(PI[targetid][pMember] > 0) return SendClientMessage(playerid, COLOR_RED, "Игрок находится в другой организации!");
		else if(PI[targetid][pWarn] > 0) return SendClientMessage(playerid, COLOR_RED, "У игрока предупреждение!");
		else if(IsPlayerInAnyVehicle(targetid)) return SendClientMessage(playerid, COLOR_RED, "Игрок не должен находится в транспорте!");
		else if(!IsPlayerInRangeOfPlayer(8.0, playerid, targetid)) return SendClientMessage(playerid, COLOR_RED, "Игрок слишком далеко!");
		else if(PI[targetid][pLevel] < 2) return SendClientMessage(playerid, COLOR_RED, "У игрока нету 2 уровня!");
		else if(IsACop(playerid) && !PI[targetid][pVoennik]) return SCM(playerid, COLOR_RED, "У игрока нет военного билета!");
  		SendMes(playerid, COLOR_BLUE, "Вы предложили %s вступить в \"%s\"", GetName(targetid), Fraction_Name[PI[playerid][pMember]]);
		SendMes(targetid, COLOR_BLUE, "%s %s предлагает Вам вступить в \"%s\"", Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], GetName(playerid), Fraction_Name[PI[playerid][pMember]]);
		SCM(targetid, COLOR_WHITE, "{FFFFFF}Нажмите {03c03c}Y {FFFFFF}чтобы согласиться или {ff7518}N {FFFFFF}для отказа");
		SetPVarInt(targetid, "KeyInvite", 1);
		SetPVarInt(targetid, "offerfractionid", PI[playerid][pMember]);
		SetPVarInt(targetid, "offerplayer", playerid);
		SetPVarInt(playerid, "actplayerid", targetid);
	}
	return 1;
}

//==============================================================================
CMD:hi(playerid, params[])
{
 	if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/hi [id игрока]");
 	if(params[0] == playerid) return SendClientMessage(playerid, COLOR_RED, "Вы не можете пожать руку самому себе!");
	if(!IsPlayerInRangeOfPlayer(2.0, playerid, params[0])) return SendClientMessage(playerid, COLOR_RED, "Игрок слишком далеко!");
	
	SendMes(params[0], -1, "{FFFFFF}Игрок {FFCC00}%s{FFFFFF} предлагает Вам пожать руку.", GetName(playerid));
	SendPond(params[0], "Нажмите {ADFF2F}Y{FFFFFF}, чтобы согласиться, или {FF0000}N{FFFFFF}, чтобы отказаться.");
	SendMes(playerid, -1, "{FFFFFF}Вы предложили игроку {FFCC00}%s{FFFFFF} пожать руку.", GetName(params[0]));
	
	SetPVarInt(params[0], "HiTarget", playerid);
	return 1;
}
/*
//==============================================================================
CMD:sellgun(playerid, params[])
{
	if(!IsAGang(playerid)) return 1;
	if(PI[playerid][pRank] < 1) return SCM(playerid, COLOR_RED, "Продавать оружие можно только со 2-ого ранга!");

	else if(sscanf(params, "uiii", params[0], params[1], params[2], params[3])) return SCM(playerid, COLOR_LIME, "Информация: {ffffff}/sellgun [id игрока] [id оружия] [кол-во патронов] [цена]");
	else if(!IsPlayerConnected(params[0])) return SCM(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SCM(playerid, COLOR_RED, "Игрок не ввел пароль!");
	if(params[1] == 24 || params[1] == 25 || params[1] == 29 || params[1] == 23 || params[1] == 30 || params[1] == 31 || params[1] == 33)
	{
		if(params[2] < 1 || params[2] > 500) return SCM(playerid, COLOR_RED, "Количество патронов от 1 до 500!");
		if(params[3] < 1 || params[3] > 20000) return SCM(playerid, COLOR_RED, "Цена от 1 до 20000 доллара(ов)!");
		if(!IsPlayerInRangeOfPlayer(8.0, playerid, params[0])) return SCM(playerid, COLOR_RED, "Игрок слишком далеко!");
		if(PI[playerid][pPatron] < params[2]) return SCM(playerid, COLOR_RED, "У Вас недостаточно материалов!");
		SendMes(playerid, COLOR_BLUE, "Вы предложили %s купить У Вас %s с %i пт. за %i рублей", GetName(params[0]), WeaponNames[params[1]], params[2], params[3]);
		SendMes(params[0], COLOR_WHITE, "%s предложил Вам купить {0099FF}%s(%i патр) {ffffff}за %i рублей.", GetName(playerid), WeaponNames[params[1]], params[2], params[3]);
		SCM(params[0], COLOR_WHITE, "{FFFFFF}Нажмите {03c03c}Y {FFFFFF}чтобы согласиться или {ff7518}N {FFFFFF}для отказа");
		SetPVarInt(params[0], "KeyGun", 1);
		SetPVarInt(params[0], "PlayerGun", playerid);
		SetPVarInt(params[0], "PlayerGun_", params[1]);
		SetPVarInt(params[0], "PlayerGAmmo", params[2]);
		SetPVarInt(params[0], "PlayerGPrice", params[3]);
	} else return SCM(playerid, COLOR_RED, "Неверный ID оружия! ID оружия: 23, 24, 25, 29, 30, 31, 33");

	return 1;
}
//==============================================================================
CMD:d(playerid, params[])
{
	if(IsACop(playerid) || PI[playerid][pMember] == TEAM_VDV || IsAMedic(playerid) || IsAMayor(playerid) || IsANews(playerid))
	{
		if(PI[playerid][pMuted] > 0) return SendClientMessage(playerid, COLOR_RED, "У Вас затычка. Узнать подробней: /time");
		else if(GetPVarInt(playerid,"dep") > gettime()) return SendClientMessage(playerid, COLOR_RED, "Следующее сообщение Вы сможете отправить через 15 секунд!");
		else if(isnull(params)) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/d [текст]");
		else if(TextReset[playerid] > gettime() && GetStringY(OldMessage[playerid], params[0])) return SendClientMessage(playerid, COLOR_RED,"Не флудите");
		else if(IsIpFound(params[0]) || CheckString(params[0])) return PlayerGetsChatBan(playerid, params[0]);
		new mesid[128];
		format(mesid, sizeof(mesid), "[D]: %s %s [%d]: %s", Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], GetName(playerid), playerid, params[0]);
		SendDMes(0xff8282AA, mesid);
		SetPlayerChatBubble(playerid,"сообщает в департамент",COLOR_PURPLE,30.0,10000);
		SetPVarInt(playerid,"dep",gettime() + 15);
	}
	else SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	return 1;
}
//==============================================================================
CMD:db(playerid, params[])
{
	if(IsACop(playerid) || PI[playerid][pMember] == TEAM_VDV || IsAMedic(playerid) || IsAMayor(playerid) || IsANews(playerid))
	{
		if(PI[playerid][pMuted] > 0) return SendClientMessage(playerid, COLOR_RED, "У Вас затычка. Узнать подробней: /time");
		else if(GetPVarInt(playerid,"dep") > gettime()) return SendClientMessage(playerid, COLOR_RED, "Следующее сообщение Вы сможете отправить через 15 секунд!");
		else if(isnull(params)) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/db [текст]");
		else if(TextReset[playerid] > gettime() && GetStringY(OldMessage[playerid], params[0])) return SendClientMessage(playerid, COLOR_RED,"Не флудите");
		else if(IsIpFound(params[0]) || CheckString(params[0])) return PlayerGetsChatBan(playerid, params[0]);
		new mesid[128];
		format(mesid, sizeof(mesid), "(( [D]: %s %s [%d]: %s ))", Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], GetName(playerid), playerid, params[0]);
		SendDMes(0xff8282AA, mesid);
		SetPVarInt(playerid,"dep",gettime() + 15);
	}
	else SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	return 1;
}
CMD:find(playerid)
{
	if(PI[playerid][pMember] == 0) return SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	new full, string[150], string_dialogue[2048], text[20];
    strcat(string_dialogue, "{FFCC00}ID\tУровень\tТелефон\tРанг\tИмя\n\n");
	foreach(new i: Player)
	{
		if(PlayerLogged[i] == false || PI[i][pAdmin]) continue;
		if(PI[i][pMember] == PI[playerid][pMember])
		{
		    if(PI[i][pPhoneNumber] <= 1) format(text, sizeof(text), "None\t\t");
			else format(text, sizeof(text), "%i\t\t", PI[i][pPhoneNumber]);
		    format(string, sizeof(string),"{FFFFFF}%i\t%i\t\t%s%i\t%s\n", i, PI[i][pLevel], text, PI[i][pRank], GetName(i));
			strcat(string_dialogue, string);
			full++;
		}
	}
	ShowPlayerDialog(playerid, D_NULL, DIALOG_STYLE_MSGBOX, "{FFCC00}Члены организации онлайн", string_dialogue, "Закрыть", "");
	return 1;
}

CMD:leaders(playerid)
{
	new full, str[150], string[2048], text[20];
	strcat(string, "{FFCC00}Организация - Должность - Имя - Телефон\n\n");
	foreach(new i: Player)
	{
		if(PlayerLogged[i] == false || PI[i][pAdmin]) continue;
		if(PI[i][pLeader] > 0)
		{
		    if(PI[i][pPhoneNumber] <= 1) format(text, sizeof(text), "None");
			else format(text, sizeof(text), "%i", PI[i][pPhoneNumber]);
			format(str, sizeof(str),"{FFFFFF}%s - %s - %s - %s\n", Fraction_Name[PI[i][pLeader]], Fraction_Rang[PI[i][pMember]][PI[i][pRank]], GetName(i), text);
			strcat(string, str);
			full++;
		}
	}
	ShowPlayerDialog(playerid, D_NULL, DIALOG_STYLE_MSGBOX, "{FFCC00}Лидеры онлайн", string, "Закрыть", "");
	return 1;
}
CMD:leaders(playerid)
{
    //if(GetPVarInt(playerid, "logged") == 0) return 1;
	new string[1500];
	new fmt_str[128];

	string = "Организация - Должность - Имя - Телефон\n\n{FFFFFF}";

	foreach(new i: Player)
	{
		if(!IsPlayerConnected(i)) continue;
		else if(PI[i][pLeader] == 0) continue;

		//format(fmt_str, sizeof fmt_str, "%s - %s - %s [%d] - %d", Fraction_Name[ PI[i][pLeader] ], Fraction_Rang[PI[i][pMember]], PI[i][pName], i, PI[i][pPhoneNumber]);
		format(fmt_str, sizeof fmt_str,"%s - %s - %s [%d] - %d", Fraction_Name[PI[i][pLeader]], Fraction_Rang[PI[i][pMember]][PI[i][pRank]], GetName(i));
		strcat(string, fmt_str);

		if(IsPlayerAfk(i))
		{
			new afk[15];

			if((floatround(player_afk_time[i] / 60) % 60) > 0)
				format(afk, sizeof afk, " - [AFK: %d:%02d]", (floatround(player_afk_time[i] / 60) % 60), player_afk_time[i] % 60);
			else
				format(afk, sizeof afk, " - [AFK: 0:%d]", player_afk_time[i] % 60);

			strcat(string, afk);
		}
		strcat(string, "\n");
	}

	ShowPlayerDialog
	(
		playerid, INVALID_DIALOG_ID, DIALOG_STYLE_MSGBOX,
		"{FFCC00}Лидеры онлайн",
		string,
		"Закрыть", ""
	);
	return 1;
}*/
/*CMD:leaders(playerid)
{
	new str[150], text[20];

	STRING_GLOBAL[0] = EOS;
	strcat(STRING_GLOBAL, "{FFCC00}Организация - Должность - Имя игрока - Телефон\n\n");
	foreach(new i: Player)
	{
		if(PlayerLogged[i] == false) continue;
		if(PI[i][pLeader] > 0 && PI[i][pAdmin] == 0)
		{
		    if(PI[i][pPhoneNumber] <= 1) format(text, sizeof(text), "None");
			else format(text, sizeof(text), "%i", PI[i][pPhoneNumber]);
			format(str, sizeof(str),"{FFFFFF}%s - %s - %s - %s\n", Fraction_Name[PI[i][pLeader]], Fraction_Rang[PI[i][pMember]][PI[i][pRank]], GetName(i), text);
			strcat(STRING_GLOBAL, str);
		}
	}
	ShowPlayerDialog(playerid, D_NULL, DIALOG_STYLE_MSGBOX, "{FFCC00}Лидеры организаций в сети", STRING_GLOBAL, "Закрыть", "");
	return 1;
}*/

cmd:leaders(playerid)
{
	new full, str[150], text[20];
	global_string = "";
	strcat(global_string, "{FFFF00}Организация - Должность - Имя игрока - Телефон\n\n");
	foreach(new i: Player)
	{
		if(PlayerLogged[i] == false) continue;
		if(PI[i][pLeader] > 0)
		{
			if(PI[i][pPhoneNumber] <= 1) format(text, sizeof(text), "None");
			else format(text, sizeof(text), "%i", PI[i][pPhoneNumber]);
			if(PI[i][pAFK] >= 3) format(str, sizeof(str), "{FFFFFF}%s - %s - %s - %s {FF0000}[AFK: %s]\n", Fraction_Name[PI[i][pLeader]], Fraction_Rang[PI[i][pMember]][PI[i][pRank]], GetName(i), text, Converts(PI[i][pAFK]));
			else format(str, sizeof(str),"{FFFFFF}%s - %s - %s - %s\n", Fraction_Name[PI[i][pLeader]], Fraction_Rang[PI[i][pMember]][PI[i][pRank]], GetName(i), text);
			strcat(global_string, str);
			full++;
		}
	}
	ShowPlayerDialog(playerid, D_NULL, DIALOG_STYLE_MSGBOX, "{FFCC00}Лидеры организаций в сети", global_string, "Закрыть", "");
	return 1;
}

CMD:changeskin(playerid, params[])
{
    if(IsAbleToChangeSkin(playerid))
    {
        new targetid;
		if(sscanf(params, "u", targetid)) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/changeskin [id игрока]");
		else if(!IsPlayerConnected(targetid)) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
		else if(PlayerLogged[targetid] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
		else if(PI[targetid][pMember] == 0) return SendClientMessage(playerid, COLOR_RED, "Игрок не находится в организации!");
		else if(PI[targetid][pMember] != PI[playerid][pMember]) return SendClientMessage(playerid, COLOR_RED, "Игрок находится в другой организации!");
        else if(GetPlayerDistanceToPlayer(playerid,targetid) > 5.0 || GetPlayerVirtualWorld(playerid) != GetPlayerVirtualWorld(targetid)) return SendClientMessage(playerid,COLOR_RED,"Вы далеко друг от друга");
        else if(PI[targetid][pRank] > PI[playerid][pRank]) return SendClientMessage(playerid, COLOR_RED, "Ваш ранг недостаточен");
        SetPVarInt(playerid, "actplayerid", targetid);
		new fractionid = PI[playerid][pMember];
        new mes[128];
		for(new i; i < 10; i++)
		{
			new skinid = Fraction_Skin[fractionid][i];
			if(!skinid) break;
			if(!i) format(mes, sizeof(mes), "Скин %d [%d]", i+1, skinid);
			else format(mes, sizeof(mes), "%s\nСкин %d [%d]", mes, i+1, skinid);
		}
		ShowPlayerDialog(playerid, D_FRACMENU+8, 2, "{FFCC00}Выбор скина", mes, "Принять", "");
    }
    else SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	return 1;
}

CMD:leave(playerid, params[])
{
	if(PI[playerid][pImprove][1] || PI[playerid][pVip])
	{
		if(PI[playerid][pMember] == 0) return SendClientMessage(playerid, COLOR_RED, "Вы должны находится в организации!");
		else if(PI[playerid][pLeader] > 0) return SendClientMessage(playerid, COLOR_RED, "Вы не должны быть лидером!");
		else if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_RED, "Вы не должны находится в транспорте!");
		new string[256];
		format(string, 256, "{FFFFFF}Вы состоите в организации: \"%s\",\nи Вы хотите покинуть её по собственному желанию.\nПри этом все Ваши достижения в организации останутся позади.\n\nВы уверены что хотите уволится из организации?",Fraction_Name[PI[playerid][pMember]]);
		ShowPlayerDialog(playerid, D_LEAVE, 0, "{FFCC00}Предупреждение", string, "Да", "Нет");
	}
	else SendClientMessage(playerid, COLOR_RED, "У Вас нет VIP");
	return 1;
}

CMD:quitjob(playerid, params[])
{
    if(!PI[playerid][pVip]) return SendClientMessage(playerid, COLOR_RED, "Вы не имеете VIP статус");
    else if(!PI[playerid][pJob]) return SendClientMessage(playerid, COLOR_RED, "Вы нигде не работаете!");
	PI[playerid][pJob] = 0;
	SendClientMessage(playerid, COLOR_WHITE, "Вы уволились с работы");
	return 1;
}
CMD:lwarn(playerid, params[])
{
    if(PI[playerid][pAdmin] < ADM_GRAND) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
    {
		if(PI[playerid][pAdmin] < 1) return 1;
		if(sscanf(params, "us[26]", params[0], params[1])) return SCM(playerid, COLOR_LIME, "Информация: {ffffff}/lwarn [id лидера] [причина]");
		else if(!IsPlayerConnected(params[0])) return SCM(playerid, COLOR_RED, "Такого игрока нет");
		else if(PlayerLogged[params[0]] == false) return SCM(playerid, COLOR_RED, "Игрок не ввел пароль!");
		else if(PI[params[0]][pLeader] == 0) return SCM(playerid, COLOR_RED, "Игрок не является лидером!");
		else if(playerid == params[0] && PI[playerid][pAdmin] < 7) return SCM(playerid, COLOR_RED, "Нельзя выдавать выговоры самому себе!");
		new string[256];
		PI[params[0]][pfWarn] ++;
		if(PI[params[0]][pfWarn] >= 3)
		{
		    format(string, sizeof(string), "[A] %s %s выдал предупреждение [3|3] лидеру %s",GetAdminRang(playerid),PI[playerid][pName],PI[params[0]][pName]);
		    SendMes(params[0],COLOR_RED,"Вы получили лидерское-предупреждение 3 из 3 от %s. Причина: %s",PI[playerid][pName],params[1]);
		    LeaveFractionPlayer(params[0]);
		}
		else
		{
			format(string, sizeof(string), "[A] %s %s выдал предупреждение [%d|3] лидеру %s",GetAdminRang(playerid),PI[playerid][pName],PI[params[0]][pfWarn],PI[params[0]][pName]);
			SendMes(params[0],COLOR_RED,"Вы получили лидерское-предупреждение [%d из 3] от %s. Причина: %s",PI[params[0]][pfWarn],PI[playerid][pName],params[1]);
		}
		SendAdminMessage(COLOR_GREY, string);
	}
	return 1;
}
CMD:awarn(playerid, params[])
{
    if(PI[playerid][pAdmin] < ADM_GRAND) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
    {
		if(PI[playerid][pAdmin] < 1) return 1;
		if(sscanf(params, "us[26]", params[0], params[1])) return SCM(playerid, COLOR_LIME, "Информация: {ffffff}/awarn [id админа] [причина]");
		else if(!IsPlayerConnected(params[0])) return SCM(playerid, COLOR_RED, "Такого игрока нет");
		else if(PlayerLogged[params[0]] == false) return SCM(playerid, COLOR_RED, "Игрок не ввел пароль!");
		if(PI[params[0]][pAdmin] < 1) return SendClientMessage(playerid, COLOR_RED, "Этот игрок не является администратором");
		else if(playerid == params[0] && PI[playerid][pAdmin] < 7) return SCM(playerid, COLOR_RED, "Нельзя выдавать выговоры самому себе!");
		new string[256];
		PI[params[0]][pAWARN] ++;
		if(PI[params[0]][pAWARN] >= 3)
		{
            format(string, sizeof(string), "[A] %s %s выдал предупреждение [3|3] администратору %s",GetAdminRang(playerid),PI[playerid][pName],PI[params[0]][pName]);
		    SendMes(params[0],COLOR_RED,"Вы получили админ-предупреждение 3 из 3 от %s. Причина: %s",PI[playerid][pName],params[1]);
		}
		else
		{
			format(string, sizeof(string), "[A] %s %s выдал предупреждение [%d|3] администратору %s",GetAdminRang(playerid),PI[playerid][pName],PI[params[0]][pAWARN],PI[params[0]][pName]);
			SendMes(params[0],COLOR_RED,"Вы получили админ-предупреждение %d из 3 от %s. Причина: %s",PI[params[0]][pAWARN],PI[playerid][pName],params[1]);
		}
		SendAdminMessage(COLOR_GREY, string);
	}
	return 1;
}
CMD:unlwarn(playerid, params[])
{
    if(PI[playerid][pAdmin] < ADM_GRAND) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
    {
		if(PI[playerid][pAdmin] < 1) return 1;
		if(sscanf(params, "us[26]", params[0], params[1])) return SCM(playerid, COLOR_LIME, "Информация: {ffffff}/unlwarn [id лидера] [причина]");
		else if(!IsPlayerConnected(params[0])) return SCM(playerid, COLOR_RED, "Такого игрока нет");
		else if(PlayerLogged[params[0]] == false) return SCM(playerid, COLOR_RED, "Игрок не ввел пароль!");
		else if(PI[params[0]][pLeader] == 0) return SCM(playerid, COLOR_RED, "Игрок не является лидером!");
		else if(playerid == params[0] && PI[playerid][pAdmin] < 7) return SCM(playerid, COLOR_RED, "Нельзя снимать выговоры самому себе!");
		else if(PI[params[0]][pfWarn] == 0) return SCM(playerid,COLOR_RED,"У лидера нет выговоров!");

		PI[params[0]][pfWarn] --;

		new string[256];
		format(string, sizeof(string), "[A] %s [%d] снял выговор %d/3 лидеру %s [%d]. Причина: %s",PI[playerid][pName],playerid,PI[params[0]][pfWarn],PI[params[0]][pName],params[0],params[1]);
		SendAdminMessage(COLOR_GREY, string);
		SendMes(params[0],COLOR_BLUE,"Администратор %s [%d] снял Вам лидерский выговор %d/3. Причина: %s",PI[playerid][pName],playerid,PI[params[0]][pfWarn],params[1]);
	}
	return 1;
}
CMD:unawarn(playerid, params[])
{
    if(PI[playerid][pAdmin] < ADM_GRAND) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
    {
		if(PI[playerid][pAdmin] < 1) return 1;
		if(sscanf(params, "us[26]", params[0], params[1])) return SCM(playerid, COLOR_LIME, "Информация: {ffffff}/unawarn [id админа] [причина]");
		else if(!IsPlayerConnected(params[0])) return SCM(playerid, COLOR_RED, "Такого игрока нет");
		else if(PlayerLogged[params[0]] == false) return SCM(playerid, COLOR_RED, "Игрок не ввел пароль!");
		if(PI[params[0]][pAdmin] < 1) return SendClientMessage(playerid, COLOR_RED, "Этот игрок не является администратором");
		else if(playerid == params[0] && PI[playerid][pAdmin] < 7) return SCM(playerid, COLOR_RED, "Нельзя снимать выговоры самому себе!");
		else if(PI[params[0]][pAWARN] == 0) return SCM(playerid,COLOR_RED,"У администратора нет выговоров!");

		PI[params[0]][pAWARN] --;

		new string[256];
		format(string, sizeof(string), "[A] %s снял предупреждение [%d|3] администратору %s",PI[playerid][pName],PI[params[0]][pAWARN],PI[params[0]][pName]);
		SendAdminMessage(COLOR_GREY, string);
		SendMes(params[0],COLOR_RED,"%s снял Вам админ-предупреждение [%d|3]",PI[playerid][pName],PI[params[0]][pAWARN]);
	}
	return 1;
}
CMD:guninvite(playerid, params[])
{
	if(PI[playerid][pMember] != TEAM_AO) return SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	if(!IsAMayor(playerid) || PI[playerid][pRank] < 9) return SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	new targetid, reason[32];
	if(sscanf(params, "us[32]", targetid, reason)) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/guninvite [id игрока] [причина]");
	else if(!IsPlayerConnected(targetid)) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[targetid] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(PI[targetid][pMember] == 0) return SendClientMessage(playerid, COLOR_RED, "Игрок не находится в организации!");
	else if(PI[targetid][pLeader] > 0) return SendClientMessage(playerid, COLOR_RED, "Игрок лидер другой организации!");
	SendMes(playerid, COLOR_LIME, "Вы уволили %s из организации. Причина: %s",GetName(targetid),reason);
	SendMes(targetid, COLOR_RED, "%s %s уволил Вас из организации. Причина: %s", Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], GetName(playerid),reason);
	LeaveFractionPlayer(targetid);
	return 1;
}
CMD:cc(playerid) return callcmd::clearchat(playerid);
CMD:clearchat(playerid)
{
	if(PI[playerid][pAdmin] < ADM_GRAND) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
    for(new i = 0; i < 100; i++) SendClientMessageToAll(COLOR_WHITE, "");
    new string[64];
	format(string, sizeof(string),  "[A] Чат был очищен администрацией");
	SendAdminMessage(COLOR_GREY, string);
	return 1;
}
CMD:uninvite(playerid, params[])
{
	if(IsAbleToUninvite(playerid))
	{
		new targetid, reason[32];
		new string[100];
		if(sscanf(params, "us[32]", targetid, reason)) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/uninvite [ид игрока] [Причина]");
		else if(!IsPlayerConnected(targetid)) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
		else if(PlayerLogged[targetid] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
		else if(PI[targetid][pMember] == 0) return SendClientMessage(playerid, COLOR_RED, "Игрок не находится в организации!");
		else if(PI[targetid][pLeader] > 0) return SendClientMessage(playerid, COLOR_RED, "Игрок лидер другой организации!");
		else if(PI[targetid][pMember] != PI[playerid][pMember]) return SendClientMessage(playerid, COLOR_RED, "Игрок находится в другой организации!");
		else if(playerid == targetid) return SendClientMessage(playerid, COLOR_RED, "Самого себя нельзя уволить!");
		SendMes(playerid, COLOR_LIME, "Вы уволили из фракции %s. Причина: %s",GetName(targetid),reason);
		SendMes(targetid, COLOR_RED, "%s [%d] уволил Вас из организации \"Безработный\". Причина: %s",GetName(playerid), playerid, reason);
		format(string, sizeof(string), "[A] %s %s уволил игрока из организации %s. Причина: %s", Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]],GetName(playerid), GetName(params[0]), reason);
	    SendAdminMessage(COLOR_GREY, string);
		LeaveFractionPlayer(targetid);
	}
	else SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	return 1;
}
//==============================================================================
CMD:auninvite(playerid, params[])
{
	if(PI[playerid][pAdmin] < 3) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	new targetid, reason[32];
	if(sscanf(params, "us[32]", targetid, reason)) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/auninvite [id игрока] [причина]");
	else if(!IsPlayerConnected(targetid)) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[targetid] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(PI[targetid][pMember] == 0) return SendClientMessage(playerid, COLOR_RED, "Игрок не находится в организации!");
	else if(PI[targetid][pLeader] > 0) return SendClientMessage(playerid, COLOR_RED, "Игрок лидер другой организации!");
	SendMes(playerid, COLOR_LIME, "Вы уволили из фракции %s [%d]",GetName(targetid), targetid);
	new string[129];
	format(string, sizeof(string), "[A] %s %s [%d] уволил %s [%d] из организации", GetAdminRang(playerid), GetName(playerid), playerid, GetName(targetid), targetid);
 	SendAdminMessage(COLOR_GREY, string);
	SendMes(targetid, COLOR_RED, "Администратор %s уволил Вас из организации \"Безработный\"",GetName(playerid));
	LeaveFractionPlayer(targetid);
	return 1;
}
//==============================================================================
CMD:rang(playerid, params[])
{
	if(PI[playerid][pRank] < 9) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	if(sscanf(params, "dc", params[0], params[1])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/rang [Ид игрока] [+/-]");
	if(params[0] == playerid) return SendClientMessage(playerid, COLOR_RED, "Вы указали свой ID!");
	if(PI[playerid][pMember] != PI[params[0]][pMember]) return SendClientMessage(playerid, COLOR_RED, "Данный игрок не в вашей фракции!");
	if(!IsPlayerInRangeOfPlayer(8.0, playerid, params[0])) return SendClientMessage(playerid, COLOR_RED, "Вы далеко от игрока");
	new string[133];
	if(params[1] == 43) // Повышение +
	{
		if(PI[params[0]][pRank] >= 9) return SendClientMessage(playerid, COLOR_RED, "Вы не можете повысить игрока более 9 ранга");
		if(PI[params[0]][pRank] == 9 && PI[params[0]][pRank] == 8) return SendClientMessage(playerid, COLOR_RED, "Вы не можете повысить игрока более 7 ранга");
		else if(PI[params[0]][pLeader] > 0) return SendClientMessage(playerid, COLOR_RED, "Данный игрок лидер");
		PI[params[0]][pRank]++;
		format(string,sizeof(string),"Вы повысили %s [%d] до %s(%d)", GetName(params[0]), params[0], Fraction_Rang[PI[params[0]][pMember]][PI[params[0]][pRank]], PI[params[0]][pRank]);
		SendClientMessage(playerid, COLOR_BLUE, string);
		format(string,sizeof(string),"Ваш ранг в организации был повышен до %d (%s)", PI[params[0]][pRank], Fraction_Rang[PI[params[0]][pMember]][PI[params[0]][pRank]]);
		SendClientMessage(params[0], COLOR_BLUE, string);
		if(PI[params[0]][pMember] == TEAM_VDV && PI[params[0]][pRank] == 5)
		{
       	 	PI[params[0]][pVoennik] = 1;
			SendClientMessage(params[0], COLOR_BLUE, "Поздравляем! Вы получили военный билет");
		}
	}
	else if(params[1] == 45) // Понижение -
	{
		if(PI[params[0]][pRank] == 1) return SendClientMessage(playerid, COLOR_RED, "У игрока сейчас 1 ранг, понижение невозможно");
		if(PI[params[0]][pLeader] > 0) return SendClientMessage(playerid, COLOR_RED, "Данный игрок лидер");
		PI[params[0]][pRank]--;
		format(string,sizeof(string),"Вы понизили ранг игроку %s [%d] до %d (%s)", GetName(params[0]), params[0], PI[params[0]][pRank], Fraction_Rang[PI[params[0]][pMember]][PI[params[0]][pRank]]);
		SendClientMessage(playerid, COLOR_BLUE, string);
		format(string,sizeof(string),"Ваш ранг в организации был понижен до %d (%s)", PI[params[0]][pRank], Fraction_Rang[PI[params[0]][pMember]][PI[params[0]][pRank]]);
		SendClientMessage(params[0], COLOR_RED, string);
	}
	else SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	return 1;
}
//==============================================================================
CMD:arang(playerid, params[])
{
	if(PI[playerid][pAdmin] < ADM_GRAND_ADMIN) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	if(sscanf(params, "dc", params[0], params[1])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/arang [id игрока] [+/-]");
	if(!IsPlayerInRangeOfPlayer(10.0, playerid, params[0])) return SendClientMessage(playerid, COLOR_RED, "Вы далеко от игрока");
	new string[133];
	if(params[1] == 43) // Повышение +
	{
	    if(PI[params[0]][pRank] >= 12) return SendClientMessage(playerid, COLOR_RED, "Вы не можете повысить игрока выше 13-го ранга");
		if(PI[params[0]][pRank] == 9 && PI[params[0]][pRank] == 8) return SendClientMessage(playerid, COLOR_RED, "Вы не можете повысить игрока более 7 ранга");
		PI[params[0]][pRank]++;
		format(string,sizeof(string),"Вы повысили %s [%d] до %s(%d)", GetName(params[0]), params[0], Fraction_Rang[PI[params[0]][pMember]][PI[params[0]][pRank]], PI[params[0]][pRank]);
		SendClientMessage(playerid, COLOR_BLUE, string);
		format(string,sizeof(string),"Ваш ранг в организации был повышен до %d (%s)", PI[params[0]][pRank], Fraction_Rang[PI[params[0]][pMember]][PI[params[0]][pRank]]);
		SendClientMessage(params[0], COLOR_BLUE, string);
		if(PI[playerid][pMember] == TEAM_VDV && PI[playerid][pRank] == 5)
		{
       	 	PI[playerid][pVoennik] = 1;
			SendClientMessage(playerid, COLOR_BLUE, "Поздравляем! Вы получили военный билет");
		}
	}
	else if(params[1] == 45) // Понижение -
	{
		if(PI[params[0]][pRank] == 1) return SendClientMessage(playerid, COLOR_RED, "У игрока сейчас 1 ранг, понижение невозможно");
		PI[params[0]][pRank]--;
		format(string,sizeof(string),"Вы понизили ранг игроку %s [%d] до %d (%s)", GetName(params[0]), params[0], PI[params[0]][pRank], Fraction_Rang[PI[params[0]][pMember]][PI[params[0]][pRank]]);
		SendClientMessage(playerid, COLOR_BLUE, string);
		format(string,sizeof(string),"Ваш ранг в организации был понижен до %d (%s)", PI[params[0]][pRank], Fraction_Rang[PI[params[0]][pMember]][PI[params[0]][pRank]]);
		SendClientMessage(params[0], COLOR_RED, string);
	}
	else SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	return 1;
}
//==============================================================================
CMD:lmenu(playerid)
{
	if(PI[playerid][pLeader] < 1) return 1;
   	ShowPlayerDialog(playerid, D_FRACMENU+7, 2, "{FFCC00}Панель лидера", "{ffffff}Члены организации\t\t{63BD4E}[Online]{ffffff}\nЧлены организации\t\t{F04245}[Offline]{ffffff}\nУволить игрока\t\t{F04245}[Offline]", "Выбрать", "Отмена");
	return 1;
}
//==============================================================================
CMD:selllic(playerid, params[])
{
	if(PI[playerid][pMember] != TEAM_AO) return SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	if(!IsAMayor(playerid) || PI[playerid][pRank] < 5) return SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	else if(sscanf(params, "ud", params[0], params[1])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/selllic [id игрока] [id лицензии (1-водительские,2-водные,3-воздушные,4-оружие,5-бизнес)]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(!IsPlayerInRangeOfPlayer(10.0, playerid, params[0])) return SendClientMessage(playerid, COLOR_RED, "Игрок слишком далеко!");
	new bool:dostup;
	switch(params[1])
	{
		case 1:	if(PI[params[0]][pLic][0]) dostup = true;
		case 2: if(PI[params[0]][pLic][1]) dostup = true;
		case 3: if(PI[params[0]][pLic][2]) dostup = true;
		case 4: if(PI[params[0]][pLic][3]) dostup = true;
		case 5:
		{
		    new i = GetPVarInt(params[0], "PlayerBizz");
			if(BizzInfo[i][bLic]) dostup = true;
		}
	}
	if(params[1] == 5 && !GetPlayerBizz(params[0])) return SendClientMessage(playerid, COLOR_RED, "Игрок не имеет бизнеса!");
	if(dostup == true) return SendClientMessage(playerid, COLOR_RED, "У игрока есть данная лицензия");
	new type[24], price;
	switch(params[1])
	{
		case 1: type = "Водительские права", price = 1000;
		case 2: type = "лицензию на судоходство", price = 3000;
		case 3: type = "лицензию на полеты", price = 10000;
		case 4: type = "лицензию на оружие", price = 30000;
		case 5: type = "лицензию на бизнес", price = 1000000;
	}
	new string[144];
	format(string, sizeof(string), "Вы предложили %s купить %s. Цена: %i рублей", GetName(params[0]), type, price);
	SendClientMessage(playerid, COLOR_BLUE, string);
	format(string, sizeof(string), "%s предложил Вам купить %s. Цена: %i рублей", GetName(playerid), type, price);
	SendClientMessage(params[0], COLOR_BLUE, string);
	SendClientMessage(params[0], COLOR_WHITE, "{FFFFFF}Нажмите {03c03c}Y {FFFFFF}чтобы согласиться или {ff7518}N {FFFFFF}для отказа");
	SetPVarInt(params[0], "sellexamlic", 1);
	SetPVarInt(params[0], "changelic", params[1]);
	SetPVarInt(params[0], "idselllic", playerid);
	return 1;
}
CMD:agl(playerid, params[]) return callcmd::agivelic(playerid, params);
CMD:agivelic(playerid, params[])
{
    if(PI[playerid][pAdmin] < 7) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(sscanf(params,"ddd", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/agivelic [id игрока]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	PI[params[0]][pAutoLic] = 1;
	SendClientMessage(playerid, COLOR_LIME, "Вы выдали лицензии всех категорий");
	SendMes(params[0], COLOR_BLUE,"Администратор %s [%d] выдал Вам лицензии всех категорий", GetName(playerid), playerid);
	SaveAccount(params[0]);
	return 1;
}

CMD:takegun(playerid, params[])
{
	if((PI[playerid][pMember] == TEAM_PPS || PI[playerid][pMember] == TEAM_DPS || PI[playerid][pMember] == TEAM_FSIN) && PI[playerid][pRank] >= 6)
	{
		if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/take [id игрока]");
		else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
		else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
		else if(!IsPlayerInRangeOfPlayer(8.0, playerid, params[0])) return SendClientMessage(playerid, COLOR_RED, "Игрок слишком далеко!");
      	ResetPlayerWeaponsAC(params[0]);
	  	SendMes(playerid, COLOR_LIME, "Вы забрали оружие у %s",GetName(params[0]));
	  	SendMes(params[0], COLOR_LIME, "%s забрал У Вас оружие",GetName(playerid));
	}
	else SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	return 1;
}
CMD:switchskin(playerid, params[])
{
	if(PI[playerid][pMember] < TEAM_FSIN) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(sscanf(params, "d", params[0])) return SCM(playerid, COLOR_LIME, "Информация: {ffffff}/switchskin [id внешности]");
	else if(params[0] > 299 || params[0] < 1) { SCM(playerid, COLOR_RED, " ID может быть от 1 до 299"); return true; }
	PI[playerid][pChar][0] = params[0];
	SetPlayerSkin(playerid, PI[playerid][pChar][0]);
	new string[128];
	format(string, sizeof(string), "Вы сменили свою внешность");
	SendClientMessage(playerid, COLOR_BLUE, string);
	MeAction(playerid, "сменил внешность");
	return true;
}

CMD:mwarn(playerid, params[])
{
    if(PI[playerid][pMember] < TEAM_FSIN) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	new targetid, reason[32];
	if(sscanf(params, "ds[32]", targetid, reason)) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/mwarn [id игрока] [причина]");
	else if(targetid == INVALID_PLAYER_ID) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(!gPlayerLogged[targetid]) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(!PI[targetid][pMember]) return SendClientMessage(playerid, COLOR_RED, "Игрок не состоит в организации!");
	else if(PI[targetid][pLeader]) return SendClientMessage(playerid, COLOR_RED, "Лидеру нельзя выдать выговор!");
	else if(PI[targetid][pMember] != PI[playerid][pMember]) return SendClientMessage(playerid, COLOR_RED, "Игрок не состоит в Вашей организации!");
	else if(playerid == targetid) return SendClientMessage(playerid, COLOR_RED, "Самому себя нельзя выдать выговор!");
	new string[128];
	if(PI[targetid][pMemberWarn] == 3)
	{
	    format(string, sizeof(string), "Вы выдали выговор %s [3/3]. Причина: %s", GetName(targetid), reason);
		SendClientMessage(playerid, COLOR_BLUE, string);
		format(string, sizeof(string), "%s %s выдал%s Вам выговор [3/3]. Причина: %s", Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], GetName(playerid), (PI[playerid][pSex]==1)?(""):("а"), reason);
		SendClientMessage(targetid, COLOR_BLUE, string);
		format(string, sizeof(string), "%s %s выдал%s выговор игроку %s [3/3]. Причина: %s. Игрок уволен", Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], GetName(playerid), (PI[playerid][pSex]==1)?(""):("а"), GetName(targetid), reason);
		SendFMes(PI[playerid][pMember], COLOR_YELLOW, string);
		LeaveFractionPlayer(targetid);
		SendClientMessage(targetid, COLOR_RED, "Вы были уволены с организации по причине трёх выговоров!");
	}
	else
	{
	    PI[targetid][pMemberWarn] ++;
        MysqlUpdatePlayerInt(targetid, "memberwarn", PI[targetid][pMemberWarn]);
	    format(string, sizeof(string), "Вы выдали выговор %s [%d/3]. Причина: %s", GetName(targetid), PI[targetid][pMemberWarn], reason);
		SendClientMessage(playerid, COLOR_BLUE, string);
        format(string, sizeof(string), "%s %s выдал%s Вам выговор [%d/3]. Причина: %s", Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], GetName(playerid), (PI[playerid][pSex]==1)?(""):("а"), PI[targetid][pMemberWarn], reason);
		SendClientMessage(targetid, COLOR_BLUE, string);
		format(string, sizeof(string), "%s %s выдал%s выговор игроку %s [%d/3]. Причина: %s", Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], GetName(playerid), (PI[playerid][pSex]==1)?(""):("а"), GetName(targetid), PI[targetid][pMemberWarn], reason);
		SendFMes(PI[playerid][pMember], COLOR_YELLOW, string);
	}
	return 1;
}

CMD:unmwarn(playerid, params[])
{
    if(PI[playerid][pMember] < TEAM_FSIN) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	new targetid, reason[32];
	if(sscanf(params, "ds[32]", targetid, reason)) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/unmwarn [ID игрока]");
	else if(targetid == INVALID_PLAYER_ID) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(!gPlayerLogged[targetid]) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(!PI[targetid][pMember]) return SendClientMessage(playerid, COLOR_RED, "Игрок не состоит в организации!");
	else if(PI[targetid][pLeader]) return SendClientMessage(playerid, COLOR_RED, "Лидеру нельзя снять выговор!");
	else if(PI[targetid][pMember] != PI[playerid][pMember]) return SendClientMessage(playerid, COLOR_RED, "Игрок не состоит в Вашей организации!");
	else if(playerid == targetid) return SendClientMessage(playerid, COLOR_RED, "Самому себя нельзя снять выговор!");
	else if(!PI[targetid][pMemberWarn]) return SendClientMessage(playerid, COLOR_RED, "У игрока нет выговора!");
	new string[128];
	format(string, sizeof(string), "Вы сняли выговор %s. Причина: %s", GetName(targetid), reason);
	SendClientMessage(playerid, COLOR_BLUE, string);
    format(string, sizeof(string), "%s %s снял%s Вам выговор. Причина: %s", Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], GetName(playerid), (PI[playerid][pSex]==1)?(""):("а"), reason);
	SendClientMessage(targetid, COLOR_BLUE, string);
	PI[targetid][pMemberWarn] --;
	MysqlUpdatePlayerInt(targetid, "memberwarn", PI[targetid][pMemberWarn]);
	return 1;
}

CMD:takelic(playerid, params[])
{
	if((PI[playerid][pMember] == TEAM_PPS || PI[playerid][pMember] == TEAM_DPS || PI[playerid][pMember] == TEAM_FSIN) && PI[playerid][pRank] >= 6)
	{
		if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/takelic [id игрока]");
		else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
		else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
		else if(!IsPlayerInRangeOfPlayer(8.0, playerid, params[0])) return SendClientMessage(playerid, COLOR_RED, "Игрок слишком далеко!");
		ShowPlayerDialog(playerid, D_LIC+1, 2, "{FFCC00}Отобрать лицензии", "{FFCC00}1. {FFFFFF}Отобрать водительские права\n{FFCC00}2. {FFFFFF}Отобрать лицензию на судоходство\n{FFCC00}3. {FFFFFF}Отобрать лицензию на полеты\n{FFCC00}4. {FFFFFF}Отобрать лицензию на оружие\n{FFCC00}5. {FFFFFF}Отобрать патроны\n{FFCC00}6. {FFFFFF}Отобрать металл\n{FFCC00}7. {FFFFFF}Отобрать наркотики", "Отобрать", "Отмена");
		SetPVarInt(playerid, "LicName", params[0]);
	}
	else SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	return 1;
}

CMD:atake(playerid, params[])
{
	if(PI[playerid][pAdmin] < ADM_ADMIN) return 1;
	else if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/atake [id игрока]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	ShowPlayerDialog(playerid, D_LIC+3, 2, "{FFCC00}Отобрать лицензии", "{FFCC00}1. {FFFFFF}Отобрать водительские права\n{FFCC00}2. {FFFFFF}Отобрать лицензию на судоходство\n{FFCC00}3. {FFFFFF}Отобрать лицензию на полеты\n{FFCC00}4. {FFFFFF}Отобрать лицензию на оружие\n{FFCC00}5. {FFFFFF}Отобрать патроны\n{FFCC00}6. {FFFFFF}Отобрать металл\n{FFCC00}7. {FFFFFF}Отобрать наркотики", "Отобрать", "Отмена");
	SetPVarInt(playerid, "LicName", params[0]);
	return 1;
}
CMD:news(playerid, params[])
{
	if(!IsANews(playerid)) return SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	NewsPanel(playerid);
	return 1;
}
CMD:edit(playerid)
{
	if(!IsANews(playerid)) return SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	if(PI[playerid][pRank] < 2)
		return SendClientMessage(playerid, COLOR_RED, "Редактирование объявлений доступно со 2-го ранга");

	ShowPlayerDialogEditList(playerid);
	
	return 1;
}
CMD:ad(playerid, params[])
{
    if(PI[playerid][pMuted] > 0) return SendClientMessage(playerid, 0xff6600AA, "У Вас затычка. Узнать подробней: /time");
    else if(PI[playerid][pTime] < 0) return SendClientMessage(playerid, COLOR_RED, "Вы должны играть на сервере более 4 часов!");
    else if(PI[playerid][pPhoneNumber] <= 1) return SendClientMessage(playerid, COLOR_RED, "У Вас нет сим-карты, приобретите её в ближайшем 24/7");
	extract params -> new string:text[128]; else return SendClientMessage(playerid, COLOR_LIME, "• Информация: {ffffff}/ad [текст объявления]");

	new fmt_msg[150], count;

	count = strlen ( text );

	format
	(
		fmt_msg,
		sizeof fmt_msg,
		"{ffffff}Содержание: {FFCC00}%s\n\n\
		{ffffff}Цена объявление: {FFCC00}%d рублей\n\
		{ffffff}Вы действительно хотите отправить объявление?",
		text, count*25
	);

	ShowPlayerDialog
	(
		playerid, DIALOG_SEND_EDIT, DIALOG_STYLE_MSGBOX,
		"Объявление",
		fmt_msg,
		"Да", "Нет"
	);

	SetPVarInt(playerid, "pricead", count*25);

	SetPVarString(playerid, "textad", text);
	return 1;
}
//==============================================================================
CMD:npanel(playerid, params[])
{
	if(IsANews(playerid)) ShowPlayerDialog(playerid, D_NMENU+4, 2, "{FFCC00}Панель", "- Установить цену за звонок\n- Установить цену за СМС\n- Установить цену за объявление", "Принять", "Отмена");
	else SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	return 1;
}
//==============================================================================
CMD:p(playerid)
{
	if(Mobile[playerid] != -1) return SendClientMessage(playerid, COLOR_RED, "Вы уже разговариваете по телефону!");
	foreach(new i: Player)
	{
		if(PlayerLogged[i] == false) continue;
		if(Mobile[i] == playerid)
		{
			if(Ether[playerid] == true) CallNews[PI[playerid][pNews]-1]++, EtherCalled[i] = true;
			Mobile[playerid] = i;
			SendMes(i, COLOR_RED, "%s поднял трубку мобильного", GetName(playerid));
			PI[i][pPhoneBalance] -= 10;
			MeAction(playerid, "ответил на звонок");
			if(!IsPlayerInAnyVehicle(playerid)) SetPlayerSpecialAction(playerid, SPECIAL_ACTION_USECELLPHONE);
			return 1;
		}
	}
	return 1;
}
//==============================================================================
CMD:sms(playerid, params[])
{
    if(PI[playerid][pPhoneBalance] < 1) return SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно денег!");
    if(PI[playerid][pPhoneNumber] <= 1) return SendClientMessage(playerid, COLOR_RED, "У Вас нет телефона!");
    if(PI[playerid][pMuted] > 0) return SendClientMessage(playerid, 0xff6600AA, "У Вас затычка. Узнать подробней: /time");
	else if(PI[playerid][pJail] > 0) return SendClientMessage(playerid, COLOR_RED, "У Вас изъяли телефон!");
	else if(pCuff[playerid][pCuffee] == playerid) return SendClientMessage(playerid, COLOR_RED, "На Вас надеты наручники!");
   	else if(Mobile[playerid] != -1) return SendClientMessage(playerid, COLOR_RED, "Вы разговариваете по телефону!");
   	else if(!Phone[playerid]) return SendClientMessage(playerid, COLOR_RED, "У Вас выключен телефон!");
    else if(sscanf(params, "ds[100]", params[0], params[1])) return SendClientMessage(playerid, COLOR_LIME, "• Информация: {ffffff}/sms [номер] [текст]");
	else if(!(100 <= params[0] <= 9999999)) return SendClientMessage(playerid, COLOR_RED, "Неверный номер телефона!");
	else if(params[0] == PI[playerid][pPhoneNumber]) return SendClientMessage(playerid, COLOR_RED, "Ты не можешь писать смс самому себе!");
	else if(IsAIP(params[1])) return 0;
	new nidx = -1, plidx = -1;
	foreach(new i: Player)
	{
	    if(!IsPlayerConnected(i) || !PlayerLogged[i]) continue;
	    if(params[0] == 555 || params[0] == 666 || params[0] == 777)
	    {
	    	nidx = i;
	    	break;
    	}
    	else if(params[0] == PI[i][pPhoneNumber])
 	    {
 	        plidx = i;
 	        break;
 	    }
 	}
 	new string[200];
 	if(nidx > -1)
 	{
 	    new select_radio = (params[0] == 555)?(1):(params[0] == 666)?(2):(3);
		if(PI[playerid][pNews] != select_radio) return SendClientMessage(playerid, COLOR_RED, "Вы должны переключиться на волну этой студии!");
 	    else if(!Ether[nidx] && PI[nidx][pMember] == PI[playerid][pNews]+17) return SendClientMessage(playerid, COLOR_RED, "[Ошибка] Радио не принимает СМС!");
 	    new news_name[24];
 	    news_name = (PI[playerid][pNews] == 1)?("ТРК Амазинг Тел.: 555"):(PI[playerid][pNews] == 2)?("ТРК Ритм Тел.: 666"):("Закрыто Тел.: 777");
 	    if(!EtherSms[PI[playerid][pNews]-1]) return SendClientMessage(playerid, COLOR_RED, "Радио не принимает СМС!");
    	if(PI[playerid][pPhoneBalance] < SmsPrice[PI[playerid][pNews]-1]) return SendClientMessage(playerid, COLOR_RED, "На Вашем счету в банке недостаточно денег!");
		PI[playerid][pPhoneBalance] -= SmsPrice[PI[playerid][pNews]-1];
        FracBank[PI[playerid][pNews]+7] += SmsPrice[PI[playerid][pNews]-1];
        PlayerPlaySound(nidx, 1052, 0.0, 0.0, 0.0);
		PlayerPlaySound(playerid, 1052, 0.0, 0.0, 0.0);
		format(string, sizeof(string), "SMS: %s | Отправитель: %s [т.%i]", params[1], GetName(playerid), PI[playerid][pPhoneNumber]);
		SendClientMessage(nidx, 0xFFCC00FF, string);
		format(string, sizeof(string), "SMS: %s | Получатель: %s", params[1], news_name);
		SendClientMessage(playerid, 0xFFCC00FF, string);
		SendClientMessage(playerid, COLOR_WHITE, "Ваше сообщение доставлено");
		MeAction(playerid, "достаёт мобильный телефон");
		SetPlayerChatBubble(playerid, (PI[playerid][pSex] == 1)?("Отправил СМС"):("Отправила СМС"), COLOR_YELLOW, 13.0, 10000);
 	}
 	else if(plidx > -1)
 	{
 	    if(!Phone[plidx]) return SendClientMessage(playerid, COLOR_RED, "Игрок выключил телефон!");
	    if(PI[plidx][pJail] > 0) return SendClientMessage(playerid, COLOR_RED, "Абонент временно недоступен!");
		PlayerPlaySound(plidx, 1052, 0.0, 0.0, 0.0);
		PlayerPlaySound(playerid, 1052, 0.0, 0.0, 0.0);
		format(string, sizeof(string), "SMS: %s | Отправитель: %s [т.%i]", params[1], GetName(playerid), PI[playerid][pPhoneNumber]);
		SendClientMessage(plidx, 0xFFCC00FF, string);
		format(string, sizeof(string), "SMS: %s | Получатель: %s [т.%i]", params[1], GetName(plidx), PI[plidx][pPhoneNumber]);
		SendClientMessage(playerid, 0xFFCC00FF, string);
		foreach(new x:Player)
		{
			if(AdminInfo[x][admSmsEars])
			{
			    format(string, sizeof(string), "[SMS] %s | Отправил %s [%i] для %s [%i]", params[1], GetName(playerid), playerid, GetName(plidx), plidx);
			    SendClientMessage(x, COLOR_YELLOW, string);
			}
		}
		foreach(new x:Player)
		{
			if(AdminInfo[x][fsbSmsEars])
			{
			    format(string, sizeof(string), "[SMS] %s | Отправил %s [%i] для %s [%i]", params[1], GetName(playerid), playerid, GetName(plidx), plidx);
			    SendClientMessage(x, 0x5da130FF, string);
			}
		}
		PI[playerid][pPhoneBalance] -= 10;
		SendClientMessage(playerid, COLOR_WHITE, "Ваше сообщение доставлено");
		MeAction(playerid, "достаёт мобильный телефон");
		SetPlayerChatBubble(playerid, (PI[playerid][pSex] == 1)?("Отправил СМС"):("Отправила СМС"), COLOR_YELLOW, 13.0, 10000);
 	}
 	else SendClientMessage(playerid, COLOR_RED, "Указанный Вами номер не существует!");
	return 1;
}
//==============================================================================
CMD:h(playerid)
{
	if(Mobile[playerid] == -1) return SendClientMessage(playerid, COLOR_RED, "Вы не разговариваете по телефону!");
	new callerid = Mobile[playerid];
	SendClientMessage(callerid, COLOR_RED, "Собеседник повесил трубку");
	SetPlayerSpecialAction(callerid,SPECIAL_ACTION_STOPUSECELLPHONE);
	CellTime[callerid] = -1;
	CellTime[playerid] = -1;
	Mobile[callerid] = -1;
	if(EtherCalled[playerid] == true) EtherCalled[playerid] = false;
	if(EtherCalled[callerid] == true) EtherCalled[callerid] = false;
	SendClientMessage(playerid,  COLOR_RED, "Вы положили трубку");
	Mobile[playerid] = -1;
	SetPlayerSpecialAction(playerid,SPECIAL_ACTION_STOPUSECELLPHONE);
	DeletePVar(playerid, "CallTime");
	DeletePVar(callerid, "CallTime");
	return 1;
}
//==============================================================================
CMD:togphone(playerid, params[])
{
    if(PI[playerid][pPhoneNumber] <= 1) return SendClientMessage(playerid, COLOR_RED, "У Вас нет мобильного телефона или SIM-карты!");
    if(Phone[playerid])
    {
        Phone[playerid] = false;
        SendClientMessage(playerid, COLOR_RED, "Вы выключили телефон");
    }
    else
    {
        Phone[playerid] = true;
        SendClientMessage(playerid, COLOR_LIME, "Вы включили телефон");
    }
	return 1;
}
//==============================================================================
CMD:call(playerid, params[])
{
	if(PI[playerid][pPhoneNumber] <= 1) return SendClientMessage(playerid, COLOR_RED, "У Вас нет телефона!");
	if(PI[playerid][pMuted] > 0) return SendClientMessage(playerid, COLOR_RED, "У Вас затычка. Узнать подробней: /time");
	if(Mobile[playerid] != -1) return SendClientMessage(playerid, COLOR_RED, "Вы уже разговариваете по телефону");
	if(Phone[playerid] == false) return SendClientMessage(playerid, COLOR_RED, "У Вас выключен телефон");
	if(Ether[playerid] == true) return SendClientMessage(playerid, COLOR_RED, "Действие невозможно");
	if(sscanf(params, "d", params[0]))
	{
		SendClientMessage(playerid, COLOR_LIME, "• Информация: {ffffff}/call [номер]");
		return 1;
	}
	if(!(1 <= params[0] <= 9999999)) return SendClientMessage(playerid, COLOR_RED, "Неверный номер телефона");
	if(params[0] == PI[playerid][pPhoneNumber]) return SendClientMessage(playerid, COLOR_RED, "Ты не можешь позвонить самому себе");
	if(PI[playerid][pPhoneBalance] < 1) return SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно денег!");
	new fullphone;
	if(params[0] == 911)
	{
		return ShowPlayerDialog(playerid, D_HEAL+3, 2, "{FFCC00}Сервисы", "1. Вызвать механика\n2. Вызвать такси\n3. Вызвать скорую помошь\n4. Вызвать полицию", "Принять", "Назад");
	}
	foreach(new i: Player)
	{
		if(params[0] == PI[i][pPhoneNumber] && PlayerLogged[i] == true)
	{
		if(Phone[i] == false) return SendClientMessage(playerid, COLOR_FADE1, "Абонент вне зоны действия сети");
		if(Ether[i] == true) return SendClientMessage(playerid, COLOR_FADE1, "Действие невозможно");
		if(Mobile[i] != -1) return SendClientMessage(playerid, COLOR_FADE1, "Абонент уже разговаривает по телефону");
		Mobile[playerid] = i;
		SendMes(i, COLOR_BLUE, "Входящий звонок | Номер: {ffffff}%i {0099FF}| Вызывает: {ffffff}%s", PI[playerid][pPhoneNumber], GetName(playerid));
		SendClientMessage(i, COLOR_WHITE, "Используйте {03c03c}/p {ffffff}чтобы ответить или {ff7518}/h {ffffff}чтобы отклонить вызов");
		PlayerPlaySound(i, 23000, 0.0, 0.0, 0.0);
		PlayerPlaySound(playerid, 3600, 0.0, 0.0, 0.0);
		if(!IsPlayerInAnyVehicle(playerid)) SetPlayerSpecialAction(playerid, 11);
		CellTime[playerid] = 0;
		fullphone++;
	}
}
	if(fullphone == 0) return SendClientMessage(playerid, COLOR_RED, "Игрок с этим номером не найден");
	return 1;
}
/*CMD:business(playerid)
{
	if(GetPlayerBizz(playerid) == 0) return SendClientMessage(playerid, COLOR_RED, "Вы не владеете бизнесом!");
	new i = GetPVarInt(playerid, "PlayerBizz");
	BizzStats(playerid, i);
	return 1;
}*/

CMD:business(playerid)
{
	if(GetPlayerBizz(playerid) == 0) return SendClientMessage(playerid, COLOR_RED, "Вы не владеете бизнесом!");
	ShowPlayerDialog(playerid, D_HEAL+10, 2, "Панель управления бизнесом", "{FFCC00}1. {FFFFFF}Информация о бизнесе\n\
	{FFCC00}2. {FFFFFF}Открыть бизнес\n\
	{FFCC00}3. {FFFFFF}Установить цену за товар\n\
	{FFCC00}4. {FFFFFF}Установить цену за вход\n\
	{FFCC00}5. {FFFFFF}Продать бизнес\n\
	{FFCC00}6. {FFFFFF}Заказать продукты\n\
	{FFCC00}7. {FFFFFF}Улучшения бизнеса", "Принять", "Отмена");
	return 1;
}

CMD:setbizprod(playerid, params[])
{
    if(PI[playerid][pAdmin] < ADM_GRAND_ADMIN) return 1;
	else if(sscanf(params, "i", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/setbizprod [количество продуктов]");
	for(new idx = 1; idx <= TOTALBIZZ; idx++)
	{
		if(IsPlayerInRangeOfPoint(playerid, 4.0, BizzInfo[idx][bEntrx],BizzInfo[idx][bEntry],BizzInfo[idx][bEntrz]))
		{
			BizzInfo[idx][bProduct] = params[0];
			MysqlUpdateBizzInt(idx, "product", params[0]);
			SendMes(playerid, COLOR_WHITE, "Вы заменили бизнесу {FFCC00}%s {ffffff}продуктов на {FFCC00}%d",BizzInfo[idx][bName], BizzInfo[idx][bProduct]);
		}
	}
	return 1;
}
//==============================================================================
CMD:buybiz(playerid, params[])
{
	if(GetPlayerBizz(playerid) == 1) return SendClientMessage(playerid, COLOR_RED, "Вы уже владеете бизнесом!");
	new full, full_;
	new string[512];
	for(new idx = 1; idx <= TOTALBIZZ; idx++)
	{
		if(IsPlayerInRangeOfPoint(playerid, 5.0, BizzInfo[idx][bEntrx],BizzInfo[idx][bEntry],BizzInfo[idx][bEntrz]))
		{
			full++;
			if(!strcmp(BizzInfo[idx][bOwner],"None",true))
			{
				full_++;
				if(PI[playerid][pCash] < BizzInfo[idx][bPrice]) return SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно денег!");
				else
				{
					PI[playerid][pCash] -= BizzInfo[idx][bPrice];
					BizzInfo[idx][bBuyPrice] = BizzInfo[idx][bPrice] / 2;
					BizzInfo[idx][bProduct] = 100;
					BizzInfo[idx][bMoney] = BizzInfo[idx][bBuyPrice] / 2000;
					BizzInfo[idx][bEnter] = 0;
					BizzInfo[idx][bTill] = 50;
					SendClientMessage(playerid, COLOR_WHITE, "Поздравляем с покупкой бизнеса! Теперь каждый час с вашего счёта будут взимать сумму в размере ДОДЕЛАТЬ р.");
					SendClientMessage(playerid, COLOR_WHITE, "Налоговый счёт вы можете пополнять в одном из банков.");
					SendClientMessage(playerid, COLOR_WHITE, "У вас есть 24 часа, чтобы купить лицензию, иначе ваш бизнес будет продан за гос.стоимость");
					SendClientMessage(playerid, COLOR_WHITE, "Покупка лицензии: /gps >> Государственные организации >> Администрация Области");
					SendClientMessage(playerid, COLOR_WHITE, "Команды: /bmenu - управление бизнесом, /getbizstats - информация о бизнесе.");
					SendMes(playerid, COLOR_WHITE, "Вы купили бизнес {FFCC00}%s {ffffff}за {FFFFFF}%i {ffffff}Рублей. У Вас осталось: {FFCC00}%i {ffffff}рублей", BizzInfo[idx][bName], BizzInfo[idx][bPrice], PI[playerid][pCash]);
					SendMes(playerid, COLOR_LIME, "Подсказка: {FFFFFF}Аренда бизнеса оплачена на 3 час (%i рублей), не забывайте регулярно следить за его балансом.", BizzInfo[idx][bMoney]);
					SendClientMessage(playerid, COLOR_LIME, "Подсказка: {FFFFFF}Приобретите лицензию На Ваш бизнес, если в течении 24 часов этого не будет, он будет продан государству!");
					strmid(BizzInfo[idx][bOwner],GetName(playerid), 0, strlen(GetName(playerid)), MAX_PLAYER_NAME);
					format(string, sizeof(string), "UPDATE `bizz` SET owner='%s', block=%d, money=%d, lic=%d, penter=%d, till=%d, buyprice=%d , product=%d, unlock_ogran=%d, unlock_banner=%d, unlock_gps=%d, unlock_music=%d WHERE id = %d",\
					BizzInfo[idx][bOwner], BizzInfo[idx][bLock],\
					BizzInfo[idx][bMoney], BizzInfo[idx][bLic],\
					BizzInfo[idx][bEnter], BizzInfo[idx][bTill], \
					BizzInfo[idx][bBuyPrice], BizzInfo[idx][bProduct], \
					BizzInfo[idx][UNLOCK_OGRAN], BizzInfo[idx][UNLOCK_BANNER], \
					BizzInfo[idx][UNLOCK_GPS], BizzInfo[idx][UNLOCK_MUSIC],idx);
					mysql_tquery(dbHandle, string, "", "");
					UpdateBizz(idx);
					SaveAcc();
				}
			}
			else full_++;
		}
	}
	if(full == 0) return SendClientMessage(playerid, COLOR_RED, "Вы должны находится рядом с бизнесом!");
	if(full_ == 0) return SendClientMessage(playerid, COLOR_RED, "Бизнес уже имеет владельца!");
	return 1;
}
//==============================================================================
CMD:radio(playerid, params[])
{
	ShowPlayerDialog(playerid, 9345, DIALOG_STYLE_LIST, "{FFCC00}Выберите радиостанцию", "1. Радио Шансон\n2. Наше Радио\n3. Радио Рекорд\n4. Зайцев.FM (Pop)\n5. Зайцев.FM (RnB)\n6. Выключить радио", "Выбор", "Выход");
	return 1;
}
//==============================================================================
CMD:hmenu(playerid)
{
	if(GetPlayerHouse(playerid) == 0) return SendClientMessage(playerid, COLOR_RED, "У Вас нет дома!");
	new i = GetPVarInt(playerid, "PlayerHouse");
	if(strcmp(GetName(playerid), HouseInfo[i][hOwner], true) == 0)
	{
		if((IsPlayerInRangeOfPoint(playerid,60.0,HouseInfo[i][hExitx],HouseInfo[i][hExity],HouseInfo[i][hExitz]) || IsPlayerInRangeOfPoint(playerid,3.0,2934.4077,2967.4949,3176.5769)) && GetPlayerVirtualWorld(playerid) == HouseInfo[i][hVirtual])
		{
		    new string[400];
		    format(string, sizeof(string), "{ffffff}\
			{0099FF}1. {FFFFFF}Открыть / закрыть дом\n\
			{0099FF}2. {FFFFFF}Гардероб\n\
			{0099FF}3. {FFFFFF}Оплачен на: {FFAA44}%d / 10 дней\n{FFFFFF}\
			{0099FF}4. {FFFFFF}Аптечек в доме: {FFAA44}%i шт\n{FFFFFF}\
			{0099FF}5. {FFFFFF}Продать дом", HouseInfo[i][hOplata], HouseInfo[i][hHeal]);
			ShowPlayerDialog(playerid, D_HOME, 2, "{FFCC00}Панель управления домом", string, "Принять", "Отмена");
		}
		else SendClientMessage(playerid, COLOR_RED, "Вы должны находится в вашем доме!");
	}
	return 1;
}
//==============================================================================
CMD:gethouse(playerid, params[])
{
	if(PI[playerid][pAdmin] < 6) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(sscanf(params, "i",params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/gethouse [Номер Дома]");
	new i = params[0];
	new klass[32];
	new lock[32];
	if(HouseInfo[i][hDiscript] == 'A')
	{
	    klass = "низкий";
	}
	else if(HouseInfo[i][hDiscript] == 'B')
	{
	    klass = "средний";
	}
	else if(HouseInfo[i][hDiscript] == 'C')
	{
	    klass = "Высокий";
	}
	else if(HouseInfo[i][hDiscript] == 'D')
	{
	    klass = "элитный";
	}
	else if(HouseInfo[i][hDiscript] == 'E')
	{
	    klass = "дэлюксовый [VIP]";
	}
	else if(HouseInfo[i][hDiscript] == 'F')
	{
	    klass = "особняк";
	}
	else if(HouseInfo[i][hDiscript] == 'G')
	{
	    klass = "квартира";
	}
	if(HouseInfo[i][hLock] == 1)
	{
	    lock = "{FF0000}закрыт";
	}
	else if(HouseInfo[i][hLock] == 0)
	{
	    lock = "{FFCC00}открыт";
	}
	new string[500];
	format(string, sizeof(string), "{FFFFFF}Дом №{FFCC00}\t\t%d\n\n{FFFFFF}Оплачен на:\t{FFCC00}%d дней\n{FFFFFF}Класс:{FFCC00}\t\t%s\n{FFFFFF}Стоимость:\t{FFCC00}%d рублей\n{ffffff}Состояние:\t%s\n{ffffff}Цена за сутки:{FFCC00}\t%d",i,HouseInfo[i][hOplata],klass,HouseInfo[i][hBuyPrice]*2,lock,GetHomeOplata(i));
	ShowPlayerDialog(playerid,D_HOME+3,DSM,"{FFCC00}Информация о Доме",string,"Назад","");
	return 1;
}
//==============================================================================
CMD:getbizstats(playerid, params[])
{
	new full = 0;
	for(new i = 1; i <= TOTALBIZZ; i++)
	{
		if(IsPlayerInRangeOfPoint(playerid, 5.0, BizzInfo[i][bEntrx],BizzInfo[i][bEntry],BizzInfo[i][bEntrz]))
		{
			if(!strcmp(BizzInfo[i][bOwner],"None",true)) return SendClientMessage(playerid, COLOR_RED, "Бизнес не имеет владельца!");
			BizzStats(playerid, i);
			full++;
		}
	}
	if(full == 0) SendClientMessage(playerid, COLOR_RED, "Вы должны находится рядом с бизнесом!");
	return 1;
}
//==============================================================================
CMD:bizlist(playerid, params[])
{
	if(!IsAMafia(playerid)) return SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	SendClientMessage(playerid, COLOR_GREEN, "Завоеванные бизнесы:");
	new string[128];
	for(new h = 0; h < 200; h++)
	{
		new mafiapay = BizzPay[h] / 10;
		switch(PI[playerid][pMember])
		{
			case TEAM_CSKA:
			{
				if(BizzInfo[h][bMafia] == TEAM_CSKA)
				{
				    format(string, sizeof(string), "- %s, прибыль: %d", BizzInfo[h][bName], mafiapay);
					SendClientMessage(playerid, COLOR_YELLOW2, string);
				}
			}
			case TEAM_SPARTAK:
			{
				if(BizzInfo[h][bMafia] == TEAM_SPARTAK)
				{
				    format(string, sizeof(string), "- %s, прибыль: %d", BizzInfo[h][bName], mafiapay);
					SendClientMessage(playerid, COLOR_YELLOW2, string);
				}
			}
		}
	}
	return 1;
}
CMD:bizwar(playerid, params[])
{
	new factionm = 0;
	new playerposed;
	if(PI[playerid][pLeader] != 0) factionm = PI[playerid][pLeader];
	else if(PI[playerid][pMember] != 0 && PI[playerid][pLeader] == 0) factionm = PI[playerid][pMember];
	else factionm = 0;
	if(!IsAGang(playerid)) return 1;
	if(startwar == 1) return SendClientMessage(playerid, COLOR_RED, "Война уже начата!");
	if(FrakCDm[factionm] > 0) return SendClientMessage(playerid, COLOR_RED, "Следующий захват возможен через час!");
	for(new h = 0; h < 200; h++)
	{
        if(PI[playerid][pMember] == TEAM_SPARTAK && PI[playerid][pRank] >= 7 || PI[playerid][pMember] == TEAM_CSKA && PI[playerid][pRank] >= 7 || PI[playerid][pMember] == TEAM_DINAMO && PI[playerid][pRank] >= 7 || PI[playerid][pMember] == TEAM_ZENIT && PI[playerid][pRank] >= 7)
		{
			if(IsPlayerInRangeOfPoint(playerid, 6.0, BizzInfo[h][bEntrx],BizzInfo[h][bEntry],BizzInfo[h][bEntrz]))
    		{
    		    new string[64];
    		    playerposed = 1;
    			if(BizzInfo[h][bMafia] == PI[playerid][pMember]) return SendClientMessage(playerid, COLOR_RED, "Бизнес принадлежит Вам!");
				if(war > 0)
				{
					format(string, sizeof(string), "Войну можно начать через %d сек", war);
					SendClientMessage(playerid, COLOR_RED, string);
					return 1;
				}
				if(BizzInfo[h][bMafia] == 0)
				{
					BizzInfo[h][bMafia] = PI[playerid][pMember];
					switch(BizzInfo[h][bMafia])
					{
					   	case TEAM_SPARTAK: MafiaTotalBizz[0]++;
					   	case TEAM_CSKA: MafiaTotalBizz[1]++;
					   	case TEAM_DINAMO: MafiaTotalBizz[2]++;
					   	case TEAM_ZENIT: MafiaTotalBizz[3]++;
					}
					SendFMes(PI[playerid][pMember], COLOR_LIME, "[F] Ваша мафия захватила новый бизнес!");
					MysqlUpdateBizzInt(h, "mafia", BizzInfo[h][bMafia]);
					return 1;
				}
				if(BizzInfo[h][bMafia] > 0)
				{
					startwar = 1;
					format(string,sizeof(string),"[R] %s назначил стрелу за %s мафии %s",GetName(playerid),BizzInfo[h][bName],BizzInfo[h][bMafia]);
					SendFMes(PI[playerid][pMember],COLOR_LIME,string);
					format(string,sizeof(string),"Мафия %s назначила Вам стрелу за бизнес %s",Fraction_Name[PI[playerid][pMember]],BizzInfo[h][bName]);
					SendFMes(BizzInfo[h][bMafia],COLOR_REDD,string);
					SendFMes(BizzInfo[h][bMafia],COLOR_LIME,"Место встречи - Заброшенный аэропорт");
					SendFMes(BizzInfo[h][bMafia],COLOR_LIME,"У Вас есть 10 минут, чтобы отбить бизнес!");
					BizzInfo[h][bZahvat] = 1;
					war = 1200;
					MZSafeTime[0] = 600;
					FrakCDm[factionm]  = 1800;
					MZInfo[0][mNapad] = PI[playerid][pMember];
					MZInfo[0][mFrakVlad] = BizzInfo[h][bMafia];
					ZoneTimerm[0] = 130;
					ZoneOnBattlem[0] = 1;
					zons = GangZoneCreate(446.9828,-215.6673,492.6197,-310.9768);
					GangZoneShowForAll(zons, COLOR_NEWS);
					GangZoneFlashForAll(zons, COLOR_RED);
				}
			}
		}
	}
	if(playerposed == 0) SendClientMessage(playerid, COLOR_RED, "Вы находитесь далеко от бизнеса!");
    return 1;
}
/*CMD:capture(playerid, params[])
{
	if(!IsAMafia(playerid)) return SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	if(PI[playerid][pRank] < 7) return SendClientMessage(playerid,COLOR_RED,"Захват территории доступен с 7 ранга и выше!");
	new h; gettime(h);
	if(h < 12 || h > 21) return SendClientMessage(playerid, COLOR_RED, "Проводить захват можно только с 12:00 до 22:00");
	new faction = PI[playerid][pMember];
	if(FrakCD != 0)
	{
		new fd[128];
		format(fd,sizeof(fd),"Следующий захват территории возможен через %d минут(ы)", FrakCD/60);
		SendClientMessage(playerid,COLOR_RED,fd);
		return 1;
	}
	if(!IsInAllowed(playerid)) return SendClientMessage(playerid, COLOR_RED, "Ваша банда уже участвует в захвате зон!");
	new str[128];
 	for(new i = 0; i < sizeof(GZInfo); i++)
	{
  		if(IsPlayerToSquare(playerid, GZInfo[i][gCoords][0], GZInfo[i][gCoords][1],GZInfo[i][gCoords][2],GZInfo[i][gCoords][3]) && ZoneOnBattle[i] == 0)
		{
			if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_RED, "Нельзя использовать в машине!");
			{
				if(GZInfo[i][gFrak] == faction) return SendClientMessage(playerid, COLOR_RED, "Вы не можете захватывать зону вашей банды!");
				if(GZInfo[i][gFrak] == 0) return SendClientMessage(playerid, COLOR_RED, "Нельзя захватить эту территорию");
				if(GZInfo[i][gFrak] == 7 && b_Capture{0}) return SendClientMessage(playerid, COLOR_RED, "Доступ данной банды к войне за территории закрыт");
				if(GZInfo[i][gFrak] == 8 && b_Capture{1}) return SendClientMessage(playerid, COLOR_RED, "Доступ данной банды к войне за территории закрыт");
				if(GZInfo[i][gFrak] == 9 && b_Capture{2}) return SendClientMessage(playerid, COLOR_RED, "Доступ данной банды к войне за территории закрыт");
				if(GZInfo[i][gFrak] == 10 && b_Capture{3}) return SendClientMessage(playerid, COLOR_RED, "Доступ данной банды к войне за территории закрыт");
				if(GZInfo[i][gFrak] == 11 && b_Capture{4}) return SendClientMessage(playerid, COLOR_RED, "Доступ данной банды к войне за территории закрыт");
				if(IsCapture == true) return SendClientMessage(playerid, COLOR_RED, "Уже происходит захват одной из зон. Дождитесь окончания!");
				if(IsPlayerInBandOnline(faction) < 5) return SendClientMessage(playerid, COLOR_RED, "В вашей банде мало игроков онлайн, нужно минимум 2!");
				if(IsPlayerInBandOnline(GZInfo[i][gFrak]) < 5)
				{
					format(str, sizeof(str), "У банды \"%s\" мало игроков,нужно минимум 5!", GetGangName(GZInfo[i][gFrak]));
					SendClientMessage(playerid, COLOR_RED, str);
					return 1;
				}
    			format(str, sizeof(str), "На Вашу территорию напала %s, У Вас есть 10 минут, чтобы отстоять её.", Fraction_Name[PI[playerid][pMember]]);
				SendFMes(GZInfo[i][gFrak], COLOR_BLUE, str);
				format(str, sizeof(str), "Если по истечению времени Вас не будет на территории, она перейдет к %s",Fraction_Name[PI[playerid][pMember]]);
				SendFMes(GZInfo[i][gFrak], COLOR_RED, str);
				format(str, sizeof(str), "[R] %s [%d] напал на территорию ОПГ '%s'",GetName(playerid),playerid,GetGangName(GZInfo[i][gFrak]));
				SendFMes(faction, COLOR_LIME, str);
    			GangZoneFlashForAll(GangZone[i],GetGangZoneColor(faction));
				GZSafeTime[i] = 840;
				FrakCD = 7200;
				GZInfo[i][gNapad] = faction;
				ZoneOnBattle[i] = 1;
				GangInfo[faction][capture] = 1;
				GangInfo[GZInfo[i][gFrak]][capture] = 1;
				GangInfo[GZInfo[i][gFrak]][captureid] = faction;
				GangInfo[faction][captureid] = faction;
				GangInfo[faction][gangnumber] = 1;
				GangInfo[GZInfo[i][gFrak]][gangnumber] = 0;
				CaptureStart(faction, GZInfo[i][gFrak]);
		        format(str, sizeof(str), "[A] ОПГ '%s' напала на территорию ОПГ '%s'",GetGangName(faction),GetGangName(GZInfo[i][gFrak]));
		        SendAdminMessage(COLOR_GREY, str);
			}
		}
	}
	return 1;
}*/
CMD:break(playerid, params[])
{
	if(IsPlayerInAnyVehicle(playerid) == 1) return SendClientMessage(playerid, COLOR_RED, "Вы находитесь в транспорте");
	if(GetPlayerInterior(playerid) != 0 || GetPlayerVirtualWorld(playerid) != 0) return SendClientMessage(playerid, COLOR_RED, "Вы находитесь в интерьере");

	if(PI[playerid][pMember] != TEAM_PPS)
		return SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная возможность");

	if(!strlen(params)) return SendClientMessage(playerid, COLOR_LIME, "Информация:{ffffff}  /break [(1-4)]");
	extract params -> new type;

	if(!(1 <= type <= 4))
		return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/break [(1-4)]");

	if(IsValidDynamicObject(bobject[playerid]))
    {
        DestroyDynamicObject(bobject[playerid]);
        DestroyDynamic3DTextLabel(btext[playerid]);
        bobject[playerid] = 0;
		return 1;
    }

	new Float:px,Float:py,Float:pz;
	GetPlayerPos(playerid, px, py, pz);

	new Float:angle;
	GetPlayerFacingAngle(playerid, angle);

	px += floatsin(-angle, degrees);
	py += floatcos(-angle, degrees);

	new string[15];
	format(string, sizeof string, "(( %d ))", playerid);

	btext[playerid] = CreateDynamic3DTextLabel(string, 0xBB995580, px, py, pz-1.0, 5.0, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, 0, 0, -1, 5.0);

	switch(type)
	{
		case 1: bobject[playerid] = CreateDynamicObject(1228, px, py, pz-0.7, 0.0, 0.0, angle-180.0);
		case 2: bobject[playerid] = CreateDynamicObject(1237, px, py, pz-1.0, 0.0, 0.0, angle-180.0);
		case 3: bobject[playerid] = CreateDynamicObject(1423, px, py, pz-1.0, 0.0, 0.0, angle-180.0);
		case 4: bobject[playerid] = CreateDynamicObject(1422, px, py, pz-0.82, 0.0, 0.0, angle-180.0);
	}
	return 1;
}
CMD:conus(playerid)
{
	if(IsPlayerInAnyVehicle(playerid) == 1) return SendClientMessage(playerid, COLOR_RED, "Вы находитесь в транспорте");
	if(GetPlayerInterior(playerid) != 0 || GetPlayerVirtualWorld(playerid) != 0) return SendClientMessage(playerid, COLOR_RED, "Вы находитесь в интерьере");

	if(PI[playerid][pMember] != TEAM_PPS)
		return SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная возможность");

	if(PI[playerid][pRank] < 3)
		return SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная возможность");

	if(totalconus == 100)
		return SendClientMessage(playerid, COLOR_RED, "Конусы закончились");

	if(pdobject[playerid] == 5)
		return SendClientMessage(playerid, COLOR_RED, "Вы установили максимальное количество конусов");

	totalconus ++;
	pdobject[playerid] ++;

	new Float:px,Float:py,Float:pz;
	GetPlayerPos(playerid, px, py, pz);

	new Float:angle;
	GetPlayerFacingAngle(playerid, angle);

	px += floatsin(-angle, degrees);
	py += floatcos(-angle, degrees);

	conus[totalconus] = CreateDynamicObject(1238, px, py, pz-0.69, 0.0, 0.0, angle-180.0);

	return Streamer_Update(playerid, STREAMER_TYPE_OBJECT);
}

CMD:delconus(playerid)
{
	if(IsPlayerInAnyVehicle(playerid) == 1) return SendClientMessage(playerid, COLOR_RED, "Вы не можете использовать функцию в данный момент");
	if(GetPlayerInterior(playerid) != 0 || GetPlayerVirtualWorld(playerid) != 0) return SendClientMessage(playerid, COLOR_RED, "Вы не должны находится в помещениях");

	if(PI[playerid][pMember] != TEAM_PPS)
		return SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная возможность");

	if(PI[playerid][pRank] < 3)
		return SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная возможность");

	new Float: cx, Float: cy, Float: cz;

	for(new i = 0; i < 100; i++)
	{
		if(IsValidDynamicObject(conus[i]))
		{
			GetDynamicObjectPos(conus[i], cx, cy, cz);

			if(IsPlayerInRangeOfPoint(playerid, 1.0, cx, cy, cz))
			{
				DestroyDynamicObject(conus[i]);
				conus[i] = -1;
				SendClientMessage(playerid, 0x99CC00FF, "Вы убрали конус");
				totalconus --;
				pdobject[playerid] --;
				return 1;
			}
		}
	}
	return Streamer_Update(playerid, STREAMER_TYPE_OBJECT);
}
CMD:su(playerid, params[]) return callcmd::suspect(playerid, params);
CMD:suspect(playerid, params[])
{
	if(!IsACop(playerid)) return SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	else if(sscanf(params, "us", params[0], params[1])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/su [ид игрока] [Преступление]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(PI[params[0]][pJail] > 0) return SendClientMessage(playerid, COLOR_RED, "Данный игрок уже находится в тюрьме!");
	else if(IsACop(params[0])) return SendClientMessage(playerid, COLOR_RED, "Данный человек законник");
	else if(PI[playerid][pMember] != TEAM_FSIN && PI[params[0]][pWanted] >= 6) return SendClientMessage(playerid, COLOR_RED, "Вы не можете дать более 3-ех звезд!");
	else if(PI[playerid][pMember] == TEAM_FSIN && PI[params[0]][pWanted] >= 6) return SendClientMessage(playerid, COLOR_RED, "Вы не можете дать более 6-ти звезд!");
	PI[params[0]][pWanted]++;
	if(PI[params[0]][pWanted]-1 == 0) PI[params[0]][pWantedTime] = 1800 + random(300);
	SetPlayerWantedLevel(params[0],PI[params[0]][pWanted]);
	SetPlayerCriminal(params[0], GetName(playerid), params[1]);
	return 1;
}

CMD:frisk(playerid, params[])
{
	if(IsACop(playerid) || PI[playerid][pMember] == TEAM_VDV)
	{
		if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация:{ffffff} /frisk [id игрока]");
		else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
		else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
		else if(playerid == params[0]) return SendClientMessage(playerid, COLOR_RED, "Вы не можете обыскать себя!");
		else if(!IsPlayerInRangeOfPlayer(8.0, playerid, params[0])) return SendClientMessage(playerid, COLOR_RED, "Игрок слишком далеко!");
		SendMes(playerid, COLOR_WHITE, "Имущество %s", GetName(params[0]));
		SendMes(playerid, COLOR_RED, "- %s", (PI[params[0]][pPatron]) ? ("Патроны") : ("Пусто"));
		SendMes(playerid, COLOR_RED, "- %s", (PI[params[0]][pGunAmount]) ? ("Метал") : ("Пусто"));
		SendMes(playerid, COLOR_RED, "- %s", (PI[params[0]][pDrugs]) ? ("Наркотики") : ("Пусто"));
		new string[100];
		if(PI[playerid][pSex] == 1) format(string, sizeof(string), "достал перчатки и обыскал %s", GetName(params[0]));
		else format(string, sizeof(string), "достала перчатки и обыскала %s", GetName(params[0]));
		MeAction(playerid, string);
	}
	else SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	return 1;
}
CMD:ticket(playerid, params[])
{
	if(!IsACop(playerid)) return SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	else if(sscanf(params, "iis", params[0], params[1], params[2])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/ticket [id игрока] [сумма] [причина]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(!IsPlayerInRangeOfPlayer(8.0, playerid, params[0])) return SendClientMessage(playerid, COLOR_RED, "Игрок слишком далеко!");
	else if(params[1] < 1 || params[1] > 10000) return SendClientMessage(playerid, COLOR_RED, "Сумма штрафа от 1 рублей до 10000 рублей");
	SendMes(playerid, COLOR_BLUE, "Вы выписали штраф в размере %d руб. на имя %s. Причина: %s", params[1], GetName(params[0]), params[2]);
	SendMes(params[0], COLOR_BLUE, "Офицер %s выписал Вам штраф в размере %d рублей. Причина: %s", GetName(playerid), params[1], params[2]);
	SendClientMessage(params[0], COLOR_WHITE, "{FFFFFF}Нажмите {03c03c}Y {FFFFFF}чтобы согласиться или {ff7518}N {FFFFFF}для отказа");
	SetPVarInt(params[0], "TicketPlayer", playerid);
	SetPVarInt(params[0], "TicketSumma", params[1]);
	SetPVarInt(params[0], "KeyTicket", 1);
	return 1;
}
CMD:canceldice(playerid)
{
    if(KostiName[playerid] == INVALID_PLAYER_ID) return SendClientMessage(playerid, COLOR_DARKORANGE, "Вы не предлагали никому игру!");
	Predlog[playerid] = Predlog[KostiName[playerid]] =
	KostiMoney[playerid] = KostiMoney[KostiName[playerid]] =
	ZapretDice[playerid] = ZapretDice[KostiName[playerid]] = 0;
	SendClientMessage(KostiName[playerid], COLOR_RED, "Игрок отказался от ставки!");
	SendClientMessage(playerid, COLOR_RED, "Вы отказались играть!");
	KostiName[KostiName[playerid]] = KostiName[playerid] = INVALID_PLAYER_ID;
	return true;
}
cmd:discord(playerid, params[]) {
	if(CheckAdmin(playerid, 8)) return 1;
	new smessage[256];
	sscanf(params, "s[255]", smessage);
	DCC_SendChannelMessage(p_Admins, smessage);
	return 1;
}
CMD:dice(playerid, params[])
{
    if(!IsPlayerInRangeOfPoint(playerid,70.0,-925.0152,2863.8723,1043.8800)) return SendClientMessage(playerid, COLOR_GREY, "Вы должны находиться в казино!");
    else if(KostiMoney[playerid] != 0 || ZapretDice[playerid] != 0) return SendClientMessage(playerid, COLOR_DARKORANGE, "Вам уже предложили игру!");
    else if(sscanf(params, "ud", params[0], params[1])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/dice [ид игрока] [сумма]");
    else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_DARKORANGE, PlayerIsNotOnline);
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_DARKORANGE, PlayerIsNotAuthorized);
    else if(params[1] < 500 || params[1] > 5000000) return SendClientMessage(playerid, COLOR_DARKORANGE, "Минимальная ставка 500 рублей, максимальная 5 000 000 рублей");
    else if(ZapretDice[params[0]] == 1) return SendClientMessage(playerid, COLOR_DARKORANGE, "В данный момент игрок не может играть!");
	else if(!ProxDetectorS(6.0, playerid, params[0])) return SendClientMessage(playerid, COLOR_DARKORANGE, "Игрок не рядом с Вами!");
    else if(params[0] == playerid) return SendClientMessage(playerid, COLOR_DARKORANGE, "Самому себе нельзя предлагать игру");
    new string[128];
    format(string, sizeof(string), "Вы предложили %s бросить кости на %i рублей", GetName(params[0]), params[1]);
    SendClientMessage(playerid, COLOR_BLUE, string);
    format(string, sizeof(string), "%s предлагает Вам бросить кости. Ставка: %i рублей", GetName(playerid), params[1]);
    SendClientMessage(params[0], COLOR_BLUE, string);
    SendClientMessage(params[0], COLOR_WHITE, PlayerAccess);
    ZapretDice[playerid] = ZapretDice[params[0]] = 1;
    KostiName[playerid] = params[0];
    KostiName[params[0]] = playerid;
    KostiMoney[params[0]] = params[1];
    KostiMoney[playerid] = params[1];
    Predlog[playerid] = 1;
    return 1;
}

/*CMD:dice(playerid, params[])
{
    if(!IsPlayerInRangeOfPoint(playerid,30.0,1603.8601,987.0284,1819.0200) && !IsPlayerInRangeOfPoint(playerid,30.0, 503.0951,-25.0348,1907.3684)) return SendClientMessage(playerid, COLOR_RED, "Вы должны находиться в казино!");
    else if(KostiMoney[playerid] != 0 || ZapretDice[playerid] != 0) return SendClientMessage(playerid, COLOR_RED, "Вам уже предложили игру!");
    else if(sscanf(params, "ud", params[0], params[1])) return SendClientMessage(playerid, 0xFFCC00AA, "•[Подсказка] {FFFFFF}Введите: /dice [id игрока] [ставка (в фишках)]");
    else if(!IsPlayerConnected(params[0])) return SendMess(playerid, MSG_PLAYER_OFFLINE);
	else if(PlayerLogged[params[0]] == false) return SendMess(playerid, MSG_PLAYER_NOT_LOGGED);
    else if(params[1] < 1000 || params[1] > 10000000) return SendClientMessage(playerid, COLOR_RED, "Минимальная ставка 1.000 фишек, максимальная 10.000.000 фишек");
    else if(ZapretDice[params[0]] == 1) return SendClientMessage(playerid, COLOR_RED, "В данный момент игрок не может играть!");
	else if(!ProxDetectorS(6.0, playerid, params[0])) return SendClientMessage(playerid, COLOR_RED, "Игрок не рядом с Вами!");
    else if(params[0] == playerid) return SendClientMessage(playerid, COLOR_RED, "Самому себе нельзя предлагать игру");
	else if(PhoneNumbers[playerid][0] < params[1]) return SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно фишек. Вы можете купить фишки в обменнике казино");
	SendClientMessage(playerid, COLOR_YELLOW, "Для того чтобы отказатся от своей ставки, введите /canceldice");
    new string[128];
    format(string, sizeof(string), "Вы предложили %s бросить кости. Ставка: %i", GetName(params[0]), params[1]);
    SendClientMessage(playerid, COLOR_BLUE, string);
    format(string, sizeof(string), "%s предлагает бросить кости. Ставка: %i", GetName(playerid), params[1]);
    SendClientMessage(params[0], COLOR_BLUE, string);
    SendMess(params[0], MSG_PLAYER_ACCESS);
    ZapretDice[playerid] = ZapretDice[params[0]] = 1;
    KostiName[playerid] = params[0];
    KostiName[params[0]] = playerid;
    KostiMoney[params[0]] = KostiMoney[playerid] = params[1];
    Predlog[playerid] = 1;
    return 1;
}*/

CMD:history(playerid, params[])
{
    if(PI[playerid][pAdmin] < ADM_SUPER_ADMIN) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	new nickname[MAX_PLAYER_NAME];
	if(sscanf(params, "s[24]", nickname)) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/history [имя игрока]");
	new string[128];
	format(string, sizeof(string), "SELECT `id` FROM `accounts` WHERE `name` = '%s'", nickname);
	mysql_tquery(dbHandle, string, "OnPlayerHistoryName", "d", playerid);
	return 1;
}
/*CMD:need(playerid)
{
	new string[256];
	format(string, sizeof(string), "{FFFFFF}Сытость:	{FFCC00}%d%%\n{FFFFFF}Жажда:		{FFCC00}%d%%\n{FFFFFF}Туалет:		{FFCC00}%d%%\n{FFFFFF}Гигиена:	{FFCC00}%d%%", PI[playerid][pHunger], PI[playerid][pZhazhda], PI[playerid][pTualet], PI[playerid][pGigiena]);
	ShowPlayerDialog(playerid, D_NULL, DIALOG_STYLE_MSGBOX, "{FFCC00}Нужды", string, "Закрыть", "");
	return 1;
}*/
//==============================================================================
CMD:stats(playerid)
{
    ShowPlayerStatsDialog(playerid, playerid);
	return 1;
}
//==============================================================================
CMD:mm(playerid) return callcmd::menu(playerid);
CMD:mn(playerid) return callcmd::menu(playerid);
CMD:menu(playerid)
{   
    PlayerPlaySound(playerid, 1054, 0.0, 0.0, 0.0);
	ShowPlayerMenuDialog(playerid);
	return 1;
}
//==============================================================================
CMD:astats(playerid, params[])
{
	if(PI[playerid][pAdmin] < ADM_GRAND) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");

	if(sscanf(params, "i", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/astats [ID администратора]");

	if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	if(PI[params[0]][pAdmin] < 1) return SendClientMessage(playerid, COLOR_RED, "Этот игрок не является администратором");

    new stats_text [ 1364 ], str_stats [ 128 ], h, m, s;

	gettime(h, m, s);

	format(str_stats, sizeof str_stats, "{FFFFFF}Статистика администратора:\t\t{FFCC00}%s\n\n", PI[params[0]][pName]), strcat(stats_text, str_stats);
	format(str_stats, sizeof str_stats, "{FFFFFF}Кикнул игроков:\t\t{ffffff}%d раз\n", PI[params[0]][pCKICK]), strcat(stats_text, str_stats);
	format(str_stats, sizeof str_stats, "{FFFFFF}Забанил игроков:\t\t{ffffff}%d раз\n", PI[params[0]][pCBAN]), strcat(stats_text, str_stats);
	format(str_stats, sizeof str_stats, "{FFFFFF}Посадил в JAIL:\t\t{ffffff}%d раз\n", PI[params[0]][pCJAIL]), strcat(stats_text, str_stats);
	format(str_stats, sizeof str_stats, "{FFFFFF}Ответил на репорт:\t\t{ffffff}%d раз\n", PI[params[0]][pCREPORT]), strcat(stats_text, str_stats);
	format(str_stats, sizeof str_stats, "{FFFFFF}Выдал молчанку:\t\t{ffffff}%d раз\n", PI[params[0]][pCMUTE]), strcat(stats_text, str_stats);
	format(str_stats, sizeof str_stats, "{FFFFFF}Слэпнул игроков:\t\t{ffffff}%d раз\n", PI[params[0]][pCSLAP]), strcat(stats_text, str_stats);
	format(str_stats, sizeof str_stats, "{FFFFFF}Создал автомобилей:\t\t{ffffff}%d шт.", PI[params[0]][pCVEH]), strcat(stats_text, str_stats);
	ShowPlayerDialog(playerid, dialog_SHOW_ASTAT, DIALOG_STYLE_MSGBOX, "{FFCC00}Статистика администратора", stats_text, "Закрыть", "");
	return 1;
}
CMD:viphelp(playerid)
{
	if(!PI[playerid][pVip]) return SendClientMessage(playerid, COLOR_RED, "Вы не имеете VIP статус");
	new str[68], string[600];
	new year, month, day;
	new current_date = getdate(year, month, day);
	new time_left = PI[playerid][pVipTime] - current_date;
	//SendClientMessage(playerid, 0xff66ccFF, "Срок действия VIP аккаунта:{FFFFFF} %i дней", time_left);
	format(str, sizeof(str), "{FFCC00}Вы владеете VIP статусом. Осталось дней: %i\n\n", time_left);
	strcat(string, str);
	strcat(string, "{FFFFFF}Ниже приведены ваши преимущества.\n");
	strcat(string, "1) Ускоренное лечение в больнице\n");
	strcat(string, "2) Удаление тюнинга с личного транспорта (/removetuning)\n");
	strcat(string, "3) Возможность покинуть организацию самому (/leave)\n");
	strcat(string, "4) Каждую 4-ую зарплату +1 респект\n");
	strcat(string, "5) Прокачка скиллов в 2 раза быстрей\n");
	strcat(string, "6) /makegun - создание оружие\n");
	strcat(string, "7) Уменьшенное время на отправку вопроса/репорта\n");
	strcat(string, "8) Возможность уволиться с работы не на месте устройства (/quitjob)\n");
	strcat(string, "9) /vsellgun - продажа оружие игроку");
	strcat(string, "10) Возможность установить до 9 акссесуаров одновременно (без VIP только 3)");
	ShowPlayerDialog(playerid, D_NULL, DIALOG_STYLE_MSGBOX, "{FFCC00}VIP статус", string, "Закрыть", "");
	return 1;
}

cmd:addacc(playerid, params[]) {
	if(CheckAdmin(playerid, 5)) return SendErr(playerid, "0");
	new accid, id;
	if(sscanf(params, "dd", id, accid)) return SendClientMessage(playerid, -1, "Использование: /addacc [id] [id акссесуара]");
	if(!IsValidAcc(accid)) return SendErr(playerid, "Такой акссесуар не найден");
	if(!PlayerLogged[id]) return SendErr(playerid, "Игрок не найден или не авторизован");
	AddAccToPlayer(id, accid, true);
	SendMes(playerid, COLOR_ADMIN, "Вы выдали акссесуар %s игроку %s", GetAccName(accid), GetName(id));
	return 1;
}



CMD:apanel(playerid)
{
	if(PI[playerid][pAdmin] < ADM_MODER) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
   	ShowPlayerDialog(playerid, D_APANEL, 2, "{FFCC00}Панель администратора", "\
   	{ffffff}VIP игроки\t\t\t{63BD4E}[Online]\n\
 	{ffffff}Список администрации\t{63BD4E}[Online]\n\
 	{ffffff}Весь список администрации\n\
 	{ffffff}Настройки администратора\t{FFCC00}[4LVL+]\n\
  	{ffffff}Управление сервером\
	", "Выбрать", "Отмена");
	return 1;
}
CMD:get(playerid, params[])
{
    if(PI[playerid][pAdmin] < ADM_SUPER_MODER) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/get [id игрока]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	new string[64], string_dialogue[512];
	format(string, sizeof(string), "{FFCC00}Номер аккаунта:\t%i\n", PI[params[0]][pID]);
	strcat(string_dialogue, string);
	format(string, sizeof(string), "{FFCC00}Рег.дата:\t%s\n", PI[params[0]][pRegData]);
	strcat(string_dialogue, string);
	format(string, sizeof(string), "{FFCC00}Рег.IP:\t%s\n", PI[params[0]][pRegIP]);
	strcat(string_dialogue, string);
	format(string, sizeof(string), "{FFCC00}Последний IP:\t%s\n", PI[params[0]][pLastIP]);
	strcat(string_dialogue, string);
	format(string, sizeof(string), "{FFCC00}Уровень:\t\t%i\n", PI[params[0]][pLevel]);
	strcat(string_dialogue, string);
	format(string, sizeof(string), "{FFCC00}Наличные:\t\t%i\n", PI[params[0]][pCash]);
	strcat(string_dialogue, string);
	format(string, sizeof(string), "{FFCC00}Банк:\t%i\n", PI[params[0]][pBank]);
	strcat(string_dialogue, string);
	format(string, sizeof(string), "{FFCC00}Донат:\t\t\t%i\n", PI[params[0]][pCredits]);
	strcat(string_dialogue, string);
	ShowPlayerDialog(playerid, D_NULL, DIALOG_STYLE_MSGBOX, GetName(params[0]), string_dialogue, "Закрыть", "");
	return 1;
}

CMD:offget(playerid, params[])
{
    if(PI[playerid][pAdmin] < ADM_ADMIN) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	new playername[MAX_PLAYER_NAME];
	if(sscanf(params, "s[24]", playername)) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/offget [имя игрока]");
	else if(GetPlayerID(playername) != INVALID_PLAYER_ID) return SendClientMessage(playerid, COLOR_RED, "Игрок в сети, используйте команду /get");
	format(query, sizeof(query), "SELECT * FROM `accounts` WHERE `name`='%s'", playername);
	mysql_tquery(dbHandle, query, "OnPlayerOffget", "is", playerid, playername);
	return 1;
}

/*CMD:amusic(playerid,params[])
{
    if(PI[playerid][pAdmin] < ADM_SUPER_ADMIN) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(PI[playerid][pAdmin] < 1) return SendClientMessage(playerid, COLOR_RED, "[MySQL] Впишите себя в таблице admin");
    new radio[256], distance;
	if(MUSICACTIVE == true)
	{
	    foreach(new i: Player)
		{
		    if(!PlayerLogged[i] || activemusic[i] == false) continue;
		    activemusic[i] = false;
			StopAudioStreamForPlayer(i);
		}
		format(radio, sizeof radio, "[A] %s [%d] выключил музыку", GetName(playerid), playerid);
		SendAdminMessage(COLOR_GREY, radio);
		MUSICACTIVE = false;
	    return 1;
	}
	if(sscanf(params, "s[256]d", radio, distance)) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/amusic [url] [дистанция]");
	if(strlen(radio) < 10 || strlen(radio) > 256) return SendClientMessage(playerid, COLOR_RED, "Неверное количество символов в URL!");
	if(distance < 2 || distance > 300) return SendClientMessage(playerid, COLOR_RED, "Неверно указана дистанция!");
	new Float:X, Float:Y, Float:Z;
	GetPlayerPos(playerid, X, Y, Z);
	MUSICACTIVE = true;
	MUSICX = X;
	MUSICY = Y;
	MUSICZ = Z;
	MUSICDIST = distance;
	strmid(MUSICURL, radio, 0, strlen(radio), 256);
	activemusic[playerid] = true;
	foreach(new i: Player) { PlayAudioStreamForPlayer(i, radio, X, Y, Z, distance, 1); }
	format(radio, sizeof radio, "[A] %s [%d] поставил музыку (дистанция %d м)", GetName(playerid), playerid, distance);
    SendAdminMessage(COLOR_GREY, radio);
	return true;
}*/

CMD:ears(playerid,params[])
{
    if(PI[playerid][pAdmin] < ADM_SUPER_ADMIN) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(PI[playerid][pAdmin] < 1) return SendClientMessage(playerid, COLOR_RED, "[MySQL] Впишите себя в таблице admin");
    if(!AdminInfo[playerid][admSmsEars])
    {
        SendClientMessage(playerid, COLOR_BLUE, "Вы включили прослушку SMS. Информация будет выводиться только Вам");
        AdminInfo[playerid][admSmsEars] = 1;
    }
    else
    {
        SendClientMessage(playerid, COLOR_BLUE, "Вы отключили прослушку SMS сообщений");
        AdminInfo[playerid][admSmsEars] = 0;
    }
    return 1;
}
CMD:rears(playerid,params[])
{
    if(PI[playerid][pAdmin] < ADM_SUPER_ADMIN) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(PI[playerid][pAdmin] < 1) return SendClientMessage(playerid, COLOR_RED, "[MySQL] Впишите себя в таблице admin");
    if(!AdminInfo[playerid][admrEars])
    {
        SendClientMessage(playerid, COLOR_BLUE, "Вы включили прослушку рации. Информация будет выводиться только Вам");
        AdminInfo[playerid][admrEars] = 1;
    }
    else
    {
        SendClientMessage(playerid, COLOR_BLUE, "Вы отключили прослушку рациий");
        AdminInfo[playerid][admrEars] = 0;
    }
    return 1;
}
CMD:readsms(playerid,params[])
{
    if(PI[playerid][pMember] < TEAM_FSIN) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(PI[playerid][pAdmin] < 1) return SendClientMessage(playerid, COLOR_RED, "[MySQL] Впишите себя в таблице admin");
    if(!AdminInfo[playerid][fsbSmsEars])
    {
        SendClientMessage(playerid, COLOR_BLUE, "Вы включили прослушку SMS. Входящие/исходящие SMS будут отображаться Вам");
        AdminInfo[playerid][fsbSmsEars] = 1;
    }
    else
    {
        SendClientMessage(playerid, COLOR_BLUE, "Вы отключили прослушку SMS сообщений");
        AdminInfo[playerid][fsbSmsEars] = 0;
    }
    return 1;
}
CMD:unmask(playerid, params[])
{
    if(!IsACop(playerid)) return SendClientMessage(playerid, COLOR_RED, "Вам недоступна эта команда!");
    if(UnMaskReset[playerid] > 0) return 1;
	UnMaskReset[playerid] = 3;
	foreach(new i: Player)
	{
 		if(!PlayerLogged[i]) continue;
 		if(pCuff[i][pCuffee] == i)
 		{
			if(!PlayerUseMask[i]) continue;
			if(ProxDetectorS(2.0, playerid, i) && GetPlayerFaceToPlayer(playerid, i, 30.0))
			{
				new string[100];
				PlayerUseMask[i] = false;
				format(string, sizeof(string), "Вы сняли маску с игрока %s", GetName(i));
				SendClientMessage(playerid, COLOR_LIGHTBLUE, string);
				format(string, sizeof(string), "%s снял с Вас маску", GetName(playerid));
				SendClientMessage(i, COLOR_RED, string);
				format(string, sizeof(string), "снял маску с игрока %s", GetName(i));
				MeAction(playerid, string);
				break;
			}
	    }
	    else SendClientMessage(playerid, COLOR_RED, "Игрок должен быть в наручниках");
    }
	return 1;
}
//==============================================================================
CMD:tazer(playerid, params[])
{
	if(!IsACop(playerid)) return SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	else if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/tazer [id игрока]");
 	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрк не ввел пароль!");
	else if(!ProxDetectorS(10.0, playerid, params[0])) return SendClientMessage(playerid, COLOR_RED, "Вы далеко друг от друга");
	else if(playerid == params[0]) return SendClientMessage(playerid, COLOR_RED, "Нельзя себя ударить электрошокером");
	new string[128];
	if(PI[playerid][pSex] == 1) format(string, sizeof(string), "ударил электрошоком %s'a", GetName(params[0]));
	else format(string, sizeof(string), "ударила электрошоком %s'a", GetName(params[0]));
	MeAction(playerid, string);
	ClearAnimations(params[0], 1);
	ApplyAnimation(params[0], "CRACK", "crckdeth2", 4.0, 0, 1, 1, 1, 0, 1);
	
	tazer_off[params[0]] = 15;
	
	SetPVarInt(params[0], "Tazer", 1);
	TogglePlayerControllable(params[0], 0);
	return 1;
}
//==============================================================================
CMD:gotome(playerid, params[])
{
    if(!IsACop(playerid)) return SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	else if(GetPlayerState(playerid) == 2) return SendClientMessage(playerid, COLOR_RED, "Вы не должны быть в авто!");
	else if(sscanf(params, "d", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/gotome [id игрока]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(IsPlayerInAnyVehicle(params[0])) return SendClientMessage(playerid, COLOR_RED, "Игрок не должен находится в транспорте!");
	else if(params[0] == playerid) return SendClientMessage(playerid, COLOR_RED, "Вы не можете вести самого себя!");
	if(pCuff[params[0]][pCuffee] == params[0])
	{
		if(ProxDetectorS(10.0, playerid, params[0]))
  			{
     			new Float:xe, Float:ye, Float:ze;
        		GetPlayerPos(playerid,xe,ye,ze);
          		SetPlayerPos(params[0],xe+0.5,ye+0.5,ze);
          		FreezePlayer(params[0], 5000);
      		    SendClientMessage(params[0],COLOR_RED,"Вас насильно тащат за собой!");
      		}
	 	else
	 	{
	  		SendClientMessage(playerid, COLOR_RED, "Вы далеко друг от друга");
	  	}
	}
	else
	{
		SendClientMessage(playerid, COLOR_RED, "Игрок не в наручниках");
 		return 1;
	}
	return 1;
}
CMD:cuff(playerid, params[])
{
	if(!IsACop(playerid)) return SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	else if(PlayerTied[playerid] == true) return SendClientMessage(playerid, COLOR_RED, "Вы связаны, Вы не можете одеть наручники!");
	else if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/cuff [id игрока]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(!ProxDetectorS(8.0, playerid, params[0])) return SendClientMessage(playerid, COLOR_RED, "Вы далеко друг от друга");
	else if(params[0] == playerid) return SendClientMessage(playerid, COLOR_RED, "Вы не можете надеть наручники на себя!");
	else if(pCuff[params[0]][pCuffee] == params[0]) return SendClientMessage(playerid, COLOR_RED, "Игрок уже в наручниках!");
	if(GetPVarInt(params[0], "Tazer") > 0)
	{
		SetPVarInt(params[0], "Tazer", 0);
		TogglePlayerControllable(params[0], 1);
		SetPlayerSpecialAction(params[0], SPECIAL_ACTION_NONE);
	}
	SendMes(playerid, COLOR_BLUE, "Вы надели наручники на %s", GetName(params[0]));
	if(PI[playerid][pSex] == 1) SendMes(params[0], COLOR_BLUE, "%s надел на Вас наручники!", GetName(playerid));
	else SendMes(params[0], COLOR_BLUE, "%s надела на Вас наручники!", GetName(playerid));
	SetPlayerSpecialAction(params[0], SPECIAL_ACTION_CUFFED);
	SetPlayerAttachedObject(params[0], 0, 19418, 6, -0.011000, 0.028000, -0.022000, -15.600012, -33.699977, -81.700035, 0.891999, 1.000000, 1.168000);
	pCuff[params[0]][pCuffee] = pCuff[playerid][pCuffee] = params[0];
	pCuff[params[0]][pCuffer] = pCuff[playerid][pCuffer] = playerid;
	GameTextForPlayer(playerid, "~r~cuffed", 5000, 5);
	GameTextForPlayer(params[0], "~r~cuffed", 5000, 5);
	new string[64];
	if(PI[playerid][pSex] == 1) format(string, sizeof(string), "надел наручники на %s", GetName(params[0]));
	else format(string, sizeof(string), "надела наручники на %s", GetName(params[0]));
	MeAction(playerid, string);
	return 1;
}

CMD:uncuff(playerid, params[])
{
	if(!IsACop(playerid)) return SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	else if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/uncuff [id игрока]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(!ProxDetectorS(8.0, playerid, params[0])) return SendClientMessage(playerid, COLOR_RED, "Вы далеко друг от друга");
	else if(params[0] == playerid) return SendClientMessage(playerid, COLOR_RED, "Вы не можете снять наручники с себя!");
	else if(pCuff[params[0]][pCuffer] == INVALID_PLAYER_ID) return SendClientMessage(playerid, COLOR_RED, "Игрок не в наручниках!");
	SendMes(playerid, COLOR_BLUE, "Вы сняли наручники с %s", GetName(params[0]));
	if(PI[playerid][pSex] == 1) SendMes(params[0], COLOR_BLUE, "%s снял с Вас наручники", GetName(playerid));
	else SendMes(params[0], COLOR_BLUE, "%s сняла с Вас наручники", GetName(playerid));
	SetPlayerSpecialAction(params[0], SPECIAL_ACTION_NONE);
	RemovePlayerAttachedObject(params[0], 0);
	pCuff[params[0]][pCuffer] = pCuff[params[0]][pCuffee] = pCuff[playerid][pCuffee] = pCuff[playerid][pCuffer] = INVALID_PLAYER_ID;
	GameTextForPlayer(playerid, "~g~uncuffed", 5000, 5);
	GameTextForPlayer(params[0], "~g~uncuffed", 5000, 5);
	TogglePlayerControllable(params[0], 1);
	new string[64];
	if(PI[playerid][pSex] == 1) format(string, sizeof(string), "снял наручники с %s", GetName(params[0]));
	else format(string, sizeof(string), "сняла наручники с %s", GetName(params[0]));
	MeAction(playerid, string);
	return 1;
}

CMD:search(playerid, params[])
{
	if(!IsACop(playerid)) return SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	else if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/search [id игрока]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(!PI[params[0]][pWanted]) return SendClientMessage(playerid, COLOR_RED, "Игрок не находится в розыске!");
	if(GetPVarInt(playerid, "findplayer") == 1)
	{
		DeletePVar(playerid, "findplayer");
		SendClientMessage(playerid, COLOR_BLUE, "Вы отключили метку на карте");
		DisablePlayerRaceCheckpoint(playerid);
	}
	else
	{
		SetPVarInt(playerid, "findplayer", 1);
		new string[51];
		format(string, sizeof(string), "Подозреваемый %s отмечен У Вас на радаре красной точкой, отправляйтесь туда", GetName(params[0]));
		SendClientMessage(playerid, COLOR_BLUE, string);
		new Float:pos[3];
		GetPlayerPos(params[0], pos[0], pos[1], pos[2]);
		SetPlayerRaceCheckpoint(playerid, 1, pos[0], pos[1], pos[2], 0.0, 0.0, 0.0, 5.0);
	}
	return 1;
}
//==============================================================================
CMD:pos(playerid, params[])
{
    if(PI[playerid][pAdmin] < 6) return 1;
    else if(PI[playerid][pAdmin] < 1) return SCM(playerid, COLOR_RED, "[MySQL] Впишите себя в таблице admin");

	new Float: x, Float: y, Float: z, interior, virtual_world;

	if(sscanf(params, "P<,>fff", x, y, z))
		return SendClientMessage(playerid, COLOR_LIME, "Используйте: {FFFFFF}/pos [x y z]");

	sscanf(params, "P<,>{fff}dd", interior, virtual_world);

	SetPlayerInterior(playerid, interior);
	SetPlayerVirtualWorld(playerid, virtual_world);
	return SetPlayerPos(playerid, x, y, z);
}
CMD:arrest(playerid, params[])
{
	if(!IsACop(playerid)) return SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	if(PI[playerid][pMember] == TEAM_PPS && IsPlayerInRangeOfPoint(playerid, 10.0, 402.2726,749.9173,12.0716))
	{
		if(sscanf(params, "ui", params[0], params[1])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/arrest [id игрока] [минуты]");
		else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
		else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
		else if(!IsPlayerInRangeOfPlayer(8.0, playerid, params[0])) return SendClientMessage(playerid, COLOR_RED, "Игрок слишком далеко!");
		else if(PI[params[0]][pJail] > 0) return SendClientMessage(playerid, COLOR_RED, "Данный игрок уже находится в тюрьме!");
		else if(params[0] == playerid) return SendClientMessage(playerid, COLOR_RED, "Вы не можете арестовать самого себя!");
		else if(IsACop(params[0]) || PI[params[0]][pMember] == TEAM_VDV) return SendClientMessage(playerid, COLOR_RED, "Данный игрок полицейский/агент/военный!");
		else if(PI[params[0]][pWanted] == 0) return SendClientMessage(playerid, COLOR_RED, "Игрок должен иметь хотя бы 1 уровень розыска!");
		else if(params[1] < 1 || params[1] > 60) return SendClientMessage(playerid, COLOR_RED, "Количество минут от 1 до 60");
		ResetPlayerWeaponsAC(params[0]);
		PI[params[0]][pJailTime] = params[1];
		PI[params[0]][pWanted] = 0;
		if(pCuff[params[0]][pCuffer] != INVALID_PLAYER_ID)
		{
			new cuffer = pCuff[params[0]][pCuffer];
			SetPlayerSpecialAction(params[0], SPECIAL_ACTION_NONE);
			RemovePlayerAttachedObject(params[0], 0);
			pCuff[params[0]][pCuffer] = INVALID_PLAYER_ID;
			pCuff[params[0]][pCuffee] = INVALID_PLAYER_ID;
			pCuff[cuffer][pCuffee] = INVALID_PLAYER_ID;
			pCuff[cuffer][pCuffer] = INVALID_PLAYER_ID;
		}
		SendMes(playerid, COLOR_LIME, "Вы арестовали %s.", GetName(params[0]));
		SendMes(params[0], COLOR_BLUE, "%s %s [%i] посадил Вас в камеру на %i секунд", Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], GetName(playerid), playerid, params[1]*60);
		SetPlayerInterior(params[0], 0);
		SetPlayerPos(params[0], 449.9814,1320.2548,1723.5298);
		SetPlayerFacingAngle(params[0], 360.0000);
		PI[params[0]][pJail] = 1;
		//PI[params[0]][pJail] = 1;
		SetPlayerWantedLevel(params[0], 0);
		TogglePlayerControllable(params[0], 1);
	}
	return 1;
}
CMD:m(playerid, params[]) return callcmd::megaphone(playerid, params);
CMD:megaphone(playerid, params[])
{
	if(!IsACop(playerid)) return SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	{
		if(isnull(params)) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/m [текст]");
		new string[128];
		format(string, sizeof(string), "<< %s %s: %s >>",Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]],GetName(playerid),params[0]);
		ProxDetectorNew(playerid, 45.0, COLOR_YELLOW, string);
	}
	return 1;
}
CMD:clear(playerid, params[])
{
	if(!IsACop(playerid) || PI[playerid][pRank] < 4) return SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	else if(!IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_RED, "Вы должны находится в транспорте!");
	{
		if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/clear [id игрока]");
		else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
		else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
		else if(params[0] == playerid) return SendClientMessage(playerid, COLOR_RED, "Вы не можете снять себе розыск!");
		else if(!PI[params[0]][pWanted]) return SendClientMessage(playerid, COLOR_RED, "Игрок должен находится в розыске!");
		else if(!IsPlayerInVehicle(params[0], GetPlayerVehicleID(playerid))) return SendClientMessage(playerid, COLOR_RED, "Игрок должен находится с Вами в транспорте!");
		SendMes(playerid, COLOR_LIGHTBLUE, "Вы сняли уровни розыска с %s'а", GetName(params[0]));
		SendMes(params[0], COLOR_LIGHTBLUE, "Офицер %s снял с Вас уровни розыска", GetName(playerid));
		new string[128];
		format(string, sizeof(string), "Офицер %s зашел(ла) в базу данных полиции", GetName(playerid));
		ProxDetectorNew(playerid, 13.0, COLOR_PURPLE, string);
		PI[params[0]][pWanted] = 0;
		SetPlayerWantedLevel(params[0], 0);
	}
	return 1;
}
//==============================================================================
CMD:incar(playerid, params[])
{
    if(!IsACop(playerid) || PI[playerid][pRank] < 1) return SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	else if(GetPlayerState(playerid) != 2) return SendClientMessage(playerid, COLOR_RED, "Вы должны быть в авто!");
	else if(sscanf(params, "ui", params[0], params[1])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/incar [id игрока] [место(1-3)]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(!ProxDetectorS(10.0, playerid, params[0])) return SendClientMessage(playerid, COLOR_RED, "Игрок не рядом с Вами!");
	else if(IsPlayerInAnyVehicle(params[0])) return SendClientMessage(playerid, COLOR_RED, "Игрок не должен находится в транспорте!");
	else if(params[0] == playerid) return SendClientMessage(playerid, COLOR_RED, "Вы не можете затащить в автомобиль самого себя!");
	else if(pCuff[params[0]][pCuffer] == INVALID_PLAYER_ID) return SendClientMessage(playerid, COLOR_RED, "Игрок не в наручниках!");
	else if(params[1] > 3 || params[1] < 1) return SendClientMessage(playerid, COLOR_RED, "Количество мест от 1 до 3!");
	new string[90];
	{
		if(params[0] == playerid) return SendClientMessage(playerid, COLOR_RED, "Вы не можете затащить в автомобиль самого себя!");
		PutPlayerInVehicle(params[0], GetPlayerVehicleID(playerid), params[1]);
		TogglePlayerControllable(params[0], 0);
		FreezePlayer[params[0]] = true;
		if(PI[playerid][pSex] == 1) format(string, sizeof(string), "насильно затащил в авто %s", GetName(params[0]));
		else format(string, sizeof(string), "насильно затащила в авто %s", GetName(params[0]));
		MeAction(playerid, string);
	}
	return true;
}
//==============================================================================
CMD:lic(playerid, params[])
{
	if(sscanf(params, "d", params[0])) SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/lic [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	if(!IsPlayerInRangeOfPlayer(8.0, playerid, params[0])) return SendClientMessage(playerid, COLOR_RED, "Вы далеко от игрока");
	new string[120+MAX_PLAYER_NAME];
    if(playerid == params[0]) {
		new str[64], infostr[300];
		format(str, 64, "Лицензии игрока {FFCC00}%s", GetName(playerid));
		format(infostr, sizeof infostr, \
		"{FFFFFF}Лицензия на вождение транспортом: {FFCC00}%s\n\
		{FFFFFF}Лицензия на управление морским транспортом: {FFCC00}%s\n\
		{FFFFFF}Лицензия на управление летными аппаратами: {FFCC00}%s\n\
		{FFFFFF}Лицензия на оружие {FFCC00}%s\n",\
		(PI[playerid][pAutoLic]) ? ("есть") : ("нет"),\
		(PI[playerid][pLic][SEA_LIC]) ? ("есть") : ("нет"),\
		(PI[playerid][pLic][FLY_LIC]) ? ("есть") : ("нет"),\
		(PI[playerid][pLic][GUN_LIC]) ? ("есть") : ("нет"));

		ShowPlayerDialog(playerid, D_NULL, DIALOG_STYLE_MSGBOX, str, infostr, "Закрыть", "");
		PI[playerid][pShowLic] = INVALID_PLAYER_ID;
		MeAction(playerid, "просматривает свои лицензии");
	}
	else {
		SendMes(playerid, -1, "{FFFFFF}Вы предложили показать ваши лицензии игроку {FFCC00}%s", GetName(params[0]));
		PI[params[0]][pShowLic] = INVALID_PLAYER_ID;
		format(string, 120+MAX_PLAYER_NAME, "%s хочет показать Вам свои лицензии.", GetName(playerid));
		SendInfo(params[0], string);
		SendPond(params[0], "Нажмите {FFCC00}Y{FFFFFF}, чтобы согласиться и {FFCC00}N{FFFFFF}, чтобы отказаться!");
		PI[params[0]][pShowLic] = playerid;
	}
	
	return 1;
}
//==============================================================================
CMD:paintlist(playerid)
{
    new fmt_str[700] = "Убийств\tСмертей\tНик\n";
    for(new i = 0; i < PaintList; i++)
    {
	    format
		(
			fmt_str, sizeof(fmt_str),
			"%d\t%d\t%s",
   			fmt_str,
			PaintInfo[i][Kills],
			PaintInfo[i][Deaths],
			PaintInfo[i][Player_Name]
		);
	}
    ShowPlayerDialog
	(
		playerid, INVALID_DIALOG_ID, DIALOG_STYLE_MSGBOX,
		"Список игроков",
		fmt_str,
		"Закрыть", ""
	);
    return true;
}
//==============================================================================
CMD:showpass(playerid, params[])
{
	if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/showpass [id игрока]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(!IsPlayerInRangeOfPlayer(8.0, playerid, params[0])) return SendClientMessage(playerid, COLOR_RED, "Вы далеко от игрока");
	SendMes(playerid, -1, "{FFFFFF}Вы предложили показать свой паспорт игроку {FFCC00}%s", GetName(params[0]));

	SendMes(params[0], -1, "{FFFFFF}Игрок {FFCC00}%s{FFFFFF} предложил показать Вам паспорт.", GetName(playerid));
	SendPond(params[0], "Нажмите {ADFF2F}Y{FFFFFF}, чтобы согласиться, или {FF0000}N{FFFFFF}, чтобы отказаться.");
	SetPVarInt(params[0], "PassTarget", playerid);
	return 1;
}
//==============================================================================
CMD:eject(playerid, params[])
{
	if(!IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_RED, "Вы не в транспорте");
	else if(GetPlayerState(playerid) != PLAYER_STATE_DRIVER) return SendClientMessage(playerid, COLOR_RED, "Вы должны находится за рулем транспорта!");
	else if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/eject [id игрока]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(playerid == params[0]) return SendClientMessage(playerid, COLOR_RED, "Ты не можешь выкинуть себя!");
	else if(!IsPlayerInVehicle(params[0],GetPlayerVehicleID(playerid))) return SendClientMessage(playerid, COLOR_RED, "Игрок должен находится в Вашем транспорте!");
	SendMes(playerid, COLOR_BLUE, "Вы выкинули из транспорта %s", GetName(params[0]));
	SendMes(params[0], COLOR_LIGHTBLUE, "%s выкинул Вас из транспорта", GetName(playerid));
	new string[100];
	format(string, sizeof(string), "Выкинул из транспорта %s", GetName(params[0]));
	MeAction(playerid, string);
	RemoveFromVehicle(params[0]);
	return 1;
}
//==============================================================================
CMD:payday(playerid, params[])
{
	if(PI[playerid][pAdmin] < ADM_GRAND) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(PI[playerid][pAdmin] < 1) return SendClientMessage(playerid, COLOR_RED, "[MySQL] Впишите себя в таблице admin");
	PayDay();
	return 1;
}
//==============================================================================
CMD:gcontrol(playerid, params[])
{
    if(PI[playerid][pAdmin] < ADM_GRAND) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
    else if(PI[playerid][pAdmin] < 1) return SendClientMessage(playerid, COLOR_RED, "[MySQL] Впишите себя в таблице admin");
	ShowDialogGhetto(playerid);
	return 1;
}
//==============================================================================
CMD:pay(playerid, params[])
{
   	if(GetPVarInt(playerid, "payer") > gettime()) return SendClientMessage(playerid, COLOR_RED, "Не флудите");
	else if(sscanf(params, "ui", params[0], params[1])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/pay [id игрока] [сумма]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(params[0] == playerid) return SendClientMessage(playerid, COLOR_RED, "Нельзя передавать деньги самому себе");
	else if(!ProxDetectorS(3.0, playerid, params[0])) return SendClientMessage(playerid, COLOR_RED, "Игрок слишком далеко!");
	else if(params[1] < 1 || GetMoney(playerid) < params[1]) return SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно денег!");
	else if(PI[playerid][pLevel] == 20 && params[1] > 5000) return SendClientMessage(playerid, COLOR_RED, "За раз можно передать не более 5000 рублей");
	else if(PI[playerid][pAdmin] < ADM_SUPER_ADMIN && params[1] > 5000) return SendClientMessage(playerid, COLOR_RED, "Нельзя передавать больше 5000 рублей");
	TransferMoney(playerid, params[0], params[1]);
	new string[128];
	format(string,sizeof(string),"%s достал(-а) кошелёк и передал(-а) деньги %s", GetName(playerid), GetName(params[0]));
	SendLog("PayLog",string);
	SendMes(params[0], COLOR_RED, "Игрок %s передал Вам %d руб", GetName(playerid), params[1]);
	SendMes(playerid, COLOR_RED, "Вы передали %s[%d] %d рублей", GetName(params[0]), params[1]);
	if(PI[playerid][pSex] == 1) format(string, sizeof(string), "%s достал кошелёк и передал деньи %s", GetName(params[0]));
	else format(string, sizeof(string), "достала деньги из кармана и передала их %s", GetName(params[0]));
	MeAction(playerid, string);
	ApplyAnimation(playerid, "DEALER", "shop_pay", 4.1, 0, 1, 1, 0, 0, 1);
	SetPVarInt(playerid, "payer", gettime()+15);
	return 1;
}
//==============================================================================
CMD:heal(playerid, params[])
{
	if(!IsAMedic(playerid)) return SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/heal [id игрока]");
	else if(playerid == params[0]) return SendClientMessage(playerid, COLOR_RED, "Вы не можете вылечить себя!");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(!IsPlayerInRangeOfPlayer(5.0, playerid, params[0])) return SendClientMessage(playerid, COLOR_RED, "Игрок слишком далеко!");
	else if(GetPVarInt(params[0], "lechenie") > 0) SendClientMessage(playerid, COLOR_RED, "Пациент уже проходит курс лечения!");
	new Float:shealth;
	GetPlayerHealth(params[0], shealth);
	SendMes(playerid, COLOR_BLUE, "Вы предложили %s вылечиться за 500 рублей", GetName(params[0]));
	SendMes(params[0], COLOR_BLUE, "%s %s предлагает Вам пройти курс платного лечения за 500 рублей", Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], GetName(playerid));
	SendClientMessage(params[0], COLOR_WHITE, "{FFFFFF}Нажмите {03c03c}Y {FFFFFF}чтобы согласиться или {ff7518}N {FFFFFF}для отказа");
	SetPVarInt(params[0], "PlayerHeal", playerid);
	SetPVarInt(params[0], "MoneyHeal", 500);
	SetPVarInt(params[0], "KeyHeal", 1);
    if(PlayerDied[params[0]] == true)
	{
		SetPVarInt(params[0], "lechenie", 0);
		PlayerDied[params[0]] = false;
	}
	PI[params[0]][pDeath] = 0;
	return 1;
}
//==============================================================================
CMD:canceltune(playerid)
{
	if(!GetPVarInt(playerid, "UsedCTO")) return 0;
    new bizzid = GetPVarInt(playerid,"CTObizzid");
	if(GetPlayerState(playerid) != 2) return CheatKick(playerid, 12221);
	new pveh = GetPlayerVehicleID(playerid);
	SetVehiclePos(pveh,BizzInfo[bizzid][bEntrx],BizzInfo[bizzid][bEntry],BizzInfo[bizzid][bEntrz]);
	DeletePVar(playerid,"UsedCTO");
	SetVehicleZAngle(pveh,270.9845);
	SetPlayerInterior(playerid,1);
	SetPlayerVirtualWorld(playerid,0);
	SetVehicleVirtualWorld(pveh,0);
	LinkVehicleToInterior(pveh,0);
	PutPlayerInVehicle(playerid, pveh, 0);
	TogglePlayerControllable(playerid,true);
	SetCameraBehindPlayer(playerid);
	return 1;
}
//==============================================================================
CMD:cancel(playerid)
{
	ShowPlayerDialog(playerid, D_HEAL+132, DIALOG_STYLE_LIST, "text", "text", "Выбрать", "Закрыть");
	return 1;
}
//==============================================================================
CMD:healing(playerid, params[])
{
	new full = 0;
	for(new i = 1; i < TOTALHOUSE; i++)
	{
		if(IsPlayerInRangeOfPoint(playerid, 60.0, HouseInfo[i][hExitx], HouseInfo[i][hExity], HouseInfo[i][hExitz]))
		{
			if(HouseInfo[i][hVirtual] == GetPlayerVirtualWorld(playerid))
			{
				if(HouseInfo[i][hHeal] == 0) return SendClientMessage(playerid, COLOR_RED, "В доме нет аптечек!");
				new Float:shealth;
				GetPlayerHealth(playerid, shealth);
				if(shealth >= 100) return SendClientMessage(playerid, COLOR_RED, "Вы не нуждаетесь в лечении!");
				HouseInfo[i][hHeal]--;
				MysqlUpdateHouseInt(i, "hHeal", HouseInfo[i][hHeal]);
				SetHealth(playerid, shealth+25);
				GetPlayerHealth(playerid, shealth);
				if(shealth > 100) SetHealth(playerid, 100);
				SendMes(playerid, COLOR_BLUE, "Вы использовали 1 аптечку. Осталось %i аптечек", HouseInfo[i][hHeal]);
				MeAction(playerid, "использовал аптечку");
				full++;
			}
		}
	}
	if(full == 0) SendClientMessage(playerid, COLOR_RED, "Вы должны находится в доме!");
	return 1;
}
//==============================================================================
CMD:afk(playerid, params[])
{
	if(PI[playerid][pAdmin] < 1) return 1;
	//else if(AdminLogged[playerid] == false) return SendClientMessage(playerid, COLOR_GREY, YouAreNotLoggedInAsAdmin);
	new list,full,str[100],sttr[2000];
	foreach(new i: Player)
	{
		if(PlayerLogged[i] == false) continue;
		if(PI[i][pAFK] >= 3) list++;
	}
	format(str,sizeof(str),"{FF6347}Всего в AFK - %i игрок(ов)\n\n",list);
	strcat(sttr, str);
	foreach(new i: Player)
	{
		if(PlayerLogged[i] == false) continue;
		if(PI[i][pAFK] >= 3)
		{
			format(str,sizeof(str),"{ffffff}%s[%i] - {FF6347}AFK: %s\n",GetName(i), i, Converts(PI[i][pAFK]));
			strcat(sttr, str);
			full++;
		}
	}
	if(full == 0) strcat(sttr, "{ffffff}Информация не найдена");
	ShowPlayerDialog(playerid,D_NULL,DIALOG_STYLE_MSGBOX,"{ffffff}AFK",sttr,"Закрыть","");
	return 1;
}
//==============================================================================
CMD:wanted(playerid, params[])
{
	if(!IsACop(playerid)) return SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	new full, str[150], sttr[2000];
	foreach(new i: Player)
	{
		if(PlayerLogged[i] == false) continue;
		if(PI[i][pWanted] > 0)
		{
			format(str,sizeof(str),"{ffffff}%s - {ffffff}Уровень розыска: {FFCC00}%i\n",GetName(i), PI[i][pWanted]);
			strcat(sttr, str);
			full++;
		}
	}
	if(full == 0) strcat(sttr, "Информация не найдена");
	ShowPlayerDialog(playerid,D_NULL,DIALOG_STYLE_MSGBOX,"Разыскиваются:",sttr,"Закрыть","");
	return 1;
}
CMD:wedding(playerid, params[])
{
	if(PI[playerid][pMarried] == 1) return SendClientMessage(playerid, COLOR_RED, "Вы уже связаны узами брака!");
	else if(!IsPlayerInRangeOfPoint(playerid,20.0,2684.1265,-2535.2329,22.5574)) return SendClientMessage(playerid, COLOR_RED, "Вы не в церкви");
	else if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/wedding [id игрока]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(playerid == params[0]) return SendClientMessage(playerid, COLOR_RED, "Ты не можешь заключить брак сам с собой!");
	else if(!IsPlayerInRangeOfPlayer(5.0, playerid, params[0])) return SendClientMessage(playerid, COLOR_RED, "Игрок слишком далеко!");
	else if(PI[params[0]][pMarried] == 1) return SendClientMessage(playerid, COLOR_RED, "Игрок уже связан узами брака!");
	new string[128];
	format(string, sizeof(string), "Вы предложили %s заключить брачный договор", GetName(params[0]));
	SendClientMessage(playerid, COLOR_BLUE, string);
	if(PI[playerid][pSex] == 1)
	{
	    format(string, sizeof(string), "%s предложил Вам заключить брачный договор", GetName(playerid));
		SendClientMessage(params[0], COLOR_BLUE, string);
		format(string, sizeof(string), "{FFFFFF}%s предложил Вам заключить брачный договор\n\nВы согласны?", GetName(playerid));
		ShowPlayerDialog(params[0], D_HEAL+19, 0, "{FF6666}Свадьба", string, "Да", "Нет");
	}
	else
	{
	    format(string, sizeof(string), "%s предложила Вам заключить брачный договор", GetName(playerid));
		SendClientMessage(params[0], COLOR_BLUE, string);
	    format(string, sizeof(string), "{FFFFFF}%s предложила Вам заключить брачный договоре\n\nВы согласны?", GetName(playerid));
		ShowPlayerDialog(params[0], D_HEAL+19, 0, "{FF6666}Свадьба", string, "Да", "Нет");
	}
	SetPVarInt(params[0], "PlayerMarriage", playerid);
	return 1;
}
CMD:divorce(playerid, params[])
{
	if(PI[playerid][pMarried] == 0) return SendClientMessage(playerid, COLOR_RED, "Вы не связаны узами брака!");
	else if(!IsPlayerInRangeOfPoint(playerid, 5.0,2684.1265,-2535.2329,22.5574)) return SendClientMessage(playerid, COLOR_RED, "Вы должны находится у церкви!");
	else if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/divorce [id игрока]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(playerid == params[0]) return SendClientMessage(playerid, COLOR_RED, "Ты не можешь разорвать брак сам с собой!");
	else if(!IsPlayerInRangeOfPlayer(5.0, playerid, params[0])) return SendClientMessage(playerid, COLOR_RED, "Игрок слишком далеко!");
	if(!strcmp(GetName(params[0]), PI[playerid][pWhoMarried], true))
	{
	    new string[128];
	    format(string, sizeof(string), "Вы предложили %s развестисть", GetName(params[0]));
	    SendClientMessage(playerid, COLOR_BLUE, string);
	    if(PI[playerid][pSex] == 1)
	    {
	        format(string, sizeof(string), "%s предложил Вам развестись", GetName(playerid));
	        SendClientMessage(params[0], COLOR_BLUE, string);
	        format(string, sizeof(string), "{FFFFFF}%s предложил Вам развестись\n\nВы согласны?", GetName(playerid));
			ShowPlayerDialog(params[0], D_HEAL+20, 0, "{F04245}Развод", string, "Да", "Нет");
	    }
	    else
	    {
	        format(string, sizeof(string), "%s предложила Вам развестись", GetName(playerid));
	        SendClientMessage(params[0], COLOR_BLUE, string);
	        format(string, sizeof(string), "{FFFFFF}%s предложила Вам развестись\n\nВы согласны?", GetName(playerid));
			ShowPlayerDialog(params[0], D_HEAL+20, 0, "{F04245}Развод", string, "Да", "Нет");
	    }
		SetPVarInt(params[0], "PlayerMarriage", playerid);
	}
	else SendClientMessage(playerid, COLOR_RED, "Игрок не связам узами брака с Вами!");
	return 1;
}
//==============================================================================
CMD:donate(playerid)
{
    ShowPlayerDialogDonateList(playerid);
    return 1;
}
CMD:rlock(playerid)
{
	if(PI[playerid][P_ENTRANCE] == -1 && PI[playerid][P_ROOM] == -1)
		return SendClientMessage(playerid, COLOR_RED, "У Вас нет квартиры");

	new entranceid = PI[playerid][P_ENTRANCE],
		roomid = PI[playerid][P_ROOM];

	if(GetRoomData(entranceid, roomid, ER_LOCK) == true)
	{
		SetRoomData(entranceid, roomid, ER_LOCK, false);

		SendClientMessage(playerid, 0xFF6600FF, "Квартира закрыта");
	}
	else
	{
		SetRoomData(entranceid, roomid, ER_LOCK, true);

		SendClientMessage(playerid, 0x99CC00FF, "Квартира открыта");
	}

	STRING_GLOBAL[0] = EOS;
	format(STRING_GLOBAL, sizeof STRING_GLOBAL, "UPDATE `rooms` SET `lock` = '%d' WHERE `id` = '%d' ", bool: GetRoomData(entranceid, roomid, ER_LOCK), GetRoomData(entranceid, roomid, ER_SQL_ID));
	mysql_query(dbHandle, STRING_GLOBAL);

	return 1;
}
CMD:entrance_exit(playerid, params[])
{
	if(!IsPlayerGrandAdmin(playerid))
		return 1;

	extract params -> new entranceid; else return SendClientMessage(playerid, 0xFFCC00AA, "•[Подсказка] {ffffff}Введите: /entrance_exit [ид подъезда]");

	if(!(0 <= entranceid <= MAX_ENTRANCES-1))
		return SendClientMessage(playerid, COLOR_RED, "Такого подъезда не существует");

	GetPlayerPos(playerid, g_entrance[entranceid][EXIT_POS_X], g_entrance[entranceid][EXIT_POS_Y], g_entrance[entranceid][EXIT_POS_Z]);
	GetPlayerFacingAngle(playerid, g_entrance[entranceid][EXIT_ANGLE]);

	STRING_GLOBAL[0] = EOS;
	format(STRING_GLOBAL, sizeof STRING_GLOBAL, "UPDATE entrances SET exit_x='%f', exit_y='%f', exit_z='%f', exit_a='%f' WHERE id=%d", g_entrance[entranceid][EXIT_POS_X], g_entrance[entranceid][EXIT_POS_Y], g_entrance[entranceid][EXIT_POS_Z], g_entrance[entranceid][EXIT_ANGLE], entranceid);
	mysql_query(dbHandle, STRING_GLOBAL);

	STRING_GLOBAL[0] = EOS;
	format(STRING_GLOBAL, sizeof STRING_GLOBAL, "Вы успешно изменили координаты выхода в подъезде %d", entranceid);
	SendClientMessage(playerid, COLOR_BLUE, STRING_GLOBAL);

	return 1;
}

CMD:adivorce(playerid, params[])
{
	if(PI[playerid][pAdmin] < ADM_ADMIN) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	else if(PI[playerid][pAdmin] < 1) return SendClientMessage(playerid, COLOR_RED, "[MySQL] Впишите себя в таблице admin");
	else if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/adivorce [id игрока]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(PI[params[0]][pMarried] == 0) return SendClientMessage(playerid, COLOR_RED, "Игрок не связан узами брака!");
	new targetid;
	sscanf(PI[params[0]][pWhoMarried], "u", targetid);
	if(IsPlayerConnected(targetid))
	{
		SendMes(targetid, COLOR_GREEN, "Администратор %s развел тебя с %s", GetName(playerid), PI[targetid][pWhoMarried]);
		strmid(PI[targetid][pWhoMarried], "None", 0, strlen("None"), MAX_PLAYER_NAME);
		PI[targetid][pMarried] = 0;
	}
	else
	{
		format(query,sizeof(query), "SELECT * FROM `accounts` WHERE name = '%s'",PI[params[0]][pWhoMarried]);
		mysql_tquery(dbHandle, query, "OnPlayerDivorce", "i", params[0]);
	}
	SendMes(playerid, COLOR_LIME, "Вы развели игрока %s и %s", GetName(params[0]), PI[params[0]][pWhoMarried]);
	SendMes(params[0], COLOR_GREEN, "Администратор %s развел тебя с %s", GetName(playerid), PI[targetid][pWhoMarried]);
	strmid(PI[params[0]][pWhoMarried], "None", 0, strlen("None"), MAX_PLAYER_NAME);
	PI[params[0]][pMarried] = 0;
	return 1;
}

forward OnPlayerDivorce(targetid);
public OnPlayerDivorce(targetid)
{
    new rows, fields;
    cache_get_data(rows, fields);
	if(rows)
	{
		format(query,sizeof(query), "UPDATE `accounts` SET married = 0, whomarried = None WHERE name = '%s'",PI[targetid][pWhoMarried]);
		mysql_tquery(dbHandle, query, "", "");
	}
	return 1;
}
CMD:removetuning(playerid, params[])
{
	if(!PI[playerid][pVip]) return SCM(playerid, COLOR_RED, "Вы не имеете VIP статус");
	else if(GetPlayerHouse(playerid) == 0) return SendClientMessage(playerid, COLOR_RED, "Вы не владеете домом!");
	else if(!IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_RED, "Вы должны находится в транспорте!");
	else if(GetPlayerVehicleID(playerid) != PI[playerid][PlayerCarID]) return SendClientMessage(playerid, COLOR_RED, "Вы должны находится в вашем личном транспорте!");
	for(new i = 0; i < 14; i++) PI[playerid][cVehcoms][i] = 0;
	PI[playerid][cPaintjob] = 3;
	SetPVarInt(playerid, "removetuning", 1);
	format(PI[playerid][cVehcom], 64, "%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d",
	PI[playerid][cVehcoms][0],PI[playerid][cVehcoms][1],PI[playerid][cVehcoms][2],
	PI[playerid][cVehcoms][3],PI[playerid][cVehcoms][4],PI[playerid][cVehcoms][5],
	PI[playerid][cVehcoms][6],PI[playerid][cVehcoms][7],PI[playerid][cVehcoms][8],
	PI[playerid][cVehcoms][9],PI[playerid][cVehcoms][10],PI[playerid][cVehcoms][11],
	PI[playerid][cVehcoms][12],PI[playerid][cVehcoms][13]);
	SendClientMessage(playerid, COLOR_RED, "Тюнинг успешно удален!");
	SetVehicleToRespawn(PI[playerid][PlayerCarID]);
	return 1;
}

CMD:nbank(playerid, params[])
{
	if(IsANews(playerid) && PI[playerid][pLeader]) BankFracEnter(playerid);
	else SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	return 1;
}

CMD:anim(playerid, params[]) return callcmd::animlist(playerid, params);
CMD:animlist(playerid, params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_RED, "В данный момент нельзя использовать анимации");
	new animid;
	if(sscanf(params, "i", animid))
	{
		new anims[][] =
		{
			{"1. Руки вверх\n2. Справлять нужду\n3. Танец (1)\n4. Танец (2)\n5. Танец (3)\n6. Танец (4)\n7. Танец (5)\n8. Танец (6)\n9. Танец (7)\n10. Танец (8)\n11. Танец (9)\n12. Танец(10)\n13. Курить\n14. Возмущение\n15. Присесть (1)\n16. Присесть (2)\n17. Присесть (3)\n18. Присесть (4)\n19. Лежать (1)\n20. Лежать (2)\n21. Жест рукой (1)\n22. Жест рукой (2)\n"},
			{"23. Читать рэп\n24. Зивать\n25. Диллер (1)\n26. Диллер (2)\n27. Диллер (3)\n28. Диллер (4)\n29. Пьяная походка\n30. Рука лицо\n31. Спать на боку\n32. Сесть на корточки"}
		};
		STRING_GLOBAL[0] = EOS;
		format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "%s%s", anims[0], anims[1]);
		ShowPlayerDialog(playerid,D_JOB+136,DIALOG_STYLE_LIST, "Анимации", STRING_GLOBAL, "Выбрать", "Отмена");
	}
	switch(animid)
	{
	    case 0:
	    {
		    new animss[][] =
			{
				{"1. Руки вверх\n2. Справлять нужду\n3. Танец (1)\n4. Танец (2)\n5. Танец (3)\n6. Танец (4)\n7. Танец (5)\n8. Танец (6)\n9. Танец (7)\n10. Танец (8)\n11. Танец (9)\n12. Танец(10)\n13. Курить\n14. Возмущение\n15. Присесть (1)\n16. Присесть (2)\n17. Присесть (3)\n18. Присесть (4)\n19. Лежать (1)\n20. Лежать (2)\n21. Жест рукой (1)\n22. Жест рукой (2)\n"},
				{"23. Читать рэп\n24. Зивать\n25. Диллер (1)\n26. Диллер (2)\n27. Диллер (3)\n28. Диллер (4)\n29. Пьяная походка\n30. Рука лицо\n31. Спать на боку\n32. Сесть на корточки"}
			};
			STRING_GLOBAL[0] = EOS;
			format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "%s%s", animss[0], animss[1]);
			ShowPlayerDialog(playerid,D_JOB+136,DIALOG_STYLE_LIST, "Анимации", STRING_GLOBAL, "Выбрать", "Отмена");
			return 1;
		}
		case 1: SetPlayerSpecialAction(playerid,SPECIAL_ACTION_HANDSUP);
		case 2: SetPlayerSpecialAction(playerid,SPECIAL_ACTION_PISS);
	    case 3: SetPlayerSpecialAction(playerid,SPECIAL_ACTION_DANCE1);
	    case 4: SetPlayerSpecialAction(playerid,SPECIAL_ACTION_DANCE2);
	    case 5: SetPlayerSpecialAction(playerid,SPECIAL_ACTION_DANCE3);
	    case 6: SetPlayerSpecialAction(playerid,SPECIAL_ACTION_DANCE4);
	    case 7: ApplyAnimation(playerid,"DANCING","dnce_M_b",4.1,1,0,0,0,0,1);
		case 8: ApplyAnimation(playerid,"DANCING","dnce_M_a",4.1,1,0,0,0,0,1);
		case 9: ApplyAnimation(playerid,"DANCING","dnce_M_b",4.1,1,0,0,0,0,1);
		case 10: ApplyAnimation(playerid,"DANCING","DAN_Down_A",4.1,1,0,0,0,0,1);
		case 11: ApplyAnimation(playerid,"DANCING","DAN_Left_A",4.1,1,0,0,0,0,1);
		case 12: ApplyAnimation(playerid,"DANCING","DAN_Loop_A",4.1,1,0,0,0,0,1);
		case 13: ApplyAnimation(playerid,"SMOKING","M_smklean_loop",4.1,1,0,0,0,0,1);
		case 14: ApplyAnimation(playerid,"PED","fucku",4.1,0,0,0,0,0,1);
		case 15: ApplyAnimation(playerid,"INT_OFFICE","OFF_Sit_Crash",4.1,0,0,0,1,0,1);
		case 16: ApplyAnimation(playerid,"BEACH","ParkSit_W_Loop",4.1,1,0,0,1,0,1);
		case 17: ApplyAnimation(playerid,"PED","SEAT_down",4.1,0,0,0,1,0,1);
		case 18: ApplyAnimation(playerid,"BEACH","ParkSit_M_loop",4.1,1,0,0,1,0,1);
		case 19: ApplyAnimation(playerid,"BEACH","SitnWait_loop_W",4.1,1,0,0,1,0,1);
		case 20: ApplyAnimation(playerid,"BEACH","Lay_Bac_Loop",4.1,1,0,0,1,0,1);
		case 21: ApplyAnimation(playerid,"GANGS","hndshkba",4.1,0,0,0,0,0,1);
		case 22: ApplyAnimation(playerid,"ON_LOOKERS","WAVE_LOOP",4.1,1,1,1,0,0,1);
		case 23: ApplyAnimation(playerid,"BENCHPRESS","GYM_BP_CELEBRATE",4.1,1,1,1,0,0,1);
		case 24: ApplyAnimation(playerid,"GANGS","smkcig_prtl",4.1,0,0,0,0,0,1);
		case 25: ApplyAnimation(playerid,"DEALER","DEALER_DEAL",4.1,0,0,0,0,0,1);
		case 26: ApplyAnimation(playerid,"DEALER","DEALER_IDLE_01",4.1,0,0,0,0,0,1);
		case 27: ApplyAnimation(playerid,"DEALER","DEALER_IDLE_03",4.1,0,0,0,0,0,1);
		case 28: ApplyAnimation(playerid,"DEALER","DRUGS_BUY",4.1,0,0,0,0,0,1);
		case 29: ApplyAnimation(playerid,"RYDER","RYD_Die_PT1",4.1,1,1,0,0,0,1);
		case 30: ApplyAnimation(playerid,"MISC","plyr_shkhead",4.1,0,0,0,0,0,1);
		case 31: ApplyAnimation(playerid,"CRACK","Crckidle2",4.1,1,0,0,0,0,0);
		case 32: ApplyAnimation(playerid,"PED","cower",3.0,1,0,0,0,0);
	}
	SetPVarInt(playerid, "Animation", 1);
	TextDrawShowForPlayer(playerid, AnimDraw);
	return 1;
}

CMD:fstyle(playerid, params[])
{
	if(sscanf(params, "d", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/fstyle [стиль от 1 до 3]");
	switch(params[0])
	{
	    case 1:
	    {
	        if(PI[playerid][pSportExp] >= 1000)
			{
			    PI[playerid][pFightStyle] = 5;
				SetPlayerFightingStyle(playerid, FIGHT_STYLE_BOXING);
				SendClientMessage(playerid, COLOR_GREEN, "Вы изменили свой стиль боя на {FFFFFF}бокс");
			}
			else SendClientMessage(playerid, COLOR_RED, "Вы еще не выучили этот стиль боя!");
	    }
	    case 2:
	    {
	        if(PI[playerid][pSportExp] >= 3000)
			{
			    PI[playerid][pFightStyle] = 6;
				SetPlayerFightingStyle(playerid, FIGHT_STYLE_KUNGFU);
				SendClientMessage(playerid, COLOR_GREEN, "Вы изменили свой стиль боя на {FFFFFF}кунг-фу");
			}
			else SendClientMessage(playerid, COLOR_RED, "Вы еще не выучили этот стиль боя!");
	    }
	    case 3:
	    {
	        if(PI[playerid][pSportExp] >= 6000)
			{
			    PI[playerid][pFightStyle] = 7;
				SetPlayerFightingStyle(playerid, FIGHT_STYLE_KNEEHEAD);
				SendClientMessage(playerid, COLOR_GREEN, "Вы изменили свой стиль боя на {FFFFFF}кикбокс");
			}
			else SendClientMessage(playerid, COLOR_RED, "Вы еще не выучили этот стиль боя!");
	    }
	}
	return 1;
}
CMD:tempzone(playerid, params[])
{
	if(PI[playerid][pAdmin] < ADM_GRAND_ADMIN) return 1;
	else if(PI[playerid][pAdmin] < 1) return SendClientMessage(playerid, COLOR_RED, "[MySQL] Впишите себя в таблице admin");
	else if(sscanf(params, "i", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/tempzone [id банды]");
	for(new i = 0; i < sizeof(GZInfo); i++)
	{
		if(IsPlayerToSquare(playerid,GZInfo[i][gCoords][0], GZInfo[i][gCoords][1],GZInfo[i][gCoords][2],GZInfo[i][gCoords][3]))
		{
			GZInfo[i][gFrak] = params[0];
			GangZoneStopFlashForAll(GangZone[i]);
			GangZoneHideForAll(GangZone[i]);
			GangZoneShowForAll(GangZone[i],GetGangZoneColor(i));
			SaveGZ(i);
			break;
		}
	}
	return 1;
}
CMD:close(playerid, params[])
{
	if((IsAGang(playerid) || IsAMafia(playerid)) && PI[playerid][pRank] >= 9)
	{
	    new string[128];
		switch(PI[playerid][pMember])
		{
		    case 7:
		    {
				if(b_Sklad{0})
				{
				    b_Sklad{0} = 0;
				    MysqlUpdateGangInt("bskl_g",b_Sklad{0});
				    format(string, sizeof(string), "%s %s открыл доступ к складу банды", Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], GetName(playerid));
					SendFMes(PI[playerid][pMember], COLOR_YELLOW, string);
				}
				else
				{
				    b_Sklad{0} = 1;
				    MysqlUpdateGangInt("bskl_g",b_Sklad{0});
				    format(string, sizeof(string), "%s %s временно закрыл доступ к складу банды", Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], GetName(playerid));
					SendFMes(PI[playerid][pMember], COLOR_YELLOW, string);
				}
		    }
		    case 8:
		    {
		        if(b_Sklad{1})
				{
				    b_Sklad{1} = 0;
				    MysqlUpdateGangInt("bskl_b",b_Sklad{1});
				    format(string, sizeof(string), "%s %s открыл доступ к складу банды", Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], GetName(playerid));
					SendFMes(PI[playerid][pMember], COLOR_YELLOW, string);
				}
				else
				{
				    b_Sklad{1} = 1;
				    MysqlUpdateGangInt("bskl_b",b_Sklad{1});
				    format(string, sizeof(string), "%s %s временно закрыл доступ к складу банды", Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], GetName(playerid));
					SendFMes(PI[playerid][pMember], COLOR_YELLOW, string);
				}
		    }
		    case 9:
		    {
		        if(b_Sklad{2})
				{
				    b_Sklad{2} = 0;
				    MysqlUpdateGangInt("bskl_r",b_Sklad{2});
				    format(string, sizeof(string), "%s %s открыл доступ к складу банды", Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], GetName(playerid));
					SendFMes(PI[playerid][pMember], COLOR_YELLOW, string);
				}
				else
				{
				    b_Sklad{2} = 1;
				    MysqlUpdateGangInt("bskl_r",b_Sklad{2});
				    format(string, sizeof(string), "%s %s временно закрыл доступ к складу банды", Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], GetName(playerid));
					SendFMes(PI[playerid][pMember], COLOR_YELLOW, string);
				}
		    }
		    case 10:
		    {
		        if(b_Sklad{3})
				{
				    b_Sklad{3} = 0;
				    MysqlUpdateGangInt("bskl_a",b_Sklad{3});
				    format(string, sizeof(string), "%s %s открыл доступ к складу банды", Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], GetName(playerid));
					SendFMes(PI[playerid][pMember], COLOR_YELLOW, string);
				}
				else
				{
				    b_Sklad{3} = 1;
				    MysqlUpdateGangInt("bskl_a",b_Sklad{3});
				    format(string, sizeof(string), "%s %s временно закрыл доступ к складу банды", Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], GetName(playerid));
					SendFMes(PI[playerid][pMember], COLOR_YELLOW, string);
				}
		    }
		    case 11:
		    {
		        if(b_Sklad{4})
				{
				    b_Sklad{4} = 0;
				    MysqlUpdateGangInt("bskl_v",b_Sklad{4});
				    format(string, sizeof(string), "%s %s открыл доступ к складу банды", Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], GetName(playerid));
					SendFMes(PI[playerid][pMember], COLOR_YELLOW, string);
				}
				else
				{
				    b_Sklad{4} = 1;
				    MysqlUpdateGangInt("bskl_v",b_Sklad{4});
				    format(string, sizeof(string), "%s %s временно закрыл доступ к складу банды", Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], GetName(playerid));
					SendFMes(PI[playerid][pMember], COLOR_YELLOW, string);
				}
		    }
		    case 15:
		    {
		        if(b_Sklad{5})
				{
				    b_Sklad{5} = 0;
				    MysqlUpdateMafiaInt("bskl_l",b_Sklad{5});
				    format(string, sizeof(string), "%s %s открыл доступ к складу мафии", Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], GetName(playerid));
					SendFMes(PI[playerid][pMember], COLOR_YELLOW, string);
				}
				else
				{
				    b_Sklad{5} = 1;
				    MysqlUpdateMafiaInt("bskl_l",b_Sklad{5});
				    format(string, sizeof(string), "%s %s временно закрыл доступ к складу мафии", Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], GetName(playerid));
					SendFMes(PI[playerid][pMember], COLOR_YELLOW, string);
				}
		    }
		    case 16:
		    {
		        if(b_Sklad{6})
				{
				    b_Sklad{6} = 0;
				    MysqlUpdateMafiaInt("bskl_y",b_Sklad{6});
				    format(string, sizeof(string), "%s %s открыл доступ к складу мафии", Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], GetName(playerid));
					SendFMes(PI[playerid][pMember], COLOR_YELLOW, string);
				}
				else
				{
				    b_Sklad{6} = 1;
				    MysqlUpdateMafiaInt("bskl_y",b_Sklad{6});
				    format(string, sizeof(string), "%s %s временно закрыл доступ к складу мафии", Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], GetName(playerid));
					SendFMes(PI[playerid][pMember], COLOR_YELLOW, string);
				}
		    }
		    case 17:
		    {
		        if(b_Sklad{7})
				{
				    b_Sklad{7} = 0;
				    MysqlUpdateMafiaInt("bskl_r",b_Sklad{7});
				    format(string, sizeof(string), "%s %s открыл доступ к складу мафии", Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], GetName(playerid));
					SendFMes(PI[playerid][pMember], COLOR_YELLOW, string);
				}
				else
				{
				    b_Sklad{7} = 1;
				    MysqlUpdateMafiaInt("bskl_r",b_Sklad{7});
				    format(string, sizeof(string), "%s %s временно закрыл доступ к складу мафии", Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], GetName(playerid));
					SendFMes(PI[playerid][pMember], COLOR_YELLOW, string);
				}
		    }
		}
	}
	else SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	return 1;
}
//==============================================================================
CMD:usedrugs(playerid, params[])
{
    if(IsPlayerInRangeOfPoint(playerid,100.0,-1519.6149,1342.5447,1523.7000)) return SendClientMessage(playerid,-1,"В больнице опасно принимать наркотики!");
	if(PI[playerid][pDrugs] <= 0) return SendClientMessage(playerid, COLOR_RED, "У Вас нет наркотиков!");
	if(GetPVarInt(playerid, "DrugsTime") > gettime()) return SendClientMessage(playerid, COLOR_RED, "Употреблять наркотики можно раз в 2 минуты!");
	if(sscanf(params, "i", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/drugs [кол-во грамма]");
	new string[128];
	if(params[0] > 3)
	{
	    format(string, sizeof(string), "Кол-во наркотиков от 1 до 3, сейчас У Вас %i грамм", PI[playerid][pDrugs]);
		SendClientMessage(playerid, COLOR_RED, string);
		return 1;
	}
	new Float:health;
	GetPlayerHealth(playerid, health);
	SetHealth(playerid, health+params[0]*20);
	GetPlayerHealth(playerid, health);
	if(health > 120) return SendClientMessage(playerid, COLOR_BLUE, "Вам плохо от наркотиков, пожалуйста подождите");
	PI[playerid][pDrugs] -= params[0];
	if(GetPlayerState(playerid) == PLAYER_STATE_ONFOOT) ApplyAnimation(playerid,"SMOKING","M_smk_drag",4.1,0,0,0,0,0,1);
	format(string, sizeof(string), "Вы употребили %i гр. наркотиков. Ваше здоровье: %3.1f", params[0], PI[playerid][pHeal]);
	SendClientMessage(playerid, COLOR_LIME, string);
	
	//drug_effect_gone_timer[playerid] = 6;
	
	SetPVarInt(playerid, "DrugsTime", gettime()+60);
	if(PI[playerid][pSex] == 1) MeAction(playerid, "употребил наркотики");
	else MeAction(playerid, "употребила наркотики");
	SetPlayerTime(playerid,17,0);
	SetPlayerDrunkLevel(playerid, 3000);
	SetPlayerWeather(playerid, -68);
	
	return 1;
}
//==============================================================================
CMD:dropdrugs(playerid, params[])
{
	if(PI[playerid][pDrugs] == 0) return SendClientMessage(playerid, COLOR_RED, "У Вас нет наркотиков!");
	PI[playerid][pDrugs] = 0;
	if(PI[playerid][pSex] == 1) MeAction(playerid, "скинул пакетик с неизвестным содержимым");
	else MeAction(playerid, "скинула пакетик с неизвестным содержимым");
	return 1;
}
//==============================================================================
CMD:selldrugs(playerid, params[])
{
	if(!IsAGang(playerid)) return SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	if(PI[playerid][pRank] < 1) return SendClientMessage(playerid, COLOR_RED, "Продажа наркотиков доступна со 2 ранга!");
	new full = 0;
	for(new i = 0; i < sizeof(GZInfo); i++)
	{
		if(IsPlayerToSquare(playerid,GZInfo[i][gCoords][0], GZInfo[i][gCoords][1],GZInfo[i][gCoords][2],GZInfo[i][gCoords][3]) && ZoneOnBattle[i] == 0)
		{
			if(sscanf(params, "uii", params[0], params[1], params[2])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/selldrugs [id игрока] [грамм] [цена]");
			else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
			else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
			else if(params[1] < 1 || params[1] > 100) return SendClientMessage(playerid, COLOR_RED, "Количество грамм от 1 до 100!");
			else if(params[2] < 1 || params[2] > 10000) return SendClientMessage(playerid, COLOR_RED, "Цена от 1 до 10000 рублей!");
            else if(!IsPlayerInRangeOfPlayer(8.0, playerid, params[0])) return SendClientMessage(playerid, COLOR_RED, "Игрок слишком далеко!");
			else if(PI[playerid][pDrugs] < params[1]) return SendClientMessage(playerid, COLOR_RED, "У Вас нет столько наркотиков!");
			SendMes(playerid, COLOR_BLUE, "Вы предложили %s купить наркотики (Грамм: %i). Цена: %i рублей", GetName(params[0]), params[1], params[2]);
			SendMes(params[0], COLOR_BLUE, "%s предложил Вам купить наркотики (Грамм: %i). Цена: %i рублей", GetName(playerid), params[1], params[2]);
			SendClientMessage(params[0], COLOR_WHITE, "{FFFFFF}Нажмите {03c03c}Y {FFFFFF}чтобы согласиться или {ff7518}N {FFFFFF}для отказа");
			SetPVarInt(params[0], "KeyDrugs", 1);
			SetPVarInt(params[0], "PlayerDrugs", playerid);
			SetPVarInt(params[0], "PlayerDrugsKG", params[1]);
			SetPVarInt(params[0], "DrugsPrice", params[2]);
			full++;
			break;
		}
	}
	return 1;
}
//==============================================================================
CMD:fstats(playerid)
{
	if(PI[playerid][pAdmin] < 3) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
	{
	new adm_region, patrol_service, roadpost_service, fsb, emergency_A, OPG1, OPG2, OPG3, ch_mafia, mass_media, army;
	foreach(new i: Player)
	{
		switch(PI[i][pMember])
		{
			case 1: adm_region++;
			case 2: patrol_service++;
			case 3: roadpost_service++;
			case 4: fsb++;
			case 5: emergency_A++;
			case 6: OPG1++;
			case 7: OPG2++;
			case 8: OPG3++;
			case 9: ch_mafia++;
			case 11: mass_media++;
			case 12: army++;
			default: continue;
		}
	}
	new str[400];
	format(str,sizeof(str),"{FFFFFF}Администрация области: %d чел.\nПатрульно-постовая служба: %d чел.\nДорожно-постовая служба: %d чел.\nФедеральная Служба Безопаности: %d чел.\nСкорая Медицинская Помощь г. Арзамас: %d чел.\nОПГ Южная: %d чел.\nОПГ Ореховская: %d чел.\nОПГ Солнцевская: %d чел.\nЧеченская Мафия: %d чел.\nСредство Массовой Информации г. Южный: %d чел.\nВоинская часть: %d чел.",
	adm_region, patrol_service, roadpost_service, fsb, emergency_A, OPG1, OPG2, OPG3, ch_mafia, mass_media, army);
	ShowPlayerDialog(playerid, D_NULL, 0, "{FFCC00}Cписок игроков", str, "Закрыть","");
	}
	return 1;
}
//==============================================================================
CMD:vsellgun(playerid, params[])
{
	if(!PI[playerid][pVip]) return SendClientMessage(playerid, COLOR_RED, "Вы не имеете VIP статус");

	else if(sscanf(params, "uiii", params[0], params[1], params[2], params[3])) return SCM(playerid, COLOR_LIME, "Информация: {ffffff}/vsellgun [id игрока] [id оружия] [патроны] [цена]");
	else if(!IsPlayerConnected(params[0])) return SCM(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SCM(playerid, COLOR_RED, "Игрок не ввел пароль!");
	if(params[1] == 24 || params[1] == 25 || params[1] == 29 || params[1] == 23 || params[1] == 30 || params[1] == 31 || params[1] == 33)
	{
		if(params[2] < 1 || params[2] > 500) return SCM(playerid, COLOR_RED, "Количество патронов от 1 до 500!");
		if(params[3] < 1 || params[3] > 100000) return SCM(playerid, COLOR_RED, "Цена от 1 до 100000 рублей");
		if(!IsPlayerInRangeOfPlayer(8.0, playerid, params[0])) return SCM(playerid, COLOR_RED, "Игрок слишком далеко!");
		if(PI[playerid][pPatron] < params[2]) return SCM(playerid, COLOR_RED, "У Вас недостаточно материалов!");
		SendMes(playerid, COLOR_BLUE, "Вы предложили %s купить У Вас %s с %i пт. за %i рублей", GetName(params[0]), WeaponNames[params[1]], params[2], params[3]);
		SendMes(params[0], COLOR_BLUE, "Игрок %s предложил Вам купить %s (%i) с %i пт. за %i рублей", GetName(playerid), WeaponNames[params[1]], params[1], params[2], params[3]);
		SCM(params[0], COLOR_WHITE, "{FFFFFF}Нажмите {03c03c}Y {FFFFFF}чтобы согласиться или {ff7518}N {FFFFFF}для отказа");
		SetPVarInt(params[0], "KeyGun", 1);
		SetPVarInt(params[0], "PlayerGun", playerid);
		SetPVarInt(params[0], "PlayerGun_", params[1]);
		SetPVarInt(params[0], "PlayerGAmmo", params[2]);
		SetPVarInt(params[0], "PlayerGPrice", params[3]);
	} else return SCM(playerid, COLOR_RED, "Неверный ID оружия! ID оружия: 23, 24, 25, 29, 30, 31, 33");

	return 1;
}
//==============================================================================
CMD:showall(playerid)
{
    if(GetPVarInt(playerid, "logged") == 0) return 1;

    if(PI[playerid][pRank] < 9)
		return SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная возможность");

	ShowPlayerDialog
	(
		playerid, DIALOG_SHOWALL, DIALOG_STYLE_LIST,
		"{FFCC00}Сортирование",
		"{FFFFFF}1. По возврастанию ранга\n\
		2. По убыванию ранга\n\
		3. По возврастанию даты входа\n\
		4. По убыванию даты входа\n\
		5. По возврастанию уровня\n\
		6. По убыванию уровня\n\
		7. По алфавиту",
		"Далее", "Отмена"
	);
    return 1;
}
//==============================================================================
CMD:makegun(playerid)
{
	if(!IsAGang(playerid) && !IsAArmy(playerid) && !IsAMafia(playerid)) return SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	ShowPlayerDialogCreateGun(playerid);
	return 1;
}
//==============================================================================
/*CMD:loadgun(playerid)
{
	if(!IsAArmy(playerid) && !IsAMafia(playerid)) return SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER)
	{
		new vehicleid = GetPlayerVehicleID(playerid);
		if(gVehicleGun[vehicleid][vGunLoading] || gVehicleGun[vehicleid][vGunUnloading]) return SendClientMessage(playerid, COLOR_RED, "Авто уже стоит на загрузке / разгрузке");
		gVehicleGun[vehicleid][vGunLoading] = true;
		RemovePlayerFromVehicle(playerid);
		new Float:x, Float:y, Float:z, Float:a;
		GetVehiclePos(vehicleid, x, y, z);
		GetVehicleZAngle(vehicleid, a);
		switch(GetVehicleModel(vehicleid))
		{
		    case 433:
		    {
		        x = x - (-6.0*floatsin(a, degrees));
				y = y - 5.5*floatcos(a, degrees);
				gVehicleGun[vehicleid][vGunPickup] = CreateDynamicPickup(1318, 1, x, y, z-0.5); //Пикап грузовиков
		    }
		    case 470,500,482,526,467,587,550,489,580,491:
		    {
		        x = x - (-3.0*floatsin(a, degrees));
				y = y - 3.5*floatcos(a, degrees);
				gVehicleGun[vehicleid][vGunPickup] = CreateDynamicPickup(1318, 1, x, y, z-0.2); //Пикап для легковых авто
		    }
		    default: SendClientMessage(playerid, COLOR_RED, "Вы должны быть в машине предназначенной для загрузки!");
		}
		new string[128];
		format(string, sizeof(string), "Метал: {63BD4E}%d\n{FFFFFF}Патронов: {63BD4E}%d", gVehicleGun[vehicleid][vGunGunAmount], gVehicleGun[vehicleid][vGunAmmo]);
		gVehicleGun[vehicleid][vGunText] = CreateDynamic3DTextLabel(string, 0xFFFFFFFF, x, y, z+0.5, 20.0);
		gVehicleGun[vehicleid][vGunArea] = CreateDynamicSphere(x, y, z, 1.0);
		print("Iter_Add(VehicleGun, vehicleid);");
		Iter_Add(VehicleGun, vehicleid);
		SendClientMessage(playerid, COLOR_GREEN, "Загрузка началась");
	}
	return 1;
}*/

cmd:load(playerid)
{
	if(!IsAArmy(playerid) && !IsAMafia(playerid)) return SendErr(playerid, "Вам недоступна данная функция");
	if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER)
	{
		new vehicleid = GetPlayerVehicleID(playerid);
		if(gVehicleGun[vehicleid][vGunLoading] || gVehicleGun[vehicleid][vGunUnloading]) return SendErr(playerid, "Авто уже стоит на загрузке / разгрузке");
		gVehicleGun[vehicleid][vGunLoading] = true;
		RemovePlayerFromVehicle(playerid);
		new Float:x, Float:y, Float:z, Float:a;
		GetVehiclePos(vehicleid, x, y, z);
		GetVehicleZAngle(vehicleid, a);
		switch(GetVehicleModel(vehicleid))
		{
			case 433:
			{
				x = x - (-4.5*floatsin(a, degrees));
				y = y - 5.5*floatcos(a, degrees);
				gVehicleGun[vehicleid][vGunPickup] = CreateDynamicPickup(3013, 1, x, y, z-0.5, -1); //Пикап грузовиков
			}
			case 400,404,436,466,475,489,492,579,482:
			{
				x = x - (-3.0*floatsin(a, degrees));
				y = y - 3.5*floatcos(a, degrees);
				gVehicleGun[vehicleid][vGunPickup] = CreateDynamicPickup(3013, 1, x, y, z-0.2, -1); //Пикап для легковых авто
			}
			default: SendErr(playerid, "Вы должны быть в машине предназначенной для загрузки");
		}
		new string[160];
		if(IsAMafia(playerid))
		{
			format(string, sizeof(string),"{f0f0f0}Загрузка: \n"cBLUE"%d{f0f0f0} из "cBLUE" 20{f0f0f0} ящиков\n"cBLUE"%d{f0f0f0} из "cBLUE" 20{f0f0f0} пакетов", gVehicleGun[vehicleid][vGunAmmo], gVehicleGun[vehicleid][vGunNarko]);
		}
		else
		{
			format(string, sizeof(string),"{f0f0f0}Загрузка: \n"cBLUE"%d{f0f0f0} из "cBLUE" 20{f0f0f0} ящиков", gVehicleGun[vehicleid][vGunAmmo]);
		}
		gVehicleGun[vehicleid][vGunText] = CreateDynamic3DTextLabel(string, 0xFFFFFFFF, x, y, z+0.8, 20.0);
		gVehicleGun[vehicleid][vGunArea] = CreateDynamicSphere(x, y, z, 1.0);
		Iter_Add(VehicleGun, vehicleid);
		SendClientMessage(playerid, COLOR_GREEN, "Загрузка началась");
	}
	return 1;
}

/*CMD:unloadgun(playerid)
{
	if(!IsAArmy(playerid) && !IsAMafia(playerid)) return SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER)
	{
		new vehicleid = GetPlayerVehicleID(playerid);
		if(gVehicleGun[vehicleid][vGunLoading] || gVehicleGun[vehicleid][vGunUnloading]) return SendClientMessage(playerid, COLOR_RED, "Авто уже стоит на загрузке / разгрузке");
		gVehicleGun[vehicleid][vGunUnloading] = true;
		RemovePlayerFromVehicle(playerid);
		new Float:x, Float:y, Float:z, Float:a;
		GetVehiclePos(vehicleid, x, y, z);
		GetVehicleZAngle(vehicleid, a);
    	switch(GetVehicleModel(vehicleid))
		{
		    case 433:
		    {
		        x = x - (-6.0*floatsin(a, degrees));
				y = y - 5.5*floatcos(a, degrees);
				gVehicleGun[vehicleid][vGunPickup] = CreateDynamicPickup(1318, 1, x, y, z-0.5); //Пикап грузовиков
		    }
		    case 470,500,482,526,467,587,550,489,580,491:
		    {
		        x = x - (-3.0*floatsin(a, degrees));
				y = y - 3.5*floatcos(a, degrees);
				gVehicleGun[vehicleid][vGunPickup] = CreateDynamicPickup(1318, 1, x, y, z-0.2); //Пикап для легковых авто
		    }
		    default: SendClientMessage(playerid, COLOR_RED, "Вы должны быть в машине предназначенной для загрузки!");
		}
		new string[128];
		format(string, sizeof(string), "Метал: {63BD4E}%d\n{FFFFFF}Патронов: {63BD4E}%d", gVehicleGun[vehicleid][vGunGunAmount], gVehicleGun[vehicleid][vGunAmmo]);
		gVehicleGun[vehicleid][vGunText] = CreateDynamic3DTextLabel(string, 0xFFFFFFFF, x, y, z+0.5, 20.0);
		gVehicleGun[vehicleid][vGunArea] = CreateDynamicSphere(x, y, z, 1.0);
		print("Iter_Add(VehicleGun, vehicleid);");
		Iter_Add(VehicleGun, vehicleid);
		SendClientMessage(playerid, COLOR_GREEN, "Разгрузка началась");
	}
	return 1;
}*/

cmd:unload(playerid)
{
	if(!IsAArmy(playerid) && !IsAMafia(playerid)) return SendErr(playerid, "Вам недоступна данная функция");
	if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER)
	{
		new vehicleid = GetPlayerVehicleID(playerid);
		if(gVehicleGun[vehicleid][vGunLoading] || gVehicleGun[vehicleid][vGunUnloading]) return SendErr(playerid, "Авто уже стоит на загрузке / разгрузке");
		gVehicleGun[vehicleid][vGunUnloading] = true;
		RemovePlayerFromVehicle(playerid);
		new Float:x, Float:y, Float:z, Float:a;
		GetVehiclePos(vehicleid, x, y, z);
		GetVehicleZAngle(vehicleid, a);
		switch(GetVehicleModel(vehicleid))
		{
			case 433:
			{
				x = x - (-6.0*floatsin(a, degrees));
				y = y - 5.5*floatcos(a, degrees);
				gVehicleGun[vehicleid][vGunPickup] = CreateDynamicPickup(1318, 1, x, y, z-0.5, -1); //Пикап грузовиков
			}
			case 400,404,436,466,475,489,492,579,482:
			{
				x = x - (-3.0*floatsin(a, degrees));
				y = y - 3.5*floatcos(a, degrees);
				gVehicleGun[vehicleid][vGunPickup] = CreateDynamicPickup(1318, 1, x, y, z-0.2, -1); //Пикап для легковых авто
			}
			default: SendErr(playerid, "Вы должны быть в машине предназначенной для загрузки!");
		}
		new string[160];
		if(IsAMafia(playerid))
		{
			format(string, sizeof(string),"{f0f0f0}Загрузка: \n"cBLUE"%d{f0f0f0} из "cBLUE" 20{f0f0f0} ящиков\n"cBLUE"%d{f0f0f0} из "cBLUE" 20{f0f0f0} пакетов", gVehicleGun[vehicleid][vGunAmmo], gVehicleGun[vehicleid][vGunNarko]);
		}
		else
		{
			format(string, sizeof(string),"{f0f0f0}Загрузка: \n"cBLUE"%d{f0f0f0} из "cBLUE" 20{f0f0f0} ящиков", gVehicleGun[vehicleid][vGunAmmo]);
		}
		gVehicleGun[vehicleid][vGunText] = CreateDynamic3DTextLabel(string, 0xFFFFFFFF, x, y, z+0.8, 20.0);
		gVehicleGun[vehicleid][vGunArea] = CreateDynamicSphere(x, y, z, 1.0);
		Iter_Add(VehicleGun, vehicleid);
		SendClientMessage(playerid, COLOR_GREEN, "Разгрузка началась");
	}
	return 1;
}

CMD:givemetal(playerid, params[])
{
	if(sscanf(params, "ui", params[0], params[1])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/giveguns [id игрока] [количество]");
	else if(!IsPlayerInRangeOfPlayer(8.0, playerid, params[0])) return SendClientMessage(playerid, COLOR_RED, "Игрок слишком далеко!");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(params[1] < 0) return SendClientMessage(playerid, COLOR_RED, "Неверное количество!");
	else if(PI[playerid][pGunAmount] < params[1]) return SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно металла");
	else if(PI[params[0]][pGunAmount]+params[1] > 500 && !PI[playerid][pImprove][2]) return SendClientMessage(playerid, COLOR_RED, "Игрок не может взять Метал!");
	else if(PI[params[0]][pGunAmount]+params[1] > 1000 && PI[playerid][pImprove][2]) return SendClientMessage(playerid, COLOR_RED, "Игрок не может взять Метал!");
	PI[playerid][pGunAmount] -= params[1];
	PI[params[0]][pGunAmount] += params[1];
	new string[128];
	format(string, sizeof(string), "UPDATE `accounts` SET gunamount=%i,gunamount=%i WHERE id=%i LIMIT 1", PI[playerid][pGunAmount], PI[params[0]][pGunAmount], PI[playerid][pID]);
	mysql_tquery(dbHandle, string, "", "");
	string = "\0";
	format(string, sizeof(string), "передал единицы оружия %s", GetName(params[0]));
	MeAction(playerid, string);
	format(string, sizeof(string), "Вы передали %s %d Метал", GetName(params[0]), params[1]);
	SendClientMessage(playerid, COLOR_WHITE, string);
	format(string, sizeof(string), "%s передал Вам %d Метал", GetName(playerid), params[1]);
	SendClientMessage(params[0], COLOR_WHITE, string);
	return 1;
}

CMD:givepatr(playerid, params[])
{
	if(sscanf(params, "ui", params[0], params[1])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/givepatr [id игрока] [количество]");
	else if(!IsPlayerInRangeOfPlayer(8.0, playerid, params[0])) return SendClientMessage(playerid, COLOR_RED, "Игрок слишком далеко!");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(params[1] < 0) return SendClientMessage(playerid, COLOR_RED, "Неверное количество!");
	else if(PI[playerid][pPatron] < params[1]) return SendClientMessage(playerid, COLOR_RED, "У Вас нет столько патрон!");
	else if(PI[params[0]][pPatron]+params[1] > 500 && !PI[playerid][pImprove][2]) return SendClientMessage(playerid, COLOR_RED, "Игрок не может взять столько патрон!");
	else if(PI[params[0]][pPatron]+params[1] > 1000 && PI[playerid][pImprove][2]) return SendClientMessage(playerid, COLOR_RED, "Игрок не может взять столько патрон!");
	PI[playerid][pPatron] -= params[1];
	PI[params[0]][pPatron] += params[1];
	new string[128];
	format(string, sizeof(string), "UPDATE `accounts` SET patron=%i,patron=%i WHERE id=%i LIMIT 1", PI[playerid][pPatron], PI[params[0]][pPatron], PI[playerid][pID]);
	mysql_tquery(dbHandle, string, "", "");
	string = "\0";
	format(string, sizeof(string), "передал патроны %s", GetName(params[0]));
	MeAction(playerid, string);
	format(string, sizeof(string), "Вы передали %s %d пт", GetName(params[0]), params[1]);
	SendClientMessage(playerid, COLOR_WHITE, string);
	format(string, sizeof(string), "%s передал Вам %d пт", GetName(playerid), params[1]);
	SendClientMessage(params[0], COLOR_WHITE, string);
	return 1;
}

CMD:flower(playerid, params[])
{
    if(!HaveWeapon(playerid, 14)) return SendClientMessage(playerid, COLOR_RED, "У Вас нет цветов!");
    else if(sscanf(params, "u", params[0])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/flower [id игрока]");
	else if(!IsPlayerInRangeOfPlayer(8.0, playerid, params[0])) return SendClientMessage(playerid, COLOR_RED, "Игрок слишком далеко!");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(!IsPlayerInRangeOfPlayer(8.0, playerid, params[0])) return SendClientMessage(playerid, COLOR_RED, "Игрок слишком далеко!");
	else if(params[0] == playerid) return SendClientMessage(playerid, COLOR_RED, "Самому себе нельзя передавать!");
	else if(HaveWeapon(params[0], 14)) return SendClientMessage(playerid, COLOR_RED, "У игрока уже есть цветы!");
	RemovePlayerWeapon(playerid, 14);
	GivePlayerWeaponAC(params[0], 14, 1);
	new string[128];
	format(string, sizeof(string), "передал цветы %s", GetName(params[0]));
	MeAction(playerid, string);
	format(string, sizeof(string), "Вы передали %s цветы", GetName(params[0]), params[1]);
	SendClientMessage(playerid, COLOR_WHITE, string);
	format(string, sizeof(string), "%s передал Вам цветы", GetName(playerid), params[1]);
	SendClientMessage(params[0], COLOR_WHITE, string);
	return 1;
}

CMD:sellsim(playerid, params[])
{
	if(PI[playerid][pPhoneNumber] <= 1) return SendClientMessage(playerid, COLOR_RED, "У Вас нет SIM-карты!");
	else if(sscanf(params, "ui", params[0], params[1])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/sellsim [id игрока] [цена]");
	else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
	else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
	else if(playerid == params[0]) return SendClientMessage(playerid, COLOR_RED, "Самому себе нельзя продавать SIM-карту!");
	else if(!IsPlayerInRangeOfPlayer(8.0, playerid, params[0])) return SendClientMessage(playerid, COLOR_RED, "Игрок слишком далеко!");
	else if(params[1] < 1 || params[1] > 1000000) return SendClientMessage(playerid, COLOR_RED, "Цена должна быть от 1 до 1.000.000 рублей");
	new string[144];
	format(string, sizeof(string), "Вы предложили %s купить SIM-карту. Цена: %i рублей", GetName(params[0]), params[1]);
	SendClientMessage(playerid, COLOR_BLUE, string);
	format(string, sizeof(string), "%s предложил Вам купить SIM-карту. Цена: %i рублей", GetName(playerid), params[1]);
	SendClientMessage(params[0], COLOR_BLUE, string);
	SendClientMessage(params[0], COLOR_WHITE, "{FFFFFF}Нажмите {03c03c}Y {FFFFFF}чтобы согласиться или {ff7518}N {FFFFFF}для отказа");
	SetPVarInt(params[0], "KeySim", 1);
	SetPVarInt(params[0], "PlayerSim", playerid);
	SetPVarInt(params[0], "SimPrice", params[1]);
	return 1;
}

CMD:sellzone(playerid, params[])
{
	if(PI[playerid][pLeader] && IsAGang(playerid))
	{
		new full = 0;
		for(new i = 0; i < sizeof(GZInfo); i++)
		{
			if(IsPlayerToSquare(playerid,GZInfo[i][gCoords][0], GZInfo[i][gCoords][1],GZInfo[i][gCoords][2],GZInfo[i][gCoords][3]) && ZoneOnBattle[i] == 0)
			{
				if(GZInfo[i][gFrak] != PI[playerid][pMember]) return SendClientMessage(playerid, COLOR_RED, "Вы не можете продать чужую зону!");
				else if(sscanf(params, "ui", params[0], params[1])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/sellzone [id игрока] [цена]");
				else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
				else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
				else if(params[0] == playerid) return SendClientMessage(playerid, COLOR_RED, "Вы не можете продать зону себе!");
				else if(!IsPlayerInRangeOfPlayer(8.0, playerid, params[0])) return SendClientMessage(playerid, COLOR_RED, "Игрок слишком далеко!");
				else if(!IsAGang(params[0])) return SendClientMessage(playerid, COLOR_RED, "Игрок должен состоять в какой-нибудь банде!");
				else if(!PI[params[0]][pLeader]) return SendClientMessage(playerid, COLOR_RED, "Игрок не руководитель банды!");
				else if(params[1] < 1 || params[1] > 100000) return SendClientMessage(playerid, COLOR_RED, "Цена от 1 до 100000 доллара(ов)!");
				SendMes(playerid, COLOR_BLUE, "Вы предложили %s купить зону. Цена: %i  рублей", GetName(params[0]), params[1]);
				SendMes(params[0], COLOR_BLUE, "%s предложил Вам купить зону. Цена: %i  рублей", GetName(playerid), params[1]);
				SendClientMessage(params[0], COLOR_WHITE, "{FFFFFF}Нажмите {03c03c}Y {FFFFFF}чтобы согласиться или {ff7518}N {FFFFFF}для отказа");
				SetPVarInt(params[0], "KeyZone", 1);
				SetPVarInt(params[0], "PlayerZone", playerid);
				SetPVarInt(params[0], "ZonePrice", params[1]);
				SetPVarInt(params[0], "ZoneID", i);
				full++;
			}
		}
		if(full == 0) SendClientMessage(playerid, COLOR_RED, "Вы должны находится в своей зоне!!");
	}
	else SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	return 1;
}
CMD:repair(playerid, params[])
{
	if(PI[playerid][pJob] == JOB_MECHANIC)
	{
		if(GetPlayerState(playerid) != 2) return SendClientMessage(playerid, COLOR_RED, "Вы должны находится за рулем эвакуатора!");
		new carid = GetPlayerVehicleID(playerid);
		if(carid >= mechanic[0] && carid <= mechanic[1] || GetVehicleModel(carid) == 525)
		{
			if(sscanf(params, "ui", params[0], params[1])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/repair [ид игрока] [цена]");
			else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
			else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
			else if(params[1] < 1 || params[1] > 1000) return SendClientMessage(playerid, COLOR_RED, "Цена от 1 до 1000 рублей!");
			else if(!IsPlayerInRangeOfPlayer(8.0, playerid, params[0])) return SendClientMessage(playerid, COLOR_RED, "Игрок слишком далеко!");
			else if(GetPlayerState(params[0]) != 2) return SendClientMessage(playerid, COLOR_RED, "Игрок должен находится за рулем транспорта!");
			else if(params[0] == playerid) return SendClientMessage(playerid, COLOR_RED, "Вs не можете починить машину себе!");
			SendMes(playerid, COLOR_BLUE, "Вы предложили %s отремонтировать его транспорт за %i рублей", GetName(params[0]), params[1]);
			SendMes(params[0], COLOR_BLUE, "%s предложил Вам отремонтировать транспорт за {FFFFFF}%i рублей", GetName(playerid), params[1]);
			new string[100];
			format(string, sizeof(string), "Механик %s предлагает Вам отремонтировать транспорт за %i рублейй\n\nВы согласны?", GetName(playerid), params[1]);
			ShowPlayerDialog(params[0], D_JOB+67, 0, "Автомеханик", string, "Да", "Нет");
			SetPVarInt(playerid, "MechVehID", GetPlayerVehicleID(params[0]));
			SetPVarInt(params[0], "PlayerMech", playerid);
			SetPVarInt(params[0], "MechanicPrice", params[1]);
		}
		else SendClientMessage(playerid, COLOR_RED, "Вы должны находится в эвакуаторе!");
	}
	else SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	return 1;
}

CMD:refill(playerid, params[])
{
	if(PI[playerid][pJob] == JOB_MECHANIC)
	{
		if(GetPlayerState(playerid) != 2) return SendClientMessage(playerid, COLOR_RED, "Вы должны находится за рулем эвакуатора!");
		new carid = GetPlayerVehicleID(playerid);
		if(carid >= mechanic[0] && carid <= mechanic[1] || GetVehicleModel(carid) == 525)
		{
			if(sscanf(params, "ui", params[0], params[1])) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/refill [id игрока] [цена]");
			else if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_RED, "Такого игрока нет");
			else if(PlayerLogged[params[0]] == false) return SendClientMessage(playerid, COLOR_RED, "Игрок не ввел пароль!");
			else if(params[1] < 1 || params[1] > 5000) return SendClientMessage(playerid, COLOR_RED, "Цена от 1 до 5000 рублей!");
			else if(!IsPlayerInRangeOfPlayer(8.0, playerid, params[0])) return SendClientMessage(playerid, COLOR_RED, "Игрок слишком далеко!");
			else if(GetPlayerState(params[0]) != 2) return SendClientMessage(playerid, COLOR_RED, "Игрок должен находится за рулем транспорта!");
			else if(params[0] == playerid) return SendClientMessage(playerid, COLOR_RED, "Ты не можешь заправить себе машин!");
			SendMes(playerid, COLOR_LIGHTBLUE, "Вы предложили %s заправить его транспорт за %i рублей", GetName(params[0]), params[1]);
			SendMes(params[0], COLOR_LIGHTBLUE, "%s преложил Вам заправить ваш транспорт за {FFFFFF}%i рублей", GetName(playerid), params[1]);
			new string[100];
			format(string, sizeof(string), "%s преложил Вам заправить ваш транспорт за %i рублей\n\nВы согласны?", GetName(playerid), params[1]);
			ShowPlayerDialog(params[0], D_JOB+130, 0, "Автомеханик", string, "Да", "Нет");
			SetPVarInt(params[0], "MechanicPlayer", playerid);
			SetPVarInt(params[0], "MechanicPrice", params[1]);
		}
		else SendClientMessage(playerid, COLOR_RED, "Вы должны находится в эвакуаторе!");
	}
	else SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	return 1;
}

CMD:fill(playerid, params[])
{
	if(GetPlayerState(playerid) != 2) return SendClientMessage(playerid, COLOR_RED, "Вы должны находится за рулем!");
	if(Fuel[GetPlayerVehicleID(playerid)] >= 100) return SendClientMessage(playerid, COLOR_RED, "Ваш бак полон!");
	if(GetPVarInt(playerid, "Refueling") > 0) return SendClientMessage(playerid, COLOR_RED, "Вы уже заправляетесь!");
	new full;
	for(new i = 1; i <= TOTALBIZZ; i++)
	{
		if(IsPlayerInRangeOfPoint(playerid, 5.0, BizzInfo[i][bEntrx], BizzInfo[i][bEntry], BizzInfo[i][bEntrz])
				&& BizzInfo[i][bType] == 2)
		{
			ShowPlayerDialog(playerid, D_JOB+128, 1,"{FFCC00}Заправка", "{ffffff}Введите количество литров для заправки транспорта.", "Далее", "Отмена");
			full++;
			SetPVarInt(playerid, "FuelBizzID", i);
		}
	}
	if(full == 0) return SendClientMessage(playerid, COLOR_RED, "Вы должны находится у заправки!");
	return true;
}
//==============================================================================
/*CMD:end(playerid, params[])
{
	if(PI[playerid][pJob] != JOB_BUS) return SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	if(GetPlayerState(playerid) != 2) return SendClientMessage(playerid, COLOR_RED, "Вы должны находится за рулем автобуса!");
	new carid = GetPlayerVehicleID(playerid);
	if(carid >= buscar[0] && carid <= buscar[1])
	{
		if(GetPVarInt(playerid, "PriceBus") > 0)
		{
		    new CB[16];
		    TimeConverter(PI[playerid][pBusTime], CB);
			SendMes(playerid, COLOR_BLUE, "Рабочий день завершен. Вами заработано: %i рублей. Время рейса: %s", GetPVarInt(playerid, "BusMoney"), CB);
			SendClientMessage(playerid, COLOR_WHITE, "Деньги будут перечислены на счет во время зарплаты (PayDay)");
			PI[playerid][pPayCheck] += GetPVarInt(playerid, "BusMoney");
			DeletePVar(playerid, "BusTime");
			DeletePVar(playerid, "TypeBus");
			DeletePVar(playerid, "PriceBus");
			DeletePVar(playerid, "BusStop");
			DeletePVar(playerid, "BusMoney");
			PI[playerid][pBusTime] = 0;
			pPressed[playerid] = 0;
			if(IsValidDynamic3DTextLabel(BusText3D[playerid])) DestroyDynamic3DTextLabel(BusText3D[playerid]);
			SetVehicleToRespawn(GetPlayerVehicleID(playerid));
			DisablePlayerRaceCheckpoint(playerid);
			return 1;
		}
	}
	else SendClientMessage(playerid, COLOR_RED, "Вы должны находится в автобусе!");
	return 1;
}*/

CMD:fare(playerid, params[])
{
	if(PI[playerid][pJob] != JOB_TAXI) return SendClientMessage(playerid, COLOR_RED, "Вам недоступна данная функция");
	if(GetPlayerState(playerid) != 2) return SendClientMessage(playerid, COLOR_RED, "Вы должны находится за рулем такси!");
	new carid = GetPlayerVehicleID(playerid);
	if(carid >= taxicar[0] && carid <= taxicar[1])
	{
		if(GetPVarInt(playerid, "PriceTaxi") > 0)
		{
			SendMes(playerid, COLOR_BLUE, "Рабочий день завершен. Вами заработано: %i рублей", GetPVarInt(playerid, "TaxiMoney"));
			SendClientMessage(playerid, COLOR_WHITE, "Деньги будут перечислены на счет во время зарплаты");
			DeletePVar(playerid, "PriceTaxi");
			DeletePVar(playerid, "TaxiMoney");
			if(IsValidDynamic3DTextLabel(TaxiText3D[playerid])) DestroyDynamic3DTextLabel(TaxiText3D[playerid]);
			return 1;
		}
		ShowPlayerDialog(playerid, D_JOB+57, 1, "{FFCC00}Тариф", "{ffffff}Введите стоимость проезда:", "Принять", "Отмена");
	}
	else SendClientMessage(playerid, COLOR_RED, "Вы должны находится в такси!");
	return 1;
}
CMD:nitro(playerid)
{
    if(PI[playerid][pAdmin] < 4) return 1;
	else if(PI[playerid][pAdmin] < 1) return SCM(playerid, COLOR_RED, "[MySQL] Впишите себя в таблице admin");
	else if(!IsPlayerInAnyVehicle(playerid)) return SCM(playerid, COLOR_RED, "Вы должны находится в транспорте!");
    SCM(playerid,COLOR_BLUE,"Вы установили временное нитро на x10 запусков");
	AddVehicleComponent(GetPlayerVehicleID(playerid),1010);
	return 1;
}
CMD:rt(playerid,params[])
{
    if(PI[playerid][pAdmin] < ADM_TOP) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
    else if(PI[playerid][pAdmin] < 1) return SendClientMessage(playerid, COLOR_RED, "[MySQL] Впишите себя в таблице admin");
    new Float:px,Float:py,Float:pz,string[128];
    if(sscanf(params,"p<,>fff",px,py,pz)) return SendClientMessage(playerid, COLOR_LIME, "Информация: {ffffff}/rt <x, y, z>");
    SetPlayerPos(playerid,px,py,pz);
    format(string, sizeof(string), "Вы были телепортированны на указанные Вами координаты: %f, %f, %f",px,py,pz);
    SendClientMessage(playerid, 0xFFFFFFFF, string);
    return 1;
}
//========================[ Система вдыхания/выдыхания ]========================
stock GetPlayerSpeedPar(playerid)
{
    new Float:ST[4];
    if(IsPlayerInAnyVehicle(playerid))
    GetVehicleVelocity(GetPlayerVehicleID(playerid),ST[0],ST[1],ST[2]);
    else GetPlayerVelocity(playerid,ST[0],ST[1],ST[2]);
    ST[3] = floatsqroot(floatpower(floatabs(ST[0]), 2.0) + floatpower(floatabs(ST[1]), 2.0) + floatpower(floatabs(ST[2]), 2.0)) * 179.28625;
    return floatround(ST[3]);
}
//==============================================================================
stock ProxDetectorS(Float:radi, playerid, targetid)
{
    new Float:p[3];
    if(!IsPlayerConnected(playerid)) return 0;
    if(!IsPlayerConnected(targetid)) return 0;
    if(!GetPlayerPos(targetid, p[0], p[1], p[2])) return 0;
	if(!IsPlayerInRangeOfPoint(playerid, radi, p[0], p[1], p[2])) return 0;
	return 1;
}

stock GetNearestVehicle(playerid)
{
	for(new i = 0; i < MAX_VEHICLES; i++)
	{
		if(GetVehicleModel(i))
		{
			new Float:Xx, Float:Yy, Float:Zz;
			GetVehiclePos(i, Xx, Yy, Zz);
			if(PlayerToPoint(8.0, playerid, Xx, Yy, Zz)) return i;
		}
	}
	return 1;
}
stock PlayerToPoint(Float:radi, playerid, Float:x, Float:y, Float:z)
{
	if(IsPlayerConnected(playerid))
	{
		new Float:oldposx, Float:oldposy, Float:oldposz;
		new Float:tempposx, Float:tempposy, Float:tempposz;
		GetPlayerPos(playerid, oldposx, oldposy, oldposz);
		tempposx = (oldposx -x);
		tempposy = (oldposy -y);
		tempposz = (oldposz -z);
		//printf("DEBUG: X:%f Y:%f Z:%f",posx,posy,posz);
		if (((tempposx < radi) && (tempposx > -radi)) && ((tempposy < radi) && (tempposy > -radi)) && ((tempposz < radi) && (tempposz > -radi)))
		{
			return 1;
		}
	}
	return 0;
}
public OnPlayerClickMap(playerid, Float:fX, Float:fY, Float:fZ)
{
	if(!PI[playerid][pAdmin]) return 1;
	if(AdminLogged[playerid] == true)
	{
	    SetPlayerPosFindZ(playerid, fX, fY, fZ);
	} else return SendClientMessage(playerid, -1, YouAreNotLoggedInAsAdmin);
	return 1;
}
stock SelectAnimation(const playerid, const animation)
{
        switch(animation)
        {
        case 0: SetPlayerSpecialAction(playerid, SPECIAL_ACTION_DANCE1);
        case 1: SetPlayerSpecialAction(playerid, SPECIAL_ACTION_DANCE2);
        case 2: SetPlayerSpecialAction(playerid, SPECIAL_ACTION_DANCE3);
        case 3: SetPlayerSpecialAction(playerid, SPECIAL_ACTION_DANCE4);
        case 4: ApplyAnimation(playerid, !"DANCING", !"DAN_Left_A" ,4.1,1,0,0,0,0,0);
        case 5: ApplyAnimation(playerid, !"DANCING", !"dnce_M_a" ,4.1,1,0,0,0,0,0);
        case 6: ApplyAnimation(playerid, !"ON_LOOKERS", !"wave_loop" ,4.1,1,0,0,0,0,0);
        case 7: ApplyAnimation(playerid, !"BEACH", !"bather" ,4.1,1,0,0,0,0,0);
        case 8: ApplyAnimation(playerid, !"ped", !"WALK_drunk" ,4.1,1,1,1,0,0,0);
        case 9: ApplyAnimation(playerid, !"ped", !"Crouch_Roll_L" , 4.1,1,1,1,0,0,0);
        case 10: ApplyAnimation(playerid, !"ped", !"endchat_03" ,4.1,1,0,0,0,0,0);
        case 11: ApplyAnimation(playerid, !"benchpress", !"gym_bp_celebrate" ,4.1,1,0,0,0,0,0);
        case 12: ApplyAnimation(playerid, !"ped", !"cower" ,4.1,1,0,0,0,0,0);
        case 13: ApplyAnimation(playerid, !"BOMBER", !"BOM_Plant" ,4.1,0,0,0,0,0,0);
        case 14: ApplyAnimation(playerid, !"SHOP", !"ROB_Shifty" ,4.1,0,0,0,0,0,0);
        case 15: ApplyAnimation(playerid, !"SHOP", !"ROB_Loop_Threat" ,4.1,1,0,0,0,0,0);
        case 16: ApplyAnimation(playerid, !"COP_AMBIENT", !"Coplook_loop" ,4.1,1,0,0,0,0,0);
        case 17: ApplyAnimation(playerid, !"FOOD", !"EAT_Vomit_P" ,4.1,0,0,0,0,0,0);
        case 18: ApplyAnimation(playerid, !"FOOD", !"EAT_Burger" ,4.1,0,0,0,0,0,0);
        case 19: ApplyAnimation(playerid, !"SWEET", !"sweet_ass_slap" ,4.1,0,0,0,0,0,0);
        case 20: ApplyAnimation(playerid, !"DEALER", !"DEALER_DEAL" ,4.1,0,0,0,0,0,0);
        case 21: ApplyAnimation(playerid, !"CRACK", !"crckdeth2" ,4.1,1,0,0,0,0,0);
        case 22: ApplyAnimation(playerid, !"LOWRIDER", !"M_smklean_loop" ,4.1,1,0,0,0,0,0);
        case 23: ApplyAnimation(playerid, !"LOWRIDER", !"F_smklean_loop" ,4.1,1,0,0,0,0,0);
        case 24: ApplyAnimation(playerid, !"BEACH", !"ParkSit_M_loop" ,4.1,1,0,0,0,0,0);
        case 25: ApplyAnimation(playerid, !"PARK", !"Tai_Chi_Loop" ,4.1,1,0,0,0,0,0);
        case 26: ApplyAnimation(playerid, !"BAR", !"dnk_stndF_loop" ,4.1,1,0,0,0,0,0);
        case 27: ApplyAnimation(playerid, !"DANCING", !"DAN_Right_A" ,4.1,1,0,0,0,0,0);
        case 28: ApplyAnimation(playerid, !"BSKTBALL", !"BBALL_def_loop" ,4.1,1,0,0,0,0,0);
        case 29: ApplyAnimation(playerid, !"MISC", !"plyr_shkhead" ,4.1,0,0,0,0,0,0);
        case 30: ApplyAnimation(playerid, !"BSKTBALL", !"BBALL_idle" ,4.1,0,0,0,0,0,0);
        case 31: ApplyAnimation(playerid, !"CAMERA", !"camstnd_cmon" ,4.1,1,0,0,0,0,0);
        case 32: ApplyAnimation(playerid, !"SHOP", !"SHP_Rob_HandsUP" ,4.1,1,0,0,0,0,0);
        case 33: ApplyAnimation(playerid, !"CRACK", !"crckidle2" ,4.1,1,0,0,0,0,0);
        case 34: ApplyAnimation(playerid, !"CRACK", !"crckidle4" ,4.1,1,0,0,0,0,0);
        case 35: ApplyAnimation(playerid, !"DEALER", !"DEALER_IDLE" ,4.1,1,0,0,0,0,0);
        case 36: ApplyAnimation(playerid, !"GANGS", !"leanIDLE" ,4.1,1,0,0,0,0,0);
        case 37: ApplyAnimation(playerid, !"GANGS", !"shake_carSH" ,4.1,0,0,0,0,0,0);
        case 38: ApplyAnimation(playerid, !"GANGS", !"smkcig_prtl" ,4.1,0,0,0,0,0,0);
        case 39: ApplyAnimation(playerid, !"BEACH", !"ParkSit_W_loop" ,4.1,1,0,0,0,0,0);
        case 40: ApplyAnimation(playerid, !"INT_HOUSE", !"LOU_Loop" ,4.1,1,0,0,0,0,0);
        case 41: ApplyAnimation(playerid, !"INT_OFFICE", !"OFF_Sit_Bored_Loop" ,4.1,1,0,0,0,0,0);
        case 42: ApplyAnimation(playerid, !"INT_OFFICE", !"OFF_Sit_Idle_Loop" ,4.1,1,0,0,0,0,0);
        case 43: ApplyAnimation(playerid, !"INT_OFFICE", !"OFF_Sit_Type_Loop" ,4.1,1,0,0,0,0,0);
        case 44: ApplyAnimation(playerid, !"INT_SHOP", !"shop_shelf" ,4.1,1,0,0,0,0,0);
        case 45: ApplyAnimation(playerid, !"JST_BUISNESS", !"girl_02" ,4.1,1,0,0,0,0,0);
        case 46: ApplyAnimation(playerid, !"KISSING", !"GF_StreetArgue_02" ,4.1,0,0,0,0,0,0);
        case 47: ApplyAnimation(playerid, !"KISSING", !"Grlfrd_Kiss_01" ,4.1,0,0,0,0,0,0);
        case 48: ApplyAnimation(playerid, !"KISSING", !"Grlfrd_Kiss_02" ,4.1,0,0,0,0,0,0);
        case 49: ApplyAnimation(playerid, !"KISSING", !"Grlfrd_Kiss_03" ,4.1,0,0,0,0,0,0);
        case 50: ApplyAnimation(playerid, !"LOWRIDER", !"RAP_B_Loop" ,4.1,1,0,0,0,0,0);
        case 51: ApplyAnimation(playerid, !"MEDIC", !"CPR" ,4.1,1,0,0,0,0,0);
        case 52: ApplyAnimation(playerid, !"MISC", !"bitchslap" ,4.1,1,0,0,0,0,0);
        case 53: ApplyAnimation(playerid, !"MISC", !"bng_wndw" ,4.1,1,0,0,0,0,0);
        case 54: ApplyAnimation(playerid, !"MISC", !"KAT_Throw_K" ,4.1,0,0,0,0,0,0);
        case 55: ApplyAnimation(playerid, !"MISC", !"SEAT_LR" ,4.1,1,0,0,0,0,0);
        case 56: ApplyAnimation(playerid, !"ped", !"SEAT_idle" ,4.1,1,0,0,0,0,0);
        case 57: ApplyAnimation(playerid, !"ON_LOOKERS", !"lkup_loop" ,4.1,1,0,0,0,0,0);
        case 58: ApplyAnimation(playerid, !"ON_LOOKERS", !"Pointup_loop" ,4.1,1,0,0,0,0,0);
        case 59: ApplyAnimation(playerid, !"ON_LOOKERS", !"panic_loop" ,4.1,1,0,0,0,0,0);
        case 60: ApplyAnimation(playerid, !"ON_LOOKERS", !"shout_02" ,4.1,1,0,0,0,0,0);
        case 61: ApplyAnimation(playerid, !"PAULNMAC", !"Piss_loop" ,4.1,1,0,0,0,0,0);
        case 62: ApplyAnimation(playerid, !"GHANDS", !"gsign1LH" ,4.1,1,0,0,0,0,0);
        case 63: ApplyAnimation(playerid, !"ped", !"IDLE_taxi" ,4.1,1,0,0,0,0,0);
        case 64: ApplyAnimation(playerid, !"POLICE", !"Door_Kick" ,4.1,0,0,0,0,0,0);
        case 65: ApplyAnimation(playerid, !"POLICE", !"CopTraf_Stop" ,4.1,1,0,0,0,0,0);
        case 66: ApplyAnimation(playerid, !"RIOT", !"RIOT_ANGRY_B" ,4.1,1,0,0,0,0,0);
        case 67: ApplyAnimation(playerid, !"LOWRIDER", !"RAP_C_Loop" ,4.1,1,0,0,0,0,0);
        case 68: ApplyAnimation(playerid, !"SWAT", !"gnstwall_injurd" ,4.1,1,0,0,0,0,0);
        case 69: ApplyAnimation(playerid, !"SWEET", !"Sweet_injuredloop" ,4.1,1,0,0,0,0,0);
        case 70: ApplyAnimation(playerid, !"RIOT", !"RIOT_ANGRY" ,4.1,1,0,0,0,0,0);
        case 71: ApplyAnimation(playerid, !"GHANDS", !"gsign2" ,4.1,1,0,0,0,0,0);
        case 72: ApplyAnimation(playerid, !"GHANDS", !"gsign4" ,4.1,1,0,0,0,0,0);
        case 73: ApplyAnimation(playerid, !"GHANDS", !"gsign5" ,4.1,1,0,0,0,0,0);
        default:
                {
                        ShowPlayerDialog(playerid, 000, DIALOG_STYLE_MSGBOX
                        ,
                        !"{FFCD00}Информация", !"{FFFFFF}Для быстрого запуска нужной анимации \
                                можно использовать {66CC33}/anim(list) [номер анимации из списка]", !"Закрыть", ""
                        );
                }
        }
        if(3 < animation < 74)
        TextDrawShowForPlayer(playerid, enable_animation_TD);

        return true;
}
stock HospitalHealth(playerid)
{
    if(GetPVarInt(playerid, "lechenie") == 1)
    {
       if(PI[playerid][pHeal] < 99.00)
       {
			if(PI[playerid][pVip])
			{
			    PI[playerid][pHeal] += 3;
			    GameTextForPlayer(playerid,"~g~+3 HP",300,4);
				SetHealth(playerid,PI[playerid][pHeal]);
			}
			else
			{
			    PI[playerid][pHeal] += 1;
			    GameTextForPlayer(playerid,"~g~+1 HP",300,4);
			    SetHealth(playerid,PI[playerid][pHeal]);
			}
			PlayerPlaySound(playerid, 17803, 0.0, 0.0, 0.0);
       }
       else
	   {
           SetPVarInt(playerid, "lechenie", 0);
           PlayerDied[playerid] = false;
           SendClientMessage(playerid, COLOR_LIME, "Курс лечения пройден!");
           SendClientMessage(playerid, COLOR_WHITE, "Вы выписаны из больницы");
	   }
	}
	return 1;
}
//==============================================================================
stock strtok(const strin[], &index)
{
	new length = strlen(strin);
	while ((index < length) && (strin[index] <= ' '))
	{
		index++;
	}

	new offset = index;
	new result[20];
	while ((index < length) && (strin[index] > ' ') && ((index - offset) < (sizeof(result) - 1)))
	{
		result[index - offset] = strin[index];
		index++;
	}
	result[index - offset] = EOS;
	return result;
}

stock IsInAllowedM(mnumbers)
{
	for(new i =0;i<sizeof(allowedmfactions);i++)
	{
		if(mnumbers == allowedmfactions[i]) return 1;
	}
	return 0;
}

/*stock Converts(number)
{
	new hours = 0, mins = 0, secs = 0, string[30];
	hours = floatround(number / 3600);
	mins = floatround((number / 60) - (hours * 60));
	secs = floatround(number - ((hours * 3600) + (mins * 60)));
	if(hours > 0)
	{
		format(string, 30, "%d:%02d:%02d", hours, mins, secs);
	}
	else
	{
		format(string, 30, "%d:%02d", mins, secs);
	}
	return string;
}*/

/*stock Converts(number)
{
	new hours = 0, mins = 0, secs = 0, string[30];
	hours = floatround(number / 3600);
	mins = floatround((number / 60) - (hours * 60));
	secs = floatround(number - ((hours * 3600) + (mins * 60)));
	if(hours > 0) format(string, 30, "%d:%02d:%02d", hours, mins, secs);
	else format(string, 30, "%d:%02d", mins, secs);
	return string;
}*/

stock Converts(number)
{
	new hours = 0, mins = 0, secs = 0, string[30];
	hours = floatround(number / 3600);
	mins = floatround((number / 60) - (hours * 60));
	secs = floatround(number - ((hours * 3600) + (mins * 60)));
	if(hours > 0) format(string, 30, "%d:%02d:%02d", hours, mins, secs);
	else format(string, 30, "%d:%02d", mins, secs);
	return string;
}

stock ConvertSendClientMessagedTime(number)
{
	new hours = 0, mins = 0, string[30];
	hours = number / 3600;
	mins = (number - hours * 3600) / 60;
	format(string, 30, "%d ч %d мин", hours, mins);
	return string;
}

stock emptyMessage(string[])
{
    for(new i; string[i] != 0x0; i++)
    {
        switch(string[i])
        {
            case 0x20: continue;
            default: return 0;
        }
    }
    return 1;
}
stock OnPlayerAmmoChange(playerid, newammo, oldammo)
{
    if(newammo < oldammo)
	{
		Shot[playerid]++;
		switch(GetPlayerWeapon(playerid))
		{
		    case 22:
			{
				if(Shot[playerid] >= 20 && PI[playerid][pGunSkill][6] < 100 && !PI[playerid][pVip]) PI[playerid][pGunSkill][6]++, Shot[playerid] = 0;
				else if(Shot[playerid] >= 10 && PI[playerid][pGunSkill][6] < 100 && PI[playerid][pVip]) PI[playerid][pGunSkill][6]++, Shot[playerid] = 0;
			}
		    case 23:
			{
				if(Shot[playerid] >= 20 && PI[playerid][pSkill] < 100 && !PI[playerid][pVip]) PI[playerid][pSkill]++, Shot[playerid] = 0;
				else if(Shot[playerid] >= 10 && PI[playerid][pSkill] < 100 && PI[playerid][pVip]) PI[playerid][pSkill]++, Shot[playerid] = 0;
			}
			case 24:
			{
				if(Shot[playerid] >= 28 && PI[playerid][pSkill][1] < 100 && !PI[playerid][pVip]) PI[playerid][pSkill][1]++, Shot[playerid] = 0;
				else if(Shot[playerid] >= 14 && PI[playerid][pSkill][1] < 100 && PI[playerid][pVip]) PI[playerid][pSkill][1]++, Shot[playerid] = 0;
			}
			case 25:
			{
				if(Shot[playerid] >= 40 && PI[playerid][pSkill][2] < 100 && !PI[playerid][pVip]) PI[playerid][pSkill][2]++, Shot[playerid] = 0;
				else if(Shot[playerid] >= 20 && PI[playerid][pSkill][2] < 100 && PI[playerid][pVip]) PI[playerid][pSkill][2]++, Shot[playerid] = 0;
			}
			case 28:
			{
				if(Shot[playerid] >= 100 && PI[playerid][pGunSkill][7] < 100 && !PI[playerid][pVip]) PI[playerid][pGunSkill][7]++, Shot[playerid] = 0;
				else if(Shot[playerid] >= 50 && PI[playerid][pGunSkill][7] < 100 && PI[playerid][pVip]) PI[playerid][pGunSkill][7]++, Shot[playerid] = 0;
			}
			case 29:
			{
				if(Shot[playerid] >= 100 && PI[playerid][pSkill][3] < 100 && !PI[playerid][pVip]) PI[playerid][pSkill][3]++, Shot[playerid] = 0;
				else if(Shot[playerid] >= 50 && PI[playerid][pSkill][3] < 100 && PI[playerid][pVip]) PI[playerid][pSkill][3]++, Shot[playerid] = 0;
			}
			case 30:
			{
				if(Shot[playerid] >= 90 && PI[playerid][pSkill][4] < 100 && !PI[playerid][pVip]) PI[playerid][pSkill][4]++, Shot[playerid] = 0;
				else if(Shot[playerid] >= 45 && PI[playerid][pSkill][4] < 100 && PI[playerid][pVip]) PI[playerid][pSkill][4]++, Shot[playerid] = 0;
			}
			case 31:
			{
				if(Shot[playerid] >= 90 && PI[playerid][pSkill][5] < 100 && !PI[playerid][pVip]) PI[playerid][pSkill][5]++, Shot[playerid] = 0;
				else if(Shot[playerid] >= 45 && PI[playerid][pSkill][5] < 100 && PI[playerid][pVip]) PI[playerid][pSkill][5]++, Shot[playerid] = 0;
			}
		}
	}
	SetPlayerSkillss(playerid);
	return 1;
}

stock SendLog(namelog[],string[])
{
	new hour, minn, sec, year, month, day, text[256], log[50], File:LogFile, i;
	gettime(hour, minn, sec);
	getdate(year, month, day);
	format(text, sizeof(text), "[%02d.%02d.%02d|%02d:%02d:%02d]%s\r\n", year, month, day, hour, minn, sec, string);
	format(log,sizeof(log),"[Logs]/%s.log", namelog);
	LogFile = fopen(log, io_append);
	while (text[i] != EOS)
	{
		fputchar(LogFile, text[i], false);
		i++;
	}
	fclose(LogFile);
}

stock PhoneMenu(playerid)
{
	ShowPlayerDialog(playerid, D_PHONE, 2, "{FFCC00}Телефон", "1. Контакты\n2. Позвонить\n3. Отправить СМС\n4. Сервисы", "Принять", "Выход");
	return 1;
}

stock RemoveFromVehicle(playerid)
{
	return RemovePlayerFromVehicle(playerid);
}

stock iswheelmodel(modelid) {

	new wheelmodels[17] = {1025,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1096,1097,1098};
	for(new i = 0; i < 17; i++)
	{
		if(modelid == wheelmodels[i])
		return 1;
	}
	return 0;
}

stock IllegalCarNitroIde(carmodel) {

	new illegalvehs[29] = {581,523,462,521,463,522,461,448,468,586,509,481,510,472,473,493,595,484,430,453,452,446,454,590,569,537,538,570,449};
	for(new i = 0; i < 29; i++)
	{
		if(carmodel == illegalvehs[i])
		return 1;
	}
	return 0;
}

stock illegal_nos_vehicle(playerid)
{
	new carid = GetPlayerVehicleID(playerid);
	new playercarmodel = GetVehicleModel(carid);
	return IllegalCarNitroIde(playercarmodel);
}

stock islegalcarmod(vehicleide, componentid)
{
	new modok = false;
	if((iswheelmodel(componentid)) || (componentid == 1086) || (componentid == 1087) || ((componentid >= 1008) && (componentid <= 1010)))
	{
		new nosblocker = IllegalCarNitroIde(vehicleide);
		if(!nosblocker) modok = true;
	}
	else
	{
		for(new i = 0; i < 48; i++)
		{
			if(legalmods[i][0] == vehicleide)
			{
				for(new j = 1; j < 22; j++)
				{
					if(legalmods[i][j] == componentid) modok = true;
				}
			}
		}
	}
	return modok;
}

stock GetPlayerID(name[])
{
	foreach(new i: Player)
	{
		if(strcmp(GetName(i), name, true, strlen(name)) == 0) return i;
	}
	return INVALID_PLAYER_ID;
}

stock CaptureUpd(bandkiller)
{
	new SCORE[64];
	foreach(new i: Player)
	{
		if(PlayerLogged[i] == false) continue;
		if(PI[i][pMember] > sizeof(GangInfo)) continue;
		if(GangInfo[PI[i][pMember]][capture] > 0)
		{
			if(GangInfo[bandkiller][gangnumber] == 1)
			{
				format(SCORE, sizeof(SCORE), "%d", GangInfo[bandkiller][score]);
				PlayerTextDrawSetString(i, CaptureTD[i][9], SCORE);
			}
			else
			{
				format(SCORE, sizeof(SCORE), "%d", GangInfo[bandkiller][score]);
				PlayerTextDrawSetString(i, CaptureTD[i][10], SCORE);
			}
		}
	}
}

stock CaptureStart(familyone, familytwo)
{
	new SCORE[64];
	foreach(new i: Player)
	{
		if(PlayerLogged[i] == false) continue;
		if(PI[i][pMember] == familyone || PI[i][pMember] == familytwo)
		{
		    for(new s; s < 11; s++) PlayerTextDrawShow(i, CaptureTD[i][s]);
			format(SCORE, sizeof(SCORE), "%s", GetGangName(familyone));
			PlayerTextDrawSetString(i, CaptureTD[i][7], SCORE);
			format(SCORE, sizeof(SCORE), "%s", GetGangName(familytwo));
			PlayerTextDrawSetString(i, CaptureTD[i][8], SCORE);
			PlayerTextDrawSetString(i, CaptureTD[i][9], "0");
			PlayerTextDrawSetString(i, CaptureTD[i][10], "0");
			drawcapt[i] = true;
			IsCapture = true;
		}
	}
}

stock CaptureEnd(familyone, familytwo)
{
	foreach(new i: Player)
	{
		if(PI[i][pMember] == familyone || PI[i][pMember] == familytwo)
		{
		    for(new s; s < 11; s++) PlayerTextDrawHide(i, CaptureTD[i][s]);
			drawcapt[i] = false;
		}
	}
}

stock IsAPlane(vehicleid)
{
	switch(GetVehicleModel(vehicleid))
	{
		case 592,577,511,512,593,520,553,476,519,460,513,548,417,487,488,497,563,447,469: return 1;
		default: return 0;
	}
	return 0;
}

stock IsAVel(vehicleid)
{
	switch(GetVehicleModel(vehicleid))
	{
		case 481,509,510,514: return 1;
		default: return 0;
	}
	return 0;
}

stock IsAMoped(vehicleid)
{
    new model = GetVehicleModel(vehicleid);
	if(model == 461 || model == 463  || model == 468  || model == 471  || model == 521  || model == 522  || model == 523  || model == 581  || model == 586)
	{
		return true;
	}
	return false;
}


stock KamazVeh(vehicleid)
{
	new model = GetVehicleModel(vehicleid);
	if(model == 403 || model == 406 || model == 408 || model == 433 || model == 443 || model == 499 || model == 514 || model == 515 || model == 544)
	{
	    return true;
	}
	return false;
}

stock BusVeh2(vehicleid)
{
	new model = GetVehicleModel(vehicleid);
	if(model == 498 || model == 588 || model == 413 || model == 414 || model == 431 || model == 437 || model == 483 || model == 418)
	{
	    return true;
	}
	return false;
}

stock IsABoat(vehicleid)
{
	switch(GetVehicleModel(vehicleid))
	{
		case 472,473,493,595,484,430,452..454,446: return 1;
		default: return 0;
	}
	return 0;
}

stock IsLoginInvalid(text[])
{
	if(strfind(text, "none", false) != -1) return 1;
	if(strfind(text, "'", true) != -1) return 1;
	if(strfind(text, "/", true) != -1) return 1;
	if(strfind(text, "%", true) != -1) return 1;
	if(strfind(text, "&", true) != -1) return 1;
	if(strfind(text, "*", true) != -1) return 1;
	if(strfind(text, "(", true) != -1) return 1;
	if(strfind(text, ")", true) != -1) return 1;
	if(strfind(text, "2", true) != -1) return 1;
	if(strfind(text, "3", true) != -1) return 1;
	if(strfind(text, "4", true) != -1) return 1;
	if(strfind(text, "5", true) != -1) return 1;
	if(strfind(text, "6", true) != -1) return 1;
	if(strfind(text, "7", true) != -1) return 1;
	if(strfind(text, "8", true) != -1) return 1;
	if(strfind(text, "9", true) != -1) return 1;
	return 0;
}

stock IsTextInvalid(text[])
{
	if(strfind(text, "'", true) != -1) return 1;
	if(strfind(text, "%", true) != -1) return 1;
	if(strfind(text, "&", true) != -1) return 1;
	if(strfind(text, "*", true) != -1) return 1;
	if(strfind(text, "(", true) != -1) return 1;
	if(strfind(text, ")", true) != -1) return 1;
	return 0;
}

stock IsTextRussian(text[])
{
	if(strfind(text, "а", true) != -1) return 1;
	if(strfind(text, "б", true) != -1) return 1;
	if(strfind(text, "В", true) != -1) return 1;
	if(strfind(text, "г", true) != -1) return 1;
	if(strfind(text, "д", true) != -1) return 1;
	if(strfind(text, "е", true) != -1) return 1;
	if(strfind(text, "ё", true) != -1) return 1;
	if(strfind(text, "ж", true) != -1) return 1;
	if(strfind(text, "з", true) != -1) return 1;
	if(strfind(text, "и", true) != -1) return 1;
	if(strfind(text, "й", true) != -1) return 1;
	if(strfind(text, "к", true) != -1) return 1;
	if(strfind(text, "л", true) != -1) return 1;
	if(strfind(text, "м", true) != -1) return 1;
	if(strfind(text, "н", true) != -1) return 1;
	if(strfind(text, "о", true) != -1) return 1;
	if(strfind(text, "п", true) != -1) return 1;
	if(strfind(text, "р", true) != -1) return 1;
	if(strfind(text, "с", true) != -1) return 1;
	if(strfind(text, "т", true) != -1) return 1;
	if(strfind(text, "у", true) != -1) return 1;
	if(strfind(text, "ф", true) != -1) return 1;
	if(strfind(text, "х", true) != -1) return 1;
	if(strfind(text, "ц", true) != -1) return 1;
	if(strfind(text, "ч", true) != -1) return 1;
	if(strfind(text, "ш", true) != -1) return 1;
	if(strfind(text, "щ", true) != -1) return 1;
	if(strfind(text, "ъ", true) != -1) return 1;
	if(strfind(text, "ы", true) != -1) return 1;
	if(strfind(text, "ь", true) != -1) return 1;
	if(strfind(text, "э", true) != -1) return 1;
	if(strfind(text, "ю", true) != -1) return 1;
	if(strfind(text, "я", true) != -1) return 1;
	return 0;
}

stock GetVehicleType(vehicleid)
{
	switch(GetVehicleModel(vehicleid))
	{
	    case 483,534,535,536,558,559,560,561,562,565,567,575,576: return 1;
	    default: return 0;
	}
	return 0;
}
//==============================================================================
stock IsAGos(playerid)
{
	switch(GetTeamID(playerid))
	{
	    case TEAM_AO,TEAM_DPS,TEAM_PPS,TEAM_FSIN,TEAM_MZY,TEAM_MZA,TEAM_SMI,TEAM_VDV: return 1;
	    default: return 0;
	}
	return 0;
}
//==============================================================================
stock IsACop(playerid)
{
	switch(GetTeamID(playerid))
	{
	    case TEAM_PPS,TEAM_DPS,TEAM_FSIN: return 1;
	    default: return 0;
	}
	return 0;
}
//==============================================================================
stock IsAArmy(playerid)
{
	switch(GetTeamID(playerid))
	{
	    case TEAM_VDV: return 1;
	    default: return 0;
	}
	return 0;
}
//==============================================================================
stock IsAGang(playerid)
{
	switch(GetTeamID(playerid))
	{
	    case TEAM_SPARTAK,TEAM_CSKA,TEAM_DINAMO,TEAM_ZENIT: return 1;
	    default: return 0;
	}
	return 0;
}
//==============================================================================
stock IsAMafia(playerid)
{
	switch(GetTeamID(playerid))
	{
	    case TEAM_SPARTAK,TEAM_CSKA,TEAM_DINAMO,TEAM_ZENIT: return 1;
	    default: return 0;
	}
	return 0;
}
//==============================================================================
stock IsANews(playerid)
{
	switch(GetTeamID(playerid))
	{
	    case TEAM_SMI: return 1;
	    default: return 0;
	}
	return 0;
}
//==============================================================================
stock IsAMedic(playerid)
{
	switch(GetTeamID(playerid))
	{
	    case TEAM_MZY,TEAM_MZA: return 1;
	    default: return 0;
	}
	return 0;
}
//==============================================================================
stock IsAMayor(playerid)
{
	switch(GetTeamID(playerid))
	{
	    case TEAM_AO: return 1;
	    default: return 0;
	}
	return 0;
}
//==============================================================================
stock SaveGZ(idx)
{
	format(query, 100, "UPDATE `gangzone` SET fraction = %i WHERE id = %i", GZInfo[idx][gFrak], idx);
	mysql_tquery(dbHandle, query, "", "");
	return 1;
}
//==============================================================================
stock SetPlayerCriminal(playerid, killerid[], reason[])
{
	PI[playerid][pCrimes]++;
	strmid(PI[playerid][pWantedWho], killerid, 0, strlen(killerid), MAX_PLAYER_NAME);
	strmid(PI[playerid][pWantedReason], reason, 0, strlen(reason), 32);
	SendMes(playerid, COLOR_RED, "%s объявил Вас в розыск. Причина: %s", killerid, reason);
	foreach(new i: Player)
	{
		if(PlayerLogged[i] == false) continue;
		if(IsACop(i)) SendMes(i, 0x3399FFFF, "[Внимание] %s [%i] объявил в розыск %s [%i]. Причина: %s.", killerid, playerid, GetName(playerid), playerid, reason);
	}
	PI[playerid][pZakon]--;
	return 1;
}
//==============================================================================
stock NotFlyingHack(playerid)
{
    if(IsPlayerInRangeOfPoint(playerid,20.0,1968.3948,-1198.0753,17.4500)||IsPlayerInRangeOfPoint(playerid,20.0,2310.9861,-1412.8881,21.6151)||
	IsPlayerInRangeOfPoint(playerid,20.0,1241.1094,-2379.7263,8.3145)||IsPlayerInRangeOfPoint(playerid,20.0,225.6394,-1187.0551,73.4500)||
	IsPlayerInRangeOfPoint(playerid,20.0,193.2040,-1224.7693,76.5034)||IsPlayerInRangeOfPoint(playerid,20.0,196.0067,-1232.3684,76.5034)||
    IsPlayerInRangeOfPoint(playerid,20.0,512.7349,-1104.1942,78.8238)||IsPlayerInRangeOfPoint(playerid,20.0,1283.7939,-806.5845,86.1230)||
	IsPlayerInRangeOfPoint(playerid,20.0,2531.6001,1568.4032,8.4171)||IsPlayerInRangeOfPoint(playerid,60.0,2105.2651,1916.6781,9.5989)||
	IsPlayerInRangeOfPoint(playerid,150.0,-792.4582,2173.0356,40.0821)||IsPlayerInRangeOfPoint(playerid,150.0,1993.5868,1601.2623,9.2979))return 1;
    return 0;
}
//==============================================================================
stock AntiCarHack(playerid)
{
    SetPVarInt(playerid, "CarHackUsing", 0);
    return 1;
}

stock PlayerSpeed(playerid)
{
    new Float:X, Float:Y, Float:Z;
    if(!IsPlayerInAnyVehicle(playerid)) GetPlayerVelocity(playerid,X,Y,Z);
    return floatround( floatsqroot( X * X + Y * Y + Z * Z ) * 170.0 );
}

stock GetPlayerSpeed(playerid)
{
    new Float:Coord[4];
    if(IsPlayerInAnyVehicle(playerid)) return 0;
	GetPlayerVelocity(playerid,Coord[0], Coord[1], Coord[2]);
    Coord[3] = floatsqroot(floatpower(floatabs(Coord[0]), 2.0) + floatpower(floatabs(Coord[1]), 2.0) + floatpower(floatabs(Coord[2]), 2.0)) * 214.3;
    return floatround(Coord[3]);
}

stock GetVehicleSpeed(vehicleid)
{
    new Float:ST[3];
    GetVehicleVelocity(vehicleid, ST[0], ST[1], ST[2]);
    return floatround(floatsqroot(ST[0]*ST[0] + ST[1]*ST[1] + ST[2]*ST[2])*110.3);
}

forward Float:GetPlayerSpeed1(playerid);
public Float:GetPlayerSpeed1(playerid)
{
	new Float:X, Float:Y, Float:Z, Float:PlayerToPoints;
	GetVehicleVelocity(GetPlayerVehicleID(playerid), X, Y, Z);
	PlayerToPoints = floatsqroot(floatpower(X, 2) + floatpower(Y, 2) + floatpower(Z, 2))*100;
	return PlayerToPoints;
}

stock PlayerTimer()
{
    foreach(new i: Player)
	{
		if(PlayerLogged[i] == true)
		{

		    // MONEY CHECK
		    if(CheckOutMoney[i] == false)
			{
				if(PI[i][pCash] < GetPlayerMoney(i))
				{
				    ResetPlayerMoney(i);
				    ex_GiveMoney(i,PI[i][pCash]);
				}
			}
			else CheckOutMoney[i] = false;
			
			new Float: FloatParam;
			if(PlayerUseHeal[i] == 0)
			{
				GetPlayerHealth(i, FloatParam);
				if(PI[i][pHeal] < FloatParam) SetPlayerHealth(i, PI[i][pHeal]);
				else PI[i][pHeal] = FloatParam;
			}
			if(PlayerDied[i] == true)
			{
				HospitalHealth(i);
			}
            
            /*PI[i][pAFK]++;
			if(PI[i][pAFK] >= 3)
			{
				new temp[64];
				format(temp, sizeof(temp), "AFK: %s", Converts(PI[i][pAFK]));
				SetPlayerChatBubble(i, temp, COLOR_AFK, 10.0, 1600);
			}*/
			/*if(PI[playerid][pAFK] == 2400 && !PI[playerid][pAdmin])
			{
				SendClientMessage(playerid, COLOR_RED, "Вы были кикнуты т.к были долгое время в АФК");
				KickEx(playerid, 1828);
			}*/
			
			if(PI[i][Spectating][1] != INVALID_PLAYER_ID)
			{
				new str[300];
				new Float:values[3];
				GetPlayerHealth(PI[i][Spectating][0], values[0]);
				GetPlayerArmour(PI[i][Spectating][0], values[1]);
				GetVehicleHealth(GetPlayerVehicleID(PI[i][Spectating][0]), values[2]);
				format(str, sizeof(str), "%s~n~ID: %d~n~Пинг: %d~n~HP: %.1f~n~Броня: %.1f~n~Скорость: %d~n~CarHP: %.1f~n~Патрон: %i:%i~n~Варнов: %d~n~Денег: %d",
				GetName(PI[i][Spectating][0]), PI[i][Spectating][0], GetPlayerPing(PI[i][Spectating][0]),
				values[0], values[1], SpeedVehicle(PI[i][Spectating][0]) / 2, values[2],
				GetPlayerWeapon(PI[i][Spectating][0]), GetPlayerAmmo(PI[i][Spectating][0]),
				PI[PI[i][Spectating][0]][pWarn], PI[PI[i][Spectating][0]][pCash]);
				PlayerTextDrawSetString(PI[i][Spectating][1], PI[PI[i][Spectating][1]][SpecTxt], str);
			}
		}
		/*if(GetPlayerState(i) == PLAYER_STATE_DRIVER)
		{
			new vehicleid = GetPlayerVehicleID(i);
			if(Fuel[vehicleid] < 1 && PlayerFuelMes[vehicleid] == true && GetVehicleModel(vehicleid) != 462)
			{
				SendClientMessage(i, COLOR_RED, "В транспорте закончился бензин, необходима заправка!");
				Engine[vehicleid] = false;
				GetVehicleParamsEx(vehicleid,engine,lights,alarm,doors,bonnet,boot,objective);
				SetVehicleParamsEx(vehicleid,false,lights,alarm,doors,bonnet,boot,objective);
				PlayerFuelMes[vehicleid] = false;
			}
		}*/
		
	    PI[i][pCheckTime]++;
	    if(PI[i][pAdmin]) AdminInfo[i][admTimeMin]++;
	    if(Ether[i] == true) SetPVarInt(i, "InEther", GetPVarInt(i, "InEther") + 1);
	    if(GetPVarInt(i, "TypeBus")) PI[i][pBusTime]++;
		
		if(IsPlayerInRangeOfPoint(i,1.0,-70.9644,1137.3872,2340.5300))
		{
			if(IsAArmy(i) || IsAGang(i))
			{
				StealMats(i);
			}
		}
		if(Mobile[i] != -1 && EtherCalled[i] == false)
		{
			SetPVarInt(i, "CallTime", GetPVarInt(i, "CallTime") + 1);
			if(GetPVarInt(i, "CallTime") >= 10)
			{
				if(PI[i][pBank] > 100)
				{
					PI[i][pBank] -= 100;
					SetPVarInt(i, "CallTime", 0);
				}
				else
				{
					new callerid = Mobile[i];
					SendClientMessage(callerid, COLOR_RED, "Собеседник повесил трубку");
					SetPlayerSpecialAction(callerid,SPECIAL_ACTION_STOPUSECELLPHONE);
					CellTime[callerid] = -1;
					CellTime[i] = -1;
					SendClientMessage(i, COLOR_RED, "Недостаточно средств на счету");
					Mobile[i] = -1;
					SetPlayerSpecialAction(i,SPECIAL_ACTION_STOPUSECELLPHONE);
					DeletePVar(i, "CallTime");
					DeletePVar(callerid, "CallTime");
				}
			}
		}
		if(GetPVarInt(i, "TimeTaxi") > 0)
		{
			SetPVarInt(i, "TimeTaxi", GetPVarInt(i, "TimeTaxi") - 1);
			if(GetPVarInt(i, "TimeTaxi") == 0)
			{
				if(GetMoney(i) > GetPVarInt(i, "TaxiPrice"))
				{
				    new string[32];
					format(string, sizeof(string), "~r~-%i рублей", GetPVarInt(i, "TaxiPrice"));
					GameTextForPlayer(i, string, 5000, 1);
					format(string, sizeof(string), "~b~+%i рублей", GetPVarInt(i, "TaxiPrice"));
					GameTextForPlayer(GetPVarInt(i, "PlayerTaxi"), string, 5000, 1);
					TransferMoney(i, -1, GetPVarInt(i, "TaxiPrice"));
					PI[GetPVarInt(i, "PlayerTaxi")][pPayCheck] += GetPVarInt(i, "TaxiPrice");
					SetPVarInt(i, "TimeTaxi", 30);
					SetPVarInt(GetPVarInt(i, "PlayerTaxi"), "TaxiMoney", GetPVarInt(GetPVarInt(i, "PlayerTaxi"), "TaxiMoney") + GetPVarInt(i, "TaxiPrice"));
				}
				else
				{
					SendClientMessage(i, COLOR_RED, "У Вас недостаточно денег!");
					RemoveFromVehicle(i);
				}
			}
		}
		if(GetPVarInt(i, "TimeBus") > 0)
		{
		    SetPVarInt(i, "TimeBus", GetPVarInt(i, "TimeBus") - 1);
		    new string[32];
			format(string, sizeof(string), "~r~%i", GetPVarInt(i, "TimeBus"));
			GameTextForPlayer(i, string, 2000, 6);
			if(GetPVarInt(i, "TimeBus") == 0)
			{
				DeletePVar(i, "TimeBus");
				new p = pPressed[i];
				SetPVarInt(i, "BusStop", 1);
				SetPlayerRaceCheckpoint(i,0,arzamas_batirevo[p][0],arzamas_batirevo[p][1],arzamas_batirevo[p][2],arzamas_batirevo[p][3],arzamas_batirevo[p][4],arzamas_batirevo[p][5],5.0);
			}
		}
		if(EtherCalled[i] == true)
		{
			if(PI[i][pPhoneBalance] > CallPrice[PI[i][pNews]-1])
			{
				PI[i][pPhoneBalance] -= CallPrice[PI[i][pNews]-1];
				if(PI[i][pNews]-1 == 0)
				{
					FracBank[8] += CallPrice[PI[i][pNews]-1];
					MysqlUpdateOtherInt("lsnbank", FracBank[8]);
				}
				if(PI[i][pNews]-1 == 1)
				{
					FracBank[9] += CallPrice[PI[i][pNews]-1];
					MysqlUpdateOtherInt("sfnbank", FracBank[9]);
				}
				if(PI[i][pNews]-1 == 2)
				{
					FracBank[10] += CallPrice[PI[i][pNews]-1];
					MysqlUpdateOtherInt("lvnbank", FracBank[10]);
				}
			}
			else
			{
				new callerid = Mobile[i];
				SendClientMessage(callerid, COLOR_RED, "Абонент положил трубку");
				SetPlayerSpecialAction(callerid,SPECIAL_ACTION_STOPUSECELLPHONE);
				CellTime[callerid] = -1;
				CellTime[i] = -1;
				Mobile[callerid] = -1;
				if(EtherCalled[i] == true) EtherCalled[i] = false;
				if(EtherCalled[callerid] == true) EtherCalled[callerid] = false;
				SendClientMessage(i, COLOR_RED, "Недостаточно средств на счету");
				Mobile[i] = -1;
				SetPlayerSpecialAction(i,SPECIAL_ACTION_STOPUSECELLPHONE);
			}
		}
		if(PI[i][pJail] > 0)
		{
			PI[i][pJailTime]--;
			if(PI[i][pJailTime] == 0)
			{
				if(PI[i][pJail] == 1)
				{
				    SendClientMessage(i, COLOR_LIME,"Время заключения в тюрьме истекло, теперь Вы свободны");
					SetPlayerPos(i, 404.3761,755.9924,12.0700);
					SetPlayerFacingAngle(i, 160.0000);
				}
				if(PI[i][pJail] == 2)
				{
				    SendClientMessage(i, COLOR_LIME,"Время заключения в тюрьме истекло, теперь Вы свободны");
					SetPlayerPos(i, 1916.7854,2183.6296,15.7060);
					SetPlayerFacingAngle(i, 90.2275);
				}
				if(PI[i][pJail] == 3)
				{
				    SendClientMessage(i, COLOR_LIME,"Время заключения в деморгане истекло, теперь Вы свободны");
					SpawnPlayer(i);
				}
				PI[i][pJail] = PI[i][pJailTime] = 0;
				SetPlayerInterior(i, 0);
				SetPlayerVirtualWorld(i, 0);
			}
		}
		if(PI[i][pMuted] > 0)
		{
			PI[i][pMuted]--;
			if(PI[i][pMuted] == 0)
			{
               SendClientMessage(i, COLOR_LIME, "Доступ в чат разблокирован");
			}
		}
		if(PI[i][pWanted] > 0)
		{
			PI[i][pWantedTime]--;
			if(PI[i][pWantedTime] <= 0)
			{
				PI[i][pWanted]--;
				SetPlayerWantedLevel(i, PI[i][pWanted]);
				if(PI[i][pWanted] > 0) PI[i][pWantedTime] = 1800 + random(300);
			}
		}
		/*if(!PI[i][pAdmin])
		{
		    new speed = PlayerSpeed(i);
		    if(!speed) SetPVarInt(i, "HungerTime", GetPVarInt(i, "HungerTime") + 1);
		    else SetPVarInt(i, "HungerTime", GetPVarInt(i, "HungerTime") + speed/4);
			if(GetPVarInt(i, "HungerTime") == 250 && !PI[i][pVip])
			{
				SetPVarInt(i, "HungerTime", 0);
				if(PI[i][pVip]) PI[i][pHunger] -= 2;
				else PI[i][pHunger]--;
				SetHunger(i, PI[i][pHunger]);
				if(PI[i][pHunger] == 1 || PI[i][pHunger] == 5 || PI[i][pHunger] == 10 || PI[i][pHunger] == 15)
					SendClientMessage(i, COLOR_YELLOW,"Вы проголодались! Сходите в закусочную!");
			}
			SetPVarInt(i, "HealthTime", GetPVarInt(i, "HealthTime") + 1);
			if(GetPVarInt(i, "HealthTime") == 60)
			{
				SetPVarInt(i, "HealthTime", 0);
				if(PI[i][pHunger] <= 0)
				{
				    new Float:shealth;
				    GetPlayerHealth(i, shealth);
				    SetHealth(i, (PI[i][pImprove][0] == 1) ? (shealth-1.0) : (shealth-2.0));
				}
			}
			if(PI[i][pHeal] < 20)
			{
				SetPVarInt(i, "HealthTime_", GetPVarInt(i, "HealthTime_") + 1);
				if(GetPVarInt(i, "HealthTime_") == 600)
				{
					SetPVarInt(i, "HealthTime_", 0);
					SendClientMessage(i, COLOR_YELLOW, "У Вас сильно ухудшилось здоровье, вылечитесь у медика!");
				}
			}
		}
		if(GetPlayerDrunkLevel(i) > 0)
		{
			SetPVarInt(i, "DrunkTime", GetPVarInt(i, "DrunkTime") + 1);
			if(GetPVarInt(i, "DrunkTime") >= 100)
			{
				SetPlayerDrunkLevel(i, GetPlayerDrunkLevel(i) - 1000);
				SetPVarInt(i, "DrunkTime", 0);
			}
		}*/
		if(GetPlayerState(i) == PLAYER_STATE_DRIVER)
     	{
     	    new Float:vehhealth;
        	GetVehicleHealth(GetPlayerVehicleID(i), vehhealth);
	    	if(vehhealth <= 400)
	    	{
	    	    if(Engine[GetPlayerVehicleID(i)] == true) SendClientMessage(i, COLOR_RED, "Транспорт заглох. Вы можете вызвать механика: /call");
      			Engine[GetPlayerVehicleID(i)] = false;
            	GetVehicleParamsEx(GetPlayerVehicleID(i),engine,lights,alarm,doors,bonnet,boot,objective);
            	SetVehicleParamsEx(GetPlayerVehicleID(i),false,lights,alarm,doors,bonnet,boot,objective);
	    	}
	    }
		/*if(GetPVarInt(i, "BusTime") > 0)
		{
			if(GetPlayerState(i) != 2 || GetPlayerVehicleID(i) != PI[i][BusCarID])
			{
				new string[32];
				SetPVarInt(i, "BusTime", GetPVarInt(i, "BusTime") - 1);
				format(string, sizeof(string), "~r~%d",GetPVarInt(i, "BusTime"));
				GameTextForPlayer(i, string, 2000, 6);
				new CB[16];
		    	TimeConverter(PI[i][pBusTime], CB);
				if(GetPVarInt(i, "BusTime") == 0)
				{
				    if(IsValidDynamic3DTextLabel(BusText3D[i])) DestroyDynamic3DTextLabel(BusText3D[i]);
					SendMes(i, COLOR_BLUE, "Рабочий день завершен. Вами заработано: %i рублей. Время рейса: %s", GetPVarInt(i, "BusMoney"), CB);
					SendClientMessage(i, COLOR_WHITE, "Деньги будут перечислены на счет во время зарплаты");
					PI[i][pPayCheck] += GetPVarInt(i, "BusMoney");
					SetVehicleToRespawn(PI[i][BusCarID]);
					PI[i][BusCarID] = INVALID_VEHICLE_ID;
					DeletePVar(i, "BusTime");
					DeletePVar(i, "TypeBus");
					DeletePVar(i, "PriceBus");
					DeletePVar(i, "BusStop");
					DeletePVar(i, "BusMoney");
					PI[i][pBusTime] = 0;
					pPressed[i] = 0;
				}
			}
		}*/
		if(GetPVarInt(i, "TruckerJobTime") > 0)//дальнобойщик
		{
			if(GetPlayerState(i) != 2)
			{
				SetPVarInt(i, "TruckerJobTime", GetPVarInt(i, "TruckerJobTime") - 1);
				if(GetPVarInt(i, "TruckerJobTime") == 0)
				{
                    DestroyVehicleEx(TruckerCar[i]);
                    PI[i][TruckerCarID] = INVALID_VEHICLE_ID;
                    TruckerCar[i] = 0;
					SendClientMessage(i, COLOR_BLUE, "К сожалению, Вы не успели сесть в грузовик");
					DisablePlayerRaceCheckpoint(i);
					DeletePVar(i, "TruckerJobTime");
					DeletePVar(i, "TruckerJob");
					DeletePVar(i, "TruckerJobRazgruzka");
					pPressed[i] = 0;
				}
			}
		}
		if(GetPVarInt(i, "TruckerJobTimeGoToCar") > 0)//дальнобойщик
		{
			if(GetPlayerState(i) != 2)
			{
				SetPVarInt(i, "TruckerJobTimeGoToCar", GetPVarInt(i, "TruckerJobTimeGoToCar") - 1);
				if(GetPVarInt(i, "TruckerJobTimeGoToCar") == 0)
				{
                    DestroyVehicleEx(TruckerCar[i]);
                    TruckerCar[i] = 0;
                    DisablePlayerRaceCheckpoint(i);
					SendClientMessage(i, COLOR_RED, "К сожалению, Вы не успели сесть в грузовик");
					DeletePVar(i, "TruckerJobTime");
					DeletePVar(i, "TruckerJob");
					DeletePVar(i, "TruckerJobRazgruzka");
					DisablePlayerCheckpoint(i);
				}
			}
		}
		if(CellTime[i] > -1)
		{
			CellTime[i]++;
			if(Mobile[Mobile[i]] == -1 && CellTime[i] == 5)
			{
				CellTime[i] = 0;
				new string[64];
				format(string, sizeof(string), "У %s звонит мобильный телефон", GetName(Mobile[i]));
				ProxDetectorNew(Mobile[i], 13.0, COLOR_PURPLE, string);
			}
		}
		if(TransferReset[i] > 0) TransferReset[i]--;
		if(UnMaskReset[i] > 0) UnMaskReset[i]--;
	}
	return 1;
}

stock GiveBankMoney(playerid, money, reason[] = "None")
{
    new string[100];
	PI[playerid][pBank] += (money);
	format(string,sizeof(string),"[%s] [%s]: [%d рублей] [%d рублей] [%s]",PI[playerid][pIP],GetName(playerid),money,PI[playerid][pCash],reason);
	SendLog("BankMoneyLog",string);
	return 1;
}

stock TransferMoney(playerid, toplayerid, money)
{
    if(GetPlayerMoney(playerid) < 0) ResetPlayerMoney(playerid);
	if(GetPlayerMoney(toplayerid) < 0) ResetPlayerMoney(toplayerid);
	if(toplayerid >= 0)
	{
	    ex_GiveMoney(toplayerid, money);
		PI[toplayerid][pCash] = PI[toplayerid][pCash] + money;
		CheckOutMoney[toplayerid] = true;
	}
	if(playerid >= 0)
	{
		ex_GiveMoney(playerid, -money);
		PI[playerid][pCash] = PI[playerid][pCash] - money;
		CheckOutMoney[playerid] = true;
	}
}

stock ResetMoney(playerid)
{
	PI[playerid][pCash] = 0;
	ResetPlayerMoney(playerid);
}

stock GetMoney(playerid)
{
	return PI[playerid][pCash];
}

stock HealthCheck()
{
	new Float: Heal;
	foreach(new i: Player)
	{
		if(PlayerLogged[i] == false) continue;
		GetPlayerHealth(i, Heal);
		if(PI[i][pHeal] < Heal) SetPlayerHealth(i, PI[i][pHeal]);
		else PI[i][pHeal] = Heal;
	}
}

stock ArmourCheck()
{
	new Float: Arm;
	foreach(new i: Player)
	{
		if(PlayerLogged[i] == false) continue;
		GetPlayerArmour(i, Arm);
		if(PlayerArmour[i] < Arm) SetPlayerArmour(i, PlayerArmour[i]);
		else PlayerArmour[i] = Arm;
	}
}
stock PreloadAnimLib(playerid, animlib[])
{
	return 0;
}
stock CheatKick(playerid,errorcode)
{
	if(playerid == INVALID_PLAYER_ID) return 1;
	new string[128];
	if(PI[playerid][pAdmin] != ADM_NONE)
	{
	    format(string, sizeof(string), "{f39c12}["SERVER_NAME_RP" AntiCheat] {3498db}Античит попытался Вас кикнуть {2ecc71}(ac-code %d)", errorcode);
		SendClientMessage(playerid, COLOR_RED, string);
		return 1;
	}
	if(errorcode != 0)
	{
	    format(string, sizeof(string), "{f39c12}["SERVER_NAME_RP" AntiCheat] {3498db}Обнаружено использование чит-программ {2ecc71}(ac-code %d)", errorcode);
		SendClientMessage(playerid, COLOR_RED, string);
		Kick(playerid);
	}
	else Kick(playerid);
	return 1;
}
stock SaveVehicleTuning(playerid)
{
	PI[playerid][cVehcoms][0] = GetVehicleComponentInSlot(PI[playerid][PlayerCarID], CARMODTYPE_SPOILER);
	PI[playerid][cVehcoms][1] = GetVehicleComponentInSlot(PI[playerid][PlayerCarID], CARMODTYPE_HOOD);
	PI[playerid][cVehcoms][2] = GetVehicleComponentInSlot(PI[playerid][PlayerCarID], CARMODTYPE_ROOF);
	PI[playerid][cVehcoms][3] = GetVehicleComponentInSlot(PI[playerid][PlayerCarID], CARMODTYPE_SIDESKIRT);
	PI[playerid][cVehcoms][4] = GetVehicleComponentInSlot(PI[playerid][PlayerCarID], CARMODTYPE_LAMPS);
	PI[playerid][cVehcoms][5] = GetVehicleComponentInSlot(PI[playerid][PlayerCarID], CARMODTYPE_NITRO);
	PI[playerid][cVehcoms][6] = GetVehicleComponentInSlot(PI[playerid][PlayerCarID], CARMODTYPE_EXHAUST);
	PI[playerid][cVehcoms][7] = GetVehicleComponentInSlot(PI[playerid][PlayerCarID], CARMODTYPE_WHEELS);
	PI[playerid][cVehcoms][8] = GetVehicleComponentInSlot(PI[playerid][PlayerCarID], CARMODTYPE_STEREO);
	PI[playerid][cVehcoms][9] = GetVehicleComponentInSlot(PI[playerid][PlayerCarID], CARMODTYPE_HYDRAULICS);
	PI[playerid][cVehcoms][10] = GetVehicleComponentInSlot(PI[playerid][PlayerCarID], CARMODTYPE_FRONT_BUMPER);
	PI[playerid][cVehcoms][11] = GetVehicleComponentInSlot(PI[playerid][PlayerCarID], CARMODTYPE_REAR_BUMPER);
	PI[playerid][cVehcoms][12] = GetVehicleComponentInSlot(PI[playerid][PlayerCarID], CARMODTYPE_VENT_RIGHT);
	PI[playerid][cVehcoms][13] = GetVehicleComponentInSlot(PI[playerid][PlayerCarID], CARMODTYPE_VENT_LEFT);
	format(PI[playerid][cVehcom], 64, "%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d",
	PI[playerid][cVehcoms][0], PI[playerid][cVehcoms][1], PI[playerid][cVehcoms][2],
	PI[playerid][cVehcoms][3], PI[playerid][cVehcoms][4], PI[playerid][cVehcoms][5],
	PI[playerid][cVehcoms][6], PI[playerid][cVehcoms][7], PI[playerid][cVehcoms][8],
	PI[playerid][cVehcoms][9], PI[playerid][cVehcoms][10], PI[playerid][cVehcoms][11],
	PI[playerid][cVehcoms][12], PI[playerid][cVehcoms][13]);
	return 1;
}
stock ShowSTODialog(playerid)
{
	ShowPlayerDialog(playerid,D_CTO+1,DIALOG_STYLE_LIST,"{FFCC00}Тюнинг меню","1. Покраска\n2. Гидравлика\n3. Закись азота\n4. Диски\n5. Починить транспорт","Выбрать","Выход");
	return 1;
}
//==============================================================================
stock CreateAccount(playerid, password[])
{
    if(PlayerRegistered[playerid] == 0) return CheatKick(playerid, 2112);
    new pass[50];
    mysql_escape_string(password, pass, dbHandle);
	if(IsTextInvalid(pass))
	{
		SendClientMessage(playerid, COLOR_RED, "В пароле должны быть только буквы и цифры");
		return Kick(playerid);
	}	
	new salt[11];
    // Генерация случайной строки состоящей из 10 символов
    for(new i; i < 10; i++)
    {
        // Хранение случайного символа в каждой ячейки нашей соли
        salt[i] = random(79) + 47;
    }
	SHA256_PassHash(pass, salt, pass, ENC_MAX);
	new data[15];
	format(data, sizeof(data), "%s", date("%dd.%mm.%yyyy",gettime()));
	new Query[500+64];
	new Info[300+64];
	strcat(Query, "INSERT INTO `accounts` ");
	strcat(Query, "(`name`, `password`, `regip`, `datareg`, `sex`, `age`, `model`, `mail`, `referal`) ");
	strcat(Query, "VALUES ");
	format(Info, sizeof(Info), "('%s', '%s', '%s', '%s', '%i', '%i', '%i', '%s', '%s')",\
	GetName(playerid), pass, PI[playerid][pIP], data, PI[playerid][pSex], PI[playerid][pAge], PI[playerid][pModel], PI[playerid][pMail], PI[playerid][pReferal]);
	strcat(Query, Info);
	mysql_tquery(dbHandle, Query, "", "");
//	for(new i = 0; i != 10; ++i) SendClientMessage(playerid, -1, " ");
	PlayerLogged[playerid] = true;
	PlayerRegistered[playerid] = 0;

	PI[playerid][pCash] = BONUS_CASH; 											// - Система бонуса, выдача денег при регистрации.
	PI[playerid][pBank] = 0;                                                    // - Система бонуса, выдача денег на банке при регистрации.
	PI[playerid][pLevel] = BONUS_LVL;                                           // - Система бонуса, выдача уровня при регистрации.
	PI[playerid][pCredits] = BONUS_COIN;                                        // - Система бонуса, выдача Brilliant Coins при регистрации.
	PI[playerid][pZakon] = BONUS_ZAKON;                                         // -
	
	PI[playerid][pBanya] = 0;
	SetHunger(playerid, PI[playerid][pHunger]);
	Hunger(playerid, 0);
	PI[playerid][pSpawnChange] = 0;
	SpawnPlayer(playerid);


	new string[256 + 30];
	new PERID_hashed[32];
	new pid[30];
	GetPVarString(playerid, "BrilliantID", pid, 30);
	SHA256_PassHash(pid, salt, PERID_hashed, ENC_MAX);
	mysql_format(dbHandle, string, sizeof string, "UPDATE `accounts` SET `PerfomanceIDCode` = '%e', `PerfomanceIDSalt` = '%e', `PerfomanceIDType` = 'SHA256' WHERE `name` = '%e'", PERID_hashed, salt, GetName(playerid));
	// format(string, sizeof string, "UPDATE `accounts` SET `PerfomanceIDCode` = '%s', 
	// `PerfomanceIDSalt` = '%s', 
	// `BrilliantIDType` = 'SHA256' 
	// WHERE `name` = '%s'", 
	// PERID_hashed, salt, GetName(playerid));
	print(string);
	mysql_tquery(dbHandle, string);

	//mysql_query(dbHandle, string, false);
	if(mysql_errno(dbHandle))
		printf("MYSQL GET ERROR %s", mysql_errno(dbHandle));



	return 1;
}
//==============================================================================


forward OnPlayerLoginEx(playerid);
public OnPlayerLoginEx(playerid) {

	new posx[3];
    new posy[3];
    new posz[3];
    new pint[3];
    new pworld[3];

	StopAudioStreamForPlayer(playerid);

	new RCquery[144];
	mysql_format(dbHandle, RCquery, 144, "SELECT * FROM `accounts` WHERE `name`='%e'", GetName(playerid));
	mysql_query(dbHandle, RCquery);

	PI[playerid][pID] = cache_get_row_int(0, 0, dbHandle); // id
	//cache_get_row(0, 2, PI[playerid][pPassword], dbHandle, 32); // password
	cache_get_row(0, 3, PI[playerid][pLastIP], dbHandle, 16); // ip
	cache_get_row(0, 4, PI[playerid][pNumberVehicle], dbHandle, 20); // veh_number
	PI[playerid][pRegVehicle] = cache_get_row_int(0, 5, dbHandle); // veh_reg
	PI[playerid][pAdmin] = cache_get_row_int(0, 6, dbHandle); // admin
	PI[playerid][pSecurityCode] = cache_get_row_int(0, 7, dbHandle); // securitycode
	PI[playerid][pCheckCode] = cache_get_row_int(0, 8, dbHandle); // checkcode
	cache_get_row(0, 9, PI[playerid][pMail], dbHandle, 64); // mail
	PI[playerid][pLevel] = cache_get_row_int(0, 10, dbHandle); // level
	PI[playerid][pCash] = cache_get_row_int(0, 11, dbHandle); // cash
	PI[playerid][pBank] = cache_get_row_int(0, 12, dbHandle); // bank
	PI[playerid][pExp] = cache_get_row_int(0, 13, dbHandle); // exp
	cache_get_row(0, 14, PI[playerid][pRegIP], dbHandle, 16); // regip
	cache_get_row(0, 15, PI[playerid][pRegData], dbHandle, 15); // datareg
	PI[playerid][pLeader] = cache_get_row_int(0, 16, dbHandle); // leader
	PI[playerid][pTempLeader] = cache_get_row_int(0, 17, dbHandle); // templeader
	PI[playerid][pMember] = cache_get_row_int(0, 18, dbHandle); // member
	PI[playerid][pRank] = cache_get_row_int(0, 19, dbHandle); // rank
	PI[playerid][pWarn] = cache_get_row_int(0, 20, dbHandle); // warn
	PI[playerid][pSex] = cache_get_row_int(0, 21, dbHandle); // sex
	PI[playerid][pAge] = cache_get_row_int(0, 22, dbHandle); // age
	PI[playerid][pModel] = cache_get_row_int(0, 23, dbHandle); // model
	PI[playerid][pMemberSkin] = cache_get_row_int(0, 24, dbHandle); // memberskin
	cache_get_row(0, 25, PI[playerid][pLics], dbHandle, 16); // lic
	PI[playerid][pMuted] = cache_get_row_int(0, 28, dbHandle); // mute
	PI[playerid][pPick] = cache_get_row_int(0, 29, dbHandle); // pick
	PI[playerid][pCheckTime] = cache_get_row_int(0, 30, dbHandle); //checktime
	PI[playerid][pNews] = cache_get_row_int(0, 31, dbHandle); // news
	//PI[playerid][pPhone] = cache_get_row_int(0, 32, dbHandle); // phone
	PI[playerid][pPhoneNumber] = cache_get_row_int(0, 33, dbHandle); // phonenumber
	cache_get_row(0, 34, PI[playerid][pTexts], dbHandle, 20); // text
	PI[playerid][pJail] = cache_get_row_int(0, 35, dbHandle); // jail
	PI[playerid][pJailTime] = cache_get_row_int(0, 36, dbHandle); // jailtime
	PI[playerid][pWanted] = cache_get_row_int(0, 37, dbHandle); // wanted
	PI[playerid][pWantedTime] = cache_get_row_int(0, 38, dbHandle); // wantedtime
	cache_get_row(0, 39, PI[playerid][pWantedWho], dbHandle, MAX_PLAYER_NAME); // wantedwho
	cache_get_row(0, 40, PI[playerid][pWantedReason], dbHandle, 32); // wantedreason
	PI[playerid][pHeal] = cache_get_row_float(0, 41, dbHandle); // heal
	PI[playerid][pDrugs] = cache_get_row_int(0, 42, dbHandle); // drugs
	PI[playerid][pPatron] = cache_get_row_int(0, 43, dbHandle); // patron
	PI[playerid][pGunAmount] = cache_get_row_int(0, 44, dbHandle); // gunamount
	PI[playerid][pCrimes] = cache_get_row_int(0, 45, dbHandle); // crimes
	PI[playerid][pJob] = cache_get_row_int(0, 46, dbHandle); // job
	PI[playerid][pMarried] = cache_get_row_int(0, 47, dbHandle); // married
	cache_get_row(0, 48, PI[playerid][pWhoMarried], dbHandle, MAX_PLAYER_NAME); // whomarried
	cache_get_row(0, 49, PI[playerid][pReferal], dbHandle, MAX_PLAYER_NAME); // referal
	PI[playerid][pRefMoney] = cache_get_row_int(0, 50, dbHandle); // refmoney
	PI[playerid][pPayCheck] = cache_get_row_int(0, 51, dbHandle); // paycheck
	PI[playerid][pCharity] = cache_get_row_int(0, 52, dbHandle); // charity
	PI[playerid][pVip] = cache_get_row_int(0, 53, dbHandle); // vip
	PI[playerid][pVipTime] = cache_get_row_int(0, 54, dbHandle); // viptime
	PI[playerid][pTime] = cache_get_row_int(0, 55, dbHandle); // time
	PI[playerid][pFightStyle] = cache_get_row_int(0, 56, dbHandle); // fstyle
	PI[playerid][pCredits] = cache_get_row_int(0, 57, dbHandle); // credits
	PI[playerid][pTotalCredits] = cache_get_row_int(0, 58, dbHandle); // totalcredits
	PI[playerid][pSkin][0] = cache_get_row_int(0, 59, dbHandle); // skin1
	PI[playerid][pSkin][1] = cache_get_row_int(0, 60, dbHandle); // skin2
	PI[playerid][pSkin][2] = cache_get_row_int(0, 61, dbHandle); // skin3
	PI[playerid][pSpawnChange] = cache_get_row_int(0, 62, dbHandle); // spawnchange
	PI[playerid][pSkill] = cache_get_row_int(0, 63, dbHandle); // sdpistol
	PI[playerid][pSkill][1] = cache_get_row_int(0, 64, dbHandle); // deserteagle
	PI[playerid][pSkill][2] = cache_get_row_int(0, 65, dbHandle); // shotgun
	PI[playerid][pSkill][3] = cache_get_row_int(0, 66, dbHandle); // mp5
	PI[playerid][pSkill][4] = cache_get_row_int(0, 67, dbHandle); // ak47
	PI[playerid][pSkill][5] = cache_get_row_int(0, 68, dbHandle); // m4
	PI[playerid][pGunSkill][6] = cache_get_row_int(0, 69, dbHandle); // pistol
	PI[playerid][pGunSkill][7] = cache_get_row_int(0, 70, dbHandle); // microuzi
	PI[playerid][pHunger] = cache_get_row_int(0, 71, dbHandle); // hunger
	PI[playerid][pHealthS] = cache_get_row_int(0, 72, dbHandle); // healths
	PI[playerid][pSportExp] = cache_get_row_int(0, 73, dbHandle); // sportexp
	PI[playerid][pOnline] = cache_get_row_int(0, 74, dbHandle); // online
	PI[playerid][pZakon] = cache_get_row_int(0, 75, dbHandle); // zakon
	PI[playerid][pCity] = cache_get_row_int(0, 76, dbHandle); // city
	cache_get_row(0, 77, PI[playerid][pRepcars], dbHandle, 16); // repcar
	PI[playerid][pBed] = cache_get_row_int(0, 78, dbHandle); // bed
	PI[playerid][pWatch] = cache_get_row_int(0, 79, dbHandle); // watch
	PI[playerid][pCiggare] = cache_get_row_int(0, 80, dbHandle); // ciggare
	PI[playerid][pSprunk] = cache_get_row_int(0, 81, dbHandle); // sprunk
	PI[playerid][pMask] = cache_get_row_int(0, 82, dbHandle); // mask
	PI[playerid][pPhoneBalance] = cache_get_row_int(0, 83, dbHandle); // phonebalance
	PI[playerid][pTruckSkill] = cache_get_row_int(0, 84, dbHandle); // truckskill
	PI[playerid][cModel][0] = cache_get_row_int(0, 85, dbHandle); // cModel
	PI[playerid][cClass][0] = cache_get_row_int(0, 86, dbHandle); // cClass
	PI[playerid][cFuel][0] = cache_get_row_int(0, 87, dbHandle); // cFuel
	PI[playerid][cColor][0] = cache_get_row_int(0, 88, dbHandle); // cColor1
	PI[playerid][cColor][1] = cache_get_row_int(0, 89, dbHandle); // cColor2
	PI[playerid][cLock][0] = cache_get_row_int(0, 90, dbHandle); // cLock
	PI[playerid][cCost][0] = cache_get_row_int(0, 91, dbHandle); // cCost
	cache_get_row(0, 92, PI[playerid][cVehcom], dbHandle, 64); // cVehcom
	PI[playerid][cPaintjob] = cache_get_row_int(0, 93, dbHandle); // cPaintjob
	PI[playerid][cProbeg] = cache_get_row_int(0, 94, dbHandle); // cPaintjob
	PI[playerid][pAptechka] = cache_get_row_int(0, 95, dbHandle); // aptechka
	PI[playerid][pVoennik] = cache_get_row_int(0, 96, dbHandle); // Voennik
	PI[playerid][pMusic] = cache_get_row_int(0, 97, dbHandle); // music
	cache_get_row(0, 98, PI[playerid][pImproves], dbHandle, 32); // improves
	PI[playerid][pSettings] = cache_get_row_int(0, 99, dbHandle); // settings
	PhoneNumbers[playerid][0] = cache_get_row_int(0, 101, dbHandle); // phnumber1
	PhoneNumbers[playerid][1] = cache_get_row_int(0, 102, dbHandle); // phnumber2
	PhoneNumbers[playerid][2] = cache_get_row_int(0, 103, dbHandle); // phnumber3
	PhoneNumbers[playerid][3] = cache_get_row_int(0, 104, dbHandle); // phnumber4
	PhoneNumbers[playerid][4] = cache_get_row_int(0, 105, dbHandle); // phnumber5
	PhoneNumbers[playerid][5] = cache_get_row_int(0, 106, dbHandle); // phnumber6
	PhoneNumbers[playerid][6] = cache_get_row_int(0, 107, dbHandle); // phnumber7
	PhoneNumbers[playerid][7] = cache_get_row_int(0, 108, dbHandle); // phnumber8
	PI[playerid][pVehicleKey][0] = cache_get_row_int(0, 108, dbHandle); // mailconf
	PI[playerid][pVehicleKey][1] = cache_get_row_int(0, 109, dbHandle); // mailconf
	PI[playerid][pMailConfirmed] = cache_get_row_int(0, 109, dbHandle); // mailconf
	PI[playerid][pAutoLic] = cache_get_row_int(0, 112, dbHandle); // cash
	// PI[playerid][pCarC] = cache_get_row_int(0, 114, dbHandle); // cash
	// PI[playerid][pCarD] = cache_get_row_int(0, 115, dbHandle); // cash
    cache_get_field_content(0,"pInt",pint), PI[playerid][pInt] = strval(pint);
    cache_get_field_content(0,"pWorld",pworld), PI[playerid][pWorld] = strval(pworld);
    cache_get_field_content(0,"PosX",posx), PI[playerid][PosX] = floatstr(posx);
    cache_get_field_content(0,"PosY",posy), PI[playerid][PosY] = floatstr(posy);
    cache_get_field_content(0,"PosZ",posz), PI[playerid][PosZ] = floatstr(posz);
    PI[playerid][pTruckLevel] = cache_get_row_int(0, 121, dbHandle); // truckskill
    PI[playerid][P_ENTRANCE] = cache_get_row_int(0, 122, dbHandle);
	PI[playerid][P_ROOM] = cache_get_row_int(0, 123, dbHandle);
	PI[playerid][pDeath] = cache_get_row_int(0, 124, dbHandle);
	PI[playerid][pShahtaEarn] = cache_get_row_int(0, 128, dbHandle);


    /*PI[playerid][pFamily] = cache_get_row_int(0, 122, dbHandle); // fama
	PI[playerid][pFamilySozd] = cache_get_row_int(0, 123, dbHandle); // sozd
	PI[playerid][pFamilyZam] = cache_get_row_int(0, 124, dbHandle); //zam
	*/


	new l_guns[56], l_ammo[56];
	
	cache_get_row(0, 26, l_guns, dbHandle, 64); // guns
	cache_get_row(0, 27, l_ammo, dbHandle, 64); // ammos

	new g_data[13], a_data[13];
	sscanf(l_guns, "p<,>a<i>[13]", g_data);
	sscanf(l_ammo, "p<,>a<i>[13]", a_data);
	for(new i; i < 13; i++)
	{
	    PI[playerid][pGun][i] = g_data[i];
	    PI[playerid][pAmmo][i] = a_data[i];
	}
	SetPVarInt(playerid, "Connected", 1);
		
    sscanf(PI[playerid][cVehcom], "p<,>a<i>[14]",PI[playerid][cVehcoms]);
	sscanf(PI[playerid][pTexts], "p<,>a<i>[4]", PI[playerid][pText]);
	sscanf(PI[playerid][pRepcars], "p<,>a<i>[2]", PI[playerid][pRepcar]);
	sscanf(PI[playerid][pImproves], "p<,>a<i>[4]", PI[playerid][pImprove]);
	sscanf(PI[playerid][pLics], "p<,>a<i>[4]",PI[playerid][pLic]);


	//if(PI[playerid][cModel][0] > 0 && GetPlayerPorchHouse(playerid) == 0) LoadMyCar(playerid);
	DeletePVar(playerid, "Logged");
	DeletePVar(playerid, "avttimer");

    GetPlayerIp(playerid, PI[playerid][pIP], 16);
	format(query, 256, "UPDATE `accounts` SET ip = '%s', online = '1' WHERE id = '%i' LIMIT 1", PI[playerid][pIP], PI[playerid][pID]);
	mysql_tquery(dbHandle, query, "", "");
	
	new string[128];
    mysql_format(dbHandle, string, sizeof(string), "SELECT * FROM "T_SUPPORT" WHERE `name` = '%s' LIMIT 1", GetName(playerid));
	mysql_tquery(dbHandle, string, "SupportAuth", "i", playerid);

	mysql_format(dbHandle, string, sizeof(string), "SELECT * FROM "T_YOUTUBER" WHERE `name` = '%s' LIMIT 1", GetName(playerid));
	mysql_tquery(dbHandle, string, "YouTuberAuth", "i", playerid);

	
	PlayerTimerID[playerid] = SetTimerEx("PlayerUpdate", 1000, 1, "d", playerid);
	
	if(PI[playerid][pCheckCode] == 1)
	{
	    new texter_pas[5];
		new digitsd[9] = {1,2,3,4,5,6,7,8,9};
		for(new i, rand, old_digit; i < 9; i++)
		{
			while((rand = random(9)) == i) {}
			old_digit = digitsd[i];
			digitsd[i] = digitsd[rand];
			digitsd[rand] = old_digit;
		}
    	for(new f = 0; f < 10; f++)
		{
		    if(f < 9)
		    {
		        mass_pass[playerid][f] = digitsd[f];
				format(texter_pas,sizeof(texter_pas),"%i",mass_pass[playerid][f]);
				PlayerTextDrawSetString(playerid,SecurityCode[playerid][f],texter_pas);
		    }
			PlayerTextDrawShow(playerid,SecurityCode[playerid][f]);
		}
		SendClientMessage(playerid, COLOR_LIME, "Система безопасности запрашиват ввод Вашего графического пароля");
		PI[playerid][pInputCode] = 0;
		Ujahhs[playerid] = 1;
		SelectTextDraw(playerid, -264092161);
	}
	else if(PI[playerid][pCheckCode] == 2)
	{
	    if(!strcmp(PI[playerid][pLastIP],PI[playerid][pIP],true))
		{
		    PlayerLogged[playerid] = true;
		    Hunger(playerid, 0);
   			SpawnPlayer(playerid);
		}
		else
		{
		    new texter_pas[5];
			new digitsd[9] = {1,2,3,4,5,6,7,8,9};
			for(new i, rand, old_digit; i < 9; i++)
			{
				while((rand = random(9)) == i) {}
				old_digit = digitsd[i];
				digitsd[i] = digitsd[rand];
				digitsd[rand] = old_digit;
			}
	    	for(new f = 0; f < 10; f++)
			{
			    if(f < 9)
			    {
			        mass_pass[playerid][f] = digitsd[f];
					format(texter_pas,sizeof(texter_pas),"%i",mass_pass[playerid][f]);
					PlayerTextDrawSetString(playerid,SecurityCode[playerid][f],texter_pas);
			    }
				PlayerTextDrawShow(playerid,SecurityCode[playerid][f]);
			}
			SendClientMessage(playerid, COLOR_LIME, "Система безопасности запрашивает ввод Вашего графического пароля");
			PI[playerid][pInputCode] = 0;
			Ujahhs[playerid] = 1;
			SelectTextDraw(playerid,-264092161);
		}
	}
	else if(PI[playerid][pCheckCode] == 3)
	{
	    new strv[26], strvv[26], splitt[4][4], spli[4][4];
	    split(PI[playerid][pLastIP], splitt, '.');
		format(strv, sizeof(strv), "%s.%s", splitt[0], splitt[1]);
	    split(PI[playerid][pIP], spli, '.');
		format(strvv, sizeof(strvv), "%s.%s", spli[0], spli[1]);
	    if(strcmp(strv,strvv,true))
		{
		    new texter_pas[5];
			new digitsd[9] = {1,2,3,4,5,6,7,8,9};
			for(new i, rand, old_digit; i < 9; i++)
			{
				while((rand = random(9)) == i) {}
				old_digit = digitsd[i];
				digitsd[i] = digitsd[rand];
				digitsd[rand] = old_digit;
			}
	    	for(new f = 0; f < 10; f++)
			{
			    if(f < 9)
			    {
			        mass_pass[playerid][f] = digitsd[f];
					format(texter_pas,sizeof(texter_pas),"%i",mass_pass[playerid][f]);
					PlayerTextDrawSetString(playerid,SecurityCode[playerid][f],texter_pas);
			    }
				PlayerTextDrawShow(playerid,SecurityCode[playerid][f]);
			}
			SendClientMessage(playerid, COLOR_LIME, "Система безопасности запрашивает ввод Вашего графического пароля");
			PI[playerid][pInputCode] = 0;
			Ujahhs[playerid] = 1;
			SelectTextDraw(playerid,-264092161);
		}
		else
		{
            // ShowPlayerDialog(playerid, SelectSpawn, DIALOG_STYLE_LIST, "{FFCC00}Выберите спавн:", "- Вокзал\n- Дом\n- Квартира\n- База организации", "Выбрать", "Отмена");
		    PlayerLogged[playerid] = true;
		    Hunger(playerid, 0);
            if(GetPVarInt(playerid, "check_adm") > gettime()) return 1;
  			else if(AdminLogged[playerid]) return SendClientMessage(playerid, COLOR_RED, "Вы уже авторизовались как администратор!");
			format(string, sizeof(string), "SELECT * FROM `admins` WHERE `name` = '%s'", GetName(playerid));
			mysql_tquery(dbHandle, string, "admAuth", "is", playerid, GetName(playerid));
 			SetPVarInt(playerid, "check_adm", gettime()+5);
		}
	}
	else
	{
        // ShowPlayerDialog(playerid, SelectSpawn, DIALOG_STYLE_LIST, "{FFCC00}Выберите спавн:", "- Вокзал\n- Дом\n- Квартира\n- База организации", "Выбрать", "Отмена");

	    PlayerLogged[playerid] = true;
	    Hunger(playerid, 0);
     	if(GetPVarInt(playerid, "check_adm") > gettime()) return 1;
  		else if(AdminLogged[playerid]) return SendClientMessage(playerid, COLOR_RED, "Вы уже авторизовались как администратор!");
		format(string, sizeof(string), "SELECT * FROM `admins` WHERE `name` = '%s'", GetName(playerid));
		mysql_tquery(dbHandle, string, "admAuth", "is", playerid, GetName(playerid));
		SetPVarInt(playerid, "check_adm", gettime()+5);
	}
	if(PI[playerid][pVip] == 1)
	{
		new fmt_msg[128];

		{
// 			new year, month, day;
//			new current_date = getdate(year, month, day);
//			new time_left = PI[playerid][pVipTime] - current_date;
			format(fmt_msg, sizeof fmt_msg, "Здраствуйте, VIP игрок!");
			SendClientMessage(playerid, 0x99FF66AA, fmt_msg);
		}

	}
	switch(PI[playerid][pAdmin])
    {
		case 1: SendClientMessage(playerid, 0x99CCFFFF, "Вы вошли как администратор первого уровня");
		case 2: SendClientMessage(playerid, 0x99CCFFFF, "Вы вошли как администратор второго уровня");
		case 3: SendClientMessage(playerid, 0x99CCFFFF, "Вы вошли как администратор третьего уровня");
		case 4: SendClientMessage(playerid, 0x99CCFFFF, "Вы вошли как администратор четвёртого уровня");
		case 5: SendClientMessage(playerid, 0x99CCFFFF, "Вы вошли как администратор пятого уровня");
		case 6: SendClientMessage(playerid, 0x99CCFFFF, "Вы вошли как главный администратор");
		case 7: SendClientMessage(playerid, 0x99CCFFFF, "Вы вошли как руководитель проекта");
		case 8: SendClientMessage(playerid, 0x99CCFFFF, "Вы вошли как разработчик проекта");
    }
	if(Pick == 1)
	{
		SendClientMessageToAll(COLOR_WHITE, "Сегодня проходят выборы Мэра!");
		SendClientMessageToAll(COLOR_WHITE, "Голосование проходит в администрации области пгт. Батырево на первом этаже. Сделайте свой выбор");
	}
	if(PI[playerid][pText][0] == 1)
	{
		new i = PI[playerid][pText][0];
		PI[playerid][pBank] += HouseInfo[i][hPrice];
		SendMes(playerid, COLOR_YELLOW, "[Квитанция] Вы были выселены за неуплату! Вам было возвращено {FFCC00}%d рублей", HouseInfo[i][hPrice]);
		SendClientMessage(playerid, COLOR_YELLOW, "[Квитанция] Деньги были переведены На Ваш банковский счет");
		format(PI[playerid][pTexts], 20,  "0, %i, %i, %i", PI[playerid][pText][1], PI[playerid][pText][2], PI[playerid][pText][3]);
		format(query, 256, "UPDATE `accounts` SET text = '%s' WHERE name = '%s'", PI[playerid][pTexts], GetName(playerid));
		mysql_tquery(dbHandle, query, "", "");
	}
	if(PI[playerid][pText][1] == 1)
	{
		SendClientMessage(playerid, COLOR_YELLOW, "[Налоговая служба] Ваш бизнес закрыли в связи с нехваткой ресурсов");
		SendClientMessage(playerid, COLOR_YELLOW, "[Налоговая служба] Бюджет бизнеса зачислен На Ваш банковский счет");
		format(PI[playerid][pTexts], 20, "%i, 0, %i, %i", PI[playerid][pText][0], PI[playerid][pText][2], PI[playerid][pText][3]);
		format(query, 256, "UPDATE `accounts` SET text = '%s' WHERE name = '%s'", PI[playerid][pTexts], GetName(playerid));
		mysql_tquery(dbHandle, query, "", "");
	}
	if(PI[playerid][pText][2] == 1)
	{
		TransferMoney(-1, playerid, 100000);
		SendClientMessage(playerid, COLOR_ORANGE, "Вы получили 100 000 рублей на банковский счет, приглашённого друга");
		PI[playerid][pRefMoney] = 0;
		format(PI[playerid][pTexts], 20, "%i, %i, 0, %i", PI[playerid][pText][0], PI[playerid][pText][1], PI[playerid][pText][3]);
		format(query, 256, "UPDATE `accounts` SET text = '%s', refmoney = %d WHERE name = '%s'", PI[playerid][pTexts], PI[playerid][pRefMoney], GetName(playerid));
		mysql_tquery(dbHandle, query, "", "");
	}
	if(PI[playerid][pText][3] == 1)
	{
		SendClientMessage(playerid, COLOR_LIME, "{DC4747}[Информация] {ffffff}На Ваш счёт поступил донат платёж (/donate - Проверить зачисления)");
		format(PI[playerid][pTexts], 20, "%i, %i, %i, 0", PI[playerid][pText][0], PI[playerid][pText][1], PI[playerid][pText][2]);
		format(query, 256, "UPDATE `accounts` SET text = '%s' WHERE name = '%s'", PI[playerid][pTexts], GetName(playerid));
		mysql_tquery(dbHandle, query, "", "");
	}
	StopAudioStreamForPlayer(playerid);
	if(PI[playerid][pVipTime] > 0)
	{
	    new year, month, day;
		new current_date = getdate(year, month, day);
		new time_left = PI[playerid][pVipTime] - current_date;
		if(time_left <= 0)
		{
			SendClientMessage(playerid, COLOR_YELLOW, "Срок действия вашего VIP аккаунта истек!");
			PI[playerid][pVip] = PI[playerid][pVipTime] = 0;
		}
	}
	/*new string[256];
 	format(string, sizeof(string), "SELECT * FROM `admins` WHERE `name` = '%s'", GetName(playerid));
	mysql_tquery(dbHandle, string, "admAuth", "is", playerid, GetName(playerid));
	SetPVarInt(playerid, "check_adm", gettime()+5);*/
	TextDrawShowForPlayer(playerid, logo);
	// new id = GetPVarInt(playerid, "Session");
	// SetPlayerPos(playerid, Session[id][sessionX], Session[id][sessionY], Session[id][sessionZ]);
	// SetPlayerVirtualWorld(playerid, Session[id][sessionWorld]);
	// SetPlayerInterior(playerid, Session[id][sessionInterior]);
	// SetPlayerFacingAn+gle(playerid, Session[id][sessionAngle]);
	// if(!IsValidVehicle(Session[id][sessionVehicle]) || !s_IsVehicleOccupied(Session[id][sessionVehicle]))
	// 	SendClientMessage(playerid, -1, "К сожалению, автомобиль в котором Вы находились был уничтожен или занят другим игроком");

	// new sesid = GetPVarInt(playerid, "Session");

	Session[playerid][IsActive] = true;
	SetPlayerSkin(playerid, PI[playerid][pModel]);

	if(EXP_BOOST) {
		new st[128];
		format(st, sizeof st, "На сервере действует акция x%d EXP!", EXP_BOOST);
		SendPond(playerid, st);
	}
	if(DONATE_ON_PAYDAY) {
		new st[128];
		format(st, sizeof st, "На сервере действует акция 'Кредиты на каждый пейдей'. Играйте на сервере и получайте %d кредитов каждый час!", DONATE_ON_PAYDAY);
		SendPond(playerid, st);
	}

	if(PI[playerid][pAdmin]) {
		SendClientMessage(playerid, -1, "1");
		format(string, sizeof(string), "SELECT * FROM admins WHERE `name` = '%s'", GetName(playerid));
		mysql_query(dbHandle, string);
		if(!cache_get_row_count()) {
			SendClientMessage(playerid, -1, "2");
			mysql_format(dbHandle, string, sizeof(string), "INSERT INTO "T_ADMIN" (`name`, `level`, `last_connect`, `put_admin`, `data`) VALUES ('%s', 0, 'unknown', 'mysql', 'unknown')", GetName(playerid));
			mysql_tquery(dbHandle, string, "", "");
			Alogin(playerid, GetName(playerid));
		}
	}


	TextDrawShowForPlayer(playerid, logo);
	SpawnPlayer(playerid);
	SendPond(playerid, "Игровая сессия восстановлена! Вам не нужно проходить авторизацию.");
	return 1;
}


forward OnPlayerLogin(playerid, tmp[]);
public OnPlayerLogin(playerid, tmp[]) // LoadAccount
{
	mysql_format(dbHandle, query, sizeof(query), "SELECT * FROM CheatBan WHERE name = '%e'", GetName(playerid));
	mysql_tquery(dbHandle, query, "check_cheatban", "i", playerid);

	mysql_format(dbHandle, query, sizeof(query), "SELECT * FROM bans WHERE name = '%e'", GetName(playerid));
	mysql_tquery(dbHandle, query, "check_banlist", "i", playerid);

	StopAudioStreamForPlayer(playerid);


	if(!GetPVarInt(playerid, "Logged")) return 1;
	new rows, fields;
	new posx[3];
    new posy[3];
    new posz[3];
    new pint[3];
    new pworld[3];
    cache_get_data(rows, fields);
	if(!rows)
	{
		PlayerLogTries[playerid]++;
//		if(PlayerLogTries[playerid] == 4)
		if(PlayerLogTries[playerid] == 3)
		{
			SendClientMessage(playerid, COLOR_RED, "Вы несколько раз ввели неверный пароль! Для выхода из игры введите: {ffffff}/q(uit)");
			return Kick(playerid);
		}
        new string[100];
		format(string, sizeof(string), "{FF6600}Неправильный пароль!\nУ Вас осталось{FFFFFF} %d попыток", 3 - PlayerLogTries[playerid]);
		ShowPlayerDialog(playerid, D_ERRORPAS, DIALOG_STYLE_MSGBOX, "{FF6600}Ошибка", string, "Повтор", "Выйти");
		return 1;
	}

	PI[playerid][pID] = cache_get_row_int(0, 0, dbHandle); // id
	//cache_get_row(0, 2, PI[playerid][pPassword], dbHandle, 32); // password
	cache_get_row(0, 3, PI[playerid][pLastIP], dbHandle, 16); // ip
	cache_get_row(0, 4, PI[playerid][pNumberVehicle], dbHandle, 20); // veh_number
	PI[playerid][pRegVehicle] = cache_get_row_int(0, 5, dbHandle); // veh_reg
	PI[playerid][pAdmin] = cache_get_row_int(0, 6, dbHandle); // admin
	PI[playerid][pSecurityCode] = cache_get_row_int(0, 7, dbHandle); // securitycode
	PI[playerid][pCheckCode] = cache_get_row_int(0, 8, dbHandle); // checkcode
	cache_get_row(0, 9, PI[playerid][pMail], dbHandle, 64); // mail
	PI[playerid][pLevel] = cache_get_row_int(0, 10, dbHandle); // level
	PI[playerid][pCash] = cache_get_row_int(0, 11, dbHandle); // cash
	PI[playerid][pBank] = cache_get_row_int(0, 12, dbHandle); // bank
	PI[playerid][pExp] = cache_get_row_int(0, 13, dbHandle); // exp
	cache_get_row(0, 14, PI[playerid][pRegIP], dbHandle, 16); // regip
	cache_get_row(0, 15, PI[playerid][pRegData], dbHandle, 15); // datareg
	PI[playerid][pLeader] = cache_get_row_int(0, 16, dbHandle); // leader
	PI[playerid][pTempLeader] = cache_get_row_int(0, 17, dbHandle); // templeader
	PI[playerid][pMember] = cache_get_row_int(0, 18, dbHandle); // member
	PI[playerid][pRank] = cache_get_row_int(0, 19, dbHandle); // rank
	PI[playerid][pWarn] = cache_get_row_int(0, 20, dbHandle); // warn
	PI[playerid][pSex] = cache_get_row_int(0, 21, dbHandle); // sex
	PI[playerid][pAge] = cache_get_row_int(0, 22, dbHandle); // age
	PI[playerid][pModel] = cache_get_row_int(0, 23, dbHandle); // model
	PI[playerid][pMemberSkin] = cache_get_row_int(0, 24, dbHandle); // memberskin
	cache_get_row(0, 25, PI[playerid][pLics], dbHandle, 16); // lic
	PI[playerid][pMuted] = cache_get_row_int(0, 28, dbHandle); // mute
	PI[playerid][pPick] = cache_get_row_int(0, 29, dbHandle); // pick
	PI[playerid][pCheckTime] = cache_get_row_int(0, 30, dbHandle); //checktime
	PI[playerid][pNews] = cache_get_row_int(0, 31, dbHandle); // news
	//PI[playerid][pPhone] = cache_get_row_int(0, 32, dbHandle); // phone
	PI[playerid][pPhoneNumber] = cache_get_row_int(0, 33, dbHandle); // phonenumber
	cache_get_row(0, 34, PI[playerid][pTexts], dbHandle, 20); // text
	PI[playerid][pJail] = cache_get_row_int(0, 35, dbHandle); // jail
	PI[playerid][pJailTime] = cache_get_row_int(0, 36, dbHandle); // jailtime
	PI[playerid][pWanted] = cache_get_row_int(0, 37, dbHandle); // wanted
	PI[playerid][pWantedTime] = cache_get_row_int(0, 38, dbHandle); // wantedtime
	cache_get_row(0, 39, PI[playerid][pWantedWho], dbHandle, MAX_PLAYER_NAME); // wantedwho
	cache_get_row(0, 40, PI[playerid][pWantedReason], dbHandle, 32); // wantedreason
	PI[playerid][pHeal] = cache_get_row_float(0, 41, dbHandle); // heal
	PI[playerid][pDrugs] = cache_get_row_int(0, 42, dbHandle); // drugs
	PI[playerid][pPatron] = cache_get_row_int(0, 43, dbHandle); // patron
	PI[playerid][pGunAmount] = cache_get_row_int(0, 44, dbHandle); // gunamount
	PI[playerid][pCrimes] = cache_get_row_int(0, 45, dbHandle); // crimes
	PI[playerid][pJob] = cache_get_row_int(0, 46, dbHandle); // job
	PI[playerid][pMarried] = cache_get_row_int(0, 47, dbHandle); // married
	cache_get_row(0, 48, PI[playerid][pWhoMarried], dbHandle, MAX_PLAYER_NAME); // whomarried
	cache_get_row(0, 49, PI[playerid][pReferal], dbHandle, MAX_PLAYER_NAME); // referal
	PI[playerid][pRefMoney] = cache_get_row_int(0, 50, dbHandle); // refmoney
	PI[playerid][pPayCheck] = cache_get_row_int(0, 51, dbHandle); // paycheck
	PI[playerid][pCharity] = cache_get_row_int(0, 52, dbHandle); // charity
	PI[playerid][pVip] = cache_get_row_int(0, 53, dbHandle); // vip
	PI[playerid][pVipTime] = cache_get_row_int(0, 54, dbHandle); // viptime
	PI[playerid][pTime] = cache_get_row_int(0, 55, dbHandle); // time
	PI[playerid][pFightStyle] = cache_get_row_int(0, 56, dbHandle); // fstyle
	PI[playerid][pCredits] = cache_get_row_int(0, 57, dbHandle); // credits
	PI[playerid][pTotalCredits] = cache_get_row_int(0, 58, dbHandle); // totalcredits
	PI[playerid][pSkin][0] = cache_get_row_int(0, 59, dbHandle); // skin1
	PI[playerid][pSkin][1] = cache_get_row_int(0, 60, dbHandle); // skin2
	PI[playerid][pSkin][2] = cache_get_row_int(0, 61, dbHandle); // skin3
	PI[playerid][pSpawnChange] = cache_get_row_int(0, 62, dbHandle); // spawnchange
	PI[playerid][pSkill] = cache_get_row_int(0, 63, dbHandle); // sdpistol
	PI[playerid][pSkill][1] = cache_get_row_int(0, 64, dbHandle); // deserteagle
	PI[playerid][pSkill][2] = cache_get_row_int(0, 65, dbHandle); // shotgun
	PI[playerid][pSkill][3] = cache_get_row_int(0, 66, dbHandle); // mp5
	PI[playerid][pSkill][4] = cache_get_row_int(0, 67, dbHandle); // ak47
	PI[playerid][pSkill][5] = cache_get_row_int(0, 68, dbHandle); // m4
	PI[playerid][pGunSkill][6] = cache_get_row_int(0, 69, dbHandle); // pistol
	PI[playerid][pGunSkill][7] = cache_get_row_int(0, 70, dbHandle); // microuzi
	PI[playerid][pHunger] = cache_get_row_int(0, 71, dbHandle); // hunger
	PI[playerid][pHealthS] = cache_get_row_int(0, 72, dbHandle); // healths
	PI[playerid][pSportExp] = cache_get_row_int(0, 73, dbHandle); // sportexp
	PI[playerid][pOnline] = cache_get_row_int(0, 74, dbHandle); // online
	PI[playerid][pZakon] = cache_get_row_int(0, 75, dbHandle); // zakon
	PI[playerid][pCity] = cache_get_row_int(0, 76, dbHandle); // city
	cache_get_row(0, 77, PI[playerid][pRepcars], dbHandle, 16); // repcar
	PI[playerid][pBed] = cache_get_row_int(0, 78, dbHandle); // bed
	PI[playerid][pWatch] = cache_get_row_int(0, 79, dbHandle); // watch
	PI[playerid][pCiggare] = cache_get_row_int(0, 80, dbHandle); // ciggare
	PI[playerid][pSprunk] = cache_get_row_int(0, 81, dbHandle); // sprunk
	PI[playerid][pMask] = cache_get_row_int(0, 82, dbHandle); // mask
	PI[playerid][pPhoneBalance] = cache_get_row_int(0, 83, dbHandle); // phonebalance
	PI[playerid][pTruckSkill] = cache_get_row_int(0, 84, dbHandle); // truckskill
	PI[playerid][cModel][0] = cache_get_row_int(0, 85, dbHandle); // cModel
	PI[playerid][cClass][0] = cache_get_row_int(0, 86, dbHandle); // cClass
	PI[playerid][cFuel][0] = cache_get_row_int(0, 87, dbHandle); // cFuel
	PI[playerid][cColor][0] = cache_get_row_int(0, 88, dbHandle); // cColor1
	PI[playerid][cColor][1] = cache_get_row_int(0, 89, dbHandle); // cColor2
	PI[playerid][cLock][0] = cache_get_row_int(0, 90, dbHandle); // cLock
	PI[playerid][cCost][0] = cache_get_row_int(0, 91, dbHandle); // cCost
	cache_get_row(0, 92, PI[playerid][cVehcom], dbHandle, 64); // cVehcom
	PI[playerid][cPaintjob] = cache_get_row_int(0, 93, dbHandle); // cPaintjob
	PI[playerid][cProbeg] = cache_get_row_int(0, 94, dbHandle); // cPaintjob
	PI[playerid][pAptechka] = cache_get_row_int(0, 95, dbHandle); // aptechka
	PI[playerid][pVoennik] = cache_get_row_int(0, 96, dbHandle); // Voennik
	PI[playerid][pMusic] = cache_get_row_int(0, 97, dbHandle); // music
	cache_get_row(0, 98, PI[playerid][pImproves], dbHandle, 32); // improves
	PI[playerid][pSettings] = cache_get_row_int(0, 99, dbHandle); // settings
	PhoneNumbers[playerid][0] = cache_get_row_int(0, 101, dbHandle); // phnumber1
	PhoneNumbers[playerid][1] = cache_get_row_int(0, 102, dbHandle); // phnumber2
	PhoneNumbers[playerid][2] = cache_get_row_int(0, 103, dbHandle); // phnumber3
	PhoneNumbers[playerid][3] = cache_get_row_int(0, 104, dbHandle); // phnumber4
	PhoneNumbers[playerid][4] = cache_get_row_int(0, 105, dbHandle); // phnumber5
	PhoneNumbers[playerid][5] = cache_get_row_int(0, 106, dbHandle); // phnumber6
	PhoneNumbers[playerid][6] = cache_get_row_int(0, 107, dbHandle); // phnumber7
	PhoneNumbers[playerid][7] = cache_get_row_int(0, 108, dbHandle); // phnumber8
	PI[playerid][pVehicleKey][0] = cache_get_row_int(0, 108, dbHandle); // mailconf
	PI[playerid][pVehicleKey][1] = cache_get_row_int(0, 109, dbHandle); // mailconf
	PI[playerid][pMailConfirmed] = cache_get_row_int(0, 109, dbHandle); // mailconf
	PI[playerid][pAutoLic] = cache_get_row_int(0, 112, dbHandle); // pautolic
	// PI[playerid][pCarC] = cache_get_row_int(0, 114, dbHandle); // cash
	// PI[playerid][pCarD] = cache_get_row_int(0, 115, dbHandle); // cash
    cache_get_field_content(0,"pInt",pint), PI[playerid][pInt] = strval(pint);
    cache_get_field_content(0,"pWorld",pworld), PI[playerid][pWorld] = strval(pworld);
    cache_get_field_content(0,"PosX",posx), PI[playerid][PosX] = floatstr(posx);
    cache_get_field_content(0,"PosY",posy), PI[playerid][PosY] = floatstr(posy);
    cache_get_field_content(0,"PosZ",posz), PI[playerid][PosZ] = floatstr(posz);
    PI[playerid][pTruckLevel] = cache_get_row_int(0, 121, dbHandle); // truckskill
    PI[playerid][P_ENTRANCE] = cache_get_row_int(0, 122, dbHandle);
	PI[playerid][P_ROOM] = cache_get_row_int(0, 123, dbHandle);
	PI[playerid][pDeath] = cache_get_row_int(0, 124, dbHandle);
	PI[playerid][pShahtaEarn] = cache_get_row_int(0, 128, dbHandle);

    /*PI[playerid][pFamily] = cache_get_row_int(0, 122, dbHandle); // fama
	PI[playerid][pFamilySozd] = cache_get_row_int(0, 123, dbHandle); // sozd
	PI[playerid][pFamilyZam] = cache_get_row_int(0, 124, dbHandle); //zam
	*/


	new l_guns[56], l_ammo[56];
	
	cache_get_row(0, 26, l_guns, dbHandle, 64); // guns
	cache_get_row(0, 27, l_ammo, dbHandle, 64); // ammos

	new g_data[13], a_data[13];
	sscanf(l_guns, "p<,>a<i>[13]", g_data);
	sscanf(l_ammo, "p<,>a<i>[13]", a_data);
	for(new i; i < 13; i++)
	{
	    PI[playerid][pGun][i] = g_data[i];
	    PI[playerid][pAmmo][i] = a_data[i];
	}
	SetPVarInt(playerid, "Connected", 1);
		
    sscanf(PI[playerid][cVehcom], "p<,>a<i>[14]",PI[playerid][cVehcoms]);
	sscanf(PI[playerid][pTexts], "p<,>a<i>[4]", PI[playerid][pText]);
	sscanf(PI[playerid][pRepcars], "p<,>a<i>[2]", PI[playerid][pRepcar]);
	sscanf(PI[playerid][pImproves], "p<,>a<i>[4]", PI[playerid][pImprove]);
	sscanf(PI[playerid][pLics], "p<,>a<i>[4]",PI[playerid][pLic]);


	//if(PI[playerid][cModel][0] > 0 && GetPlayerPorchHouse(playerid) == 0) LoadMyCar(playerid);
	DeletePVar(playerid, "Logged");
	DeletePVar(playerid, "avttimer");

    GetPlayerIp(playerid, PI[playerid][pIP], 16);
	format(query, 256, "UPDATE `accounts` SET ip = '%s', online = '1' WHERE id = '%i' LIMIT 1", PI[playerid][pIP], PI[playerid][pID]);
	mysql_tquery(dbHandle, query, "", "");
	
	new string[128];
    mysql_format(dbHandle, string, sizeof(string), "SELECT * FROM "T_SUPPORT" WHERE `name` = '%s' LIMIT 1", GetName(playerid));
	mysql_tquery(dbHandle, string, "SupportAuth", "i", playerid);

	mysql_format(dbHandle, string, sizeof(string), "SELECT * FROM "T_YOUTUBER" WHERE `name` = '%s' LIMIT 1", GetName(playerid));
	mysql_tquery(dbHandle, string, "YouTuberAuth", "i", playerid);



	PlayerTimerID[playerid] = SetTimerEx("PlayerUpdate", 1000, 1, "d", playerid);
	
	if(PI[playerid][pCheckCode] == 1)
	{
	    new texter_pas[5];
		new digitsd[9] = {1,2,3,4,5,6,7,8,9};
		for(new i, rand, old_digit; i < 9; i++)
		{
			while((rand = random(9)) == i) {}
			old_digit = digitsd[i];
			digitsd[i] = digitsd[rand];
			digitsd[rand] = old_digit;
		}
    	for(new f = 0; f < 10; f++)
		{
		    if(f < 9)
		    {
		        mass_pass[playerid][f] = digitsd[f];
				format(texter_pas,sizeof(texter_pas),"%i",mass_pass[playerid][f]);
				PlayerTextDrawSetString(playerid,SecurityCode[playerid][f],texter_pas);
		    }
			PlayerTextDrawShow(playerid,SecurityCode[playerid][f]);
		}
		SendClientMessage(playerid, COLOR_LIME, "Система безопасности запрашивает ввод Вашего графического пароля");
		PI[playerid][pInputCode] = 0;
		Ujahhs[playerid] = 1;
		SelectTextDraw(playerid, -264092161);
	}
	else if(PI[playerid][pCheckCode] == 2)
	{
	    if(!strcmp(PI[playerid][pLastIP],PI[playerid][pIP],true))
		{
		    PlayerLogged[playerid] = true;
		    Hunger(playerid, 0);
   			SpawnPlayer(playerid);
		}
		else
		{
		    new texter_pas[5];
			new digitsd[9] = {1,2,3,4,5,6,7,8,9};
			for(new i, rand, old_digit; i < 9; i++)
			{
				while((rand = random(9)) == i) {}
				old_digit = digitsd[i];
				digitsd[i] = digitsd[rand];
				digitsd[rand] = old_digit;
			}
	    	for(new f = 0; f < 10; f++)
			{
			    if(f < 9)
			    {
			        mass_pass[playerid][f] = digitsd[f];
					format(texter_pas,sizeof(texter_pas),"%i",mass_pass[playerid][f]);
					PlayerTextDrawSetString(playerid,SecurityCode[playerid][f],texter_pas);
			    }
				PlayerTextDrawShow(playerid,SecurityCode[playerid][f]);
			}
			SendClientMessage(playerid, COLOR_LIME, "Система безопасности запрашивает ввод Вашего графического пароля");
			PI[playerid][pInputCode] = 0;
			Ujahhs[playerid] = 1;
			SelectTextDraw(playerid,-264092161);
		}
	}
	else if(PI[playerid][pCheckCode] == 3)
	{
	    new strv[26], strvv[26], splitt[4][4], spli[4][4];
	    split(PI[playerid][pLastIP], splitt, '.');
		format(strv, sizeof(strv), "%s.%s", splitt[0], splitt[1]);
	    split(PI[playerid][pIP], spli, '.');
		format(strvv, sizeof(strvv), "%s.%s", spli[0], spli[1]);
	    if(strcmp(strv,strvv,true))
		{
		    new texter_pas[5];
			new digitsd[9] = {1,2,3,4,5,6,7,8,9};
			for(new i, rand, old_digit; i < 9; i++)
			{
				while((rand = random(9)) == i) {}
				old_digit = digitsd[i];
				digitsd[i] = digitsd[rand];
				digitsd[rand] = old_digit;
			}
	    	for(new f = 0; f < 10; f++)
			{
			    if(f < 9)
			    {
			        mass_pass[playerid][f] = digitsd[f];
					format(texter_pas,sizeof(texter_pas),"%i",mass_pass[playerid][f]);
					PlayerTextDrawSetString(playerid,SecurityCode[playerid][f],texter_pas);
			    }
				PlayerTextDrawShow(playerid,SecurityCode[playerid][f]);
			}
			SendClientMessage(playerid, COLOR_LIME, "Система безопасности запрашивает ввод Вашего графического пароля");
			PI[playerid][pInputCode] = 0;
			Ujahhs[playerid] = 1;
			SelectTextDraw(playerid,-264092161);
		}
		else
		{
            // ShowPlayerDialog(playerid, SelectSpawn, DIALOG_STYLE_LIST, "{FFCC00}Выберите спавн:", "- Вокзал\n- Дом\n- Квартира\n- База организации", "Выбрать", "Отмена");
		    PlayerLogged[playerid] = true;
		    Hunger(playerid, 0);
            if(GetPVarInt(playerid, "check_adm") > gettime()) return 1;
  			else if(AdminLogged[playerid]) return SendClientMessage(playerid, COLOR_RED, "Вы уже авторизовались как администратор!");
			format(string, sizeof(string), "SELECT * FROM `admins` WHERE `name` = '%s'", GetName(playerid));
			mysql_tquery(dbHandle, string, "admAuth", "is", playerid, GetName(playerid));
 			SetPVarInt(playerid, "check_adm", gettime()+5);
		}
	}
	else
	{
        // ShowPlayerDialog(playerid, SelectSpawn, DIALOG_STYLE_LIST, "{FFCC00}Выберите спавн:", "- Вокзал\n- Дом\n- Квартира\n- База организации", "Выбрать", "Отмена");

	    PlayerLogged[playerid] = true;
	    Hunger(playerid, 0);
     	if(GetPVarInt(playerid, "check_adm") > gettime()) return 1;
  		else if(AdminLogged[playerid]) return SendClientMessage(playerid, COLOR_RED, "Вы уже авторизовались как администратор!");
		format(string, sizeof(string), "SELECT * FROM `admins` WHERE `name` = '%s'", GetName(playerid));
		mysql_tquery(dbHandle, string, "admAuth", "is", playerid, GetName(playerid));
		SetPVarInt(playerid, "check_adm", gettime()+5);
	}
	if(PI[playerid][pVip] == 1)
	{
		new fmt_msg[128];

		{
// 			new year, month, day;
//			new current_date = getdate(year, month, day);
//			new time_left = PI[playerid][pVipTime] - current_date;
			format(fmt_msg, sizeof fmt_msg, "Здраствуйте, VIP игрок!");
			SendClientMessage(playerid, 0x99FF66AA, fmt_msg);
		}

	}
	switch(PI[playerid][pAdmin])
    {
		case 1: SendClientMessage(playerid, 0x99CCFFFF, "Вы вошли как администратор первого уровня");
		case 2: SendClientMessage(playerid, 0x99CCFFFF, "Вы вошли как администратор второго уровня");
		case 3: SendClientMessage(playerid, 0x99CCFFFF, "Вы вошли как администратор третьего уровня");
		case 4: SendClientMessage(playerid, 0x99CCFFFF, "Вы вошли как администратор четвёртого уровня");
		case 5: SendClientMessage(playerid, 0x99CCFFFF, "Вы вошли как администратор пятого уровня");
		case 6: SendClientMessage(playerid, 0x99CCFFFF, "Вы вошли как главный администратор");
		case 7: SendClientMessage(playerid, 0x99CCFFFF, "Вы вошли как руководитель проекта");
		case 8: SendClientMessage(playerid, 0x99CCFFFF, "Вы вошли как разработчик проекта");
    }
	if(Pick == 1)
	{
		SendClientMessageToAll(COLOR_WHITE, "Сегодня проходят выборы Мэра!");
		SendClientMessageToAll(COLOR_WHITE, "Голосование проходит в администрации области пгт. Батырево на первом этаже. Сделайте свой выбор");
	}
	if(PI[playerid][pText][0] == 1)
	{
		new i = PI[playerid][pText][0];
		PI[playerid][pBank] += HouseInfo[i][hPrice];
		SendMes(playerid, COLOR_YELLOW, "[Квитанция] Вы были выселены за неуплату! Вам было возвращено {FFCC00}%d рублей", HouseInfo[i][hPrice]);
		SendClientMessage(playerid, COLOR_YELLOW, "[Квитанция] Деньги были переведены На Ваш банковский счет");
		format(PI[playerid][pTexts], 20,  "0, %i, %i, %i", PI[playerid][pText][1], PI[playerid][pText][2], PI[playerid][pText][3]);
		format(query, 256, "UPDATE `accounts` SET text = '%s' WHERE name = '%s'", PI[playerid][pTexts], GetName(playerid));
		mysql_tquery(dbHandle, query, "", "");
	}
	if(PI[playerid][pText][1] == 1)
	{
		SendClientMessage(playerid, COLOR_YELLOW, "[Налоговая служба] Ваш бизнес закрыли в связи с нехваткой ресурсов");
		SendClientMessage(playerid, COLOR_YELLOW, "[Налоговая служба] Бюджет бизнеса зачислен На Ваш банковский счет");
		format(PI[playerid][pTexts], 20, "%i, 0, %i, %i", PI[playerid][pText][0], PI[playerid][pText][2], PI[playerid][pText][3]);
		format(query, 256, "UPDATE `accounts` SET text = '%s' WHERE name = '%s'", PI[playerid][pTexts], GetName(playerid));
		mysql_tquery(dbHandle, query, "", "");
	}
	if(PI[playerid][pText][2] == 1)
	{
		TransferMoney(-1, playerid, 100000);
		SendClientMessage(playerid, COLOR_ORANGE, "Вы получили 100 000 рублей на банковский счет, приглашённого друга");
		PI[playerid][pRefMoney] = 0;
		format(PI[playerid][pTexts], 20, "%i, %i, 0, %i", PI[playerid][pText][0], PI[playerid][pText][1], PI[playerid][pText][3]);
		format(query, 256, "UPDATE `accounts` SET text = '%s', refmoney = %d WHERE name = '%s'", PI[playerid][pTexts], PI[playerid][pRefMoney], GetName(playerid));
		mysql_tquery(dbHandle, query, "", "");
	}
	if(PI[playerid][pText][3] == 1)
	{
		SendClientMessage(playerid, COLOR_LIME, "{DC4747}[Информация] {ffffff}На Ваш счёт поступил донат платёж (/donate - Проверить зачисления)");
		format(PI[playerid][pTexts], 20, "%i, %i, %i, 0", PI[playerid][pText][0], PI[playerid][pText][1], PI[playerid][pText][2]);
		format(query, 256, "UPDATE `accounts` SET text = '%s' WHERE name = '%s'", PI[playerid][pTexts], GetName(playerid));
		mysql_tquery(dbHandle, query, "", "");
	}
	StopAudioStreamForPlayer(playerid);
	if(PI[playerid][pVipTime] > 0)
	{
	    new year, month, day;
		new current_date = getdate(year, month, day);
		new time_left = PI[playerid][pVipTime] - current_date;
		if(time_left <= 0)
		{
			SendClientMessage(playerid, COLOR_YELLOW, "Срок действия вашего VIP аккаунта истек!");
			PI[playerid][pVip] = PI[playerid][pVipTime] = 0;
		}
	}
	/*new string[256];
 	format(string, sizeof(string), "SELECT * FROM `admins` WHERE `name` = '%s'", GetName(playerid));
	mysql_tquery(dbHandle, string, "admAuth", "is", playerid, GetName(playerid));
	SetPVarInt(playerid, "check_adm", gettime()+5);*/
	TextDrawShowForPlayer(playerid, logo);
	SpawnPlayer(playerid);
	if(EXP_BOOST) {
		new st[128];
		format(st, sizeof st, "На сервере действует акция x%d EXP!", EXP_BOOST);
		SendPond(playerid, st);
	}
	if(DONATE_ON_PAYDAY) {
		new st[128];
		format(st, sizeof st, "На сервере действует акция 'Кредиты на каждый пейдей'. Играйте на сервере и получайте %d кредитов каждый час!", DONATE_ON_PAYDAY);
		SendPond(playerid, st);
	}

	if(PI[playerid][pAdmin]) {
		format(string, sizeof(string), "SELECT * FROM admins WHERE `name` = '%s'", GetName(playerid));
		mysql_query(dbHandle, string);
		if(!cache_get_row_count()) {
			mysql_format(dbHandle, string, sizeof(string), "INSERT INTO "T_ADMIN" (`name`, `level`, `last_connect`, `put_admin`, `data`) VALUES ('%s', 0, 'unknown', 'mysql', 'unknown')", GetName(playerid));
			mysql_tquery(dbHandle, string, "", "");
			Alogin(playerid, GetName(playerid));
		}
	}


	Session[playerid][IsActive] = true;
	return 1;
}
//==============================================================================
stock SaveAccount(playerid)
{
	if(PlayerLogged[playerid] == false || IsPlayerConnected(playerid) == 0) return 1;
	new src[90], year, month, day;
	getdate(year, month, day);
	format(global_string,sizeof(global_string),"UPDATE "T_ACCOUNTS" SET ");
	format(src,sizeof(src),"ip='%s',",PI[playerid][pIP]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"level=%d,",PI[playerid][pLevel]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"admin=%d,",PI[playerid][pAdmin]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"sex=%d,",PI[playerid][pSex]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"age=%d,",PI[playerid][pAge]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"securitycode='%i',",PI[playerid][pSecurityCode]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"model=%d,",PI[playerid][pModel]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"memberskin=%d,",PI[playerid][pMemberSkin]);
	strcat(global_string,src,sizeof(global_string));
	if(PI[playerid][pCash] < -1000000) PI[playerid][pCash] = BONUS_CASH;
	format(src,sizeof(src),"cash=%d,",PI[playerid][pCash]);
	strcat(global_string,src,sizeof(global_string));
	if(PI[playerid][pBank] < -1000000) PI[playerid][pBank] = 0;
	format(src,sizeof(src),"bank=%d,",PI[playerid][pBank]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"mute=%d,",PI[playerid][pMuted]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"warn=%d,",PI[playerid][pWarn]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"leader=%d,",PI[playerid][pLeader]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"templeader=%d,",PI[playerid][pTempLeader]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"member=%d,",PI[playerid][pMember]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"rank=%d,",PI[playerid][pRank]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"exp=%d,",PI[playerid][pExp]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"news=%d,",PI[playerid][pNews]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"crimes=%d,",PI[playerid][pCrimes]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"wanted=%d,",PI[playerid][pWanted]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"wantedtime=%d,",PI[playerid][pWantedTime]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"wantedwho='%s',",PI[playerid][pWantedWho]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"wantedreason='%s',",PI[playerid][pWantedReason]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"jail=%d,",PI[playerid][pJail]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"job=%d,",PI[playerid][pJob]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"jailtime=%d,",PI[playerid][pJailTime]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"checktime=%d,",PI[playerid][pCheckTime]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"drugs=%d,",PI[playerid][pDrugs]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"married=%d,",PI[playerid][pMarried]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"whomarried='%s',",PI[playerid][pWhoMarried]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"paycheck='%i',",PI[playerid][pPayCheck]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"charity='%i',",PI[playerid][pCharity]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"vip='%i',",PI[playerid][pVip]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"viptime='%i',",PI[playerid][pVipTime]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"time='%i',",PI[playerid][pTime]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"fstyle='%i',",PI[playerid][pFightStyle]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"skin1='%i',",PI[playerid][pSkin][0]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"skin2='%i',",PI[playerid][pSkin][1]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"skin3='%i',",PI[playerid][pSkin][2]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"spawnchange='%i',",PI[playerid][pSpawnChange]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"sdpistol='%i',",PI[playerid][pGunSkill][0]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"deserteagle='%i',",PI[playerid][pGunSkill][1]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"shotgun='%i',",PI[playerid][pGunSkill][2]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"mp5='%i',",PI[playerid][pGunSkill][3]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"ak47='%i',",PI[playerid][pGunSkill][4]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"m4='%i',",PI[playerid][pGunSkill][5]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"pistol='%i',",PI[playerid][pGunSkill][6]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"microuzi='%i',",PI[playerid][pGunSkill][7]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"sportexp='%i',",PI[playerid][pSportExp]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"zakon='%i',",PI[playerid][pZakon]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"checkcode='%i',",PI[playerid][pCheckCode]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"city='%i',",PI[playerid][pCity]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"bed='%i',",PI[playerid][pBed]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"watch='%i',",PI[playerid][pWatch]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"ciggare='%i',",PI[playerid][pCiggare]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"sprunk='%i',",PI[playerid][pSprunk]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"mask='%i',",PI[playerid][pMask]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"phonebalance='%i',",PI[playerid][pPhoneBalance]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"cModel='%i',",PI[playerid][cModel]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"cFuel='%i',",PI[playerid][cFuel]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"cClass='%i',",PI[playerid][cClass]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"cColor1='%i',",PI[playerid][cColor][0]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"cColor2='%i',",PI[playerid][cColor][1]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"cLock='%i',",PI[playerid][cLock]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"cCost='%i',",PI[playerid][cCost]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"cVehcom='%i',",PI[playerid][cVehcom]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"cPaintjob='%i',",PI[playerid][cPaintjob]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"cProbeg='%i',",PI[playerid][cProbeg]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"aptechka='%i',",PI[playerid][pAptechka]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"Voennik='%i',",PI[playerid][pVoennik]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"music='%i',",PI[playerid][pMusic]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"datavhod='%d.%d.%d',",day, month, year);
	strcat(global_string,src,sizeof(global_string));
	/*format(PI[playerid][pPhones],16,"%i, %i",PI[playerid][pPhone][0],PI[playerid][pPhone][1]);
	format(src,sizeof(src),"phone='%s',",PI[playerid][pPhones]);
	strcat(global_string,src,sizeof(global_string));*/
	format(PI[playerid][pRepcars],16,"%i, %i",PI[playerid][pRepcar][0],PI[playerid][pRepcar][1]);
	format(src,sizeof(src),"repcar='%s',",PI[playerid][pRepcars]);
	strcat(global_string,src,sizeof(global_string));
	format(PI[playerid][pImproves],32,"%i, %i, %i, %i",PI[playerid][pImprove][0],PI[playerid][pImprove][1],PI[playerid][pImprove][2],PI[playerid][pImprove][3]);
	format(src,sizeof(src),"improves='%s',",PI[playerid][pImproves]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"veh_reg='%i',",PI[playerid][pRegVehicle]);
	strcat(global_string,src,sizeof(query));
	format(src,sizeof(src),"pAutoLic='%i',",PI[playerid][pAutoLic]);
	strcat(global_string,src,sizeof(query));
	format(src,sizeof(src),"pcarc='%i',",0);
	strcat(global_string,src,sizeof(query));
	format(src,sizeof(src),"pcard='%i',",0);
	strcat(global_string,src,sizeof(query));
	format(src,sizeof(src),"phonenumber='%i',",PI[playerid][pPhoneNumber]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"phnumber1='%i',",PhoneNumbers[playerid][0]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"phnumber2='%i',",PhoneNumbers[playerid][1]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"phnumber3='%i',",PhoneNumbers[playerid][2]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"phnumber4='%i',",PhoneNumbers[playerid][3]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"phnumber5='%i',",PhoneNumbers[playerid][4]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"phnumber6='%i',",PhoneNumbers[playerid][5]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"phnumber7='%i',",PhoneNumbers[playerid][6]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"phnumber8='%i',",PhoneNumbers[playerid][7]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"trucklevel='%i',",PI[playerid][pTruckLevel]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"death='%i',",PI[playerid][pDeath]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"entrance='%s',",PI[playerid][P_ENTRANCE]);
 	format(src,sizeof(src),"room='%s',",PI[playerid][P_ROOM]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src),"pShahtaEarn='%d',",PI[playerid][pShahtaEarn]);
	strcat(global_string,src,sizeof(global_string));

	format(PI[playerid][pLics],16,"%i, %i, %i, %i",PI[playerid][pLic][0],PI[playerid][pLic][1],PI[playerid][pLic][2],PI[playerid][pLic][3]);
	format(src,sizeof(src),"lic='%s'",PI[playerid][pLics]);
	strcat(global_string,src,sizeof(global_string));
	format(src,sizeof(src)," WHERE name='%s' LIMIT 1",GetName(playerid));
	strcat(global_string,src,sizeof(global_string));
	mysql_tquery(dbHandle, global_string, "", "");
	return 1;
}






//==============================================================================
stock MysqlUpdatePlayerStr(playerid, field[], data[])
{
	STRING_GLOBAL[0] = EOS;
	format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "UPDATE "T_ACCOUNTS" SET %s = '%s' WHERE name = '%s'", field, data, GetName(playerid));
	mysql_tquery(dbHandle, STRING_GLOBAL, "", "");
}
//==============================================================================
stock MysqlUpdatePlayerInt(playerid, field[], data[])
{
	STRING_GLOBAL[0] = EOS;
	format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "UPDATE "T_ACCOUNTS" SET %s = '%i' WHERE name = '%s'", field, data, GetName(playerid));
	mysql_tquery(dbHandle, STRING_GLOBAL, "", "");
}
//==============================================================================
stock MysqlUpdateHouseStr(idx, field[], data[])
{
	STRING_GLOBAL[0] = EOS;
	format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "UPDATE "T_HOUSE" SET %s = '%s' WHERE id = '%d' LIMIT 1", field, data, idx);
	mysql_tquery(dbHandle, STRING_GLOBAL, "", "");
}
//==============================================================================
stock MysqlUpdateHouseInt(idx, field[], data)
{
	STRING_GLOBAL[0] = EOS;
	format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "UPDATE "T_HOUSE" SET %s = '%d' WHERE id = '%d' LIMIT 1", field, data, idx);
	mysql_tquery(dbHandle, STRING_GLOBAL, "", "");
}
//==============================================================================
stock MysqlUpdateBizzStr(idx, field[], data[])
{
	STRING_GLOBAL[0] = EOS;
	format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "UPDATE "T_BIZZ" SET %s = '%s' WHERE id = '%d' LIMIT 1", field, data, idx);
	mysql_tquery(dbHandle, STRING_GLOBAL, "", "");
}
//==============================================================================
stock MysqlUpdateBizzInt(idx, field[], data)
{
	STRING_GLOBAL[0] = EOS;
	format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "UPDATE "T_BIZZ" SET %s = '%d' WHERE id = '%d' LIMIT 1", field, data, idx);
	mysql_tquery(dbHandle, STRING_GLOBAL, "", "");
}
//==============================================================================
stock MysqlUpdateOtherStr(field[], data[])
{
	STRING_GLOBAL[0] = EOS;
	format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "UPDATE "T_OTHER" SET %s = '%s' LIMIT 1", field, data);
	mysql_tquery(dbHandle, STRING_GLOBAL, "", "");
}
//==============================================================================
stock MysqlUpdateOtherInt(field[], data)
{
	STRING_GLOBAL[0] = EOS;
	format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "UPDATE "T_OTHER" SET %s = '%d' LIMIT 1", field, data);
	mysql_tquery(dbHandle, STRING_GLOBAL, "", "");
}

stock MysqlUpdateGangInt(field[], data)
{
	STRING_GLOBAL[0] = EOS;
	format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "UPDATE "T_GANG" SET %s = '%d' LIMIT 1", field, data);
	mysql_tquery(dbHandle, STRING_GLOBAL, "", "");
}

stock MysqlUpdateMafiaInt(field[], data)
{
	STRING_GLOBAL[0] = EOS;
	format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "UPDATE "T_MAFIA" SET %s = '%d' LIMIT 1", field, data);
	mysql_tquery(dbHandle, STRING_GLOBAL, "", "");
}

/*forward LoadFamily();
public LoadFamily ()
{
	new time = GetTickCount(), rows, fields, temp [32];
    cache_get_data(rows,fields);
    if(rows)
    {
		for(new f = 1; f <= rows; f++)
  		{
            cache_get_field_content(f-1, "fam_name", temp) ,sscanf(temp, "s[64]", family_info[f][f_name]);
            cache_get_field_content(f-1, "fam_creator", temp) , sscanf(temp, "s[64]", family_info[f][f_creator]) ;
            cache_get_field_content(f-1, "fam_zamcreator", temp) , sscanf(temp, "s[64]", family_info[f][f_creator_zam]) ;
            cache_get_field_content(f-1, "fam_data", temp ) , sscanf(temp, "s[32]", family_info[f][f_creating_data]);
            family_info[f][f_chat_color] = cache_get_field_content_int(f-1, "fam_chat_color");
            family_info[f][f_members_amount] = cache_get_field_content_int(f-1, "fam_members_amount");
            family_info[f][f_narko] = cache_get_field_content_int(f-1, "f_narko");
            family_info[f][f_pt] = cache_get_field_content_int(f-1, "f_pt");
            family_info[f][f_money] = cache_get_field_content_int(f-1, "f_money");

			family_count++;
		}
        printf("[Загружено семей]: <%d>. Потрачено: <%i ms>.", family_count, GetTickCount() - time);
    }
    else return print("[Загружено семей]: <0>. Потрачено: <->");
    return true;
}*/

/*public: LoadFamily()
{
	new time = GetTickCount();
	new rows, fields;
	cache_get_data(rows, fields);

	if(rows)
	{
		new sub[16];

		for(new idx = 1; idx <= rows; idx ++)
		{
			cache_get_row(idx-1, 1, g_family_info[idx][F_NAME], dbHandle, 64);
			SetFamilyData(idx, F_OWNED, cache_get_row_int(idx-1, 2, dbHandle));
			cache_get_row(idx-1, 3, g_family_info[idx][F_OWNER], dbHandle, 64);
			cache_get_row(idx-1, 4, sub, dbHandle, 16);
			sscanf(sub, "p<,>ddd", g_family_info[idx][F_SUB][0], g_family_info[idx][F_SUB][1], g_family_info[idx][F_SUB][2]);

			SetFamilyData(idx, F_HOUSE, cache_get_row_int(idx-1, 6, dbHandle));
			SetFamilyData(idx, F_DRUGS, cache_get_row_int(idx-1, 7, dbHandle));
			SetFamilyData(idx, F_PATRON, cache_get_row_int(idx-1, 8, dbHandle));
			SetFamilyData(idx, F_MONEY, cache_get_row_int(idx-1, 9, dbHandle));
			SetFamilyData(idx, F_PROD, cache_get_row_int(idx-1, 10, dbHandle));
			SetFamilyData(idx, F_SPAWN, bool: cache_get_row_int(idx-1, 11, dbHandle));

			if(GetFamilyData(idx, F_HOUSE) != -1)
			{
				SetFamilyData(idx, F_STORE_LABEL, CreateDynamic3DTextLabel("Склад", 0xFFFF00FF, 498.0487,-2.2444,1904.9518+1.0, 10.0, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 1, HouseInfo[GetFamilyData(idx, F_HOUSE)][hVirtual], HouseInfo[GetFamilyData(idx, F_HOUSE)][hInt]));
				UpdateHouseFamilyLabel(idx);
			}

			for(new i; i < 10; i ++)
			{
				g_family_info[idx][F_CARS][i] = INVALID_VEHICLE_ID;
			}

			TOTALFAMILY ++;

		}
	}
	printf("[Загружено семей]: <%d>. Потрачено: <%i ms>.", rows, GetTickCount() - time);
	return 1;
}*/

/*forward LoadFamily();
public LoadFamily()
{
	new time = GetTickCount(), rows, fields, temp [88];
	cache_get_data(rows,fields);
	if(rows)
	{
		for(new f = 1; f <= rows; f++)
		{
			cache_get_field_content(f-1, "fam_name", temp) ,sscanf(temp, "s[64]", family_info[f][f_name]);
			cache_get_field_content(f-1, "fam_creator", temp) , sscanf(temp, "s[64]", family_info[f][f_creator]) ;
			cache_get_field_content(f-1, "fam_zamcreator", temp) , sscanf(temp, "s[64]", family_info[f][f_creator_zam]) ;
			cache_get_field_content(f-1, "fam_data", temp ) , sscanf(temp, "s[32]", family_info[f][f_creating_data]);
			family_info[f][f_chat_color] = cache_get_field_content_int(f-1, "fam_chat_color");
			family_info[f][f_members_amount] = cache_get_field_content_int(f-1, "fam_members_amount");

			cache_get_field_content ( f-1, "f_spawn", temp ), sscanf ( temp, "p<,>ffffdd",
			family_info [ f ] [ f_spawn ] [ 0 ], family_info [ f ] [ f_spawn ] [ 1 ], family_info [ f ] [ f_spawn ] [ 2 ], family_info [ f ] [ f_spawn ] [ 3 ],
			family_info [ f ] [ f_spawn_int ], family_info [ f ] [ f_spawn_virt ] ) ;

			family_info [ f ] [ f_patron ] = cache_get_field_content_int(f-1, "frac_patron");
			family_info [ f ] [ f_metall ] = cache_get_field_content_int(f-1, "frac_metall");
			family_info [ f ] [ f_money ] = cache_get_field_content_int(f-1, "frac_money");
			family_info [ f ] [ f_drugs ] = cache_get_field_content_int(f-1, "frac_drugs");

			family_count++;
		}
		printf("[Загружено семей]: <%d>. Потрачено: <%i ms>.", family_count, GetTickCount() - time);
	}
	else return print("[Загружено семей]: <0>. Потрачено: <->");
	return 1;
}*/
//==============================================================================
forward LoadVeh();
public LoadVeh()
{
	new time = GetTickCount(), rows, fields;
    cache_get_data(rows, fields);
	if(rows)
	{
		for(new idx = 1; idx <= rows; idx++)
		{
		    VehInfo[idx][vVehicle] = INVALID_VEHICLE_ID;
        	VehInfo[idx][vID] = cache_get_row_int(idx-1, 0, dbHandle); // id
			VehInfo[idx][vModel] = cache_get_row_int(idx-1, 1, dbHandle); // model
        	VehInfo[idx][vPos_X] = cache_get_row_float(idx-1, 2, dbHandle); // x
        	VehInfo[idx][vPos_Y] = cache_get_row_float(idx-1, 3, dbHandle); // y
        	VehInfo[idx][vPos_Z] = cache_get_row_float(idx-1, 4, dbHandle); // z
        	VehInfo[idx][vPos_FA] = cache_get_row_float(idx-1, 5, dbHandle); // fa
        	VehInfo[idx][vInt] = cache_get_row_int(idx-1, 6, dbHandle); // vint
        	VehInfo[idx][vWorld] = cache_get_row_int(idx-1, 7, dbHandle); // world
        	cache_get_row(idx-1, 8, VehInfo[idx][vColors], dbHandle, 16); // colors
        	VehInfo[idx][vFraction] = cache_get_row_int(idx-1, 9, dbHandle); // fraction
			VehInfo[idx][vStatus] = cache_get_row_int(idx-1, 10, dbHandle); // status
			VehInfo[idx][vCost] = cache_get_row_int(idx-1, 11, dbHandle); // cost
            sscanf(VehInfo[idx][vColors], "p<,>a<i>[2]", VehInfo[idx][vColor]);
            if(VehInfo[idx][vStatus] == 0 || VehInfo[idx][vStatus] == 2)
            {
	        	VehInfo[idx][vVehicle] = CreateVehicle(VehInfo[idx][vModel], VehInfo[idx][vPos_X], VehInfo[idx][vPos_Y], VehInfo[idx][vPos_Z], VehInfo[idx][vPos_FA], VehInfo[idx][vColor][0], VehInfo[idx][vColor][1], 300);
	            LinkVehicleToInterior(VehInfo[idx][vVehicle], VehInfo[idx][vInt]);
	            SetVehicleVirtualWorld(VehInfo[idx][vVehicle], VehInfo[idx][vWorld]);
	            Fuel[VehInfo[idx][vVehicle]] = 200;
	           	Engine[VehInfo[idx][vVehicle]] = false;
				Lights[VehInfo[idx][vVehicle]] = false;
			}
			TOTALVEH++;
		}
	}
	printf("[Загружено орг/раб. автомобилей]: <%i>. Потрачено: <%i ms>.", TOTALVEH, GetTickCount() - time);
	return 1;
}
//==============================================================================
forward LoadATM();
public LoadATM()
{
	new time = GetTickCount(), rows, fields;
    cache_get_data(rows, fields);
	if(rows)
	{
		for(new idx = 1; idx <= rows; idx++)
		{
			ATMInfo[idx][aID] = cache_get_row_int(idx-1, 0, dbHandle); // ID
			ATMInfo[idx][aX] = cache_get_row_float(idx-1, 1, dbHandle); // aX
			ATMInfo[idx][aY] = cache_get_row_float(idx-1, 2, dbHandle); // aY
			ATMInfo[idx][aZ] = cache_get_row_float(idx-1, 3, dbHandle); // aZ
			ATMInfo[idx][arX] = cache_get_row_float(idx-1, 4, dbHandle); // arX
			ATMInfo[idx][arY] = cache_get_row_float(idx-1, 5, dbHandle); // arY
			ATMInfo[idx][arZ] = cache_get_row_float(idx-1, 6, dbHandle); // arZ
        	TOTALATM++;
			ATM[idx] = CreateObject(2942, ATMInfo[idx][aX], ATMInfo[idx][aY], ATMInfo[idx][aZ], ATMInfo[idx][arX], ATMInfo[idx][arY], ATMInfo[idx][arZ]);
			LABELATM[idx] = CreateDynamic3DTextLabel("Использовать\n{99CC00}Нажмите\"H\"", 0xBBBBBBFF, ATMInfo[idx][aX],ATMInfo[idx][aY],ATMInfo[idx][aZ]+1.1,10.0);
//			ATM[idx] = CreateDynamicMapIcon(ATMInfo[idx][aX], ATMInfo[idx][aY], ATMInfo[idx][aZ], 52, 0, -1, -1, -1, 2000.0);
        }
    }
	printf("[Загружено банкоматов]: <%i>. Потрачено: <%i ms>.", TOTALATM, GetTickCount() - time);
	return 1;
}
//==============================================================================
forward LoadBizz(); // Загрузка бизнесов
public LoadBizz()
{
	new time = GetTickCount(), rows, fields;
    cache_get_data(rows, fields);
	for(new i; i < TOTALBIZZ; i++) strmid(BizzInfo[i][bOwner],"None",0,strlen("None"),MAX_PLAYER_NAME);
	if(rows)
	{
		for(new idx = 1; idx <= rows; idx++)
		{
		    BizzInfo[idx][bID] = cache_get_row_int(idx-1, 0, dbHandle); // id
			cache_get_row(idx-1, 1, BizzInfo[idx][bOwner], dbHandle, MAX_PLAYER_NAME); // owner
			BizzInfo[idx][bType] = cache_get_row_int(idx-1, 2, dbHandle); // type
			BizzInfo[idx][bPrice] = cache_get_row_int(idx-1, 3, dbHandle); // price
			BizzInfo[idx][bBuyPrice] = cache_get_row_int(idx-1, 4, dbHandle); // buyprice
			BizzInfo[idx][bMoney] = cache_get_row_int(idx-1, 5, dbHandle); // money
			BizzInfo[idx][bLic] = cache_get_row_int(idx-1, 6, dbHandle); // lic
			BizzInfo[idx][bEntrx] = cache_get_row_float(idx-1, 7, dbHandle); // x
			BizzInfo[idx][bEntry] = cache_get_row_float(idx-1, 8, dbHandle); // y
			BizzInfo[idx][bEntrz] = cache_get_row_float(idx-1, 9, dbHandle); // z
			BizzInfo[idx][bExitx] = cache_get_row_float(idx-1, 10, dbHandle); // xt
			BizzInfo[idx][bExity] = cache_get_row_float(idx-1, 11, dbHandle); // yt
			BizzInfo[idx][bExitz] = cache_get_row_float(idx-1, 12, dbHandle); // zt
			BizzInfo[idx][bMenux] = cache_get_row_float(idx-1, 13, dbHandle); // menux
			BizzInfo[idx][bMenuy] = cache_get_row_float(idx-1, 14, dbHandle); // menuy
			BizzInfo[idx][bMenuz] = cache_get_row_float(idx-1, 15, dbHandle); // menuz
			BizzInfo[idx][bInt] = cache_get_row_int(idx-1, 16, dbHandle); // vint
			BizzInfo[idx][bVirtual] = cache_get_row_int(idx-1, 17, dbHandle); // virt
			BizzInfo[idx][bMIcon] = cache_get_row_int(idx-1, 18, dbHandle); // icon
			cache_get_row(idx-1, 19, BizzInfo[idx][bName], dbHandle, 32); // name
			BizzInfo[idx][bEnter] = cache_get_row_int(idx-1, 20, dbHandle); // penter
			BizzInfo[idx][bLock] = cache_get_row_int(idx-1, 21, dbHandle); // block
			BizzInfo[idx][bProduct] = cache_get_row_int(idx-1, 22, dbHandle); // product
			BizzInfo[idx][bTill] = cache_get_row_int(idx-1, 23, dbHandle); // till
			BizzInfo[idx][bLockTime] = cache_get_row_int(idx-1, 24, dbHandle); // locktime
			BizzInfo[idx][bMafia] = cache_get_row_int(idx-1, 25, dbHandle); // mafia
			// Улучшения
			BizzInfo[idx][UNLOCK_OGRAN] = cache_get_row_int(idx-1, 26, dbHandle); 
			BizzInfo[idx][UNLOCK_BANNER] = cache_get_row_int(idx-1, 27, dbHandle); 
			BizzInfo[idx][UNLOCK_GPS] = cache_get_row_int(idx-1, 28, dbHandle); 
			BizzInfo[idx][UNLOCK_MUSIC] = cache_get_row_int(idx-1, 29, dbHandle); 

			switch(BizzInfo[idx][bMafia])
			{
			   	case TEAM_SPARTAK: MafiaTotalBizz[0]++;
			   	case TEAM_CSKA: MafiaTotalBizz[1]++;
			   	case TEAM_DINAMO: MafiaTotalBizz[2]++;
			   	case TEAM_ZENIT: MafiaTotalBizz[3]++;
			}
			new fee[64], string[200];
			if(BizzInfo[idx][bEnter] == 0) fee = "бесплатно";
			else format(fee, sizeof(fee), "%d рублей", BizzInfo[idx][bEnter]);
			new text[20];
			switch(BizzInfo[idx][bMafia])
			{
			    case TEAM_SPARTAK: text = "ОПГ Ореховское";
			    case TEAM_CSKA: text = "ОПГ Солцне";
			    case TEAM_DINAMO: text = "ОПГ Южная";
			    case TEAM_ZENIT: text = "Чеченская Мафия";
				case 0: text = "отсутствует";
			}
			if(BizzInfo[idx][bType] == 1)
			{
				BizzInfo[idx][bPickup] = CreateDynamicPickup(19132,1, BizzInfo[idx][bEntrx],BizzInfo[idx][bEntry],BizzInfo[idx][bEntrz]);
				BizzInfo[idx][bPickupExit] = CreateDynamicPickup(19132,1,BizzInfo[idx][bExitx], BizzInfo[idx][bExity], BizzInfo[idx][bExitz],BizzInfo[idx][bVirtual]);
				BizzInfo[idx][bMenu] = CreateDynamicSphere(BizzInfo[idx][bMenux],BizzInfo[idx][bMenuy],BizzInfo[idx][bMenuz],1.0,BizzInfo[idx][bVirtual],BizzInfo[idx][bInt]);
				if(BizzInfo[idx][bType] == 8) CreateDynamicPickup(1275,1,BizzInfo[idx][bMenux],BizzInfo[idx][bMenuy],BizzInfo[idx][bMenuz],BizzInfo[idx][bVirtual],BizzInfo[idx][bInt]);
				else CreateDynamicPickup(1514,1,BizzInfo[idx][bMenux],BizzInfo[idx][bMenuy],BizzInfo[idx][bMenuz],BizzInfo[idx][bVirtual],BizzInfo[idx][bInt]);
				if(!strcmp(BizzInfo[idx][bOwner],"None",true))
				{
					format(string, sizeof(string), "{FFCC00}Магазин 24/7\n{FFFFFF}Владелец: {0099FF}государство\n{FFFFFF}Контролирует: {3497FF}%s\n{FFFFFF}Цена: {FFCC00}%d {FFFFFF}рублей\n{FFFFFF}Вход: {FFCC00}бесплатный", text,BizzInfo[idx][bPrice]);
					LABELBIZZ[idx] = CreateDynamic3DTextLabel(string,-1,BizzInfo[idx][bEntrx], BizzInfo[idx][bEntry], BizzInfo[idx][bEntrz]+0.5,20.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,1);
				}
				else
				{
					format(string, sizeof(string), "{0099FF}Магазин 24/7 '%s'\n{FFFFFF}Владелец: {0099FF}%s\n{FFFFFF}Контролирует: {3497FF}%s\n{FFFFFF}Вход: {FFCC00}%s", BizzInfo[TOTALBIZZ][bOwner], fee);
//					format(string, sizeof(string), "{0099FF}Магазин 24/7 \n{FFFFFF}Владелец: {0099FF}%s\n{FFFFFF}Контролирует: {3497FF}%s\n{FFFFFF}Вход: {FFCC00}%s",BizzInfo[idx][bOwner],text,fee);
					LABELBIZZ[idx] = CreateDynamic3DTextLabel(string,-1,BizzInfo[idx][bEntrx], BizzInfo[idx][bEntry], BizzInfo[idx][bEntrz]+0.5,20.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,1);
				}
			}
			else if(BizzInfo[idx][bType] == 9)
			{
				BizzInfo[idx][bPickup] = CreateDynamicPickup(19132,1, BizzInfo[idx][bEntrx],BizzInfo[idx][bEntry],BizzInfo[idx][bEntrz]);
				BizzInfo[idx][bPickupExit] = CreateDynamicPickup(19132,1,BizzInfo[idx][bExitx], BizzInfo[idx][bExity], BizzInfo[idx][bExitz],BizzInfo[idx][bVirtual]);
				if(!strcmp(BizzInfo[idx][bOwner],"None",true))
				{
					format(string, sizeof(string), "{3497FF}Казино\n{FFFFFF}Владелец: {FFCC00}государство\n{FFFFFF}Крышует: {3497FF}%s\n{FFFFFF}Цена: {FFCC00}%d {FFFFFF}рублей\n{FFFFFF}Цена за вход: {FFCC00}бесплатный",text,BizzInfo[idx][bPrice]);
					LABELBIZZ[idx] = CreateDynamic3DTextLabel(string,-1,BizzInfo[idx][bEntrx], BizzInfo[idx][bEntry], BizzInfo[idx][bEntrz]+0.5,20.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID);
				}
				else
				{
					format(string, sizeof(string), "{3497FF}Казино\n{FFFFFF}Владелец: {0099FF}%s\n{FFFFFF}Крышует: {3497FF}%s\n{FFFFFF}Цена за вход: {FFCC00}%s",BizzInfo[idx][bOwner],text,fee);
					LABELBIZZ[idx] = CreateDynamic3DTextLabel(string,-1,BizzInfo[idx][bEntrx], BizzInfo[idx][bEntry], BizzInfo[idx][bEntrz]+0.5,20.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID);
				}
			}
			else if(BizzInfo[idx][bType] == 2)
			{
			    BizzInfo[idx][bPickup] = CreateDynamicPickup(1650,1,BizzInfo[idx][bEntrx],BizzInfo[idx][bEntry],BizzInfo[idx][bEntrz]);
				if(!strcmp(BizzInfo[idx][bOwner],"None",true))
				{
					format(string, sizeof(string), "{FFCC00}Заправка\n{FFCC00}Заправка продаётся\n{FFFFFF}Цена: {FFCC00}%d рублей\n{ffffff}Цена за 1 литр - {FFCC00}%i рублей\n{FFCC00}Используйте /fill",BizzInfo[idx][bPrice], BizzInfo[idx][bTill]);
					LABELBIZZ[idx] = CreateDynamic3DTextLabel(string,-1,BizzInfo[idx][bEntrx], BizzInfo[idx][bEntry], BizzInfo[idx][bEntrz]+1.5,20.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID);
				}
				else
				{
					format(string, sizeof(string), "{FFCC00}/buyk - купить канистру\n/fill - заправить транспорт\n{FFFFFF}Владелец: {FFCC00}%s\n{FFFFFF}Цена за 1 литр бензина: {FFCC00}%i рублей",BizzInfo[idx][bOwner], BizzInfo[idx][bTill]);
					LABELBIZZ[idx] = CreateDynamic3DTextLabel(string,-1,BizzInfo[idx][bEntrx], BizzInfo[idx][bEntry], BizzInfo[idx][bEntrz]+1.5,20.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID);
				}
			}
			else if(BizzInfo[idx][bType] == 10)
			{
				BizzInfo[idx][bPickup] = CreateDynamicPickup(19132,1, BizzInfo[idx][bEntrx],BizzInfo[idx][bEntry],BizzInfo[idx][bEntrz]);
				BizzInfo[idx][bPickupExit] = CreateDynamicPickup(19132,1,BizzInfo[idx][bExitx], BizzInfo[idx][bExity], BizzInfo[idx][bExitz],BizzInfo[idx][bVirtual]);
				BizzInfo[idx][bMenu] = CreateDynamicSphere(BizzInfo[idx][bMenux],BizzInfo[idx][bMenuy],BizzInfo[idx][bMenuz],1.0,BizzInfo[idx][bVirtual],BizzInfo[idx][bInt]);
				if(BizzInfo[idx][bType] == 8) CreateDynamicPickup(1275,1,BizzInfo[idx][bMenux],BizzInfo[idx][bMenuy],BizzInfo[idx][bMenuz],BizzInfo[idx][bVirtual],BizzInfo[idx][bInt]);
				else CreateDynamicPickup(1274,1,BizzInfo[idx][bMenux],BizzInfo[idx][bMenuy],BizzInfo[idx][bMenuz],BizzInfo[idx][bVirtual],BizzInfo[idx][bInt]);
				if(!strcmp(BizzInfo[idx][bOwner],"None",true))
				{
					format(string, sizeof(string), "{3497FF}Магазин Игрушек\n{FFFFFF}Владелец: {FFCC00}государство\n{FFFFFF}Крышует: {3497FF}%s\n{FFFFFF}Цена: {FFCC00}%d {FFFFFF}рублей\n{FFFFFF}Цена за вход: {FFCC00}бесплатный", text,BizzInfo[idx][bPrice]);
					LABELBIZZ[idx] = CreateDynamic3DTextLabel(string,-1,BizzInfo[idx][bEntrx], BizzInfo[idx][bEntry], BizzInfo[idx][bEntrz]+0.5,20.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,1);
				}
				else
				{
					format(string, sizeof(string), "{3497FF}Магазн Игрушек\n{FFFFFF}Владелец: {0099FF}%s\n{FFFFFF}Крышует: {3497FF}%s\n{FFFFFF}Цена за вход: {FFCC00}%s",BizzInfo[idx][bOwner],text,fee);
					LABELBIZZ[idx] = CreateDynamic3DTextLabel(string,-1,BizzInfo[idx][bEntrx], BizzInfo[idx][bEntry], BizzInfo[idx][bEntrz]+0.5,20.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,1);
				}
			}
			else if(BizzInfo[TOTALBIZZ][bType] == 8)
			{
				BizzInfo[idx][bPickup] = CreateDynamicPickup(19132,1, BizzInfo[idx][bEntrx],BizzInfo[idx][bEntry],BizzInfo[idx][bEntrz]);
				BizzInfo[idx][bPickupExit] = CreateDynamicPickup(19132,1,BizzInfo[idx][bExitx], BizzInfo[idx][bExity], BizzInfo[idx][bExitz],BizzInfo[idx][bVirtual]);
				BizzInfo[idx][bMenu] = CreateDynamicSphere(BizzInfo[idx][bMenux],BizzInfo[idx][bMenuy],BizzInfo[idx][bMenuz],1.0,BizzInfo[idx][bVirtual],BizzInfo[idx][bInt]);
				if(BizzInfo[idx][bType] == 8) CreateDynamicPickup(1275,1,BizzInfo[idx][bMenux],BizzInfo[idx][bMenuy],BizzInfo[idx][bMenuz],BizzInfo[idx][bVirtual],BizzInfo[idx][bInt]);
				else CreateDynamicPickup(1274,1,BizzInfo[idx][bMenux],BizzInfo[idx][bMenuy],BizzInfo[idx][bMenuz],BizzInfo[idx][bVirtual],BizzInfo[idx][bInt]);
		   		if(!strcmp(BizzInfo[idx][bOwner],"None",true))
				{
    				format(string, sizeof(string), "{3497FF}Магазин Одежды\n{FFFFFF}Владелец: {FFCC00}государство\n{FFFFFF}Крышует: {3497FF}%s\n{FFFFFF}Цена: {FFCC00}%d {FFFFFF}рублей\n{FFFFFF}Цена за вход: {FFCC00}бесплатный", text,BizzInfo[idx][bPrice]);
					LABELBIZZ[idx] = CreateDynamic3DTextLabel(string,-1,BizzInfo[idx][bEntrx], BizzInfo[idx][bEntry], BizzInfo[idx][bEntrz]+0.5,20.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,1);
				}
				else
				{
					format(string, sizeof(string), "{3497FF}Магазин Одежды\n{FFFFFF}Владелец: {0099FF}%s\n{FFFFFF}Крышует: {3497FF}%s\n{FFFFFF}Цена за вход: {FFCC00}%s",BizzInfo[idx][bOwner],text,fee);
					UpdateDynamic3DTextLabelText(LABELBIZZ[idx],-1,string);
				}
			}
			else if(BizzInfo[idx][bType] == 14)
			{
				BizzInfo[idx][bPickup] = CreateDynamicPickup(19132,1, BizzInfo[idx][bEntrx],BizzInfo[idx][bEntry],BizzInfo[idx][bEntrz]);
				BizzInfo[idx][bPickupExit] = CreateDynamicPickup(19132,1,BizzInfo[idx][bExitx], BizzInfo[idx][bExity], BizzInfo[idx][bExitz],BizzInfo[idx][bVirtual]);
				BizzInfo[idx][bMenu] = CreateDynamicSphere(BizzInfo[idx][bMenux],BizzInfo[idx][bMenuy],BizzInfo[idx][bMenuz],1.0,BizzInfo[idx][bVirtual],BizzInfo[idx][bInt]);
				if(BizzInfo[idx][bType] == 8) CreateDynamicPickup(1275,1,BizzInfo[idx][bMenux],BizzInfo[idx][bMenuy],BizzInfo[idx][bMenuz],BizzInfo[idx][bVirtual],BizzInfo[idx][bInt]);
				else CreateDynamicPickup(1274,1,BizzInfo[idx][bMenux],BizzInfo[idx][bMenuy],BizzInfo[idx][bMenuz],BizzInfo[idx][bVirtual],BizzInfo[idx][bInt]);
				if(!strcmp(BizzInfo[idx][bOwner],"None",true))
				{
					format(string, sizeof(string), "{3497FF}Аптека\n{FFFFFF}Владелец: {FFCC00}государство\n{FFFFFF}Крышует: {3497FF}%s\n{FFFFFF}Цена: {FFCC00}%d {FFFFFF}рублей\n{FFFFFF}Цена за вход: {FFCC00}бесплатный", text,BizzInfo[idx][bPrice]);
					LABELBIZZ[idx] = CreateDynamic3DTextLabel(string,-1,BizzInfo[idx][bEntrx], BizzInfo[idx][bEntry], BizzInfo[idx][bEntrz]+0.5,20.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,1);
				}
				else
				{
					format(string, sizeof(string), "{3497FF}Аптека\n{FFFFFF}Владелец: {FFCC00}%s\n{FFFFFF}Крышует: {3497FF}%s\n{FFFFFF}Цена за вход: {FFCC00}%s",BizzInfo[idx][bOwner],text,fee);
					LABELBIZZ[idx] = CreateDynamic3DTextLabel(string,-1,BizzInfo[idx][bEntrx], BizzInfo[idx][bEntry], BizzInfo[idx][bEntrz]+0.5,20.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,1);
				}
			}
			else if(BizzInfo[idx][bType] == 15)
			{
			    new sstr[200];
				if(!strcmp(BizzInfo[idx][bOwner],"None",true)) {
					format(sstr, sizeof(sstr), "{3497FF}Автосалон\n{FFFFFF}Владелец: {FFCC00}государство\n{FFFFFF}Крышует: {3497FF}%s\n{FFFFFF}Цена: {FFCC00}%d {FFFFFF}руб.",BizzInfo[TOTALBIZZ][bMafia],BizzInfo[TOTALBIZZ][bPrice]);
					LABELBIZZ[TOTALBIZZ] = CreateDynamic3DTextLabel(sstr,-1,BizzInfo[TOTALBIZZ][bEntrx], BizzInfo[TOTALBIZZ][bEntry], BizzInfo[TOTALBIZZ][bEntrz]+0.5,20.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID);
				} else {
					format(sstr, sizeof(sstr), "{3497FF}Автосалон\n{FFFFFF}Владелец: {FFCC00}%s\n{FFFFFF}Крышует: {3497FF}%s\n{FFFFFF}Цена за вход: {FFCC00}%s",BizzInfo[idx][bOwner],text,fee);
					LABELBIZZ[idx] = CreateDynamic3DTextLabel(sstr,-1,BizzInfo[idx][bEntrx], BizzInfo[idx][bEntry], BizzInfo[idx][bEntrz]+0.5,20.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,1);
				}
				BizzInfo[idx][bPickup] = CreateDynamicPickup(19132,1,BizzInfo[TOTALBIZZ][bEntrx],BizzInfo[TOTALBIZZ][bEntry],BizzInfo[TOTALBIZZ][bEntrz]);
				BizzInfo[idx][bPickupExit] = CreateDynamicPickup(19132,1,BizzInfo[TOTALBIZZ][bExitx],BizzInfo[TOTALBIZZ][bExity],BizzInfo[TOTALBIZZ][bExitz],BizzInfo[TOTALBIZZ][bVirtual]);
			}
			else if(BizzInfo[idx][bType] == 7)
			{
				if(!strcmp(BizzInfo[idx][bOwner],"None",true))
				{
					format(string, sizeof(string), "{3497FF}СТО\n{FFFFFF}Владелец: {FFCC00}государство\n{FFFFFF}Крышует: {3497FF}%s\n{FFFFFF}Цена: {FFCC00}%d {FFFFFF}руб.", text,BizzInfo[idx][bPrice]);
					LABELBIZZ[idx] = CreateDynamic3DTextLabel(string,-1,BizzInfo[idx][bEntrx], BizzInfo[idx][bEntry], BizzInfo[idx][bEntrz]+1.5,20.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,1);
				}
				else
				{
					format(string, sizeof(string), "{3497FF}СТО\n{FFFFFF}Владелец: {FFCC00}%s\n{FFFFFF}Крышует: {3497FF}%s",BizzInfo[idx][bOwner],text);
					LABELBIZZ[idx] = CreateDynamic3DTextLabel(string,-1,BizzInfo[idx][bEntrx], BizzInfo[idx][bEntry], BizzInfo[idx][bEntrz]+1.5,20.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,1);
				}
			}
			TOTALBIZZ++;
        }
    }
	printf("[Загружено бизнесов]: <%i>. Потрачено: <%i ms>.", TOTALBIZZ,GetTickCount() - time);
	return 1;
}
//==============================================================================
forward LoadHouse();
public LoadHouse()
{
	new time = GetTickCount(), rows, fields;
    cache_get_data(rows, fields);
	for(new i; i < TOTALHOUSE; i++) strmid(HouseInfo[i][hOwner],"None",0,strlen("None"),MAX_PLAYER_NAME);
	if(rows)
	{
		for(new idx = 1; idx <= rows; idx++)
		{
			HouseInfo[idx][hID] = cache_get_row_int(idx-1, 0, dbHandle); // id
			HouseInfo[idx][hEntrx] = cache_get_row_float(idx-1, 1, dbHandle); // hEntrx
			HouseInfo[idx][hEntry] = cache_get_row_float(idx-1, 2, dbHandle); // hEntry
			HouseInfo[idx][hEntrz] = cache_get_row_float(idx-1, 3, dbHandle); // hEntrz
			HouseInfo[idx][hExitx] = cache_get_row_float(idx-1, 4, dbHandle); // hExitx
			HouseInfo[idx][hExity] = cache_get_row_float(idx-1, 5, dbHandle); // hExity
			HouseInfo[idx][hExitz] = cache_get_row_float(idx-1, 6, dbHandle); // hExitz
			HouseInfo[idx][hCarx] = cache_get_row_float(idx-1, 7, dbHandle); // carx
			HouseInfo[idx][hCary] = cache_get_row_float(idx-1, 8, dbHandle); // cary
			HouseInfo[idx][hCarz] = cache_get_row_float(idx-1, 9, dbHandle); // carz
			HouseInfo[idx][hCarfa] = cache_get_row_float(idx-1, 10, dbHandle); // carfa
			cache_get_row(idx-1, 11, HouseInfo[idx][hOwner], dbHandle, MAX_PLAYER_NAME); // hOwner
			cache_get_row(idx-1, 12, HouseInfo[idx][hDiscript], dbHandle, 16); // hDiscript
			HouseInfo[idx][hPrice] = cache_get_row_int(idx-1, 13, dbHandle); // hPrice
			HouseInfo[idx][hBuyPrice] = cache_get_row_int(idx-1, 14, dbHandle); // buyprice
			HouseInfo[idx][hInt] = cache_get_row_int(idx-1, 15, dbHandle); // hInt
			HouseInfo[idx][hVirtual] = cache_get_row_int(idx-1, 16, dbHandle); // hVirtual
			HouseInfo[idx][hLock] = cache_get_row_int(idx-1, 17, dbHandle); // hLock
			HouseInfo[idx][hOplata] = cache_get_row_int(idx-1, 18, dbHandle); // hOplata
			HouseInfo[idx][hHeal] = cache_get_row_int(idx-1, 19, dbHandle); // hHeal
           	if(!strcmp(HouseInfo[idx][hOwner],"None",true))
			{
				HouseInfo[idx][hMIcon] = CreateDynamicMapIcon(HouseInfo[idx][hEntrx], HouseInfo[idx][hEntry], HouseInfo[idx][hEntrz], 31, 0,-1,-1,-1,150.0);
				HouseInfo[idx][hPickup] = CreateDynamicPickup(1273, 23, HouseInfo[idx][hEntrx], HouseInfo[idx][hEntry], HouseInfo[idx][hEntrz]);
			}
			else
			{
				HouseInfo[idx][hMIcon] = CreateDynamicMapIcon(HouseInfo[idx][hEntrx], HouseInfo[idx][hEntry], HouseInfo[idx][hEntrz], 32, 0,-1,-1,-1,150.0);
				HouseInfo[idx][hPickup] = CreateDynamicPickup(1272, 23, HouseInfo[idx][hEntrx], HouseInfo[idx][hEntry], HouseInfo[idx][hEntrz]);
			}
			TOTALHOUSE++;
		}
	}
	printf("[Загружено домов]: <%i>. Потрачено: <%i ms>.", TOTALHOUSE, GetTickCount() - time);
	for(new idx = 1; idx <= TOTALHOUSE; idx++)
	{
		if(HouseInfo[idx][hOwner] == 0) TotalFreeHouses ++;
	}
	return 1;
}
//==============================================================================
forward LoadMafia();
public LoadMafia()
{
	new time = GetTickCount(), rows, fields;
    cache_get_data(rows, fields);
	if(rows)
	{
	    FracBank[5] = cache_get_row_int(0, 0, dbHandle); // yakuzabank
		FracBank[6] = cache_get_row_int(0, 1, dbHandle); // lcnbank
		FracBank[7] = cache_get_row_int(0, 2, dbHandle); // rmbank
		DrugsBank[TEAM_CSKA] = cache_get_row_int(0, 3, dbHandle); // yakuzadrugs
		DrugsBank[TEAM_SPARTAK] = cache_get_row_int(0, 4, dbHandle); // lcndrugs
		DrugsBank[TEAM_DINAMO] = cache_get_row_int(0, 5, dbHandle); // rmdrugs
		DrugsBank[TEAM_ZENIT] = cache_get_row_int(0, 7, dbHandle); // rmdrugs
	    MafiaPatr[0] = cache_get_row_int(0, 8, dbHandle); // lcnpat
		MafiaPatr[1] = cache_get_row_int(0, 9, dbHandle); // yakpat
		MafiaPatr[2] = cache_get_row_int(0, 10, dbHandle); // rmpat
		MafiaEd[0] = cache_get_row_int(0, 11, dbHandle); // lcned
		MafiaEd[1] = cache_get_row_int(0, 12, dbHandle); // yaked
		MafiaEd[2] = cache_get_row_int(0, 13, dbHandle); // rmed
		b_Sklad{5} = cache_get_row_int(0, 14, dbHandle); // bskl_l
		b_Sklad{6} = cache_get_row_int(0, 15, dbHandle); // bskl_y
		b_Sklad{7} = cache_get_row_int(0, 16, dbHandle); // bskl_r
    }
	printf("[Загружены склады мафий]: Потрачено: <%i ms>.", GetTickCount() - time);
	return 1;
}
//==============================================================================
forward LoadGang();
public LoadGang()
{
	new time = GetTickCount(), rows, fields;
    cache_get_data(rows, fields);
	if(rows)
	{
	    FracBank[0] = cache_get_row_int(0, 0, dbHandle); // grovebank
		FracBank[1] = cache_get_row_int(0, 1, dbHandle); // ballasbank
		FracBank[2] = cache_get_row_int(0, 2, dbHandle); // rifabank
		FracBank[3] = cache_get_row_int(0, 3, dbHandle); // aztecbank
		FracBank[4] = cache_get_row_int(0, 4, dbHandle); // vagosbank
		DrugsBank[TEAM_SPARTAK] = cache_get_row_int(0, 5, dbHandle); // grovedrugs
		DrugsBank[TEAM_SPARTAK] = cache_get_row_int(0, 6, dbHandle); // ballasdrugs
		DrugsBank[TEAM_DINAMO] = cache_get_row_int(0, 7, dbHandle); // rifadrugs
		//DrugsBank[TEAM_OPGTEST2] = cache_get_row_int(0, 8, dbHandle); // aztecdrugs
		//DrugsBank[TEAM_VAGOS] = cache_get_row_int(0, 9, dbHandle); // vagosdrugs
	    GangPatr[0] = cache_get_row_int(0, 10, dbHandle); // grovepat
		GangPatr[1] = cache_get_row_int(0, 11, dbHandle); // ballaspat
		GangPatr[2] = cache_get_row_int(0, 12, dbHandle); // rifapat
		GangPatr[3] = cache_get_row_int(0, 13, dbHandle); // aztecpat
		GangPatr[4] = cache_get_row_int(0, 14, dbHandle); // vagospat
		GangEd[0] = cache_get_row_int(0, 15, dbHandle); // groveed
		GangEd[1] = cache_get_row_int(0, 16, dbHandle); // ballased
		GangEd[2] = cache_get_row_int(0, 17, dbHandle); // rifaed
		GangEd[3] = cache_get_row_int(0, 18, dbHandle); // azteced
		GangEd[4] = cache_get_row_int(0, 19, dbHandle); // vagosed
		b_Capture{0} = cache_get_row_int(0, 20, dbHandle); // bcapt_g
		b_Capture{1} = cache_get_row_int(0, 21, dbHandle); // bcapt_b
		b_Capture{2} = cache_get_row_int(0, 22, dbHandle); // bcapt_r
		b_Capture{3} = cache_get_row_int(0, 23, dbHandle); // bcapt_a
		b_Capture{4} = cache_get_row_int(0, 24, dbHandle); // bcapt_v
		b_Sklad{0} = cache_get_row_int(0, 25, dbHandle); // bskl_g
		b_Sklad{1} = cache_get_row_int(0, 26, dbHandle); // bskl_b
		b_Sklad{2} = cache_get_row_int(0, 27, dbHandle); // bskl_r
		b_Sklad{3} = cache_get_row_int(0, 28, dbHandle); // bskl_a
		b_Sklad{4} = cache_get_row_int(0, 29, dbHandle); // bskl_v
    }
	printf("[Загружены склады банд]: Потрачено: <%i ms>.", GetTickCount() - time);
	return 1;
}
//==============================================================================
forward LoadGZ();
public LoadGZ()
{
	new time = GetTickCount(), rows, fields;
    cache_get_data(rows, fields);
	if(rows)
	{
		for(new idx = 0; idx < rows; idx++)
		{
		    GZInfo[idx][gID] = cache_get_row_int(idx, 0, dbHandle); // id
			GZInfo[idx][gCoords][0] = cache_get_row_float(idx, 1, dbHandle); // ginfo1
            GZInfo[idx][gCoords][1] = cache_get_row_float(idx, 2, dbHandle); // ginfo2
            GZInfo[idx][gCoords][2] = cache_get_row_float(idx, 3, dbHandle); // ginfo3
            GZInfo[idx][gCoords][3] = cache_get_row_float(idx, 4, dbHandle); // ginfo4
            GZInfo[idx][gFrak] = cache_get_row_int(idx, 5, dbHandle); // fraction
        	TOTALGZ++;
	        GangZone[idx] = GangZoneCreate(GZInfo[idx][gCoords][0],GZInfo[idx][gCoords][1],GZInfo[idx][gCoords][2],GZInfo[idx][gCoords][3]);
			ZoneOnBattle[idx] = 0;
			GZSafeTime[idx] = 0;
        }
    }
	printf("[Загружено гангзон]: <%i>. Потрачено: <%i ms>.", TOTALGZ, GetTickCount() - time);
	return 1;
}
//==============================================================================

forward LoadServerOptions();
public LoadServerOptions() {

	cache_get_row(0, 0, NAME_SERVER, dbHandle, 50);
	format(STRING_GLOBAL, 50, "hostname %s", NAME_SERVER);
	// SendRconCommand(STRING_GLOBAL);
	EXP_BOOST = cache_get_row_int(0, 1, dbHandle);
	DONATE_ON_PAYDAY = cache_get_row_int(0, 2, dbHandle);
	NEWYEAR = cache_get_row_int(0, 3, dbHandle);
	connected_bots = cache_get_row_int(0, 4, dbHandle);
	return 1;
}

forward SaveServerOptions();
public SaveServerOptions() {

	new RCquery[128];
	format(RCquery, 128, "UPDATE `server_options` SET ExpBoost = %d, DonateOnPayDay = %d, NewYear = %d, CONNECTED_BOTS=%d", EXP_BOOST, DONATE_ON_PAYDAY, NEWYEAR, connected_bots);
	mysql_query(dbHandle, RCquery, false);
	return 1;
}



//==============================================================================//==============================================================================
forward LoadOther();
public LoadOther()
{
	new time = GetTickCount(), rows, fields;
    cache_get_data(rows, fields);
	if(rows)
	{
		FracBank[8] = cache_get_row_int(0, 0, dbHandle); // lsnbank
		FracBank[9] = cache_get_row_int(0, 1, dbHandle); // sfnbank
		FracBank[10] = cache_get_row_int(0, 2, dbHandle); // lvnbank
		cache_get_row(0, 3, NewsPrice, dbHandle, 40); // newsprice
		sscanf(NewsPrice, "p<,>iiiiii", SmsPrice[0], SmsPrice[1], CallPrice[0], CallPrice[1], AdvertPrice[0], AdvertPrice[1]);
		Mineral = cache_get_row_int(0, 4, dbHandle); // mineral
		gGunWorkWH[0] = cache_get_row_int(0, 5, dbHandle); // guncoal
		gGunWorkWH[1] = cache_get_row_int(0, 6, dbHandle); // gunwood
		gGunWorkWH[2] = cache_get_row_int(0, 7, dbHandle); // gun
		Lessdrov = cache_get_row_int(0, 8, dbHandle); // drova
		gArmyWarehouse[0] = cache_get_row_int(0, 9, dbHandle); // armygun
		gArmyWarehouse[1] = cache_get_row_int(0, 10, dbHandle); // armyammo
    }
	printf("[Загружено остальное]: Потрачено: <%i ms>.",GetTickCount() - time);
	return 1;
}
//==============================================================================
stock SaveWarehouse()
{
    new Query[150];
	format(Query, sizeof(Query), "UPDATE `other` SET armygun=%d,armyammo=%d,mineral=%d,guncoal=%d,gunwood=%d,gun=%d,drova=%d", gArmyWarehouse[0], gArmyWarehouse[1], Mineral, gGunWorkWH[0], gGunWorkWH[1], gGunWorkWH[2], Lessdrov);
	mysql_tquery(dbHandle, Query, "", "");
	return 1;
}
//==============================================================================



stock LoadTextDraws()
{    

	Interact[0] = TextDrawCreate(57.979507, 57.166584, "interaction:interaction1");
	TextDrawLetterSize(Interact[0], 0.000000, 0.000000);
	TextDrawTextSize(Interact[0], 522.401733, 332.500335);
	TextDrawAlignment(Interact[0], 1);
	TextDrawColor(Interact[0], -1);
	TextDrawSetShadow(Interact[0], 0);
	TextDrawSetOutline(Interact[0], 0);
	TextDrawFont(Interact[0], 4);

	Interact[2] = TextDrawCreate(57.979507, 57.166584, "interaction:interaction3");
	TextDrawLetterSize(Interact[2], 0.000000, 0.000000);
	TextDrawTextSize(Interact[2], 522.401733, 332.500335);
	TextDrawAlignment(Interact[2], 1);
	TextDrawColor(Interact[2], -1);
	TextDrawSetShadow(Interact[2], 0);
	TextDrawSetOutline(Interact[2], 0);
	TextDrawFont(Interact[2], 4);

	Interact[3] = TextDrawCreate(57.979507, 57.166584, "interaction:interaction4");
	TextDrawLetterSize(Interact[3], 0.000000, 0.000000);
	TextDrawTextSize(Interact[3], 522.401733, 332.500335);
	TextDrawAlignment(Interact[3], 1);
	TextDrawColor(Interact[3], -1);
	TextDrawSetShadow(Interact[3], 0);
	TextDrawSetOutline(Interact[3], 0);
	TextDrawFont(Interact[3], 4);

	Interact[4] = TextDrawCreate(57.979507, 57.166584, "interaction:interaction5");
	TextDrawLetterSize(Interact[4], 0.000000, 0.000000);
	TextDrawTextSize(Interact[4], 522.401733, 332.500335);
	TextDrawAlignment(Interact[4], 1);
	TextDrawColor(Interact[4], -1);
	TextDrawSetShadow(Interact[4], 0);
	TextDrawSetOutline(Interact[4], 0);
	TextDrawFont(Interact[4], 4);

	Interact[5] = TextDrawCreate(57.979507, 57.166584, "interaction:interaction6");
	TextDrawLetterSize(Interact[5], 0.000000, 0.000000);
	TextDrawTextSize(Interact[5], 522.401733, 332.500335);
	TextDrawAlignment(Interact[5], 1);
	TextDrawColor(Interact[5], -1);
	TextDrawSetShadow(Interact[5], 0);
	TextDrawSetOutline(Interact[5], 0);
	TextDrawFont(Interact[5], 4);

	Interact[1] = TextDrawCreate(57.979507, 57.166584, "interaction:interaction2");
	TextDrawLetterSize(Interact[1], 0.000000, 0.000000);
	TextDrawTextSize(Interact[1], 522.401733, 332.500335);
	TextDrawAlignment(Interact[1], 1);
	TextDrawColor(Interact[1], -1);
	TextDrawSetShadow(Interact[1], 0);
	TextDrawSetOutline(Interact[1], 0);
	TextDrawFont(Interact[1], 4);


    HungerBackground[0] = TextDrawCreate(547.500000, 58.000000, "_");
	TextDrawBackgroundColor(HungerBackground[0], 255);
	TextDrawFont(HungerBackground[0], 1);
	TextDrawLetterSize(HungerBackground[0], 0.500000, 0.399999);
	TextDrawColor(HungerBackground[0], -1);
	TextDrawSetOutline(HungerBackground[0], 0);
	TextDrawSetProportional(HungerBackground[0], 1);
	TextDrawSetShadow(HungerBackground[0], 1);
	TextDrawUseBox(HungerBackground[0], 1);
	TextDrawBoxColor(HungerBackground[0], 255);
	TextDrawTextSize(HungerBackground[0], 606.000000, 40.000000);
	TextDrawSetSelectable(HungerBackground[0], 0);

	HungerBackground[1] = TextDrawCreate(549.500000, 60.000000, "_");
	TextDrawBackgroundColor(HungerBackground[1], 255);
	TextDrawFont(HungerBackground[1], 1);
	TextDrawLetterSize(HungerBackground[1], 0.490000, -0.000000);
	TextDrawColor(HungerBackground[1], -1);
	TextDrawSetOutline(HungerBackground[1], 0);
	TextDrawSetProportional(HungerBackground[1], 1);
	TextDrawSetShadow(HungerBackground[1], 1);
	TextDrawUseBox(HungerBackground[1], 1);
	TextDrawBoxColor(HungerBackground[1], 1787344480);
	TextDrawTextSize(HungerBackground[1], 604.000000, 40.000000);
	TextDrawSetSelectable(HungerBackground[1], 0);

	// FLY

	FlyTXD = TextDrawCreate(241.222534, 185.499969, "admin:rejim_poleta"); 
	TextDrawLetterSize(FlyTXD, 0.000000, 0.000000); 
	TextDrawTextSize(FlyTXD, 177.569564, 96.833297); 
	TextDrawAlignment(FlyTXD, 1); 
	TextDrawColor(FlyTXD, -1); 
	TextDrawSetShadow(FlyTXD, 248); 
	TextDrawSetOutline(FlyTXD, 0); 
	TextDrawFont(FlyTXD, 4); 


	//
	//
	new playerid;
	enable_animation_TD = TextDrawCreate(401.00, 419.00, !"~w~ ~g~LSHIFT~w~ TO STOP THE ANIMATION");
	TextDrawBackgroundColor(enable_animation_TD, 0x000000FF);
	TextDrawFont(enable_animation_TD, 2);
	TextDrawSetOutline(enable_animation_TD, 1);
	TextDrawLetterSize(enable_animation_TD, 0.300000, 1.250000);
	TextDrawColor(enable_animation_TD, 0xFFCC00FF);
	TextDrawSetProportional(enable_animation_TD, 1);
	//
	TDBizwar[playerid][0] = CreatePlayerTextDraw(playerid, 184.399993, 187.419998, "usebox");
	PlayerTextDrawLetterSize(playerid, TDBizwar[playerid][0], 0.000000, 3.250741);
	PlayerTextDrawTextSize(playerid, TDBizwar[playerid][0], 6.800000, 0.000000);
	PlayerTextDrawAlignment(playerid, TDBizwar[playerid][0], 1);
	PlayerTextDrawColor(playerid, TDBizwar[playerid][0], 0);
	PlayerTextDrawUseBox(playerid, TDBizwar[playerid][0], true);
	PlayerTextDrawBoxColor(playerid, TDBizwar[playerid][0], 102);
	PlayerTextDrawSetShadow(playerid, TDBizwar[playerid][0], 0);
	PlayerTextDrawSetOutline(playerid, TDBizwar[playerid][0], 0);
	PlayerTextDrawFont(playerid, TDBizwar[playerid][0], 0);

	TDBizwar[playerid][1] = CreatePlayerTextDraw(playerid, 15.200009, 188.160049, "ОПГ");
	PlayerTextDrawLetterSize(playerid, TDBizwar[playerid][1], 0.304399, 1.249065);
	PlayerTextDrawAlignment(playerid, TDBizwar[playerid][1], 1);
	PlayerTextDrawColor(playerid, TDBizwar[playerid][1], -5963521);
	PlayerTextDrawSetShadow(playerid, TDBizwar[playerid][1], 0);
	PlayerTextDrawSetOutline(playerid, TDBizwar[playerid][1], 1);
	PlayerTextDrawBackgroundColor(playerid, TDBizwar[playerid][1], 51);
	PlayerTextDrawFont(playerid, TDBizwar[playerid][1], 2);
	PlayerTextDrawSetProportional(playerid, TDBizwar[playerid][1], 1);

	TDBizwar[playerid][2] = CreatePlayerTextDraw(playerid, 42.400016, 188.159988, "_");
	PlayerTextDrawLetterSize(playerid, TDBizwar[playerid][2], 0.250797, 1.383466);
	PlayerTextDrawAlignment(playerid, TDBizwar[playerid][2], 1);
	PlayerTextDrawColor(playerid, TDBizwar[playerid][2], -1);
	PlayerTextDrawSetShadow(playerid, TDBizwar[playerid][2], 0);
	PlayerTextDrawSetOutline(playerid, TDBizwar[playerid][2], 1);
	PlayerTextDrawBackgroundColor(playerid, TDBizwar[playerid][2], 51);
	PlayerTextDrawFont(playerid, TDBizwar[playerid][2], 2);
	PlayerTextDrawSetProportional(playerid, TDBizwar[playerid][2], 1);

	TDBizwar[playerid][3] = CreatePlayerTextDraw(playerid, 169.599990, 187.413406, "0");
	PlayerTextDrawLetterSize(playerid, TDBizwar[playerid][3], 0.412400, 1.450664);
	PlayerTextDrawAlignment(playerid, TDBizwar[playerid][3], 1);
	PlayerTextDrawColor(playerid, TDBizwar[playerid][3], -2147483393);
	PlayerTextDrawSetShadow(playerid, TDBizwar[playerid][3], 0);
	PlayerTextDrawSetOutline(playerid, TDBizwar[playerid][3], 1);
	PlayerTextDrawBackgroundColor(playerid, TDBizwar[playerid][3], 51);
	PlayerTextDrawFont(playerid, TDBizwar[playerid][3], 1);
	PlayerTextDrawSetProportional(playerid, TDBizwar[playerid][3], 1);

	TDBizwar[playerid][4] = CreatePlayerTextDraw(playerid, 169.599975, 205.333328, "0");
	PlayerTextDrawLetterSize(playerid, TDBizwar[playerid][4], 0.415598, 1.420799);
	PlayerTextDrawAlignment(playerid, TDBizwar[playerid][4], 1);
	PlayerTextDrawColor(playerid, TDBizwar[playerid][4], -2147483393);
	PlayerTextDrawSetShadow(playerid, TDBizwar[playerid][4], 0);
	PlayerTextDrawSetOutline(playerid, TDBizwar[playerid][4], 1);
	PlayerTextDrawBackgroundColor(playerid, TDBizwar[playerid][4], 51);
	PlayerTextDrawFont(playerid, TDBizwar[playerid][4], 1);
	PlayerTextDrawSetProportional(playerid, TDBizwar[playerid][4], 1);

	TDBizwar[playerid][5] = CreatePlayerTextDraw(playerid, 43.200019, 205.333328, "_");
	PlayerTextDrawLetterSize(playerid, TDBizwar[playerid][5], 0.257198, 1.256531);
	PlayerTextDrawAlignment(playerid, TDBizwar[playerid][5], 1);
	PlayerTextDrawColor(playerid, TDBizwar[playerid][5], -1);
	PlayerTextDrawSetShadow(playerid, TDBizwar[playerid][5], 0);
	PlayerTextDrawSetOutline(playerid, TDBizwar[playerid][5], 1);
	PlayerTextDrawBackgroundColor(playerid, TDBizwar[playerid][5], 51);
	PlayerTextDrawFont(playerid, TDBizwar[playerid][5], 2);
	PlayerTextDrawSetProportional(playerid, TDBizwar[playerid][5], 1);

	TDBizwar[playerid][6] = CreatePlayerTextDraw(playerid, 15.199992, 205.333389, "ОПГ");
	PlayerTextDrawLetterSize(playerid, TDBizwar[playerid][6], 0.278798, 1.241598);
	PlayerTextDrawAlignment(playerid, TDBizwar[playerid][6], 1);
	PlayerTextDrawColor(playerid, TDBizwar[playerid][6], -5963521);
	PlayerTextDrawSetShadow(playerid, TDBizwar[playerid][6], 0);
	PlayerTextDrawSetOutline(playerid, TDBizwar[playerid][6], 1);
	PlayerTextDrawBackgroundColor(playerid, TDBizwar[playerid][6], 51);
	PlayerTextDrawFont(playerid, TDBizwar[playerid][6], 2);
	PlayerTextDrawSetProportional(playerid, TDBizwar[playerid][6], 1);

    SetTimer("vsysted",1000,true);
    Vrijeme = TextDrawCreate(553.7777, 23.3955, "__"); // ?????
    TextDrawLetterSize(Vrijeme, 0.5113, 2.0727);
    TextDrawTextSize(Vrijeme, 1280.0000, 1280.0000);
    TextDrawAlignment(Vrijeme, 1);
    TextDrawColor(Vrijeme, -1);
    TextDrawSetOutline(Vrijeme, 1);
    TextDrawBackgroundColor(Vrijeme, 255);
    TextDrawFont(Vrijeme, 3);
    TextDrawSetProportional(Vrijeme, 1);
    TextDrawSetShadow(Vrijeme, 0);

    SetTimer("vsystem",1000,true);
    Datum = TextDrawCreate(565.3336, 15.9288, "__"); // ????? ????
    TextDrawLetterSize(Datum, 0.2148, 0.9527);
    TextDrawTextSize(Datum, 1280.0000, 1280.0000);
    TextDrawAlignment(Datum, 1);
    TextDrawColor(Datum, -4587265);
    TextDrawUseBox(Datum, 1);
    TextDrawBoxColor(Datum, 0);
    TextDrawFont(Datum, 1);
    TextDrawSetProportional(Datum, 1);
    TextDrawSetShadow(Datum, 0);

	Button[0] = TextDrawCreate(50.0, 200.0, "<<");
	TextDrawAlignment(Button[0], 2);
	TextDrawTextSize(Button[0], 15.000000, 68.000000);
	TextDrawSetProportional(Button[0], 1);
	TextDrawLetterSize(Button[0], 0.679999, 1.900000);
	TextDrawSetShadow(Button[0], 1);
	TextDrawSetSelectable(Button[0], 1);
	TextDrawColor(Button[0], 0x63BD4EFF);
	TextDrawFont(Button[0], 3);
	TextDrawSetOutline(Button[0], 0);
	TextDrawBackgroundColor(Button[0], 255);

    Button[1] = TextDrawCreate(530.0, 200.0, ">>");
	TextDrawFont(Button[1], 3);
	TextDrawLetterSize(Button[1], 0.679999, 1.900000);
	TextDrawSetOutline(Button[1], 0);
	TextDrawAlignment(Button[1], 2);
	TextDrawTextSize(Button[1], 15.000000, 68.000000);
	TextDrawSetProportional(Button[1], 1);
	TextDrawSetShadow(Button[1], 1);
	TextDrawSetSelectable(Button[1], 1);
	TextDrawColor(Button[1], 0x63BD4EFF);
	TextDrawBackgroundColor(Button[1], 255);

	Button[2] = TextDrawCreate(240.000000, 371.000000, "Cancel");
	TextDrawAlignment(Button[2], 2);
	TextDrawTextSize(Button[2], 15.000000, 68.000000);
	TextDrawBackgroundColor(Button[2], 255);
	TextDrawFont(Button[2], 3);
	TextDrawLetterSize(Button[2], 0.679999, 1.900000);
	TextDrawColor(Button[2], 0x63BD4EFF);
	TextDrawSetOutline(Button[2], 0);
	TextDrawSetProportional(Button[2], 1);
	TextDrawSetShadow(Button[2], 1);
	TextDrawSetSelectable(Button[2], 1);

	Button[3] = TextDrawCreate(382.000000, 371.000000, "Select");
	TextDrawAlignment(Button[3], 2);
	TextDrawTextSize(Button[3], 15.000000, 68.000000);
	TextDrawBackgroundColor(Button[3], 255);
	TextDrawFont(Button[3], 3);
	TextDrawLetterSize(Button[3], 0.679999, 1.900000);
	TextDrawColor(Button[3], 0x63BD4EFF);
	TextDrawSetOutline(Button[3], 0);
	TextDrawSetProportional(Button[3], 1);
	TextDrawSetShadow(Button[3], 1);
	TextDrawSetSelectable(Button[3], 1);
}
//==============================================================================
/*forward LoadPorchHouse();
public LoadPorchHouse()
{
	new rows, fields;
    cache_get_data(rows, fields);
	new Float:x, Float:y, Float:z;
	if(rows)
	{
		for(new idx = 1; idx <= rows; idx++)
		{
			PorchHouseInfo[idx][hID] = cache_get_row_int(idx-1, 0, dbHandle); // id
			PorchHouseInfo[idx][hEntrx] = cache_get_row_float(idx-1, 1, dbHandle); // hEntrx
			PorchHouseInfo[idx][hEntry] = cache_get_row_float(idx-1, 2, dbHandle); // hEntry
			PorchHouseInfo[idx][hEntrz] = cache_get_row_float(idx-1, 3, dbHandle); // hEntrz
			cache_get_row(idx-1, 4, PorchHouseInfo[idx][hOwner], dbHandle, MAX_PLAYER_NAME); // hOwner
			PorchHouseInfo[idx][hOwnerID] = cache_get_row_int(idx-1, 5, dbHandle); // hPrice
			PorchHouseInfo[idx][hPrice] = cache_get_row_int(idx-1, 6, dbHandle); // hPrice
			PorchHouseInfo[idx][hDays] = cache_get_row_int(idx-1, 7, dbHandle);
           	if(!strcmp(PorchHouseInfo[idx][hOwner],"None",true))
			{
				PorchHouseInfo[idx][hMIcon] = CreateDynamicMapIcon(PorchHouseInfo[idx][hEntrx], PorchHouseInfo[idx][hEntry], PorchHouseInfo[idx][hEntrz], 31, 0,floatround(idx / 9, floatround_floor) + 101,9,-1,150.0);
				PorchHouseInfo[idx][hPickup] = CreateDynamicPickup(1273, 1, PorchHouseInfo[idx][hEntrx], PorchHouseInfo[idx][hEntry], PorchHouseInfo[idx][hEntrz], floatround(idx / 9, floatround_floor) + 101, 9);
			}
			else
			{
				PorchHouseInfo[idx][hMIcon] = CreateDynamicMapIcon(PorchHouseInfo[idx][hEntrx], PorchHouseInfo[idx][hEntry], PorchHouseInfo[idx][hEntrz], 32, 0,floatround(idx / 9, floatround_floor) + 101,9,-1,150.0);
				PorchHouseInfo[idx][hPickup] = CreateDynamicPickup(1272, 1, PorchHouseInfo[idx][hEntrx], PorchHouseInfo[idx][hEntry], PorchHouseInfo[idx][hEntrz], floatround(idx / 9, floatround_floor) + 101, 9);
			}
			TOTALPORCHHOUSE++;
        }
        CreateDynamic3DTextLabel("Для выхода нажмите 'Левый ALT'",0xFFCC00FF,x,y,z,6.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,1,-1,9);
    }
	return 1;
}

forward LoadPorch();
public LoadPorch()
{
	porch_menu = CreateDynamicPickup(1239, 23, -378.0352,1128.4003,2712.7734,-1, 9);
	porch_exit = CreateDynamicPickup(1318, 23, -379.4313,1127.5590,2712.7734,-1, 9);
	porch_house_exit = CreateDynamicPickup(1318, 23, -690.9634,-459.6645,3147.0801,-1,10);
	new rows, fields;
    cache_get_data(rows, fields);
	if(rows)
	{
		for(new idx = 1; idx <= rows; idx++)
		{
			PorchInfo[idx][pID] = cache_get_row_int(idx-1, 0, dbHandle);
			PorchInfo[idx][pEnterX] = cache_get_row_float(idx-1, 1, dbHandle);
			PorchInfo[idx][pEnterY] = cache_get_row_float(idx-1, 2, dbHandle);
			PorchInfo[idx][pEnterZ] = cache_get_row_float(idx-1, 3, dbHandle);
			PorchInfo[idx][pCarX] = cache_get_row_float(idx-1, 4, dbHandle);
			PorchInfo[idx][pCarY] = cache_get_row_float(idx-1, 5, dbHandle);
			PorchInfo[idx][pCarZ] = cache_get_row_float(idx-1, 6, dbHandle);
			PorchInfo[idx][pCarA] = cache_get_row_float(idx-1, 7, dbHandle);
			PorchInfo[idx][pFirstFlat] = cache_get_row_int(idx-1, 8, dbHandle);
           	PorchInfo[idx][pEnterPick] = CreateDynamicPickup(1318, 23, PorchInfo[idx][pEnterX], PorchInfo[idx][pEnterY], PorchInfo[idx][pEnterZ]);

			TOTALPORCH++;
        }
    }
}*/
//==============================================================================

#include <../include/PerfomanceRP/mapping.inc>


stock LoadPickups()
{  

	// Аренда скутера
	scooter_pickup = CreateDynamicPickup(1239, 23, pos_scooter_x, pos_scooter_y, pos_scooter_z, 0);
	printf("%d", scooter_pickup);
	CreateDynamic3DTextLabel("Аренда скутера", COLOR_BLUE, pos_scooter_x, pos_scooter_y, pos_scooter_z+0.5, 5);
	// Арзамас спавн
    AreaInfo[arServerHelp] = CreateDynamicSphere(412.57, 1559.40, 12.03,1.0);
    CreateDynamicPickup(1239,1,412.57, 1559.40, 12.03);
    CreateDynamic3DTextLabel("Помощь новичкам",0xFFCC00FF, 412.57, 1559.40, 12.03+1,2.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,0);
	// Батырево спавн
	AreaInfo[arServerHelpBat] = CreateDynamicSphere(1928.35, 2086.62, 16.45,1.0);
    CreateDynamicPickup(1239,1,1928.35, 2086.62, 16.45);
    CreateDynamic3DTextLabel("Помощь новичкам",0xFFCC00FF, 1928.35, 2086.62, 16.45+1,2.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,0);
    // Южный спавн
    AreaInfo[arServerHelpYg] = CreateDynamicSphere(2510.78, -2131.35, 23.46,1.0);
    // CreateDynamicPickup(1239,1,2510.78, -2131.35, 23.46);
    CreateDynamic3DTextLabel("Помощь новичкам",0xFFCC00FF, 2510.78, -2131.35, 23.46+1,2.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,0);
	//
    CreateDynamicPickup(1239,1,1005.3982,2814.5190,1279.5000); // пикап для дома класса "особняк", р-н элитный, особняк
    //=========================
    CreateDynamicPickup(1239,1,-1426.1396,-1125.5704,1521.9399); // пикап для устройства на работу
    CreateDynamicPickup(1239,1,-1419.7555,-1126.8522,1521.9399); // пикап для создания семьи
    
	//==========================================================================
	AreaInfo[arBankMenu] = CreateDynamicSphere(502.20, 707.67, 2713.18,1.0);
	CreateDynamicPickup(1274,1,502.20, 707.67, 2713.18,55);
	CreateDynamic3DTextLabel("Нажмите {FFCC00}л. ALT",0xFFFFFFFF, 502.20, 707.67, 2713.18,5.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,0);
	CreateDynamic3DTextLabel("Нажмите {FFCC00}л. ALT",0xFFFFFFFF, 833.1951,239.9840,1014.2498,5.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,0);
	///
	AreaInfo[arBankMenuArz] = CreateDynamicSphere(497.92, 707.67, 2713.18,1.0);
	CreateDynamicPickup(1274,1,497.92, 707.67, 2713.18,55);
	//
	CreateDynamic3DTextLabel("Нажмите {FFCC00}л. ALT",0xFFFFFFFF, 497.92, 707.67, 2713.18,5.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,0);
	CreateDynamicPickup(1239,1,502.20, 707.67, 2713.18); // пикап для arBankMenu
	CreateDynamicPickup(1239,1,497.92, 707.67, 2713.18); // пикап для arBankMenuArz


	// шахта

	//==========================================================================
	
	AreaInfo[arHotdogHP] = CreateDynamicSphere(438.5016,1537.0320,12.0150,1.0);
	CreateDynamicPickup(1582,1,438.5016,1537.0320,12.0150);
	
	CreateDynamicPickup(1239,1,438.6825,1538.8860,12.0150);
	//CreateDynamicPickup(2044,-1,833.1951,239.9840,1014.2498,177); // боекомплект военной части (ВДВ, в г. Батырево)
	
	CreateDynamicPickup(1239,1,-924.7971,879.5367,2512.9500,0);
	CreateDynamicPickup(1239,1,359.1528,184.3584,1008.3828,2);
	CreateDynamicPickup(1239,1,359.1528,184.3584,1008.3828,3);
	CreateDynamicPickup(19131,1,1268.9554,762.7606,1002.5400,3);
	CreateDynamic3DTextLabel("{ffffff}Нажмите {FFCC00}\"L.ALT\"{ffffff} для сдачи на права",-1,131.3677,1368.7531,1002.9600,5.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,-1,-1);
	CreateDynamic3DTextLabel("{FFFFFF}Выдача номеров (для сотрудников ДПС)\n{FFFFFF}Введите команду {FFCC00}/givenumber",-1,-98.9492,737.3321,1620.9200,2.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,-1,-1);
	CreateDynamic3DTextLabel("{ffffff}Нажмите {FFCC00}\"L.ALT\"{ffffff}для устройства на работу.",-1,-926.1721,857.7138,2512.9500,5.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,-1,-1);
	Mafia3d[2] = CreateDynamic3DTextLabel("_",0xFFFFFFFF,1386.6923,1705.2456,3.5854+1,10.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,0); //Склад Армии

	AreaInfo[arGreenZone][0] = CreateDynamicSphere(458.3384, 1559.7034, 12.0150, 200.0, -1, -1); // Спавн арзамас
	AreaInfo[arGreenZone][1] = CreateDynamicSphere(1064.9117, 95.1939, 1049.7869, 60.0, -1, -1); 	// - Автошкола (Интерьер)
	AreaInfo[arGreenZone][2] = CreateDynamicSphere(2324.9849,1759.6368,1.0326,50.0,-1,-1); // Казино ул
	AreaInfo[arGreenZone][3] = CreateDynamicSphere(1904.9236,2227.4309,15.7172,40.0,-1,-1); // Автошкола (улица)
	AreaInfo[arGreenZone][4] = CreateDynamicSphere(2524.2122,-2133.0950,21.9800,60.0,-1,-1); // Спавн южный
	AreaInfo[arGreenZone][5] = CreateDynamicSphere(-932.7878,860.4482,2512.9500,30.0,1,-1); // Мэрия бт (интерьер)
	AreaInfo[arGreenZone][6] = CreateDynamicSphere(2112.7495,-2387.3110,21.9430,100.0,-1,-1); // Центральная Больница (улица)
	AreaInfo[arGreenZone][7] = CreateDynamicSphere(1829.0959,2095.6973,16.1003,60.0,-1,-1); // Площадь мэрии бт
	AreaInfo[arGreenZone][8] = CreateDynamicSphere(1908.8931,2183.4102,15.7060,100.0,-1,-1); // дпс
	AreaInfo[arGreenZone][9] = CreateDynamicSphere(1363.1006,-1279.8647,13.5469,30.0,-1,-1); // Аммо ЛС (улица)
	AreaInfo[arGreenZone][10] = CreateDynamicSphere(312.4500,-137.7774,999.6016,30.0,-1,-1); // Аммо ЛС (интерьер)
	AreaInfo[arGreenZone][11] = CreateDynamicSphere(2008.9309,1897.0229,15.5582,60.0,-1,-1); // Автосолон
	AreaInfo[arGreenZone][13] = CreateDynamicSphere(2346.3521,2006.0250,15.9900,80.0,-1,-1); // Шахта (улица)
	AreaInfo[arGreenZone][14] = CreateDynamicSphere(-246.5507,1053.8990,-84.1475,350.0,-1,-1); // Шахта (интерьер)
	AreaInfo[arGreenZone][17] = CreateDynamicSphere(-1518.4171,1342.6370,1523.7000,100.0,-1,-1); // Центральная Больница (интерьер)
	AreaInfo[arGreenZone][18] = CreateDynamicSphere(1860.2601,2266.2112,15.2729,30.0,-1,-1); // Аммо ЛВ (улица)****************
	AreaInfo[arGreenZone][19] = CreateDynamicSphere(-1494.1315,-297.2617,1762.7900,30.0,-1,-1); // Аммо СФ (улица)
	AreaInfo[arGreenZone][20] = CreateDynamicSphere(1784.6024,2029.1846,-2.3341,20.0,-1,-1); // Гонки: Пустыня LV
	AreaInfo[arGreenZone][21] = CreateDynamicSphere(-1376.6124,1076.3242,2585.4460,20.0,-1,-1); // Церковь
	AreaInfo[arGreenZone][22] = CreateDynamicSphere(-2662.0498,630.9210,14.4531,35.0,-1,-1); // Больница СФ (улица)
	AreaInfo[arGreenZone][23] = CreateDynamicSphere(1607.5980,1835.7625,10.9375,30.0,-1,-1); // Больница ЛВ (улица)
	AreaInfo[arGreenZone][24] = CreateDynamicSphere(-2756.6982,375.8630,4.3340,25.0,-1,-1); // Мэрия СФ (улица)
	AreaInfo[arGreenZone][25] = CreateDynamicSphere(2384.5845,2465.9084,10.8203,25.0,-1,-1); // Мэрия ЛВ (улица)
	AreaInfo[arGreenZone][26] = CreateDynamicSphere(1933.9478,2086.0088,16.4534,70.0,-1,-1); // спавн батырево

    AreaInfo[arArmyAmmo] = CreateDynamicSphere(-70.9644,1137.3872,2340.5300,2,0);//Загрузка
	AreaInfo[arLoadAmmo] = CreateDynamicSphere(1452.8972,1761.7125,-7.4797,2.0);

	AreaInfo[arBuyFishki] = CreateDynamicSphere(-928.7511,858.8748,2518.3899,1.0);
	CreateDynamicPickup(1239,1,-928.7511,858.8748,2518.3899);

	AreaInfo[arBuyNarko][0] = CreateDynamicSphere(2919.2363,989.6827,3.8847,1.0);
	AreaInfo[arBuyNarko][1] = CreateDynamicSphere(2919.2363,989.6827,3.8847,1.0);
	
	AreaInfo[recipe_weapon]  =  CreateDynamicSphere(2003.3171,1339.8420,26.1513, 0.5); // Покупка рецептов
	
	CreateDynamicPickup(1277,1,2003.3171,1339.8420,26.1513);
	
	CreateDynamicPickup(1578,1,2919.2363,989.6827,3.8847);
	CreateDynamicPickup(1578,1,1981.2021,1893.3627,15.5280);

	//AreaInfo[arLoadPatr] = CreateDynamicSphere(-1299.9468,450.0263,7.1875,2.0);
	//AreaInfo[arLoadGun] = CreateDynamicSphere(-1284.9690,449.3527,7.1875,2.0);
	CreateDynamicPickup(2358,1,-1299.9468,450.0263,7.1875);
	CreateDynamicPickup(2358,1,-1284.9690,449.3527,7.1875);

	//AreaInfo[arArmyAmmo] = CreateDynamicSphere(290.2321,-109.3437,1001.5156,1.0,1,6);

	//CreateDynamic3DTextLabel("Боекомплект ВЧ\nНажмите {FFCC00}л. ALT",COLOR_WHITE,1616.9537,1980.6918,1281.8175,15.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,1,-1,3);

	gGunWorkWHText[0] = CreateDynamic3DTextLabel("_",0xFFCC00FF,132.3752,1857.3159,-18.3955,25);
	gGunWorkWHText[1] = CreateDynamic3DTextLabel("_",0xFFCC00FF,-1050.5100, 2208.5642, 38.4603,25);
	tPickup[4] = CreateDynamic3DTextLabel("_",0xFFFFFFFF,2637.5366,-1414.3035,27.7800,50.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,1,1,1);
	tPickup[6] = CreateDynamic3DTextLabel("_",0xFFFFFFFF,-940.6257,1221.7030,10.8205,50.0);
	
    sklad = CreateDynamicPickup(3014,23,-70.9644,1137.3872,2340.5300,0);//Склад Армии
	CreateDynamic3DTextLabel("{FFCC00}Склад\n{FFFFFF}Оружия: {0099FF}30064 ед.", 0xFFCC00FF, 457.4512,1311.9478,1723.5336,5.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,-1,-1); // ппс
	CreateDynamic3DTextLabel("{FFCC00}Склад\n{FFFFFF}Оружия: {0099FF}30064 ед.", 0xFFCC00FF, -107.2018,752.5746,1620.9399,5.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,-1,-1); // дпс
	CreateDynamic3DTextLabel("{FFCC00}Склад\n{FFFFFF}Оружия: {0099FF}30064 ед.", 0xFFCC00FF, 180.4792,461.7243,1583.6801,5.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,-1,-1); // фсб
	CreateDynamic3DTextLabel("Нажмите {FFCC00}\"L.ALT/", 0xFFFFFFFF, 1139.6180,1556.2518,1002.5400,2.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,1,-1,-1);
	CreateDynamic3DTextLabel("Нажмите {FFCC00}\"L.ALT/", 0xFFFFFFFF, 875.6308,2095.4758,2721.8101,2.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,1,-1,-1);
	CreateDynamic3DTextLabel("Нажмите {FFCC00}\"L.ALT/", 0xFFFFFFFF, 1697.8187,1321.6997,19.7922,2.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,1,-1,-1);
    CreateDynamic3DTextLabel("Нажмите {FFCC00}\"L.ALT\", {ffffff}для того, чтобы подняться по лестнице.", 0xFFFFFFFF, 1400.6551,1758.0157,-5.7434,5.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,1,-1,-1);
    CreateDynamic3DTextLabel("Нажмите {FFCC00}\"L.ALT\", {ffffff}для того, чтобы спуститься по лестнице.", 0xFFFFFFFF, 1400.6990,1757.2811,3.6469,5.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,1,-1,-1);

	Pickup[2] = CreateDynamicPickup(353, 23, 457.4017,1313.5282,1723.5200, 0);
	Pickup[3] = CreateDynamicPickup(353, 23, -105.8641,752.5945,1620.9200, 0);
	Pickup[5] = CreateDynamicPickup(1239, 23, 781.0366,751.7977,12.9307,0); //пикап для дальнобойщиков
	Pickup[11] = CreateDynamicPickup(1239, 23, 2142.9124,-2206.4788,23.1784,0); //пикап для машинок мелких, которые мусор убирают
	Pickup[10] = CreateDynamicPickup(1239, 23, 1431.9617,1808.1072,2233.6499, -1);
	Pickup[12] = CreateDynamicPickup(1239, 23, 2189.9546,-343.9691,2332.1599, -1);
	Pickup[1] = CreateDynamicPickup(19134, 23, 1139.6180,1556.2518,1002.5400, 0);
	Pickup[19] = CreateDynamicPickup(19134, 23, 2051.3486,1903.4749,-77.2241, -1);
	//Pickup[20] = CreateDynamicPickup(19134, 23, 1697.8187,1321.6997,19.7922, -1); // висит над входом в шахту
	Pickup[6] = CreateDynamicPickup(2894, 23, 1062.5918, 112.9620, 1049.7478, 0); // ПДД
	Pickup[21] = CreateDynamicPickup(19134, 23, 2326.9878,405.3324,2824.9500, 0);
	gunsklad[1] = CreateDynamicCP(2102.6133,-1614.1257,2056.6399,1.0,1,1); // MERIA GUN
	gunsklad[2] = CreateDynamicCP(2102.6133,-1614.1257,2056.6399,1.0,2,2); // Rifa ган
	gunsklad[3] = CreateDynamicCP(2102.6133,-1614.1257,2056.6399,1.0,3,3); // Aztecas ган
	gunsklad[4] = CreateDynamicCP(2102.6133,-1614.1257,2056.6399,1.0,4,4); // Vagos ган
	gunsklad[6] = CreateDynamicCP(2102.6133,-1614.1257,2056.6399,1.0,5,0); // Yakuza ган
	gunsklad[7] = CreateDynamicCP(2102.6133,-1614.1257,2056.6399,1.0,6,5); // RM ган

	AO_PICK[0] = CreateDynamicPickup(1318,23, 1923.1288, -2235.0562, 11.2581, 0);// на улице
	Create3DTextLabel("Администрация Области",0x00FF00FF,1923.1288, -2235.0562, 11.5581,100.0,0,1);
	AO_PICK[1] = CreateDynamicPickup(1318,23, -1432.77, -1126.02, 1521.94, 0);// внутри

	AO_PICK[3] = CreateDynamicPickup(1318,23, 1939.6376,-2209.6414,11.2581, 0);

	AO_PICK[4] = CreateDynamicPickup(1318,23, -1423.0439,-1141.6522,1521.9399, 0);

	Pickup[20] = CreateDynamicPickup(1238, 23, 1646.49, 1409.40, 12.00, -1);
	skladvdv[0] = CreateDynamicPickup(1243, 23, 833.1951,239.9840,1014.2498,177, -1);


	vodolazmeshok[0] = CreateDynamicPickup(1279,23,2936.9954,-1390.9380,-25.5680,-1);
	vodolazmeshok[1] = CreateDynamicPickup(1279,23,2879.3025,-1310.3881,-15.5581,-1);
	CreateDynamicPickup(1275,23,-246.62, 1051.08, -84.15,-1);
 	CreateDynamicPickup(1275,23,1692.3312,1399.5203,12.0001,-1);
	
	bilet[0] = CreateDynamicPickup(19131, 23, 661.4047,2323.4417,1504.3500,0);
	//Водолазы
	CreateDynamicPickup(1275,23,2816.5166,-1412.9590,4.2203,0);
	CreateDynamic3DTextLabel("Работа водолаза",0xFFFFFFFF,2816.5166,-1412.9590,4.2203+1,2.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,0);
	//Магазин
	//magaz[0] = CreateDynamicPickup(1318, 23, 2067.1851,1884.0758,15.9428,0);
	//magaz[1] = CreateDynamicPickup(1318, 23, 576.9781,2121.6814,1551.4600,0);
	//Грузчики
	CreateDynamicPickup(1275,23,2355.0908,-261.2916,2.7890,0);
	CreateDynamic3DTextLabel("Работа грузчика",0xFFFFFFFF,2355.0908,-261.2916,2.7890+1,2.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,0);
	CreateDynamicPickup(2969,23,2341.0645,1391.8145,12.6226,0);//Склад ОПГ"Ореховское"
	CreateDynamicPickup(2969,23,2402.9424,-1711.9265,29.6341,0);//Склад ОПГ"Южное"
	
	Mafia3d[0] = CreateDynamic3DTextLabel("_",0xFFFFFFFF,2610.9749,1767.7500,10.2175,10.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,5,-1);
	Mafia3d[1] = CreateDynamic3DTextLabel("_",0xFFFFFFFF,1705.8579,1337.9902,26.0344,10.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,5,-1);
	Mafia3d[2] = CreateDynamic3DTextLabel("_",0xFFFFFFFF,2402.8911,-1711.8951,29.6341,10.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,5,-1);
	
	armyammo = CreateDynamicCP(-70.9644,1137.3872,2340.5300,1,6); // ammo
	
	gArmyWarehouseText = CreateDynamic3DTextLabel("_",0xFFFFFFFF,-70.9644,1137.3872,2340.5300,10.5,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,0);
	
	lvpdpick[2] = CreateDynamicPickup(1318,23,2337.1335,2459.3105,14.9742);//Центральный вход
	lvpdpick[3] = CreateDynamicPickup(1318,23,288.8456,166.9235,1007.1719,122);//Центральный выход
	sfpdpick[0] = CreateDynamicPickup(1318,23,-1605.544799,710.272033,13.867186);//
	sfpdpick[1] = CreateDynamicPickup(1318,23,246.409820,107.299217,1003.218750);//
	sfpdpick[2] = CreateDynamicPickup(1318,23,-1594.212158,716.225036,-4.906250);//
	sfpdpick[3] = CreateDynamicPickup(1318,23,215.550186,126.734489,1003.218750);//
	sfpdpick[4] = CreateDynamicPickup(1318,23,1524.484619,-1677.879516,6.218750);//
	sfpdpick[5] = CreateDynamicPickup(1318,23,296.821960,-112.070549,1001.515625,5);//
	armypick[0] = CreateDynamicPickup(1318, 23, 177.0429,1843.9115,17.6406, -1); // вход в казарму
	armypick[1] = CreateDynamicPickup(1318, 23, 1071.1465,-346.2553,2127.4299, 1); // выход из казармы
	armypick[2] = CreateDynamicPickup(1318, 23, 340.5745,1949.1871,22.0172, -1); // оружейка вход
	armypick[3] = CreateDynamicPickup(1318, 23, 296.8533,-112.0710,1001.5156, 1); // оружейка выход
	armshield = CreateDynamicPickup(1242, 23, 837.6909,239.9840,1014.2498, -1); // щит
	//armgun = CreateDynamicPickup(2044, 23, 1616.8907,1981.2440,1281.8175, -1); // оружие в военной части (ВДВ, г. Батырево)
	armystol = CreateDynamicPickup(1582, 23, 836.6945,250.6147,1014.2498, 0); // Еда
	
	//=============================  Спортзалы  ================================
	sportpickup = CreateDynamicPickup(1275,23,-339.6125,445.4721,2513.6201);
	//===============================  Пикапы  =================================
	paintjob[0] = CreateDynamicPickup(353, 23, 2436.5645,-1904.2631,22.0043, 0);
	CreateDynamicPickup(1239,23,-1157.4618,351.0251,1767.3571);
	// АШ
	ashpick[0] = CreateDynamicPickup(1318, 23, 2172.1340, -2197.8716, 23.1784, 0); // +
	ashpick[1] = CreateDynamicPickup(1318, 23, 1060.3450, 93.5735, 1049.7830, 0);
	//Полиция
	PPS_PICK[0] = CreateDynamicPickup(1318, 23, 405.6946,759.5942,12.6125,0); //+
	PPS_PICK[1] = CreateDynamicPickup(1318, 23, 472.7328,1334.1376,1723.5200,0);
	CreateDynamic3DTextLabel("ППС г. Арзамас",0xFFFFFFFF,405.6946,759.5942,12.6125+1,2.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,0);
	CreateDynamic3DTextLabel("Выход",0xFFFFFFFF,1915.8481,2184.8945,2.4664+1,2.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,0);
	DPS_PICK[0] = CreateDynamicPickup(1318, 23, -360.2326, 1025.4321, 13.2432,0);
	DPS_PICK[1] = CreateDynamicPickup(1318, 23, -103.2590,735.9590,1620.9200,0);
	CreateDynamic3DTextLabel("ДПС г. Южный",0xFFFFFFFF,2576.07, -2416.09, 22.50+1,2.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,0);
	CreateDynamic3DTextLabel("Выход",0xFFFFFFFF,-102.6062, 736.1812, 1622.4000+1,2.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,0);
//===========================[ ФСИН ]===========================================
	FSIN_PICK[0] = CreateDynamicPickup(1318, 23, 814.10, 2432.35, 12.21,0);
	FSIN_PICK[1] = CreateDynamicPickup(1318, 23, 166.26, 443.15, 1583.68,0);
	FSIN_PICK[2] = CreateDynamicPickup(1275, 23, 178.90, 455.93, 1583.68,0);
	FSIN_PICK[3] = CreateDynamicPickup(353, 23, 180.4894,460.2450,1583.6801,0);
	CreateDynamic3DTextLabel("Федеральная Служба Безопасности",0xFFFFFFFF,814.10, 2432.35, 12.21+1,5.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,0);
	CreateDynamic3DTextLabel("Выход",0xFFFFFFFF,166.26, 443.15, 1583.68+1,2.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,0);
//====================================[ ЦГБ-А ]=================================
	BOLA_PICK[0] = CreateDynamicPickup(1318, 23, 436.8893, 1559.8527, 12.9474, 0);
	BOLA_PICK[1] = CreateDynamicPickup(1318, 23, -1510.5693,1342.5870,1523.7000,0);
	CreateDynamic3DTextLabel("Выход",0xFFFFFFFF,-1510.5693,1342.5870,1523.7000+1,2.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,0);
	bolnicamedpick[0] = CreateDynamicPickup(1239, 23, -1526.43, 1337.45, 1523.68,0);
	bolnicamedpick[1] = CreateDynamicPickup(1241, 23, -1511.69, 1361.89, 1523.68,0);
	//Покупка металла
	pickmetll = CreateDynamicPickup(1239,2,1646.49, 1409.40, 12.00);
	//Туннель
	tunnel[0] = CreateDynamicPickup(1318, 23, 1539.1289,1762.2802,-7.5291,0);
	tunnel[1] = CreateDynamicPickup(1318, 23, 2494.9148,1869.4111,-7.5524,0);
	//СМИ
	SMI_PICK[0] = CreateDynamicPickup(1318, 23, 2126.5911, -1962.3794, 20.3229, 0); //+
	SMI_PICK[1] = CreateDynamicPickup(1318, 23, 1937.4807, 2922.3198, 1672.9299, 0);
 	//СМИ
	SMI_PICK2[0] = CreateDynamicPickup(1318, 23, -317.8667,816.5047,13.0635, 0); //+
	SMI_PICK2[1] = CreateDynamicPickup(1318, 23, 1937.4807, 2922.3198, 1672.9299, 1);
	// Армия
	kazarmapick[0] = CreateDynamicPickup(1318, 23, 1736.8804,1772.8250,16.2109,0); //+
	kazarmapick[1] = CreateDynamicPickup(1318, 23, 841.3560,244.2667,1014.2498,0);
	//Интерьер склада армии
	army_warehouse[0] = CreateDynamicPickup(1318, 23, 1449.8497,1672.8899,15.3435,0); // Вход
	army_warehouse[1] = CreateDynamicPickup(1318, 23, -70.5206,1144.7675,2340.5300,0); // Выход
	CreateDynamic3DTextLabel("Склад армии",0xFFFFFFFF,1449.8497,1672.8899,15.3435+1,5.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,0);
	CreateDynamic3DTextLabel("Выход",0xFFFFFFFF,-70.5206,1144.7675,2340.5300+1,2.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,0);
	//ОПГ Южная
	opgpick1[0] = CreateDynamicPickup(1318, 23, 2061.2151,-2595.1128,10.8200,0); // ОПГ в Южном
	opgpick1[1] = CreateDynamicPickup(1318, 23, 2097.0193,-1645.3972,2056.6399,1); // ОПГ в Южном
	CreateDynamic3DTextLabel("ОПГ Южная",0xFFFFFFFF,2061.2151,-2595.1128,10.8200,2.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,0);
	CreateDynamic3DTextLabel("Выход",0xFFFFFFFF,2097.0193,-1645.3972,2056.6399,2.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,1,0);
 	//ОПГ Ореховская
	opgpick2[0] = CreateDynamicPickup(1318, 23, 2616.2402,1763.3225,3.0097,0); // ОПГ при въезде в Батырево
	opgpick2[1] = CreateDynamicPickup(1318, 23, 2097.0193,-1645.3972,2056.6399,2); // ОПГ при въезде в Батырево
	CreateDynamic3DTextLabel("ОПГ Ореховская",0xFFFFFFFF,2616.3569,1763.3018,3.0097,2.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,0);
	CreateDynamic3DTextLabel("Выход",0xFFFFFFFF,2097.0193,-1645.3972,2056.6399,2.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,2,0);
  	//ОПГ Солнцевская
	opgpick3[0] = CreateDynamicPickup(1318, 23, -46.4520,1518.4667,14.5622,0); // ОПГ в Арзамасе
	opgpick3[1] = CreateDynamicPickup(1318, 23, 2097.0193,-1645.3972,2056.6399,3); // ОПГ в Арзамасе
	CreateDynamic3DTextLabel("ОПГ Солнцевская",0xFFFFFFFF,-46.4520,1518.4667,14.5622,2.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,0);
	CreateDynamic3DTextLabel("Выход",0xFFFFFFFF,2097.0193,-1645.3972,2056.6399,2.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,3,0);
   	//Чеченская мафия
	chechenpick[0] = CreateDynamicPickup(1318, 23, 1942.0944,2181.0398,15.7100,0); // Мафия в Батырево
	chechenpick[1] = CreateDynamicPickup(1318, 23, 61.1161,1103.5089,1912.9700,4); // Мафия в Арзамасе
	CreateDynamic3DTextLabel("Чеченская Мафия",0xFFFFFFFF,1942.0944,2181.0398,15.7100,2.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,0);
	CreateDynamic3DTextLabel("Выход",0xFFFFFFFF,61.1161,1103.5089,1912.9700,2.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,3,0);
	//Баня
	banyavhod[0] = CreateDynamicPickup(1318, 23, 2193.0615,-341.1890,2332.1599, 0);
	banyavhod[1] = CreateDynamicPickup(1318, 23, 2191.9714,-317.7786,2332.1599, 0);
    banyapick[0] = CreateDynamicPickup(1318, 23, 2257.6770,-2187.7087,22.4104, 0); // пикап для входа
    banyapick[1] = CreateDynamicPickup(1318, 23, 2185.7266,-344.7455,2332.1599, 0); // пикап для выхода
    // Интерьер казино в пгт. Батырево, который нельзя купить
	casino_nostalgia[0] = CreateDynamicPickup(19132, 23, 345.5335,2955.6504,1.7500,0); //+
	casino_nostalgia[1] = CreateDynamicPickup(19132, 23, 341.6794,2959.5242,1.7659,0);
	CreateDynamic3DTextLabel("Казино \"Ностальгия\"",0xFFCC00FF,345.5335,2955.6504,1.7500,2.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,0);
	CreateDynamic3DTextLabel("Выход",0xFFCC00FF,341.6794,2959.5242,1.7659,2.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,0);
	// Столовая армия
	stolovkapick[0] = CreateDynamicPickup(1318, 23, 345.5335,2955.6504,1.7500,0); //+
	stolovkapick[1] = CreateDynamicPickup(1318, 23, 341.6794,2959.5242,1.7659,0);
	CreateDynamic3DTextLabel("Столовая",0xFFFFFFFF,345.5335,2955.6504,1.7500+1,2.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,0);
	CreateDynamic3DTextLabel("Выход",0xFFFFFFFF,341.6794,2959.5242,1.7659+1,2.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,0);
	// Автосалон 2
	// carshowroom[0] = CreateDynamicPickup(1318, 23, 658.5319, 981.9087, 12.0617, -1);
	// carshowroom[1] = CreateDynamicPickup(1318, 23, 2657.5286,-1920.4762,2324.9900, -1);
	CreateDynamic3DTextLabel("Автосалон г. Арзамаса",0xFFFFFFFF,658.5319, 981.9087, 12.0617+1,2.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,0);
	CreateDynamic3DTextLabel("Выход",0xFFFFFFFF,2657.0837, -1920.3422, 2324.9944+1,2.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,0);
	// Автосалон 1
	avtosalonpick[0] = CreateDynamicPickup(1239, 23, 673.7792, 81.6271, 20.3810, -1); // меню покупки машины
	// avtosalonpick[1] = CreateDynamicPickup(1318, 23, 1126.6505,1559.8279,2316.2300,-1);
	// банк
	bankpick[0] = CreateDynamicPickup(1318,23,1853.59, 2035.03, 16.97);
	bankpick[1] = CreateDynamicPickup(1318,23,500.00, 721.60, 2713.17, 1);
	CreateDynamic3DTextLabel("Банк",0xFFFFFFFF,1853.59, 2035.03, 16.97+1,2.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,0);
	CreateDynamic3DTextLabel("Выход",0xFFFFFFFF,500.00, 721.60, 2713.17+1,2.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,0);
 	bankpickarz[0] = CreateDynamicPickup(1318, 23, 445.4992, 595.0807, 12.9819);
	bankpickarz[1] = CreateDynamicPickup(1318,23,500.00, 721.60, 2713.17, 2);
	CreateDynamic3DTextLabel("Банк",0xFFFFFFFF,1853.59, 2035.03, 16.97+1,2.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,0);
	CreateDynamic3DTextLabel("Выход",0xFFFFFFFF,500.00, 721.60, 2713.17+1,2.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,0);
 	sudpick[0] = CreateDynamicPickup(1318,23,-139.2102,596.4312,12.1367);
	sudpick[1] = CreateDynamicPickup(1318,23,605.1932,2310.5132,1944.3199, 1);
	CreateDynamic3DTextLabel("Суд",0xFFFFFFFF,-139.2102,596.4312,12.1367+1,2.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,0);
	CreateDynamic3DTextLabel("Выход",0xFFFFFFFF,605.0511,2310.5183,1944.3199+1,2.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,0);
	// Военкомат
	voenkomat_arzamas[0] = CreateDynamicPickup(1318,23,-399.64, 596.29, 12.52);
	voenkomat_arzamas[1] = CreateDynamicPickup(1318, 23,-1809.29, -1384.49, 1597.91, 0);
	CreateDynamic3DTextLabel("Военкомат",0xFFFFFFFF,-399.64, 596.29, 12.52+1,2.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,0);
	CreateDynamic3DTextLabel("Выход",0xFFFFFFFF,-1809.29, -1384.49, 1597.91+1,2.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,0);
	//
 	voenkomat_bat[0] = CreateDynamicPickup(1318,23,1919.1627,2303.8408,15.5697);
	voenkomat_bat[1] = CreateDynamicPickup(1318, 23,-1809.29, -1384.49, 1597.91, 1);
	CreateDynamic3DTextLabel("Военкомат",0xFFFFFFFF,1919.1627,2303.8408,15.5697+1,2.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,0);
	CreateDynamic3DTextLabel("Выход",0xFFFFFFFF,-1809.29, -1384.49, 1597.91+1,2.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,0);
	// Водолазы
	vodolazipick[0] = CreateDynamicPickup(1318,23,2813.44, -2545.23, 11.33);
	vodolazipick[1] = CreateDynamicPickup(1318,23,2819.49, -2559.20, 1.42);
	//Штрафстоянка
	parking_fine[0] = CreateDynamicPickup(1239, 23, 542.99, 1109.92, 12.04);
	CreateDynamic3DTextLabel("Штрафстоянка",0xFFFFFFFF,542.99, 1109.92, 12.04+1,2.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,0);
	// Устройство на работу
	merpicls[4] = CreateDynamicPickup(19134,23,817.6002,806.5474,-72.9915,-1);
	// Автомобили для работы "инкассаторы"
	AddStaticVehicle(428,406.1130,600.7966,11.9440,69.4790,46,46); // sberbank сбербанк 1
	AddStaticVehicle(428,404.5695,596.8455,11.9764,69.4814,46,46); // sberbank сбербанк 2
	AddStaticVehicle(428,402.9841,592.6554,11.9796,69.4812,46,46); // sberbank сбербанк 3
	AddStaticVehicle(428,401.3524,588.3935,11.9799,69.4813,46,46); // sberbank сбербанк 4
	AddStaticVehicle(428,399.8365,584.3559,11.9803,69.4811,46,46); // sberbank сбербанк 5
	//=============================== Автобусы ======================================
	buscar[0] = AddStaticVehicle(413,1932.7802,2102.5276,15.9580,143.4882,6,6); // Автобус
    AddStaticVehicle(413,1927.4086,2102.5386,15.9580,144.6574,6,6); //
	AddStaticVehicle(413,1921.6343,2102.6057,15.9580,147.3934,6,6); //
	AddStaticVehicle(413,1916.2898,2102.7493,15.9580,149.0438,6,6); //
	AddStaticVehicle(413,1910.3177,2102.2048,15.9722,149.3760,6,6); // Автобус, конец батырево, и снизу начало Арзамас
	AddStaticVehicle(418,426.4592,1486.8130,12.2442,17.5464,6,6); // 1 автобус
	AddStaticVehicle(418,422.1686,1487.2878,12.2431,15.8439,6,6); // 2 автобус
	AddStaticVehicle(418,418.0194,1487.6489,12.2015,23.4816,6,6); // 3 автобус
	AddStaticVehicle(418,414.0494,1488.2810,12.2034,25.9706,6,6); // 4 автобус, конец Арзамас
	//
	AddStaticVehicle(414,2143.6973,-1809.5884,19.6158,0.1388,6,6); // avto bus
	AddStaticVehicle(414,2150.7708,-1809.5533,19.7218,359.6292,6,6); // avto bus
	AddStaticVehicle(414,2157.6008,-1809.5859,19.6243,2.3207,6,6); // avto bus
	buscar[1] = AddStaticVehicle(414,2164.2212,-1809.5369,19.7072,0.9052,6,6); // avto bus
	// for(new i = 0; i < sizeof(ArendInfo); i ++)
	// {
	//     ArendInfo[i][aID] = AddStaticVehicleEx(ArendInfo[i][aModel], ArendInfo[i][aPos_X], ArendInfo[i][aPos_Y], ArendInfo[i][aPos_Z], ArendInfo[i][aPos_A], ArendInfo[i][aColor_1], ArendInfo[i][aColor_2], 100000);
    //     SetVehicleParamsEx(ArendInfo[i][aID], false, false, false, false, false, false, false);
	// }
	// Автомобили такси в пгт. Батырево
	taxicar[0] = AddStaticVehicle(529,1855.0732,2238.0837,14.9728,359.6179,6,6); // авто 1
	AddStaticVehicle(529,1859.2092,2238.0952,15.0989,359.5284,6,6); // авто 2
	AddStaticVehicle(529,1863.2811,2238.1460,15.1045,0.2573,6,6); // авто 3
	AddStaticVehicle(529,1867.5088,2238.0039,15.0194,359.9849,6,6); // авто 4
	AddStaticVehicle(529,1871.6801,2238.1365,15.0193,0.0257,6,6); // авто 5
	// автомобили вип такси в пгт. Батырево
	AddStaticVehicle(402,1873.2227,2273.9958,14.9852,180.3008,162,1); // такси
	AddStaticVehicle(402,1869.7649,2274.0432,14.9837,179.2382,162,1); // такси
	AddStaticVehicle(402,1866.5858,2274.0027,14.9837,180.3508,162,1); // такси
	AddStaticVehicle(402,1863.3268,2273.8884,14.9833,179.9957,162,1); // такси
	// автомобили южный вип
	AddStaticVehicle(445,2338.3459,-1930.8883,21.5437,90.0081,162,162); // такси машина
	AddStaticVehicle(445,2338.4187,-1927.0847,21.6251,90.0077,162,162); // такси машина 2
	AddStaticVehicle(445,2338.6064,-1923.0378,21.6223,90.0107,162,162); // такси машина 3
	AddStaticVehicle(445,2338.5195,-1919.0688,21.5624,90.0084,162,162); // такси машина 4
	taxicar[1] = AddStaticVehicle(445,2338.5559,-1915.2631,21.5358,90.0084,162,162); // такси машина 5
	//taxicar[1] = AddStaticVehicle(420,-239.8852,946.6199,11.8927,0.1534,6,6); // taxi 5
	// Автомобили такси в г. Арзамас
	/*AddStaticVehicle(420,313.3510,1569.1132,11.6393,264.1472,6,6); // taxicar
	AddStaticVehicle(420,313.0554,1565.1464,11.6374,264.9767,6,6); // taxicar 2
	AddStaticVehicle(420,312.9571,1561.2059,11.6382,264.7987,6,6); // taxicar 3
	AddStaticVehicle(420,312.6860,1557.3655,11.6385,264.7854,6,6); // taxicar 4
	AddStaticVehicle(420,312.3911,1553.6853,11.6393,264.0666,6,6); // taxicar 5
	*/
	//Автомобили в г. Рыжевск
	/*AddStaticVehicle(420,1233.0090,-349.7422,3.7116,359.4035,6,6); // ryzhevsk taxicar
	AddStaticVehicle(420,1236.6566,-349.7705,3.7122,359.3721,6,6); // ryzhevsk taxicar
	AddStaticVehicle(420,1240.1260,-349.8205,3.7125,1.1614,6,6); // ryzhevsk taxicar
	AddStaticVehicle(420,1243.4492,-349.7922,3.7116,359.7032,6,6); // ryzhevsk taxicar
	AddStaticVehicle(420,1246.8367,-349.7544,3.7116,0.1164,6,6); // ryzhevsk taxicar
	*/
	// Автомобили такси в г. Арзамас около казино в центре, на омозинге рядом с агенством недвижимости
	/*AddStaticVehicle(420,-225.8156,946.4365,11.9168,358.5434,6,6); // taxi 1
	AddStaticVehicle(420,-222.4937,946.3608,11.9167,359.5855,6,6); // taxi 2
	AddStaticVehicle(420,-219.1070,946.3252,11.9382,359.5771,6,6); // taxi 3
	AddStaticVehicle(420,-236.3275,946.6731,11.9070,0.2825,6,6); // taxi 4
	AddStaticVehicle(420,-239.8852,946.6199,11.8927,0.1534,6,6); // taxi 5
	*/
	// Стоянка мусоровозов (тестирование)
	/*AddStaticVehicle(408,354.1330,225.4218,12.5403,68.2787,138,138); // musor 1
	AddStaticVehicle(408,355.8802,229.9194,12.5389,68.2799,138,138); // musor 2
	AddStaticVehicle(408,357.6722,234.4869,12.5392,68.0865,138,138); // musor 3
	AddStaticVehicle(408,359.3584,238.7650,12.5396,68.2769,138,138); // musor 4
	AddStaticVehicle(408,361.0227,242.8872,12.5398,68.1756,138,138); // musor 5
	*/
	// Работа МЧС (тестирование)
	AddStaticVehicle(544,1802.9791,2503.4873,15.7904,396.8735,3,1); // МЧС 1
	AddStaticVehicle(544,1799.6654,2507.9414,15.7921,397.7742,3,1); // МЧС 2
	AddStaticVehicle(544,1809.7411,2531.3201,15.7649,216.1764,3,1); // МЧС 3
	AddStaticVehicle(407,1806.2109,2523.2371,15.9891,217.4473,3,1); // МЧС 4
	AddStaticVehicle(407,1810.4530,2517.2664,16.0049,217.0819,3,1); // МЧС 5
	AddStaticVehicle(407,1815.1030,2511.2083,15.9908,217.2189,3,1); // МЧС 6
	AddStaticVehicle(407,1819.3639,2505.4111,16.0077,216.6697,3,1); // МЧС 7
	AddStaticVehicle(544,1830.3553,2503.1099,15.7908,216.2279,3,1); // МЧС 8
	// Автомобили с работы "Механики"
    mechanic[0] = AddStaticVehicleEx(525,2031.3655,1707.2809,15.9178,90.0713,1,2,900);
	AddStaticVehicleEx(525,2031.3267,1702.6316,15.9138,88.9265,3,4,900);
	AddStaticVehicleEx(525,2031.1920,1699.0636,15.9156,89.7137,5,6,900);
	// механики южный
	AddStaticVehicleEx(525,2162.7866,-1820.3979,18.7759,142.0622,17,20,900); // mexanik
	AddStaticVehicleEx(525,2152.9368,-1820.5636,18.7913,146.2906,22,30,900); // mexanik
	AddStaticVehicleEx(525,2148.0430,-1820.7268,18.7399,148.9429,36,43,900); // mexanik
	AddStaticVehicleEx(525,2143.2068,-1820.8278,18.7487,148.9099,44,51,900);// mexanik
    mechanic[1] = AddStaticVehicleEx(525,2031.1490,1694.5487,15.9107,89.5214,7,8,900);
	// Автомобили фракции "Автошкола"
//	CategoryA[0] = AddStaticVehicleEx(420,1941.1428,2246.8303,15.3706,89.6899,3,3,900);
//	CategoryA[1] = AddStaticVehicleEx(420,1941.0850,2248.6548,15.3704,89.1513,3,3,900);
	Category[0] = AddStaticVehicleEx(420,1924.0864,2227.9304,15.2336,359.4565,3,3,900);
	AddStaticVehicleEx(516,1928.9388,2227.6060,15.2354,359.3778,3,3,900);
	Category[1] = AddStaticVehicleEx(516,1934.4419,2227.0940,15.1667,358.6336,3,3,900);
//	CategoryC[0] = AddStaticVehicleEx(515,1921.9586,2250.0825,16.3481,90.4846,3,3,900);
//	CategoryC[1] = AddStaticVehicleEx(515,1929.4639,2250.2246,16.3500,91.0711,3,3,900);
//	CategoryD = AddStaticVehicleEx(483,1909.7322,2236.1389,15.9741,359.3188,3,3,900);
	// Автомобили фракции "Администрация Президента (АП)"
	CAR_AO[0] = AddStaticVehicleEx(540, 1941.4840,-2192.7124,11.1730,179.9567, 1,1,900); // Мэрия кар 1
	AddStaticVehicleEx(540, 1941.4890,-2183.8992,11.1724,179.9566, 1,1,900); //
	AddStaticVehicleEx(540, 1935.3287,-2193.4778,11.1737,180.6303, 1,1,900); //
	AddStaticVehicleEx(540, 1932.3667,-2169.8518,11.1741,179.3245, 1,1,900); //
	AddStaticVehicleEx(426, 1929.6631,-2184.6006,11.1718,178.7086, 1,1,900); //
	AddStaticVehicleEx(490, 1932.1929,-2193.4382,11.1717,180.9699, 1,1,900); //
	CAR_AO[1] = AddStaticVehicleEx(490, 1923.8018,-2184.2385,11.1737,182.0578, 1,1,900); // Мэрия кар 8
	// Автомобили ОПГ Южная
	opg1car[0] = AddStaticVehicleEx(507,2026.5026,-2580.7295,10.7117,179.3000,111,111, 900); // ОПГ Южная
	AddStaticVehicleEx(507,2023.0520,-2580.7390,10.7230,179.3155,111,111, 900); // Автомобиль ОПГ Южная
	AddStaticVehicleEx(421,2019.5947,-2580.6721,10.6596,180.0230,111,111, 900); // Автомобиль ОПГ Южная
	AddStaticVehicleEx(421,2016.1703,-2580.6731,10.6244,180.1323,111,111, 900); // Автомобиль ОПГ Южная
	AddStaticVehicleEx(421,2012.8068,-2580.6721,10.6375,180.1385,111,111, 900); // АвтомобильОПГ Южная
	AddStaticVehicleEx(482,2005.8901,-2580.7607,10.7625,180.0061,111,111, 900); // Автомобиль ОПГ Южная
	opg1car[1] = AddStaticVehicleEx(482,2009.3351,-2580.7610,10.7598,180.0036,111,111, 900); // ОПГ Южная
	// Автомобили ОПГ Ореховская
	opg2car[0] = AddStaticVehicleEx(507,2631.8508,1781.0085,2.4905,90.5519,36,36, 900); // Автомобиль ОПГ Ореховская
	AddStaticVehicleEx(421,2631.7061,1776.9401,2.4331,89.9958,36,36, 900); // Автомобиль ОПГ Ореховская
	AddStaticVehicleEx(421,2631.7058,1772.9398,2.4355,89.9959,36,36, 900); // Автомобиль ОПГ Ореховская
	AddStaticVehicleEx(421,2631.7056,1768.9401,2.4353,89.9962,36,36, 900); // Автомобиль ОПГ Ореховская
	AddStaticVehicleEx(507,2631.8928,1764.4552,2.4893,90.5711,36,36, 900); // Автомобиль ОПГ Ореховская
	AddStaticVehicleEx(482,2632.3816,1760.5900,2.4628,90.0129,36,36, 900); // Автомобиль ОПГ Ореховская
	opg2car[1] = AddStaticVehicleEx(482,2632.3821,1756.3837,2.4622,90.0131,36,36, 900); // Автомобиль ОПГ Ореховская
 	// Автомобили ОПГ Солнцевская
	opg3car[0] = AddStaticVehicleEx(507,-39.4067,1512.4049,13.6869,228.7540,4,4, 900); // ОПГ Солнцевская
	AddStaticVehicleEx(507,-32.9963,1506.7858,13.6888,228.7548,4,4, 900); // Автомобиль ОПГ Солнцевская
	AddStaticVehicleEx(421,-39.8838,1497.6405,13.6200,316.7976,4,4, 900); // Автомобиль ОПГ Солнцевская
	AddStaticVehicleEx(421,-42.5136,1500.1576,13.6177,316.8034,4,4, 900); // Автомобиль ОПГ Солнцевская
	AddStaticVehicleEx(421,-45.0692,1502.6223,13.6680,317.5969,4,4, 900); // Автомобиль ОПГ Солнцевская
	AddStaticVehicleEx(482,-48.4232,1505.2977,13.7863,316.8062,4,4, 900); // Автомобиль ОПГ Солнцевская
	opg3car[1] = AddStaticVehicleEx(482,-51.5649,1508.2843,13.7843,316.8043,4,4, 900); // ОПГ Солнцевская
	// Автомобили ППС
	CAR_PPS[0] = AddStaticVehicleEx(599,376.4598,768.8971,12.0526,249.8389,1,53, 900); // PPS 1
	AddStaticVehicleEx(599,377.6797,772.1161,12.0529,249.8394,1,53, 900); // PPS 2
	AddStaticVehicleEx(599,378.9763,775.7301,12.0452,249.8387,1,53, 900); // pps 3
	AddStaticVehicleEx(599,380.2528,779.1198,12.0452,249.8382,1,53, 900); // pps 4
	AddStaticVehicleEx(599,381.5045,782.4541,12.0452,249.8376,1,53, 900); // pps 5
	AddStaticVehicleEx(599,382.7576,785.7905,11.9570,249.8428,1,53, 900); // pps 6
	AddStaticVehicleEx(599,384.0130,789.1714,11.9565,249.8378,1,53, 900); // pps 7
	AddStaticVehicleEx(599,385.3292,792.6943,11.9556,249.8426,1,53, 900); // pps 8
	AddStaticVehicleEx(427,388.5816,801.7225,12.2036,159.4187,1,53, 900); // pps 9
	AddStaticVehicleEx(427,394.6111,799.4541,12.2037,159.4189,1,53, 900); // pps 10
	AddStaticVehicleEx(427,400.5367,797.3150,12.2036,159.4187,1,53, 900); // pps 11
	AddStaticVehicleEx(427,406.5450,795.0972,12.2038,159.4190,1,53, 900); // pps 12
	AddStaticVehicleEx(427,412.4911,792.9493,12.2039,159.4187,1,53, 900); // pps 13
	AddStaticVehicleEx(427,418.5275,790.7332,12.2039,159.4191,1,53, 900); // pps 14
	AddStaticVehicleEx(427,424.5405,788.5045,12.2037,159.4188,1,53, 900); // pps 15
	CAR_PPS[1] = AddStaticVehicleEx(437,394.7358,769.4554,12.4492,159.4872,1,53, 900); // pps 16
	// Автомобили ДПС
	CAR_DPS[0] = AddStaticVehicleEx(597,2574.7166,-2446.3669,21.7943,0.0046,1,53, 900); // DPS 1
	AddStaticVehicleEx(597,2571.0764,-2446.3667,21.7925,0.0059,1,53, 900); // DPS 2
	AddStaticVehicleEx(597,2567.4507,-2446.3596,21.8654,359.9834,1,53, 900); // DPS 3
	AddStaticVehicleEx(598,2563.7085,-2446.4412,21.6659,359.9956,1,53, 900); // DPS 4
	AddStaticVehicleEx(598,2560.1436,-2446.4375,21.7090,359.9851,1,53, 900); // DPS 5
	AddStaticVehicleEx(598,2556.6165,-2446.4380,21.7091,359.9871,1,53, 900); // DPS 6
	AddStaticVehicleEx(598,2552.9143,-2446.4395,21.7088,0.0079,1,53, 900); // DPS 7
	AddStaticVehicleEx(522,2542.3503,-2446.8250,21.5322,270.0000,79,79, 900); // DPS 8
	AddStaticVehicleEx(522,2542.3503,-2440.4800,21.5322,270.0000,79,79, 900); // DPS 9
	AddStaticVehicleEx(522,2542.3503,-2434.1250,21.5322,270.0000,79,79, 900); // DPS 10
	AddStaticVehicleEx(522,2542.3503,-2427.7700,21.5322,270.0000,79,79, 900); // DPS 11
	AddStaticVehicleEx(522,2542.3503,-2421.4150,21.5322,270.0000,79,79, 900); // DPS 12
	AddStaticVehicleEx(522,2542.3503,-2415.0601,21.5322,270.0000,79,79, 900); // DPS 13
	AddStaticVehicleEx(525,2558.6475,-2408.7432,21.9582,90.0083,1,1, 900); // DPS 14
	AddStaticVehicleEx(525,2558.6475,-2414.9429,21.9582,90.0085,1,1, 900); // DPS 15
	AddStaticVehicleEx(525,2558.6477,-2421.1428,21.9670,90.0093,1,1, 900); // DPS 16
	CAR_DPS[1] = AddStaticVehicleEx(437,2569.0061,-2429.7146,22.4901,269.9933,1,53, 900); // DPS 17
	// Автомобили ФСБ
	CAR_FSIN[0] = AddStaticVehicleEx(490,774.1239,2409.7231,12.3955,356.7602,0,0,900); // ФСБ авто
	AddStaticVehicleEx(490,780.0402,2413.1140,12.4095,356.7593,0,0,900); // ФСБ авто
	AddStaticVehicleEx(490,850.9260,2454.9673,12.4114,61.5028,0,0,900); // ФСБ авто
	AddStaticVehicleEx(490,856.1657,2458.4216,12.4204,61.5604,0,0,900); // ФСБ авто
	AddStaticVehicleEx(601,831.9336,2477.2158,11.8352,120.3691,0,0,900); // ФСБ авто
	AddStaticVehicleEx(601,829.0453,2482.0920,11.8349,120.3661,0,0,900); // ФСБ авто
	AddStaticVehicleEx(402,776.7853,2436.2603,11.7078,300.6672,0,0,900); // ФСБ авто
	AddStaticVehicleEx(579,773.4520,2442.9231,12.1284,300.5613,0,0,900);// ФСБ авто
	AddStaticVehicleEx(440,769.2122,2449.1333,12.1183,300.5846,0,0,900); // ФСБ авто
	CAR_FSIN[1] = AddStaticVehicleEx(440,767.3372,2452.2500,12.1189,301.3601,0,0,900); // ФСБ авто
	// Автомобили СМИ
	CAR_SMI[0] = AddStaticVehicleEx(436,2074.1272,-1929.4330,18.6866,269.9941,130,130,900); // TRK омозинг
	AddStaticVehicleEx(582,2074.9893,-1925.0684,18.9301,269.9958,130,130,900); // TRK омозинг
	AddStaticVehicleEx(582,2074.9873,-1918.8993,18.9268,269.9973,130,130,900); // TRK омозинг
	AddStaticVehicleEx(582,2074.9858,-1912.8334,18.9236,269.9944,130,130,900); // TRK омозинг
	AddStaticVehicleEx(582,2074.9893,-1906.7212,18.9193,269.9958,130,130,900); // TRK омозинг
	AddStaticVehicleEx(582,2074.9893,-1900.5544,18.9193,269.9958,130,130,900); // TRK омозинг
	AddStaticVehicleEx(573,2074.4854,-1894.3937,19.4883,270.0000,130,130,900); // TRK омозинг
	CAR_SMI[1] = AddStaticVehicleEx(573,2074.4854,-1888.2797,19.4883,270.0000,130,130,900); // TRK омозинг
	// Автомобили СМИ
	CAR_MZA[0] = AddStaticVehicleEx(436,-336.0109,839.8407,12.8348,179.4213,101,101,900); // 1
	AddStaticVehicleEx(582,-330.8186,839.3773,13.1553,180.0019,101,101,900); // 2
	AddStaticVehicleEx(582,-324.6631,839.3999,13.1009,180.0026,101,101,900); // 3
	AddStaticVehicleEx(582,-318.4974,839.4010,13.0944,180.0072,101,101,900); // 4
	AddStaticVehicleEx(582,-312.0304,839.3937,13.0945,180.0063,101,101,900); // 5
	AddStaticVehicleEx(582,-305.8983,839.4434,13.1021,179.9128,101,101,900); // 6
	AddStaticVehicleEx(573,-343.1002,768.5734,13.6293,269.9275,101,101,900); // 7
	AddStaticVehicleEx(573,-343.1013,761.9091,13.6331,270.0002,101,101,900); // 8
	CAR_MZA[1] = AddStaticVehicleEx(488,-302.7507,767.2524,13.2219,87.2344,101,101,900); // 9
	//Авто Воинская Часть (армия, вдв)
	CAR_VDV[0] = AddStaticVehicleEx(432,1833.2367,1761.5898,15.4402,180.0000,44,44,900); //
	AddStaticVehicleEx(432,1822.1857,1761.5933,15.4330,180.0000,44,44,900); //
	AddStaticVehicleEx(533,1799.2971,1767.8876,15.2290,180.0001,44,44,900); //
	AddStaticVehicleEx(578,1792.9227,1757.1378,15.4064,179.7775,44,44,900); //
	AddStaticVehicleEx(578,1788.0098,1757.1633,15.4002,179.4015,44,44,900); //
	AddStaticVehicleEx(578,1783.3992,1757.1772,15.4013,179.7767,44,44,900); //
	AddStaticVehicleEx(548,1837.5206,1679.9342,15.8534,0.0499,44,44,900); //
	AddStaticVehicleEx(548,1811.2991,1679.8020,15.8333,359.9967,44,44,900); //
	AddStaticVehicleEx(601,1768.0675,1688.7559,15.0357,38.7621,44,44,900); //
	AddStaticVehicleEx(601,1768.0651,1682.8456,15.0344,38.7601,44,44,900); //
	AddStaticVehicleEx(601,1768.0646,1676.9349,15.0379,38.7594,44,44,900); //
	AddStaticVehicleEx(425,1739.0603,1681.8359,16.1220,359.9631,44,44,900); //
	AddStaticVehicleEx(425,1713.3500,1682.3885,16.1453,359.9830,44,44,900);//
	AddStaticVehicleEx(470,1435.4492,1710.1388,15.2243,179.9498,44,44,900); // тачка армия
	AddStaticVehicleEx(470,1441.8712,1710.1370,15.2913,179.9999,44,44,900); // тачка армия
	AddStaticVehicleEx(470,1448.0392,1710.1370,15.2913,180.0001,44,44,900); // тачка армия
	AddStaticVehicleEx(470,1454.4642,1710.1370,15.2913,180.0000,44,44,900); // тачка армия
	AddStaticVehicleEx(470,1460.6322,1710.1370,15.2913,180.0000,44,44,900); // тачка армия
	AddStaticVehicleEx(470,1467.3142,1710.1370,15.2913,180.0001,44,44,900); // тачка армия
	AddStaticVehicleEx(578,1444.7944,1678.2589,15.4021,0.6173,44,44,900); // тачка армия
	AddStaticVehicleEx(520,1925.9208,1559.4929,15.9056,89.8627,44,44,900);//
	CAR_VDV[1] = AddStaticVehicleEx(520,1943.1287,1541.0121,15.9056,0.0000,44,44,900); //
	
 	CAR_MZY[0] = AddStaticVehicleEx(416, 2098.536, -2467.671, 22.140, 0.0000, 1, 1, 900);
	AddStaticVehicleEx(416, 2104.559, -2467.671, 22.140, 0.0000, 1, 1, 900);
	AddStaticVehicleEx(416, 2110.656, -2467.671, 22.140, 0.0000, 1, 1, 900);
	AddStaticVehicleEx(416, 2116.442, -2467.671, 22.140, 0.0000, 1, 1, 900);
	CAR_MZY[1] = AddStaticVehicleEx(416, 2122.124, -2467.671, 22.140, 0.0000, 6, 6, 900);
	return 1;
}
//==============================================================================
/*stock LoadCars()
{
    // Автомобили Чеченской Мафии в пгт. Батырево
 	chechen_mafia[0] = AddStaticVehicleEx(579,1938.4396,2162.3931,15.8537,338.2932,1,1, 900); // Автомобиль Чеченская Мафия пгт. Батырево
	AddStaticVehicleEx(579,1933.2781,2162.4089,15.7729,338.3034,1,1, 900); // Автомобиль Чеченская Мафия пгт. Батырево
	AddStaticVehicleEx(579,1927.7268,2162.4390,15.7724,338.7794,1,1, 900); // Автомобиль Чеченская Мафия пгт. Батырево
	AddStaticVehicleEx(540,1922.1433,2161.5642,15.4714,338.4219,1,1, 900); // Автомобиль Чеченская Мафия пгт. Батырево
	AddStaticVehicleEx(540,1930.1125,2171.3899,15.4715,265.7278,1,1, 900); // Автомобиль Чеченская Мафия пгт. Батырево
	AddStaticVehicleEx(482,1939.0087,2186.1685,15.5935,271.1104,1,1, 900); // Автомобиль Чеченская Мафия пгт. Батырево
	AddStaticVehicleEx(482,1939.1074,2188.7380,15.6467,273.4596,1,1, 900); // Автомобиль Чеченская Мафия пгт. Батырево
	chechen_mafia[1] = AddStaticVehicleEx(540,1951.6643,2206.7141,15.5248,180.0455,1,1, 900); // Автомобиль Чеченская Мафия пгт. Батырево
 	// Автомобили Русской Мафии в пгт. Арзамас
 	russian_mafia[0] = AddStaticVehicleEx(579,384.9605,1034.0248,12.2951,353.0691,0,0, 900); // Автомобиль Русская Мафия пгт. Батырево
	AddStaticVehicleEx(579,380.9216,1034.3499,12.2998,352.6057,0,0, 900); // Автомобиль Русская Мафия пгт. Батырево
	AddStaticVehicleEx(579,377.0201,1034.9999,12.2777,351.9909,0,0, 900); // Автомобиль Русская Мафия пгт. Батырево
	AddStaticVehicleEx(500,366.8302,1043.5325,12.0552,261.1548,0,0, 900); // Автомобиль Русская Мафия пгт. Батырево
	AddStaticVehicleEx(500,367.3383,1047.6759,12.0543,260.1719,0,0, 900); // Автомобиль Русская Мафия пгт. Батырево
	AddStaticVehicleEx(500,391.0331,1045.1917,12.0528,260.9227,0,0, 900); // Автомобиль Русская Мафия пгт. Батырево
	AddStaticVehicleEx(482,383.2562,1058.8158,12.0861,170.8264,0,0, 900); // Автомобиль Русская Мафия пгт. Батырево
	russian_mafia[1] = AddStaticVehicleEx(482,379.3456,1059.3954,12.0921,170.8241,0,0, 900); // Автомобиль Русская Мафия пгт. Батырево
	return 1;
}*/




//==============================================================================
stock UpdateBizz(idx) // Сохранение бизнесов
{
	new string[200],fee[64],text[20];
	if(BizzInfo[idx][bEnter] == 0) fee = "бесплатно";
	else format(fee, sizeof(fee), "%d рублей", BizzInfo[idx][bEnter]);
	switch(BizzInfo[idx][bMafia])
	{
	    case TEAM_SPARTAK: text = "ОПГ Ореховское";
	    case TEAM_CSKA: text = "ОПГ Солнце";
	    case TEAM_DINAMO: text = "ОПГ Южная";
		case 0: text = "отсутствует";
	}
	if(BizzInfo[idx][bType] == 1)
	{
		if(!strcmp(BizzInfo[idx][bOwner],"None",true))
		{
			format(string, sizeof(string), "{FFCC00}Магазин 24/7\n{FFFFFF}Владелец: {FFCC00}государство\n{FFFFFF}Контролирует: {3497FF}%s\n{FFFFFF}Цена: {FFCC00}%d {FFFFFF}рублей\n{FFFFFF}Вход: {FFCC00}бесплатный",text,BizzInfo[idx][bPrice]);
			UpdateDynamic3DTextLabelText(LABELBIZZ[idx],-1,string);
		}
		else
		{
			format(string, sizeof(string), "{0099FF}Магазин 24/7\n{FFFFFF}Владелец: {0099FF}%s\n{FFFFFF}Контролирует: {3497FF}%s\n{FFFFFF}Вход: {FFCC00}%s",BizzInfo[idx][bOwner], text, fee);
			UpdateDynamic3DTextLabelText(LABELBIZZ[idx],-1,string);
		}
	}
	if(BizzInfo[idx][bType] == 10)
	{
		if(!strcmp(BizzInfo[idx][bOwner],"None",true))
		{
			format(string, sizeof(string), "{3497FF}Магазин Игрушек\n{FFFFFF}Владелец: {FFCC00}государство\n{FFFFFF}Крышует: {3497FF}%s\n{FFFFFF}Цена: {FFCC00}%d {FFFFFF}рублей\n{FFFFFF}Цена за вход: {FFCC00}бесплатный",text,BizzInfo[idx][bPrice]);
			UpdateDynamic3DTextLabelText(LABELBIZZ[idx],-1,string);
		}
		else
		{
			format(string, sizeof(string), "{3497FF}Магазин Игрушек\n{FFFFFF}Владелец: {0099FF}%s\n{FFFFFF}Крышует: {3497FF}%s\n{FFFFFF}Цена за вход: {FFCC00}%s",BizzInfo[idx][bOwner],text, fee);
			UpdateDynamic3DTextLabelText(LABELBIZZ[idx],-1,string);
		}
	}
	else if(BizzInfo[idx][bType] == 9)
	{
		if(!strcmp(BizzInfo[idx][bOwner],"None",true))
		{
			format(string, sizeof(string), "{3497FF}Казино\n{FFFFFF}Владелец: {FFCC00}государство\n{FFFFFF}Крышует: {3497FF}%s\n{FFFFFF}Цена: {FFCC00}%d {FFFFFF}рублей\n{FFFFFF}Цена за вход: {FFCC00}бесплатный",text,BizzInfo[idx][bPrice]);
			UpdateDynamic3DTextLabelText(LABELBIZZ[idx],-1,string);
		}
		else
		{
			format(string, sizeof(string), "{3497FF}Казино\n{FFFFFF}Владелец: {0099FF}%s\n{FFFFFF}Крышует: {3497FF}%s\n{FFFFFF}Цена за вход: {FFCC00}%s",BizzInfo[idx][bOwner],text, fee);
			UpdateDynamic3DTextLabelText(LABELBIZZ[idx],-1,string);
		}
	}
	else if(BizzInfo[idx][bType] == 2)
	{
		if(!strcmp(BizzInfo[idx][bOwner],"None",true))
		{
			format(string, sizeof(string), "{FFCC00}Заправка\n{FFCC00}Заправка продаётся\n{FFFFFF}Цена: {FFCC00}%d рублей\n{ffffff}Цена за 1 литр - {FFCC00}%i рублей\n{FFCC00}Используйте /fill",BizzInfo[idx][bPrice], BizzInfo[idx][bTill]);
			UpdateDynamic3DTextLabelText(LABELBIZZ[idx],-1,string);
		}
		else
		{
			format(string, sizeof(string), "{FFCC00}/buyk - купить канистру\n/fill - заправить транспорт\n{FFFFFF}Владелец: {FFCC00}%s\n{FFFFFF}Цена за 1 литр бензина: {FFCC00}%i рублей",BizzInfo[idx][bOwner], BizzInfo[idx][bTill]);
			UpdateDynamic3DTextLabelText(LABELBIZZ[idx],-1,string);
		}
	}
	else if(BizzInfo[idx][bType] == 7)
	{
		if(!strcmp(BizzInfo[idx][bOwner],"None",true))
		{
			format(string, sizeof(string), "{3497FF}СТО\n{FFFFFF}Владелец: {FFCC00}государство\n{FFFFFF}Крышует: {3497FF}%s\n{FFFFFF}Цена: {FFCC00}%d {FFFFFF}руб.",text,BizzInfo[idx][bPrice]);
			UpdateDynamic3DTextLabelText(LABELBIZZ[idx],-1,string);
		}
		else
		{
			format(string, sizeof(string), "{3497FF}СТО\n{FFFFFF}Владелец: {FFCC00}%s\n{FFFFFF}Крышует: {3497FF}%s",BizzInfo[idx][bOwner],text);
			UpdateDynamic3DTextLabelText(LABELBIZZ[idx],-1,string);
		}
	}
	else if(BizzInfo[idx][bType] == 8)
	{
   		if(!strcmp(BizzInfo[idx][bOwner],"None",true))
		{
			format(string, sizeof(string), "{3497FF}Магазин Одежды\n{FFFFFF}Владелец: {FFCC00}государство\n{FFFFFF}Крышует: {3497FF}%s\n{FFFFFF}Цена: {FFCC00}%d {FFFFFF}рублей\n{FFFFFF}Цена за вход: {FFCC00}бесплатный",text,BizzInfo[idx][bPrice]);
			UpdateDynamic3DTextLabelText(LABELBIZZ[idx],-1,string);
		}
		else
		{
			format(string, sizeof(string), "{3497FF}Магазин Одежды\n{FFFFFF}Владелец: {FFCC00}%s\n{FFFFFF}Крышует: {3497FF}%s\n{FFFFFF}Цена за вход: {FFCC00}%s",BizzInfo[idx][bOwner],text,fee);
			UpdateDynamic3DTextLabelText(LABELBIZZ[idx],-1,string);
		}
	}
	else if(BizzInfo[idx][bType] == 14)
	{
		if(!strcmp(BizzInfo[idx][bOwner],"None",true))
		{
			format(string, sizeof(string), "{3497FF}Аптека\n{FFFFFF}Владелец: {FFCC00}государство\n{FFFFFF}Крышует: {3497FF}%s\n{FFFFFF}Цена: {FFCC00}%d {FFFFFF}рублей\n{FFFFFF}Цена за вход: {FFCC00}бесплатный", text,BizzInfo[idx][bPrice]);
			UpdateDynamic3DTextLabelText(LABELBIZZ[idx],-1,string);
		}
		else
		{
			format(string, sizeof(string), "{3497FF}Аптека\n{FFFFFF}Владелец: {FFCC00}%s\n{FFFFFF}Крышует: {3497FF}%s\n{FFFFFF}Цена за вход: {FFCC00}%s",BizzInfo[idx][bOwner],text,fee);
			UpdateDynamic3DTextLabelText(LABELBIZZ[idx],-1,string);
		}
	}
	return 1;
}

stock UpdateHouse(idx)
{
	DestroyDynamicMapIcon(HouseInfo[idx][hMIcon]);
	DestroyDynamicPickup(HouseInfo[idx][hPickup]);
	if(!strcmp(HouseInfo[idx][hOwner],"None",true))
	{
		HouseInfo[idx][hMIcon] = CreateDynamicMapIcon(HouseInfo[idx][hEntrx], HouseInfo[idx][hEntry], HouseInfo[idx][hEntrz], 31, 0,-1,-1,-1,150.0);
		HouseInfo[idx][hPickup] = CreateDynamicPickup(1273, 1, HouseInfo[idx][hEntrx], HouseInfo[idx][hEntry], HouseInfo[idx][hEntrz]);
	}
	else
	{
		HouseInfo[idx][hMIcon] = CreateDynamicMapIcon(HouseInfo[idx][hEntrx], HouseInfo[idx][hEntry], HouseInfo[idx][hEntrz], 32, 0,-1,-1,-1,150.0);
		HouseInfo[idx][hPickup] = CreateDynamicPickup(1272, 1, HouseInfo[idx][hEntrx], HouseInfo[idx][hEntry], HouseInfo[idx][hEntrz]);
	}
	return 1;
}
stock BuyCar(playerid)
{
	//if(GetPlayerHouse(playerid) == 1 || GetPlayerPorchHouse(playerid))
	if(GetPlayerHouse(playerid) == 1)
	{
		new Float:x, Float:y, Float:z, Float:fa,cost[MAX_PLAYERS],model[MAX_PLAYERS];
		switch(InShop[playerid])
		{
			case 1: cost[playerid] = carsC[pPressed[playerid]][1], model[playerid] = carsC[pPressed[playerid]][0], x=2640.9773, y=-1909.2632, z=2328.1699, fa=270.6537;
			case 2: cost[playerid] = carsB[pPressed[playerid]][1], model[playerid] = carsB[pPressed[playerid]][0], x=2640.9773, y=-1909.2632, z=2328.1699, fa=270.6537;
			case 3: cost[playerid] = carsA[pPressed[playerid]][1], model[playerid] = carsA[pPressed[playerid]][0], x=2640.9773, y=-1909.2632, z=2328.1699, fa=270.6537;
			case 4: cost[playerid] = carsBike[pPressed[playerid]][1], model[playerid] = carsBike[pPressed[playerid]][0], x=2640.9773, y=-1909.2632, z=2328.1699, fa=270.6537;
		}
		switch(InShop[playerid])
		{
			case 1: PI[playerid][cClass] = 1;
			case 2: PI[playerid][cClass] = 2;
			case 3: PI[playerid][cClass] = 3;
			case 4: PI[playerid][cClass] = 4;
		}
		if(PI[playerid][pCash] < cost[playerid]) return SendClientMessage(playerid, COLOR_RED, "У Вас недостаточно денег");
		InShop[playerid] = 0;
		TogglePlayerControllable(playerid,true);
		PI[playerid][pCash] -= cost[playerid];
		for(new i; i < 19; i++) PlayerTextDrawHide(playerid,choicecars[playerid][i]);
		FreezePlayer(playerid, 2000);
		SetPlayerPos(playerid,x,y,z);
		SetPlayerFacingAngle(playerid,fa);
		SetPlayerInterior(playerid,1);
		SetPlayerVirtualWorld(playerid,0);
		SetCameraBehindPlayer(playerid);

		for(new i = 0; i < 14; i++) PI[playerid][cVehcoms][i] = 0;
		format(PI[playerid][cVehcom], 64, "%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d",
		PI[playerid][cVehcoms][0],PI[playerid][cVehcoms][1],PI[playerid][cVehcoms][2],
		PI[playerid][cVehcoms][3],PI[playerid][cVehcoms][4],PI[playerid][cVehcoms][5],
		PI[playerid][cVehcoms][6],PI[playerid][cVehcoms][7],PI[playerid][cVehcoms][8],
		PI[playerid][cVehcoms][9],PI[playerid][cVehcoms][10],PI[playerid][cVehcoms][11],
		PI[playerid][cVehcoms][12],PI[playerid][cVehcoms][13]);

		PI[playerid][cModel] = model[playerid];
		PI[playerid][cCost] = cost[playerid];
		PI[playerid][cLock] = 1;
		PI[playerid][cFuel] = 100;
		PI[playerid][cColor][0] = colors[playerid][0];
		PI[playerid][cColor][1] = colors[playerid][1];
		PI[playerid][cPaintjob] = 3;

		SendClientMessage(playerid, COLOR_BLUE, "Поздравляем Вас с успешной покупкой автомобиля!");
		SendClientMessage(playerid, COLOR_BLUE, "Он появится у Вашего дома/квартиры (заберите его в подъезде)");
		//SendClientMessage(playerid, COLOR_BLUE, "Получить номер на Т/С Вы можете {FFCC00}у сотрудника{0099FF} в здании ДПС");
		SendClientMessage(playerid, COLOR_BLUE, "Получить номер на Т/С Вы можете командой{FFCC00} /mynumber{0099FF} в здании ДПС");
		SendClientMessage(playerid, COLOR_BLUE, "Найти отделение ДПС Вы можете в {FFCC00}(/gps -> 3. Организации -> 2. ДПС)");
		CancelSelectTextDraw(playerid);
		
		LoadMyCar(playerid);

		if(PI[playerid][SalonCarID] != INVALID_VEHICLE_ID) DestroyVehicle(PI[playerid][SalonCarID]);
		PI[playerid][SalonCarID] = INVALID_VEHICLE_ID;
		
		SaveAccount(playerid);

		pPressed[playerid] = 0;
		new string[128];
		format(string, sizeof(string), "Игрок %s купил транспорт %s [%i] за %d рублей", GetName(playerid), VehicleNames[GetVehicleModel(PI[playerid][PlayerCarID])-400], GetPlayerVehicleID(playerid), cost[playerid]);
		SendLog("BuyCar", string);
	}
	return 1;
}
stock BuyCloseCar(playerid)
{
	new Float:x, Float:y, Float:z, Float:fa;
	switch(InShop[playerid])
	{
 		case 1: x=672.6094, y=83.4715, z=20.3810, fa=270.6537;
  		case 2: x=672.6094, y=83.4715, z=20.3810, fa=270.6537;
		case 3: x=672.6094, y=83.4715, z=20.3810, fa=270.6537;
		case 4: x=672.6094, y=83.4715, z=20.3810, fa=270.6537;
	}
	if(PI[playerid][SalonCarID] != INVALID_VEHICLE_ID) DestroyVehicle(PI[playerid][SalonCarID]);
	PI[playerid][SalonCarID] = INVALID_VEHICLE_ID;
	InShop[playerid] = 0;
	TogglePlayerControllable(playerid,true);
	FreezePlayer(playerid, 2000);
	for(new i; i < 21; i++) PlayerTextDrawHide(playerid,choicecars[playerid][i]);
	SetPlayerPos(playerid,x,y,z);
	SetPlayerFacingAngle(playerid,fa);
	SetPlayerInterior(playerid,3);
	SetCameraBehindPlayer(playerid);
	pPressed[playerid] = 0;
	return 1;
}
stock LoadMyCar(playerid)
{
	if(GetPlayerHouse(playerid) != 0)
	{
		new h = GetPVarInt(playerid, "PlayerHouse");
		new carid;
		if(PI[playerid][cModel] == 0 || PI[playerid][cModel] < 400 || PI[playerid][cModel] > 611) return 1;
		if(PI[playerid][cPaintjob] > 3 || PI[playerid][cPaintjob] < 0) PI[playerid][cPaintjob] = 3;
		if(PI[playerid][PlayerCarID] != INVALID_VEHICLE_ID)
		{
			if(GetPlayerVehicleID(playerid) == PI[playerid][PlayerCarID]) RemovePlayerFromVehicle(playerid);
			DestroyVehicle(PI[playerid][PlayerCarID]);
			PI[playerid][PlayerCarID] = INVALID_VEHICLE_ID;
		}
		carid = CreateVehicle(PI[playerid][cModel], HouseInfo[h][hCarx], HouseInfo[h][hCary], HouseInfo[h][hCarz], HouseInfo[h][hCarfa], PI[playerid][cColor][0], PI[playerid][cColor][1], 90000);
		SetVehicleVirtualWorld(PI[playerid][PlayerCarID], 0);
		LinkVehicleToInterior(PI[playerid][PlayerCarID], 0);
		PI[playerid][PlayerCarID] = carid;
		CarDoors(carid, PI[playerid][cLock]);
		Fuel[carid] = PI[playerid][cFuel];
		SetVehicleHealth(carid, 1000);
		Engine[carid] = Lights[PI[playerid][PlayerCarID]] = false;
		//IsLocked[carid] = (!PI[playerid][cLock]) ? (false) : (true);
		IsLocked[PI[playerid][PlayerCarID]] = true;
		for(new i; i < 14; i++)
		{
			if(PI[playerid][cVehcoms][i]) AddVehicleComponent(PI[playerid][PlayerCarID], PI[playerid][cVehcoms][i]);
		}
		if(PI[playerid][cPaintjob] != 3) ChangeVehiclePaintjob(PI[playerid][PlayerCarID], PI[playerid][cPaintjob]);
		new labeltext[60];
		format(labeltext, sizeof(labeltext), "%s", PI[playerid][pNumberVehicle]);
		VehicleLabel[carid] = Create3DTextLabel(labeltext, 0xFFFFFFFF, 0, 0, 0, 10.0, 0);
		Attach3DTextLabelToVehicle(VehicleLabel[carid], carid, 0, 0, 0.2);
		SetVehicleNumberPlate(carid, PI[playerid][pNumberVehicle]);
	}
	/*else if(GetPlayerPorchHouse(playerid) != 0)
	{
		new h = GetPlayerPorchHouse(playerid);
		new porch = floatround(h / 9, floatround_floor) + 1;
		new carid;
		if(PI[playerid][cModel] == 0 || PI[playerid][cModel] < 400 || PI[playerid][cModel] > 611) return 1;
		if(PI[playerid][cPaintjob] > 3 || PI[playerid][cPaintjob] < 0) PI[playerid][cPaintjob] = 3;
		if(PI[playerid][PlayerCarID] != INVALID_VEHICLE_ID)
		{
			DestroyVehicle(PI[playerid][PlayerCarID]);
			PI[playerid][PlayerCarID] = INVALID_VEHICLE_ID;
		}
		carid = CreateVehicle(PI[playerid][cModel], PorchInfo[porch][pCarX], PorchInfo[porch][pCarY], PorchInfo[porch][pCarZ], PorchInfo[porch][pCarA], PI[playerid][cColor][0], PI[playerid][cColor][1], 90000);
		SetVehicleVirtualWorld(PI[playerid][PlayerCarID], 0);
		LinkVehicleToInterior(PI[playerid][PlayerCarID], 0);
		PI[playerid][PlayerCarID] = carid;
		CarDoors(carid, PI[playerid][cLock]);
		Fuel[carid] = PI[playerid][cFuel];
		SetVehicleHealth(carid, 1000);
		Engine[carid] = Lights[PI[playerid][PlayerCarID]] = false;
		//IsLocked[carid] = (!PI[playerid][cLock]) ? (false) : (true);
		IsLocked[PI[playerid][PlayerCarID]] = true;
		for(new i; i < 14; i++)
		{
			if(PI[playerid][cVehcoms][i]) AddVehicleComponent(PI[playerid][PlayerCarID], PI[playerid][cVehcoms][i]);
		}
		if(PI[playerid][cPaintjob] != 3) ChangeVehiclePaintjob(PI[playerid][PlayerCarID], PI[playerid][cPaintjob]);
		new labeltext[60];
		format(labeltext, sizeof(labeltext), "%s", PI[playerid][pNumberVehicle]);
		VehicleLabel[carid] = Create3DTextLabel(labeltext, 0xFFFFFFFF, 0, 0, 0, 10.0, 0);
		Attach3DTextLabelToVehicle(VehicleLabel[carid], carid, 0, 0, 0.2);
		SetVehicleNumberPlate(carid, PI[playerid][pNumberVehicle]);
	}*/
	return 1;
}
stock SendVipMessage(color, str[])
{
	foreach(new i: Player)
	{
		if(!PlayerLogged[i]) continue;
		if(PI[i][pVip] > 0) SendClientMessage(i, color, str);
	}
	return 1;
}
stock SendAdminMessage(color, str[], level = 1)
{
	foreach(new i: Player)
	{
		if(!PlayerLogged[i]) continue;
		if(PI[i][pAdmin] >= level) SendClientMessage(i, color, str);
	}
	return 1;
}

stock SendYouTuberMessage(color, str[], alogs = -1)
{
	foreach(new playerid: YouTubers)
	{
		if(alogs == -1)
		{
			if(PlayerLogged[playerid]) if(PI[playerid][pYouTuber] > 0) SendClientMessage(playerid, color, str);
		}
		else
		{
			if(AdminInfo[playerid][admAlog] == 1)
			{
				if(PI[playerid][pYouTuber] > 0) SendClientMessage(playerid, color, str);
			}
			else continue;
		}
	}
	return 1;
}
/*stock family_message(family, color, string[])
{
	foreach(new i : Player)
	{
		if(IsPlayerConnected(i))
		{
			if(PI[i][pFamily] == family)
			{
				SendClientMessage(i, color, string);
			}
		}
	}
}*/
/*stock SendYouTuberMessage(color, str[])
{
	foreach(new i: Player)
	{
		if(!PlayerLogged[i]) continue;
		if(PI[i][pYouTube] == 1) SendClientMessage(i, color, str);
	}
	return 1;
}
stock SendSupportMessage(color, str[])
{
	foreach(new i: Player)
	{
		if(!PlayerLogged[i]) continue;
		if(PI[i][pSupports] == 1) SendClientMessage(i, color, str);
	}
	return 1;
}*/
stock SendAdminMessageEx(color, str[], admin_level)
{
	foreach(new i: Player)
	{
		if(!PlayerLogged[i]) continue;
		if(PI[i][pAdmin] >= admin_level) SendClientMessage(i, color, str);
	}
	return 1;
}
stock SendAdminMessageToAll(color, const message[])
{
	foreach(new i: Player)
	{
		if(!PlayerLogged[i]) continue;
		SendClientMessage(i, color, message);
	}
}
stock SendDMes(color, str[])
{
	foreach(new i: Player)
	{
		if(!PlayerLogged[i]) continue;
		if(PI[i][pMember] == TEAM_VDV || IsAMedic(i) || IsAMayor(i) || IsACop(i) || IsANews(i)) SendClientMessage(i, color, str);
	}
	return 1;
}

stock SendNMes(news, color, str[])
{
	foreach(new i: Player)
	{
		if(!PlayerLogged[i]) continue;
		if(PI[i][pNews] == news) SendClientMessage(i, color, str);
	}
	return 1;
}

stock ProxDetectorNew(playerid, Float:Radi = 10.0, color, text[])
{
	new Float:posx, Float:posy, Float:posz;
	GetPlayerPos(playerid, posx, posy, posz);
	foreach(new i: Player)
	{
		if(GetPlayerVirtualWorld(i) == GetPlayerVirtualWorld(playerid)
 		&& GetPlayerInterior(playerid) == GetPlayerInterior(i)
 		&& IsPlayerInRangeOfPoint(i, Radi, posx, posy, posz)) SendClientMessage(i, color, text);
	}
	return 1;
}

stock ProxDetector(Float:radi, playerid, str[],col1,col2,col3,col4,col5)
{
	new Float:posx, Float:posy, Float:posz, Float:oldposx, Float:oldposy,
	Float:oldposz, Float:tempposx, Float:tempposy, Float:tempposz;
	GetPlayerPos(playerid, oldposx, oldposy, oldposz);
	foreach(new i: Player)
	{
		if(PlayerLogged[i] == false) continue;
		GetPlayerPos(i, posx, posy, posz);
		tempposx = (oldposx -posx);
		tempposy = (oldposy -posy);
		tempposz = (oldposz -posz);
		if (((tempposx < radi/16) && (tempposx > -radi/16)) && ((tempposy < radi/16) && (tempposy > -radi/16)) && ((tempposz < radi/16) && (tempposz > -radi/16))) SendClientMessage(i, col1, str);
		else if (((tempposx < radi/8) && (tempposx > -radi/8)) && ((tempposy < radi/8) && (tempposy > -radi/8)) && ((tempposz < radi/8) && (tempposz > -radi/8))) SendClientMessage(i, col2, str);
		else if (((tempposx < radi/4) && (tempposx > -radi/4)) && ((tempposy < radi/4) && (tempposy > -radi/4)) && ((tempposz < radi/4) && (tempposz > -radi/4))) SendClientMessage(i, col3, str);
		else if (((tempposx < radi/2) && (tempposx > -radi/2)) && ((tempposy < radi/2) && (tempposy > -radi/2)) && ((tempposz < radi/2) && (tempposz > -radi/2))) SendClientMessage(i, col4, str);
		else if (((tempposx < radi) && (tempposx > -radi)) && ((tempposy < radi) && (tempposy > -radi)) && ((tempposz < radi) && (tempposz > -radi))) SendClientMessage(i, col5, str);
	}
	return 1;
}

stock IsPlayerInRangeOfPlayer(Float:radi, playerid, targetid)
{
	if(IsPlayerConnected(playerid) && IsPlayerConnected(targetid) && !IsPlayerNPC(playerid) && !IsPlayerNPC(targetid))
	{
		new Float:posx, Float:posy, Float:posz;
		GetPlayerPos(targetid, posx, posy, posz);
		if(IsPlayerInRangeOfPoint(playerid, radi, posx, posy, posz)) return 1;
	}
	return 0;
}

stock IsVehicleInRangeOfPoint(vehicleid, Float:distance, Float:x, Float:y, Float:z)
{
	new Float:oldposx, Float:oldposy, Float:oldposz;
	new Float:tempposx, Float:tempposy, Float:tempposz;
	GetVehiclePos(vehicleid, oldposx, oldposy, oldposz);
	tempposx = (oldposx - x);
	tempposy = (oldposy - y);
	tempposz = (oldposz - z);
	if (((tempposx < distance) && (tempposx > -distance)) && ((tempposy < distance) && (tempposy > -distance)) && ((tempposz < distance) && (tempposz > -distance)))return true;
	return false;
}

stock SpeedVehicle(playerid)
{
	new Float:ST[4];
	if(IsPlayerInAnyVehicle(playerid)) GetVehicleVelocity(GetPlayerVehicleID(playerid),ST[0],ST[1],ST[2]);
	else GetPlayerVelocity(playerid,ST[0],ST[1],ST[2]);
	ST[3] = floatsqroot(floatpower(floatabs(ST[0]), 2.0) + floatpower(floatabs(ST[1]), 2.0) + floatpower(floatabs(ST[2]), 2.0)) * 213.3;
	return floatround(ST[3]);
}

stock TextDrawCreates(playerid)
{
    SecurityCode[playerid][0] = CreatePlayerTextDraw(playerid,  513.333374, 287.066650, "1");
	PlayerTextDrawLetterSize(playerid, SecurityCode[playerid][0], 0.760999, 2.894222);
	PlayerTextDrawTextSize(playerid, SecurityCode[playerid][0], 528.666748, 18.000000);
	PlayerTextDrawAlignment(playerid, SecurityCode[playerid][0], 1);
	PlayerTextDrawColor(playerid, SecurityCode[playerid][0], -1);
	PlayerTextDrawUseBox(playerid, SecurityCode[playerid][0], 1);
	PlayerTextDrawBoxColor(playerid, SecurityCode[playerid][0], -5963521);
	PlayerTextDrawSetShadow(playerid, SecurityCode[playerid][0], 0);
	PlayerTextDrawSetOutline(playerid, SecurityCode[playerid][0], 0);
	PlayerTextDrawBackgroundColor(playerid, SecurityCode[playerid][0], 255);
	PlayerTextDrawFont(playerid, SecurityCode[playerid][0], 3);
	PlayerTextDrawSetProportional(playerid, SecurityCode[playerid][0], 1);
	PlayerTextDrawSetShadow(playerid, SecurityCode[playerid][0], 0);
	PlayerTextDrawSetSelectable(playerid, SecurityCode[playerid][0], true);

	SecurityCode[playerid][5] = CreatePlayerTextDraw(playerid,  533.228515, 287.066650, "6");
	PlayerTextDrawLetterSize(playerid, SecurityCode[playerid][5], 0.760999, 2.894222);
	PlayerTextDrawTextSize(playerid, SecurityCode[playerid][5], 548.561889, 18.000000);
	PlayerTextDrawAlignment(playerid, SecurityCode[playerid][5], 1);
	PlayerTextDrawColor(playerid, SecurityCode[playerid][5], -1);
	PlayerTextDrawUseBox(playerid, SecurityCode[playerid][5], 1);
	PlayerTextDrawBoxColor(playerid, SecurityCode[playerid][5], -5963521);
	PlayerTextDrawSetShadow(playerid, SecurityCode[playerid][5], 0);
	PlayerTextDrawSetOutline(playerid, SecurityCode[playerid][5], 0);
	PlayerTextDrawBackgroundColor(playerid, SecurityCode[playerid][5], 255);
	PlayerTextDrawFont(playerid, SecurityCode[playerid][5], 3);
	PlayerTextDrawSetProportional(playerid, SecurityCode[playerid][5], 1);
	PlayerTextDrawSetShadow(playerid, SecurityCode[playerid][5], 0);
	PlayerTextDrawSetSelectable(playerid, SecurityCode[playerid][5], true);

	SecurityCode[playerid][2] = CreatePlayerTextDraw(playerid,  553.523559, 287.066650, "3");
	PlayerTextDrawLetterSize(playerid, SecurityCode[playerid][2], 0.760999, 2.894222);
	PlayerTextDrawTextSize(playerid, SecurityCode[playerid][2], 568.856933, 18.000000);
	PlayerTextDrawAlignment(playerid, SecurityCode[playerid][2], 1);
	PlayerTextDrawColor(playerid, SecurityCode[playerid][2], -1);
	PlayerTextDrawUseBox(playerid, SecurityCode[playerid][2], 1);
	PlayerTextDrawBoxColor(playerid, SecurityCode[playerid][2], -5963521);
	PlayerTextDrawSetShadow(playerid, SecurityCode[playerid][2], 0);
	PlayerTextDrawSetOutline(playerid, SecurityCode[playerid][2], 0);
	PlayerTextDrawBackgroundColor(playerid, SecurityCode[playerid][2], 255);
	PlayerTextDrawFont(playerid, SecurityCode[playerid][2], 3);
	PlayerTextDrawSetProportional(playerid, SecurityCode[playerid][2], 1);
	PlayerTextDrawSetShadow(playerid, SecurityCode[playerid][2], 0);
	PlayerTextDrawSetSelectable(playerid, SecurityCode[playerid][2], true);

	SecurityCode[playerid][4] = CreatePlayerTextDraw(playerid,  553.523559, 318.868591, "5");
	PlayerTextDrawLetterSize(playerid, SecurityCode[playerid][4], 0.760999, 2.894222);
	PlayerTextDrawTextSize(playerid, SecurityCode[playerid][4], 568.856933, 18.000000);
	PlayerTextDrawAlignment(playerid, SecurityCode[playerid][4], 1);
	PlayerTextDrawColor(playerid, SecurityCode[playerid][4], -1);
	PlayerTextDrawUseBox(playerid, SecurityCode[playerid][4], 1);
	PlayerTextDrawBoxColor(playerid, SecurityCode[playerid][4], -5963521);
	PlayerTextDrawSetShadow(playerid, SecurityCode[playerid][4], 0);
	PlayerTextDrawSetOutline(playerid, SecurityCode[playerid][4], 0);
	PlayerTextDrawBackgroundColor(playerid, SecurityCode[playerid][4], 255);
	PlayerTextDrawFont(playerid, SecurityCode[playerid][4], 3);
	PlayerTextDrawSetProportional(playerid, SecurityCode[playerid][4], 1);
	PlayerTextDrawSetShadow(playerid, SecurityCode[playerid][4], 0);
	PlayerTextDrawSetSelectable(playerid, SecurityCode[playerid][4], true);

	SecurityCode[playerid][7] = CreatePlayerTextDraw(playerid,  533.228515, 318.868591, "8");
	PlayerTextDrawLetterSize(playerid, SecurityCode[playerid][7], 0.760999, 2.894222);
	PlayerTextDrawTextSize(playerid, SecurityCode[playerid][7], 548.561889, 18.000000);
	PlayerTextDrawAlignment(playerid, SecurityCode[playerid][7], 1);
	PlayerTextDrawColor(playerid, SecurityCode[playerid][7], -1);
	PlayerTextDrawUseBox(playerid, SecurityCode[playerid][7], 1);
	PlayerTextDrawBoxColor(playerid, SecurityCode[playerid][7], -5963521);
	PlayerTextDrawSetShadow(playerid, SecurityCode[playerid][7], 0);
	PlayerTextDrawSetOutline(playerid, SecurityCode[playerid][7], 0);
	PlayerTextDrawBackgroundColor(playerid, SecurityCode[playerid][7], 255);
	PlayerTextDrawFont(playerid, SecurityCode[playerid][7], 3);
	PlayerTextDrawSetProportional(playerid, SecurityCode[playerid][7], 1);
	PlayerTextDrawSetShadow(playerid, SecurityCode[playerid][7], 0);
	PlayerTextDrawSetSelectable(playerid, SecurityCode[playerid][7], true);

	SecurityCode[playerid][6] = CreatePlayerTextDraw(playerid,  513.233398, 318.868591, "7");
	PlayerTextDrawLetterSize(playerid, SecurityCode[playerid][6], 0.760999, 2.894222);
	PlayerTextDrawTextSize(playerid, SecurityCode[playerid][6], 528.566772, 18.000000);
	PlayerTextDrawAlignment(playerid, SecurityCode[playerid][6], 1);
	PlayerTextDrawColor(playerid, SecurityCode[playerid][6], -1);
	PlayerTextDrawUseBox(playerid, SecurityCode[playerid][6], 1);
	PlayerTextDrawBoxColor(playerid, SecurityCode[playerid][6], -5963521);
	PlayerTextDrawSetShadow(playerid, SecurityCode[playerid][6], 0);
	PlayerTextDrawSetOutline(playerid, SecurityCode[playerid][6], 0);
	PlayerTextDrawBackgroundColor(playerid, SecurityCode[playerid][6], 255);
	PlayerTextDrawFont(playerid, SecurityCode[playerid][6], 3);
	PlayerTextDrawSetProportional(playerid, SecurityCode[playerid][6], 1);
	PlayerTextDrawSetShadow(playerid, SecurityCode[playerid][6], 0);
	PlayerTextDrawSetSelectable(playerid, SecurityCode[playerid][6], true);

	SecurityCode[playerid][1] = CreatePlayerTextDraw(playerid,  513.233398, 350.770538, "2");
	PlayerTextDrawLetterSize(playerid, SecurityCode[playerid][1], 0.760999, 2.894222);
	PlayerTextDrawTextSize(playerid, SecurityCode[playerid][1], 528.566772, 18.000000);
	PlayerTextDrawAlignment(playerid, SecurityCode[playerid][1], 1);
	PlayerTextDrawColor(playerid, SecurityCode[playerid][1], -1);
	PlayerTextDrawUseBox(playerid, SecurityCode[playerid][1], 1);
	PlayerTextDrawBoxColor(playerid, SecurityCode[playerid][1], -5963521);
	PlayerTextDrawSetShadow(playerid, SecurityCode[playerid][1], 0);
	PlayerTextDrawSetOutline(playerid, SecurityCode[playerid][1], 0);
	PlayerTextDrawBackgroundColor(playerid, SecurityCode[playerid][1], 255);
	PlayerTextDrawFont(playerid, SecurityCode[playerid][1], 3);
	PlayerTextDrawSetProportional(playerid, SecurityCode[playerid][1], 1);
	PlayerTextDrawSetShadow(playerid, SecurityCode[playerid][1], 0);
	PlayerTextDrawSetSelectable(playerid, SecurityCode[playerid][1], true);

	SecurityCode[playerid][3] = CreatePlayerTextDraw(playerid,  533.328491, 350.770538, "4");
	PlayerTextDrawLetterSize(playerid, SecurityCode[playerid][3], 0.760999, 2.894222);
	PlayerTextDrawTextSize(playerid, SecurityCode[playerid][3], 548.661865, 18.000000);
	PlayerTextDrawAlignment(playerid, SecurityCode[playerid][3], 1);
	PlayerTextDrawColor(playerid, SecurityCode[playerid][3], -1);
	PlayerTextDrawUseBox(playerid, SecurityCode[playerid][3], 1);
	PlayerTextDrawBoxColor(playerid, SecurityCode[playerid][3], -5963521);
	PlayerTextDrawSetShadow(playerid, SecurityCode[playerid][3], 0);
	PlayerTextDrawSetOutline(playerid, SecurityCode[playerid][3], 0);
	PlayerTextDrawBackgroundColor(playerid, SecurityCode[playerid][3], 255);
	PlayerTextDrawFont(playerid, SecurityCode[playerid][3], 3);
	PlayerTextDrawSetProportional(playerid, SecurityCode[playerid][3], 1);
	PlayerTextDrawSetShadow(playerid, SecurityCode[playerid][3], 0);
	PlayerTextDrawSetSelectable(playerid, SecurityCode[playerid][3], true);

	SecurityCode[playerid][8] = CreatePlayerTextDraw(playerid,  553.523559, 350.770538, "9");
	PlayerTextDrawLetterSize(playerid, SecurityCode[playerid][8], 0.760999, 2.894222);
	PlayerTextDrawTextSize(playerid, SecurityCode[playerid][8], 568.856933, 18.000000);
	PlayerTextDrawAlignment(playerid, SecurityCode[playerid][8], 1);
	PlayerTextDrawColor(playerid, SecurityCode[playerid][8], -1);
	PlayerTextDrawUseBox(playerid, SecurityCode[playerid][8], 1);
	PlayerTextDrawBoxColor(playerid, SecurityCode[playerid][8], -5963521);
	PlayerTextDrawSetShadow(playerid, SecurityCode[playerid][8], 0);
	PlayerTextDrawSetOutline(playerid, SecurityCode[playerid][8], 0);
	PlayerTextDrawBackgroundColor(playerid, SecurityCode[playerid][8], 255);
	PlayerTextDrawFont(playerid, SecurityCode[playerid][8], 3);
	PlayerTextDrawSetProportional(playerid, SecurityCode[playerid][8], 1);
	PlayerTextDrawSetShadow(playerid, SecurityCode[playerid][8], 0);
	PlayerTextDrawSetSelectable(playerid, SecurityCode[playerid][8], true);

/*	StatusWork[playerid][0] = CreatePlayerTextDraw(playerid,  609.500000, 143.687500, " ");
	PlayerTextDrawLetterSize(playerid, GreenZoneText[playerid][0], 0.000000, 0.016666);
	PlayerTextDrawTextSize(playerid, GreenZoneText[playerid][0], 0.500000, 0.000000);
	PlayerTextDrawAlignment(playerid, GreenZoneText[playerid][0], 0);
	PlayerTextDrawColor(playerid, GreenZoneText[playerid][0], 0);
	PlayerTextDrawUseBox(playerid, GreenZoneText[playerid][0], true);
	PlayerTextDrawBoxColor(playerid, GreenZoneText[playerid][0], 0);
	PlayerTextDrawSetShadow(playerid, GreenZoneText[playerid][0], 0);
	PlayerTextDrawSetOutline(playerid, GreenZoneText[playerid][0], 0);
	PlayerTextDrawFont(playerid, GreenZoneText[playerid][0], 0);
*/
	StatusWork[playerid][1] = CreatePlayerTextDraw(playerid,  478.000000, 187.419998, "usebox");
	PlayerTextDrawLetterSize(playerid, StatusWork[playerid][1], 0.000000, 9.638891);
	PlayerTextDrawTextSize(playerid, StatusWork[playerid][1], 618.000000, 0.000000);
	PlayerTextDrawAlignment(playerid, StatusWork[playerid][1], 1);
	PlayerTextDrawColor(playerid, StatusWork[playerid][1], 0);
	PlayerTextDrawUseBox(playerid, StatusWork[playerid][1], true);
	PlayerTextDrawBoxColor(playerid, StatusWork[playerid][1], 102);
	PlayerTextDrawSetShadow(playerid, StatusWork[playerid][1], 0);
	PlayerTextDrawSetOutline(playerid, StatusWork[playerid][1], 0);
	PlayerTextDrawFont(playerid, StatusWork[playerid][1], 0);

	StatusWork[playerid][2] = CreatePlayerTextDraw(playerid,  619.439941, 191.899978, "usebox");
	PlayerTextDrawLetterSize(playerid, StatusWork[playerid][2], -0.006399, 8.520547);
	PlayerTextDrawTextSize(playerid, StatusWork[playerid][2], 476.399993, 0.000000);
	PlayerTextDrawAlignment(playerid, StatusWork[playerid][2], 1);
	PlayerTextDrawColor(playerid, StatusWork[playerid][2], 0);
	PlayerTextDrawUseBox(playerid, StatusWork[playerid][2], true);
	PlayerTextDrawBoxColor(playerid, StatusWork[playerid][2], -5963521);
	PlayerTextDrawSetShadow(playerid, StatusWork[playerid][2], 0);
	PlayerTextDrawSetOutline(playerid, StatusWork[playerid][2], 0);
	PlayerTextDrawFont(playerid, StatusWork[playerid][2], 0);

	StatusWork[playerid][3] = CreatePlayerTextDraw(playerid,  495.999908, 191.893264, "ИНФОРМАЦИЯ");
	PlayerTextDrawLetterSize(playerid, StatusWork[playerid][3], 0.383599, 1.652266);
	PlayerTextDrawAlignment(playerid, StatusWork[playerid][3], 1);
	PlayerTextDrawColor(playerid, StatusWork[playerid][3], -1);
	PlayerTextDrawSetShadow(playerid, StatusWork[playerid][3], 0);
	PlayerTextDrawSetOutline(playerid, StatusWork[playerid][3], 1);
	PlayerTextDrawBackgroundColor(playerid, StatusWork[playerid][3], 51);
	PlayerTextDrawFont(playerid, StatusWork[playerid][3], 2);
	PlayerTextDrawSetProportional(playerid, StatusWork[playerid][3], 1);

	StatusWork[playerid][4] = CreatePlayerTextDraw(playerid,  485.239898, 217.458587, "ПPИНEСEНО: 0");
	PlayerTextDrawLetterSize(playerid, StatusWork[playerid][4], 0.383599, 1.652266);
	PlayerTextDrawAlignment(playerid, StatusWork[playerid][4], 1);
	PlayerTextDrawColor(playerid, StatusWork[playerid][4], -1);
	PlayerTextDrawSetShadow(playerid, StatusWork[playerid][4], 0);
	PlayerTextDrawSetOutline(playerid, StatusWork[playerid][4], 1);
	PlayerTextDrawBackgroundColor(playerid, StatusWork[playerid][4], 51);
	PlayerTextDrawFont(playerid, StatusWork[playerid][4], 2);
	PlayerTextDrawSetProportional(playerid, StatusWork[playerid][4], 1);

	StatusWork[playerid][5] = CreatePlayerTextDraw(playerid,  486.000000, 241.530441, "ПРOЦEНТ: 0 %");
	PlayerTextDrawLetterSize(playerid, StatusWork[playerid][5], 0.416878, 1.632107);
	PlayerTextDrawAlignment(playerid, StatusWork[playerid][5], 1);
	PlayerTextDrawColor(playerid, StatusWork[playerid][5], -1);
	PlayerTextDrawSetShadow(playerid, StatusWork[playerid][5], 0);
	PlayerTextDrawSetOutline(playerid, StatusWork[playerid][5], 1);
	PlayerTextDrawBackgroundColor(playerid, StatusWork[playerid][5], 51);
	PlayerTextDrawFont(playerid, StatusWork[playerid][5], 2);
	PlayerTextDrawSetProportional(playerid, StatusWork[playerid][5], 1);

//==============================================================================
/*	GreenZoneText[playerid][0] = CreatePlayerTextDraw(playerid, 18.666662, 270.044372, "LD_SPAC:white");//
	PlayerTextDrawLetterSize(playerid, GreenZoneText[playerid][0], 0.000000, 0.000000);
	PlayerTextDrawTextSize(playerid, GreenZoneText[playerid][0], 85.666664, 12.029632);
	PlayerTextDrawAlignment(playerid, GreenZoneText[playerid][0], 1);
	PlayerTextDrawColor(playerid, GreenZoneText[playerid][0], -491053057);
	PlayerTextDrawSetShadow(playerid, GreenZoneText[playerid][0], 0);
	PlayerTextDrawSetOutline(playerid, GreenZoneText[playerid][0], 0);
	PlayerTextDrawBackgroundColor(playerid, GreenZoneText[playerid][0], -305712641);
	PlayerTextDrawFont(playerid, GreenZoneText[playerid][0], 4);

	GreenZoneText[playerid][1] = CreatePlayerTextDraw(playerid, 10.333336, 266.725860, "LD_BEAT:chit");//
	PlayerTextDrawLetterSize(playerid, GreenZoneText[playerid][1], 0.000000, 0.000000);
	PlayerTextDrawTextSize(playerid, GreenZoneText[playerid][1], 18.333328, 18.666656);
	PlayerTextDrawAlignment(playerid, GreenZoneText[playerid][1], 1);
	PlayerTextDrawColor(playerid, GreenZoneText[playerid][1], -491053057);
	PlayerTextDrawSetShadow(playerid, GreenZoneText[playerid][1], 0);
	PlayerTextDrawSetOutline(playerid, GreenZoneText[playerid][1], 0);
	PlayerTextDrawFont(playerid, GreenZoneText[playerid][1], 4);

	GreenZoneText[playerid][2] = CreatePlayerTextDraw(playerid, 93.666664, 266.896301, "LD_BEAT:chit");//
	PlayerTextDrawLetterSize(playerid, GreenZoneText[playerid][2], 0.000000, 0.000000);
	PlayerTextDrawTextSize(playerid, GreenZoneText[playerid][2], 18.666660, 18.251846);
	PlayerTextDrawAlignment(playerid, GreenZoneText[playerid][2], 1);
	PlayerTextDrawColor(playerid, GreenZoneText[playerid][2], -491053057);
	PlayerTextDrawSetShadow(playerid, GreenZoneText[playerid][2], 0);
	PlayerTextDrawSetOutline(playerid, GreenZoneText[playerid][2], 0);
	PlayerTextDrawFont(playerid, GreenZoneText[playerid][2], 4);

	GreenZoneText[playerid][3] = CreatePlayerTextDraw(playerid, 93.666671, 254.866531, "LD_BEAT:chit");//
	PlayerTextDrawLetterSize(playerid, GreenZoneText[playerid][3], 0.000000, 0.000000);
	PlayerTextDrawTextSize(playerid, GreenZoneText[playerid][3], 13.666660, 14.103694);
	PlayerTextDrawAlignment(playerid, GreenZoneText[playerid][3], 1);
	PlayerTextDrawColor(playerid, GreenZoneText[playerid][3], -491053057);
	PlayerTextDrawSetShadow(playerid, GreenZoneText[playerid][3], 0);
	PlayerTextDrawSetOutline(playerid, GreenZoneText[playerid][3], 0);
	PlayerTextDrawFont(playerid, GreenZoneText[playerid][3], 4);

	GreenZoneText[playerid][4] = CreatePlayerTextDraw(playerid, 104.666687, 265.407287, "LD_BEAT:chit");//
	PlayerTextDrawLetterSize(playerid, GreenZoneText[playerid][4], 0.000000, 0.000000);
	PlayerTextDrawTextSize(playerid, GreenZoneText[playerid][4], 3.999993, 3.733323);
	PlayerTextDrawAlignment(playerid, GreenZoneText[playerid][4], 1);
	PlayerTextDrawColor(playerid, GreenZoneText[playerid][4], -491053057);
	PlayerTextDrawSetShadow(playerid, GreenZoneText[playerid][4], 0);
	PlayerTextDrawSetOutline(playerid, GreenZoneText[playerid][4], 0);
	PlayerTextDrawFont(playerid, GreenZoneText[playerid][4], 4);

	GreenZoneText[playerid][5] = CreatePlayerTextDraw(playerid, 108.666671, 269.311004, "LD_BEAT:chit");//
	PlayerTextDrawLetterSize(playerid, GreenZoneText[playerid][5], 0.000000, 0.000000);
	PlayerTextDrawTextSize(playerid, GreenZoneText[playerid][5], 2.333326, 1.659250);
	PlayerTextDrawAlignment(playerid, GreenZoneText[playerid][5], 1);
	PlayerTextDrawColor(playerid, GreenZoneText[playerid][5], -491053057);
	PlayerTextDrawSetShadow(playerid, GreenZoneText[playerid][5], 0);
	PlayerTextDrawSetOutline(playerid, GreenZoneText[playerid][5], 0);
	PlayerTextDrawFont(playerid, GreenZoneText[playerid][5], 4);

	GreenZoneText[playerid][6] = CreatePlayerTextDraw(playerid, 31.666656, 270.459320, "€E‡EHA•_€OHA");//
	PlayerTextDrawLetterSize(playerid, GreenZoneText[playerid][6], 0.210999, 1.127111);
	PlayerTextDrawAlignment(playerid, GreenZoneText[playerid][6], 1);
	PlayerTextDrawColor(playerid, GreenZoneText[playerid][6], 993737215);
	PlayerTextDrawSetShadow(playerid, GreenZoneText[playerid][6], 0);
	PlayerTextDrawSetOutline(playerid, GreenZoneText[playerid][6], 0);
	PlayerTextDrawBackgroundColor(playerid, GreenZoneText[playerid][6], 51);
	PlayerTextDrawFont(playerid, GreenZoneText[playerid][6], 2);
	PlayerTextDrawSetProportional(playerid, GreenZoneText[playerid][6], 1);

	GreenZoneText[playerid][7] = CreatePlayerTextDraw(playerid, 99.333351, 255.940719, "!");//
	PlayerTextDrawLetterSize(playerid, GreenZoneText[playerid][7], 0.297333, 1.131258);
	PlayerTextDrawAlignment(playerid, GreenZoneText[playerid][7], 1);
	PlayerTextDrawColor(playerid, GreenZoneText[playerid][7], 993737215);
	PlayerTextDrawSetShadow(playerid, GreenZoneText[playerid][7], 0);
	PlayerTextDrawSetOutline(playerid, GreenZoneText[playerid][7], 0);
	PlayerTextDrawBackgroundColor(playerid, GreenZoneText[playerid][7], 51);
	PlayerTextDrawFont(playerid, GreenZoneText[playerid][7], 0);
	PlayerTextDrawSetProportional(playerid, GreenZoneText[playerid][7], 1);
*/
//==============================================================================

	CaptureTD[playerid][0] = CreatePlayerTextDraw(playerid, 156.399993, 220.273345, "usebox");
	PlayerTextDrawLetterSize(playerid, CaptureTD[playerid][0], 0.000000, 5.822591);
	PlayerTextDrawTextSize(playerid, CaptureTD[playerid][0], 23.599998, 0.000000);
	PlayerTextDrawAlignment(playerid, CaptureTD[playerid][0], 1);
	PlayerTextDrawColor(playerid, CaptureTD[playerid][0], 0);
	PlayerTextDrawUseBox(playerid, CaptureTD[playerid][0], true);
	PlayerTextDrawBoxColor(playerid, CaptureTD[playerid][0], 102);
	PlayerTextDrawSetShadow(playerid, CaptureTD[playerid][0], 0);
	PlayerTextDrawSetOutline(playerid, CaptureTD[playerid][0], 0);
	PlayerTextDrawFont(playerid, CaptureTD[playerid][0], 0);

	CaptureTD[playerid][1] = CreatePlayerTextDraw(playerid, 49.600002, 221.013366, "ЗАХВАТ ТЕРРИТОРИИ");
	PlayerTextDrawLetterSize(playerid, CaptureTD[playerid][1], 0.174796, 1.316264);
	PlayerTextDrawAlignment(playerid, CaptureTD[playerid][1], 1);
	PlayerTextDrawColor(playerid, CaptureTD[playerid][1], -1);
	PlayerTextDrawSetShadow(playerid, CaptureTD[playerid][1], 0);
	PlayerTextDrawSetOutline(playerid, CaptureTD[playerid][1], 1);
	PlayerTextDrawBackgroundColor(playerid, CaptureTD[playerid][1], 51);
	PlayerTextDrawFont(playerid, CaptureTD[playerid][1], 2);
	PlayerTextDrawSetProportional(playerid, CaptureTD[playerid][1], 1);

	CaptureTD[playerid][2] = CreatePlayerTextDraw(playerid, 150.800003, 235.206695, "usebox");
	PlayerTextDrawLetterSize(playerid, CaptureTD[playerid][2], 0.000000, -0.565556);
	PlayerTextDrawTextSize(playerid, CaptureTD[playerid][2], 23.599998, 0.000000);
	PlayerTextDrawAlignment(playerid, CaptureTD[playerid][2], 1);
	PlayerTextDrawColor(playerid, CaptureTD[playerid][2], 0);
	PlayerTextDrawUseBox(playerid, CaptureTD[playerid][2], true);
	PlayerTextDrawBoxColor(playerid, CaptureTD[playerid][2], 102);
	PlayerTextDrawSetShadow(playerid, CaptureTD[playerid][2], 0);
	PlayerTextDrawSetOutline(playerid, CaptureTD[playerid][2], 0);
	PlayerTextDrawFont(playerid, CaptureTD[playerid][2], 0);

	CaptureTD[playerid][3] = CreatePlayerTextDraw(playerid, 30.399995, 237.440017, "ВРЕМЯ:");
	PlayerTextDrawLetterSize(playerid, CaptureTD[playerid][3], 0.156395, 1.398398);
	PlayerTextDrawAlignment(playerid, CaptureTD[playerid][3], 1);
	PlayerTextDrawColor(playerid, CaptureTD[playerid][3], -5963521);
	PlayerTextDrawSetShadow(playerid, CaptureTD[playerid][3], 0);
	PlayerTextDrawSetOutline(playerid, CaptureTD[playerid][3], 1);
	PlayerTextDrawBackgroundColor(playerid, CaptureTD[playerid][3], 51);
	PlayerTextDrawFont(playerid, CaptureTD[playerid][3], 2);
	PlayerTextDrawSetProportional(playerid, CaptureTD[playerid][3], 1);

	CaptureTD[playerid][4] = CreatePlayerTextDraw(playerid, 56.000015, 238.933349, "12:00");
	PlayerTextDrawLetterSize(playerid, CaptureTD[playerid][4], 0.205999, 1.114665);
	PlayerTextDrawAlignment(playerid, CaptureTD[playerid][4], 1);
	PlayerTextDrawColor(playerid, CaptureTD[playerid][4], -1);
	PlayerTextDrawSetShadow(playerid, CaptureTD[playerid][4], 0);
	PlayerTextDrawSetOutline(playerid, CaptureTD[playerid][4], 1);
	PlayerTextDrawBackgroundColor(playerid, CaptureTD[playerid][4], 51);
	PlayerTextDrawFont(playerid, CaptureTD[playerid][4], 2);
	PlayerTextDrawSetProportional(playerid, CaptureTD[playerid][4], 1);

	CaptureTD[playerid][5] = CreatePlayerTextDraw(playerid, 36.000000, 250.133255, "ОПГ");
	PlayerTextDrawLetterSize(playerid, CaptureTD[playerid][5], 0.165797, 1.501198);
	PlayerTextDrawAlignment(playerid, CaptureTD[playerid][5], 2);
	PlayerTextDrawColor(playerid, CaptureTD[playerid][5], -5963521);
	PlayerTextDrawSetShadow(playerid, CaptureTD[playerid][5], 1);
	PlayerTextDrawSetOutline(playerid, CaptureTD[playerid][5], 0);
	PlayerTextDrawBackgroundColor(playerid, CaptureTD[playerid][5], 51);
	PlayerTextDrawFont(playerid, CaptureTD[playerid][5], 2);
	PlayerTextDrawSetProportional(playerid, CaptureTD[playerid][5], 1);

	CaptureTD[playerid][6] = CreatePlayerTextDraw(playerid, 30.135000, 261.333312, "ОПГ");
	PlayerTextDrawLetterSize(playerid, CaptureTD[playerid][6], 0.165000, 1.501000);
	PlayerTextDrawAlignment(playerid, CaptureTD[playerid][6], 1);
	PlayerTextDrawColor(playerid, CaptureTD[playerid][6], -5963521);
	PlayerTextDrawSetShadow(playerid, CaptureTD[playerid][6], 0);
	PlayerTextDrawSetOutline(playerid, CaptureTD[playerid][6], 0);
	PlayerTextDrawBackgroundColor(playerid, CaptureTD[playerid][6], 51);
	PlayerTextDrawFont(playerid, CaptureTD[playerid][6], 2);
	PlayerTextDrawSetProportional(playerid, CaptureTD[playerid][6], 1);

	CaptureTD[playerid][7] = CreatePlayerTextDraw(playerid, 68.478988, 250.133331, "_");
	PlayerTextDrawLetterSize(playerid, CaptureTD[playerid][7], 0.168997, 1.434599);
	PlayerTextDrawAlignment(playerid, CaptureTD[playerid][7], 2);
	PlayerTextDrawColor(playerid, CaptureTD[playerid][7], -1);
	PlayerTextDrawSetShadow(playerid, CaptureTD[playerid][7], 0);
	PlayerTextDrawSetOutline(playerid, CaptureTD[playerid][7], 1);
	PlayerTextDrawBackgroundColor(playerid, CaptureTD[playerid][7], 51);
	PlayerTextDrawFont(playerid, CaptureTD[playerid][7], 2);
	PlayerTextDrawSetProportional(playerid, CaptureTD[playerid][7], 1);

	CaptureTD[playerid][8] = CreatePlayerTextDraw(playerid, 45.599979, 262.079956, "_");
	PlayerTextDrawLetterSize(playerid, CaptureTD[playerid][8], 0.153797, 1.367400);
	PlayerTextDrawAlignment(playerid, CaptureTD[playerid][8], 1);
	PlayerTextDrawColor(playerid, CaptureTD[playerid][8], -1);
	PlayerTextDrawSetShadow(playerid, CaptureTD[playerid][8], 0);
	PlayerTextDrawSetOutline(playerid, CaptureTD[playerid][8], 1);
	PlayerTextDrawBackgroundColor(playerid, CaptureTD[playerid][8], 51);
	PlayerTextDrawFont(playerid, CaptureTD[playerid][8], 2);
	PlayerTextDrawSetProportional(playerid, CaptureTD[playerid][8], 1);

	CaptureTD[playerid][9] = CreatePlayerTextDraw(playerid, 140.000000, 250.880020, "0");
	PlayerTextDrawLetterSize(playerid, CaptureTD[playerid][9], 0.180399, 1.219197);
	PlayerTextDrawAlignment(playerid, CaptureTD[playerid][9], 1);
	PlayerTextDrawColor(playerid, CaptureTD[playerid][9], -5963521);
	PlayerTextDrawSetShadow(playerid, CaptureTD[playerid][9], 0);
	PlayerTextDrawSetOutline(playerid, CaptureTD[playerid][9], 1);
	PlayerTextDrawBackgroundColor(playerid, CaptureTD[playerid][9], 51);
	PlayerTextDrawFont(playerid, CaptureTD[playerid][9], 2);
	PlayerTextDrawSetProportional(playerid, CaptureTD[playerid][9], 1);

	CaptureTD[playerid][10] = CreatePlayerTextDraw(playerid, 140.599975, 262.208312, "0");
	PlayerTextDrawLetterSize(playerid, CaptureTD[playerid][10], 0.158600, 1.174198);
	PlayerTextDrawAlignment(playerid, CaptureTD[playerid][10], 1);
	PlayerTextDrawColor(playerid, CaptureTD[playerid][10], -5963521);
	PlayerTextDrawSetShadow(playerid, CaptureTD[playerid][10], 0);
	PlayerTextDrawSetOutline(playerid, CaptureTD[playerid][10], 1);
	PlayerTextDrawBackgroundColor(playerid, CaptureTD[playerid][10], 51);
	PlayerTextDrawFont(playerid, CaptureTD[playerid][10], 2);
	PlayerTextDrawSetProportional(playerid, CaptureTD[playerid][10], 1);


	//Менюшка
	MenuTD[0][playerid] = CreatePlayerTextDraw(playerid, 554.666687, 1.500000, "usebox");
	PlayerTextDrawLetterSize(playerid, MenuTD[0][playerid], 0.000000, 2.909670);
	PlayerTextDrawTextSize(playerid, MenuTD[0][playerid], 168.666671, 0.000000);
	PlayerTextDrawAlignment(playerid, MenuTD[0][playerid], 1);
	PlayerTextDrawColor(playerid, MenuTD[0][playerid], 255);
	PlayerTextDrawUseBox(playerid, MenuTD[0][playerid], true);
	PlayerTextDrawBoxColor(playerid, MenuTD[0][playerid], 255);
	PlayerTextDrawSetShadow(playerid, MenuTD[0][playerid], 0);
	PlayerTextDrawSetOutline(playerid, MenuTD[0][playerid], 0);
	PlayerTextDrawBackgroundColor(playerid, MenuTD[0][playerid], 255);
	PlayerTextDrawFont(playerid, MenuTD[0][playerid], 0);

	MenuTD[1][playerid] = CreatePlayerTextDraw(playerid, 179.666610, 5.392592, "Персонаж");
	PlayerTextDrawLetterSize(playerid, MenuTD[1][playerid], 0.381333, 1.284740);
	PlayerTextDrawTextSize(playerid, MenuTD[1][playerid], -63.333332, -15.348149);
	PlayerTextDrawAlignment(playerid, MenuTD[1][playerid], 1);
	PlayerTextDrawColor(playerid, MenuTD[1][playerid], -1);
	PlayerTextDrawSetShadow(playerid, MenuTD[1][playerid], 0);
	PlayerTextDrawSetOutline(playerid, MenuTD[1][playerid], 1);
	PlayerTextDrawBackgroundColor(playerid, MenuTD[1][playerid], 51);
	PlayerTextDrawFont(playerid, MenuTD[1][playerid], 1);
	PlayerTextDrawSetProportional(playerid, MenuTD[1][playerid], 1);
	PlayerTextDrawSetSelectable(playerid, MenuTD[1][playerid], true);

	MenuTD[2][playerid] = CreatePlayerTextDraw(playerid, 251.666717, 6.637040, "Сообщения");
	PlayerTextDrawLetterSize(playerid, MenuTD[2][playerid], 0.438666, 1.247407);
	PlayerTextDrawAlignment(playerid, MenuTD[2][playerid], 1);
	PlayerTextDrawColor(playerid, MenuTD[2][playerid], -1);
	PlayerTextDrawSetShadow(playerid, MenuTD[2][playerid], 0);
	PlayerTextDrawSetOutline(playerid, MenuTD[2][playerid], 1);
	PlayerTextDrawBackgroundColor(playerid, MenuTD[2][playerid], 51);
	PlayerTextDrawFont(playerid, MenuTD[2][playerid], 1);
	PlayerTextDrawSetProportional(playerid, MenuTD[2][playerid], 1);
	PlayerTextDrawSetSelectable(playerid, MenuTD[2][playerid], true);

	MenuTD[3][playerid] = CreatePlayerTextDraw(playerid, 311.333526, 7.051864, "Транспорт");
	PlayerTextDrawLetterSize(playerid, MenuTD[3][playerid], 0.400666, 1.239111);
	PlayerTextDrawAlignment(playerid, MenuTD[3][playerid], 1);
	PlayerTextDrawColor(playerid, MenuTD[3][playerid], -1);
	PlayerTextDrawSetShadow(playerid, MenuTD[3][playerid], 0);
	PlayerTextDrawSetOutline(playerid, MenuTD[3][playerid], 1);
	PlayerTextDrawBackgroundColor(playerid, MenuTD[3][playerid], 51);
	PlayerTextDrawFont(playerid, MenuTD[3][playerid], 1);
	PlayerTextDrawSetProportional(playerid, MenuTD[3][playerid], 1);
	PlayerTextDrawSetSelectable(playerid, MenuTD[3][playerid], true);

	MenuTD[4][playerid] = CreatePlayerTextDraw(playerid, 384.999969, 7.051851, "Настройки");
	PlayerTextDrawLetterSize(playerid, MenuTD[4][playerid], 0.425666, 1.293036);
	PlayerTextDrawAlignment(playerid, MenuTD[4][playerid], 1);
	PlayerTextDrawColor(playerid, MenuTD[4][playerid], -1);
	PlayerTextDrawSetShadow(playerid, MenuTD[4][playerid], 0);
	PlayerTextDrawSetOutline(playerid, MenuTD[4][playerid], 1);
	PlayerTextDrawBackgroundColor(playerid, MenuTD[4][playerid], 51);
	PlayerTextDrawFont(playerid, MenuTD[4][playerid], 1);
	PlayerTextDrawSetProportional(playerid, MenuTD[4][playerid], 1);
	PlayerTextDrawSetSelectable(playerid, MenuTD[4][playerid], true);

	MenuTD[5][playerid] = CreatePlayerTextDraw(playerid, 452.333312, 6.637037, "Банк");
	PlayerTextDrawLetterSize(playerid, MenuTD[5][playerid], 0.418000, 1.454815);
	PlayerTextDrawAlignment(playerid, MenuTD[5][playerid], 1);
	PlayerTextDrawColor(playerid, MenuTD[5][playerid], -1);
	PlayerTextDrawSetShadow(playerid, MenuTD[5][playerid], 0);
	PlayerTextDrawSetOutline(playerid, MenuTD[5][playerid], 1);
	PlayerTextDrawBackgroundColor(playerid, MenuTD[5][playerid], 51);
	PlayerTextDrawFont(playerid, MenuTD[5][playerid], 1);
	PlayerTextDrawSetProportional(playerid, MenuTD[5][playerid], 1);
	PlayerTextDrawSetSelectable(playerid, MenuTD[5][playerid], true);

	MenuTD[6][playerid] = CreatePlayerTextDraw(playerid, 497.666748, 7.466665, "Бизнес");
	PlayerTextDrawLetterSize(playerid, MenuTD[6][playerid], 0.383666, 1.450667);
	PlayerTextDrawAlignment(playerid, MenuTD[6][playerid], 1);
	PlayerTextDrawColor(playerid, MenuTD[6][playerid], -1);
	PlayerTextDrawSetShadow(playerid, MenuTD[6][playerid], 0);
	PlayerTextDrawSetOutline(playerid, MenuTD[6][playerid], 1);
	PlayerTextDrawBackgroundColor(playerid, MenuTD[6][playerid], 51);
	PlayerTextDrawFont(playerid, MenuTD[6][playerid], 1);
	PlayerTextDrawSetProportional(playerid, MenuTD[6][playerid], 1);
	PlayerTextDrawSetSelectable(playerid, MenuTD[6][playerid], true);

	
}

LoadAvtosalon(playerid) {
	choicecars[playerid][0] = CreatePlayerTextDraw(playerid, 637.314941, 250.583297, "usebox");
	PlayerTextDrawLetterSize(playerid, choicecars[playerid][0], 0.000000, 16.838151);
	PlayerTextDrawTextSize(playerid, choicecars[playerid][0], 513.373657, 0.000000);
	PlayerTextDrawAlignment(playerid, choicecars[playerid][0], 1);
	PlayerTextDrawColor(playerid, choicecars[playerid][0], 0);
	PlayerTextDrawUseBox(playerid, choicecars[playerid][0], true);
	PlayerTextDrawBoxColor(playerid, choicecars[playerid][0], -8388353);
	PlayerTextDrawSetShadow(playerid, choicecars[playerid][0], 0);
	PlayerTextDrawSetOutline(playerid, choicecars[playerid][0], 0);
	PlayerTextDrawFont(playerid, choicecars[playerid][0], 0);

	choicecars[playerid][1] = CreatePlayerTextDraw(playerid, 636.377746, 251.750000, "usebox");
	PlayerTextDrawLetterSize(playerid, choicecars[playerid][1], 0.000000, 16.600002);
	PlayerTextDrawTextSize(playerid, choicecars[playerid][1], 514.310424, 0.000000);
	PlayerTextDrawAlignment(playerid, choicecars[playerid][1], 1);
	PlayerTextDrawColor(playerid, choicecars[playerid][1], 0);
	PlayerTextDrawUseBox(playerid, choicecars[playerid][1], true);
	PlayerTextDrawBoxColor(playerid, choicecars[playerid][1], 471604479);
	PlayerTextDrawSetShadow(playerid, choicecars[playerid][1], 0);
	PlayerTextDrawSetOutline(playerid, choicecars[playerid][1], 0);
	PlayerTextDrawFont(playerid, choicecars[playerid][1], 1);

	choicecars[playerid][2] = CreatePlayerTextDraw(playerid, 543.953369, 250.833328, "АВТОСАЛОН");
	PlayerTextDrawLetterSize(playerid, choicecars[playerid][2], 0.250409, 1.086666);
	PlayerTextDrawAlignment(playerid, choicecars[playerid][2], 1);
	PlayerTextDrawColor(playerid, choicecars[playerid][2], -1);
	PlayerTextDrawSetShadow(playerid, choicecars[playerid][2], 0);
	PlayerTextDrawSetOutline(playerid, choicecars[playerid][2], 0);
	PlayerTextDrawBackgroundColor(playerid, choicecars[playerid][2], 51);
	PlayerTextDrawFont(playerid, choicecars[playerid][2], 2);
	PlayerTextDrawSetProportional(playerid, choicecars[playerid][2], 1);

	choicecars[playerid][3] = CreatePlayerTextDraw(playerid, 621.853576, 266.916687, "usebox");
	PlayerTextDrawLetterSize(playerid, choicecars[playerid][3], 0.000000, -0.586854);
	PlayerTextDrawTextSize(playerid, choicecars[playerid][3], 526.960449, 0.000000);
	PlayerTextDrawAlignment(playerid, choicecars[playerid][3], 1);
	PlayerTextDrawColor(playerid, choicecars[playerid][3], 0);
	PlayerTextDrawUseBox(playerid, choicecars[playerid][3], true);
	PlayerTextDrawBoxColor(playerid, choicecars[playerid][3], -8388353);
	PlayerTextDrawSetShadow(playerid, choicecars[playerid][3], 0);
	PlayerTextDrawSetOutline(playerid, choicecars[playerid][3], 0);
	PlayerTextDrawFont(playerid, choicecars[playerid][3], 0);

	choicecars[playerid][4] = CreatePlayerTextDraw(playerid, 519.590332, 249.666671, "hud:radar_impound");
	PlayerTextDrawLetterSize(playerid, choicecars[playerid][4], 0.000000, 0.000000);
	PlayerTextDrawTextSize(playerid, choicecars[playerid][4], 11.713043, 11.666687);
	PlayerTextDrawAlignment(playerid, choicecars[playerid][4], 1);
	PlayerTextDrawColor(playerid, choicecars[playerid][4], -1);
	PlayerTextDrawSetShadow(playerid, choicecars[playerid][4], 0);
	PlayerTextDrawSetOutline(playerid, choicecars[playerid][4], 0);
	PlayerTextDrawFont(playerid, choicecars[playerid][4], 4);

	choicecars[playerid][5] = CreatePlayerTextDraw(playerid, 616.169067, 250.666625, "hud:radar_truck");
	PlayerTextDrawLetterSize(playerid, choicecars[playerid][5], 0.000000, 0.000000);
	PlayerTextDrawTextSize(playerid, choicecars[playerid][5], 11.713043, 11.666687);
	PlayerTextDrawAlignment(playerid, choicecars[playerid][5], 1);
	PlayerTextDrawColor(playerid, choicecars[playerid][5], -1);
	PlayerTextDrawSetShadow(playerid, choicecars[playerid][5], 0);
	PlayerTextDrawSetOutline(playerid, choicecars[playerid][5], 0);
	PlayerTextDrawFont(playerid, choicecars[playerid][5], 4);

	choicecars[playerid][6] = CreatePlayerTextDraw(playerid, 523.806640, 267.749786, "BMW");
	PlayerTextDrawLetterSize(playerid, choicecars[playerid][6], 0.172166, 1.220833);
	PlayerTextDrawAlignment(playerid, choicecars[playerid][6], 1);
	PlayerTextDrawColor(playerid, choicecars[playerid][6], -1);
	PlayerTextDrawSetShadow(playerid, choicecars[playerid][6], 0);
	PlayerTextDrawSetOutline(playerid, choicecars[playerid][6], 0);
	PlayerTextDrawBackgroundColor(playerid, choicecars[playerid][6], 51);
	PlayerTextDrawFont(playerid, choicecars[playerid][6], 2);
	PlayerTextDrawSetProportional(playerid, choicecars[playerid][6], 1);

	choicecars[playerid][7] = CreatePlayerTextDraw(playerid, 617.511108, 286.999938, "LD_BEAT:right");
	PlayerTextDrawLetterSize(playerid, choicecars[playerid][7], 0.000000, 0.000000);
	PlayerTextDrawTextSize(playerid, choicecars[playerid][7], 12.650054, 12.250000);
	PlayerTextDrawAlignment(playerid, choicecars[playerid][7], 1);
	PlayerTextDrawColor(playerid, choicecars[playerid][7], -8388353);
	PlayerTextDrawSetShadow(playerid, choicecars[playerid][7], 0);
	PlayerTextDrawSetOutline(playerid, choicecars[playerid][7], 0);
	PlayerTextDrawFont(playerid, choicecars[playerid][7], 4);
	PlayerTextDrawSetSelectable(playerid, choicecars[playerid][7], true);

	choicecars[playerid][8] = CreatePlayerTextDraw(playerid, 520.590209, 286.833221, "LD_BEAT:left");
	PlayerTextDrawLetterSize(playerid, choicecars[playerid][8], 0.000000, 0.000000);
	PlayerTextDrawTextSize(playerid, choicecars[playerid][8], 12.181537, 12.833334);
	PlayerTextDrawAlignment(playerid, choicecars[playerid][8], 1);
	PlayerTextDrawColor(playerid, choicecars[playerid][8], -8388353);
	PlayerTextDrawSetShadow(playerid, choicecars[playerid][8], 0);
	PlayerTextDrawSetOutline(playerid, choicecars[playerid][8], 0);
	PlayerTextDrawFont(playerid, choicecars[playerid][8], 4);
	PlayerTextDrawSetSelectable(playerid, choicecars[playerid][8], true);

	choicecars[playerid][9] = CreatePlayerTextDraw(playerid, 543.953430, 286.416534, "ВЫБОР АВТО");
	PlayerTextDrawLetterSize(playerid, choicecars[playerid][9], 0.249941, 1.214999);
	PlayerTextDrawAlignment(playerid, choicecars[playerid][9], 1);
	PlayerTextDrawColor(playerid, choicecars[playerid][9], -1);
	PlayerTextDrawSetShadow(playerid, choicecars[playerid][9], 0);
	PlayerTextDrawSetOutline(playerid, choicecars[playerid][9], 0);
	PlayerTextDrawBackgroundColor(playerid, choicecars[playerid][9], 51);
	PlayerTextDrawFont(playerid, choicecars[playerid][9], 2);
	PlayerTextDrawSetProportional(playerid, choicecars[playerid][9], 1);

	choicecars[playerid][10] = CreatePlayerTextDraw(playerid, 523.806518, 306.249908, "СТОИМОСТЬ:");
	PlayerTextDrawLetterSize(playerid, choicecars[playerid][10], 0.213865, 1.337499);
	PlayerTextDrawAlignment(playerid, choicecars[playerid][10], 1);
	PlayerTextDrawColor(playerid, choicecars[playerid][10], -1);
	PlayerTextDrawSetShadow(playerid, choicecars[playerid][10], 0);
	PlayerTextDrawSetOutline(playerid, choicecars[playerid][10], 0);
	PlayerTextDrawBackgroundColor(playerid, choicecars[playerid][10], 51);
	PlayerTextDrawFont(playerid, choicecars[playerid][10], 2);
	PlayerTextDrawSetProportional(playerid, choicecars[playerid][10], 1);

	choicecars[playerid][11] = CreatePlayerTextDraw(playerid, 580.092102, 306.666503, "15000000");
	PlayerTextDrawLetterSize(playerid, choicecars[playerid][11], 0.216676, 1.290833);
	PlayerTextDrawAlignment(playerid, choicecars[playerid][11], 1);
	PlayerTextDrawColor(playerid, choicecars[playerid][11], -8388353);
	PlayerTextDrawSetShadow(playerid, choicecars[playerid][11], 0);
	PlayerTextDrawSetOutline(playerid, choicecars[playerid][11], 0);
	PlayerTextDrawBackgroundColor(playerid, choicecars[playerid][11], 51);
	PlayerTextDrawFont(playerid, choicecars[playerid][11], 2);
	PlayerTextDrawSetProportional(playerid, choicecars[playerid][11], 1);

	choicecars[playerid][12] = CreatePlayerTextDraw(playerid, 628.881164, 326.416625, "usebox");
	PlayerTextDrawLetterSize(playerid, choicecars[playerid][12], 0.000000, -0.575930);
	PlayerTextDrawTextSize(playerid, choicecars[playerid][12], 519.932678, 0.000000);
	PlayerTextDrawAlignment(playerid, choicecars[playerid][12], 1);
	PlayerTextDrawColor(playerid, choicecars[playerid][12], 0);
	PlayerTextDrawUseBox(playerid, choicecars[playerid][12], true);
	PlayerTextDrawBoxColor(playerid, choicecars[playerid][12], -8388353);
	PlayerTextDrawSetShadow(playerid, choicecars[playerid][12], 0);
	PlayerTextDrawSetOutline(playerid, choicecars[playerid][12], 0);
	PlayerTextDrawFont(playerid, choicecars[playerid][12], 0);

	choicecars[playerid][13] = CreatePlayerTextDraw(playerid, 524.744079, 342.999969, "ЕСЛИ ВЫ ОПРЕДЕЛИЛИСЬ");
	PlayerTextDrawLetterSize(playerid, choicecars[playerid][13], 0.205431, 1.185832);
	PlayerTextDrawAlignment(playerid, choicecars[playerid][13], 1);
	PlayerTextDrawColor(playerid, choicecars[playerid][13], -1);
	PlayerTextDrawSetShadow(playerid, choicecars[playerid][13], 0);
	PlayerTextDrawSetOutline(playerid, choicecars[playerid][13], 0);
	PlayerTextDrawBackgroundColor(playerid, choicecars[playerid][13], 51);
	PlayerTextDrawFont(playerid, choicecars[playerid][13], 2);
	PlayerTextDrawSetProportional(playerid, choicecars[playerid][13], 1);

	choicecars[playerid][14] = CreatePlayerTextDraw(playerid, 539.331237, 353.333312, "С ВЫБОРОМ АВТО");
	PlayerTextDrawLetterSize(playerid, choicecars[playerid][14], 0.205431, 1.185832);
	PlayerTextDrawAlignment(playerid, choicecars[playerid][14], 1);
	PlayerTextDrawColor(playerid, choicecars[playerid][14], -1);
	PlayerTextDrawSetShadow(playerid, choicecars[playerid][14], 0);
	PlayerTextDrawSetOutline(playerid, choicecars[playerid][14], 0);
	PlayerTextDrawBackgroundColor(playerid, choicecars[playerid][14], 51);
	PlayerTextDrawFont(playerid, choicecars[playerid][14], 2);
	PlayerTextDrawSetProportional(playerid, choicecars[playerid][14], 1);

	choicecars[playerid][15] = CreatePlayerTextDraw(playerid, 520.653259, 364.249938, "НАЖМИТЕ КНОПКУ");
	PlayerTextDrawLetterSize(playerid, choicecars[playerid][15], 0.179194, 1.150832);
	PlayerTextDrawAlignment(playerid, choicecars[playerid][15], 1);
	PlayerTextDrawColor(playerid, choicecars[playerid][15], -1);
	PlayerTextDrawSetShadow(playerid, choicecars[playerid][15], 0);
	PlayerTextDrawSetOutline(playerid, choicecars[playerid][15], 0);
	PlayerTextDrawBackgroundColor(playerid, choicecars[playerid][15], 51);
	PlayerTextDrawFont(playerid, choicecars[playerid][15], 2);
	PlayerTextDrawSetProportional(playerid, choicecars[playerid][15], 1);

	choicecars[playerid][16] = CreatePlayerTextDraw(playerid, 587.246276, 364.083374, "КУПИТЬ");
	PlayerTextDrawLetterSize(playerid, choicecars[playerid][16], 0.212459, 1.174166);
	PlayerTextDrawAlignment(playerid, choicecars[playerid][16], 1);
	PlayerTextDrawColor(playerid, choicecars[playerid][16], 8388863);
	PlayerTextDrawSetShadow(playerid, choicecars[playerid][16], 0);
	PlayerTextDrawSetOutline(playerid, choicecars[playerid][16], 0);
	PlayerTextDrawBackgroundColor(playerid, choicecars[playerid][16], 51);
	PlayerTextDrawFont(playerid, choicecars[playerid][16], 2);
	PlayerTextDrawSetProportional(playerid, choicecars[playerid][16], 1);

	choicecars[playerid][17] = CreatePlayerTextDraw(playerid, 523.338256, 385.000091, "КУПИТЬ");
	PlayerTextDrawLetterSize(playerid, choicecars[playerid][17], 0.280863, 1.308332);
	PlayerTextDrawTextSize(playerid, choicecars[playerid][17], 567.847656, 13.416663);
	PlayerTextDrawAlignment(playerid, choicecars[playerid][17], 1);
	PlayerTextDrawColor(playerid, choicecars[playerid][17], -1);
	PlayerTextDrawUseBox(playerid, choicecars[playerid][17], true);
	PlayerTextDrawBoxColor(playerid, choicecars[playerid][17], 741092607);
	PlayerTextDrawSetShadow(playerid, choicecars[playerid][17], 0);
	PlayerTextDrawSetOutline(playerid, choicecars[playerid][17], 0);
	PlayerTextDrawBackgroundColor(playerid, choicecars[playerid][17], 51);
	PlayerTextDrawFont(playerid, choicecars[playerid][17], 2);
	PlayerTextDrawSetProportional(playerid, choicecars[playerid][17], 1);
	PlayerTextDrawSetSelectable(playerid, choicecars[playerid][17], true);

	choicecars[playerid][18] = CreatePlayerTextDraw(playerid, 544.016235, 328.250030, "ВЫБРАТЬ ЦВЕТ");
	PlayerTextDrawLetterSize(playerid, choicecars[playerid][18], 0.192313, 1.343333);
	PlayerTextDrawTextSize(playerid, choicecars[playerid][18], 602.518798, -23.333341);
	PlayerTextDrawAlignment(playerid, choicecars[playerid][18], 1);
	PlayerTextDrawColor(playerid, choicecars[playerid][18], -1);
	PlayerTextDrawUseBox(playerid, choicecars[playerid][18], true);
	PlayerTextDrawBoxColor(playerid, choicecars[playerid][18], 741092607);
	PlayerTextDrawSetShadow(playerid, choicecars[playerid][18], 0);
	PlayerTextDrawSetOutline(playerid, choicecars[playerid][18], 0);
	PlayerTextDrawBackgroundColor(playerid, choicecars[playerid][18], 51);
	PlayerTextDrawFont(playerid, choicecars[playerid][18], 2);
	PlayerTextDrawSetProportional(playerid, choicecars[playerid][18], 1);
	PlayerTextDrawSetSelectable(playerid, choicecars[playerid][18], true);

	choicecars[playerid][19] = CreatePlayerTextDraw(playerid, 527.212707, 327.500000, "hud:radar_spray");
	PlayerTextDrawLetterSize(playerid, choicecars[playerid][19], 0.000000, 0.000000);
	PlayerTextDrawTextSize(playerid, choicecars[playerid][19], 11.713043, 11.666687);
	PlayerTextDrawAlignment(playerid, choicecars[playerid][19], 1);
	PlayerTextDrawColor(playerid, choicecars[playerid][19], -1);
	PlayerTextDrawSetShadow(playerid, choicecars[playerid][19], 0);
	PlayerTextDrawSetOutline(playerid, choicecars[playerid][19], 0);
	PlayerTextDrawFont(playerid, choicecars[playerid][19], 4);

	choicecars[playerid][20] = CreatePlayerTextDraw(playerid, 608.329956, 327.916717, "hud:radar_spray");
	PlayerTextDrawLetterSize(playerid, choicecars[playerid][20], 0.000000, 0.000000);
	PlayerTextDrawTextSize(playerid, choicecars[playerid][20], 11.713043, 11.666687);
	PlayerTextDrawAlignment(playerid, choicecars[playerid][20], 1);
	PlayerTextDrawColor(playerid, choicecars[playerid][20], -1);
	PlayerTextDrawSetShadow(playerid, choicecars[playerid][20], 0);
	PlayerTextDrawSetOutline(playerid, choicecars[playerid][20], 0);
	PlayerTextDrawFont(playerid, choicecars[playerid][20], 4);

	choicecars[playerid][21] = CreatePlayerTextDraw(playerid, 582.435241, 384.833312, "OTMEHA");
	PlayerTextDrawLetterSize(playerid, choicecars[playerid][21], 0.283674, 1.343333);
	PlayerTextDrawTextSize(playerid, choicecars[playerid][21], 628.755371, 26.833330);
	PlayerTextDrawAlignment(playerid, choicecars[playerid][21], 1);
	PlayerTextDrawColor(playerid, choicecars[playerid][21], -1);
	PlayerTextDrawUseBox(playerid, choicecars[playerid][21], true);
	PlayerTextDrawBoxColor(playerid, choicecars[playerid][21], 741092607);
	PlayerTextDrawSetShadow(playerid, choicecars[playerid][21], 0);
	PlayerTextDrawSetOutline(playerid, choicecars[playerid][21], 0);
	PlayerTextDrawBackgroundColor(playerid, choicecars[playerid][21], 51);
	PlayerTextDrawFont(playerid, choicecars[playerid][21], 2);
	PlayerTextDrawSetProportional(playerid, choicecars[playerid][21], 1);
	PlayerTextDrawSetSelectable(playerid, choicecars[playerid][21], true);


	for(new i; i < 19; i++) PlayerTextDrawShow(playerid,choicecars[playerid][i]);
	return 1;
}


//==============================================================================
stock RemoveBuild(playerid)
{
    if(!GetPVarInt(playerid, "BuildingsRemoved"))
	{

		SetPVarInt(playerid, "BuildingsRemoved", true);
	}
	return 1;
}
//==============================================================================

publics check_cheatban(playerid) {
	new rows, fields;
	cache_get_data(rows, fields);
	if(rows) {
		new name[32], BanReason, BanDate[15];
		cache_get_field_content(0, "Name", name);
		BanReason = cache_get_field_content_int(0, "BanReason");
		cache_get_field_content(0, "BanDate", BanDate);

		format(ban_string, 1000, \
		"{ffffff}К сожалению, Ваш аккаунт был заблокирован. Мы сожалеем об этом.\n\n\n\
		Вы были уличены в нечестной игре, конкретно в использовании следующего класса читов: \n\
		'%s'.\n\
		Ваш аккаунт заблокирован {ffcc00}%s{ffffff}, если Вы не согласны с выданным Вам наказанием обратитесь\n\
		на наш официальный форум или сайт и приложите следующую информацию:\n\
		[%s] %s . . . Блокировка аккаунта {ffcc00}%s{ffffff}.", ban_reason[BanReason], ban_time[BanReason],\
		BanDate, GetName(playerid), ban_time[BanReason]);

		ShowPlayerDialog(playerid, D_NULL, DIALOG_STYLE_MSGBOX, "Аккаунт заблокирован "SERVER_NAME"", ban_string, "/q", "");
		KickPlayer(playerid);
	}

	return 1;
}

forward check_banlist(playerid);
public check_banlist(playerid)
{
	new unbandate, vas[32], bool:ban, rows, fields, dialog[500], str[150];
    cache_get_data(rows, fields);
	if(rows)
	{
	    cache_get_field_content(0, "unbandate", vas); unbandate = strval(vas);
		if(unbandate - gettime() > 0) ban = true;
	}
	if(ban == true)
	{
		new data[15], whobanned[MAX_PLAYER_NAME], reason[32], timeban;
		cache_get_field_content(0, "bandate", data);
		cache_get_field_content(0, "unbandate", vas); unbandate = strval(vas);
		cache_get_field_content(0, "whobanned", whobanned);
		cache_get_field_content(0, "reason", reason);
		timeban = cache_get_field_content_int(0, "time");
       	
       	strcat(dialog, "{F04245}");
		if(timeban > 100){
			format(str, sizeof(str), "{ffffff}Этот аккаунт заблокирован {FF6347}навсегда\n");
			strcat(dialog, str);
		} else {
			format(str, sizeof(str), "{ffffff}Этот аккаунт заблокирован на {FF6347}%d дней\n", timeban);
			strcat(dialog, str);
		}
		
		format(str, sizeof(str), "{ffffff}Ник администратора: %s\n", whobanned);
		strcat(dialog, str);
		format(str, sizeof(str), "{ffffff}Причина блокировки: %s\n", reason);
	 	strcat(dialog, str);
  		format(str, sizeof(str), "{ffffff}Дата и время: {FFCC00}%s\n\n", data);
		strcat(dialog, str);
		format(str, sizeof(str), "{ffffff}Введите {FFCC00}/q(/quit) {ffffff}для выхода из игры", data);
		strcat(dialog, str);
		
       	
		ShowPlayerDialog(playerid, D_NULL, DIALOG_STYLE_MSGBOX, "{FFCC00}"SERVER_NAME"", dialog, "Закрыть", "");
		SKick(playerid, 28183);
	}
	return 1;
}
//==============================================================================
stock SetPlayerDataToDefault(playerid)
{
    SetPVarInt(playerid, "USEDIALOGID", -1);

    PI[playerid][pCity]                         	=
    //iPlayerAmmo[playerid]                           =
	//iNewPlayerAmmo[playerid]						=
	//Shot[playerid]                                  =
    PI[playerid][pBusTime]                          =
    PI[playerid][pWorkSalary]                       =
	//PI[playerid][pFamilySozd]                       =
	//PI[playerid][pFamilyZam]                        =
    //PI[playerid][pAFK]                              =
    AdminInfo[playerid][admAlog]                    =
    AdminInfo[playerid][admGoto]                    =
    AdminInfo[playerid][admGethere]                 =
    AdminInfo[playerid][admSpectate]                =
    AdminInfo[playerid][admSmsEars]                 =
    Ujahhs[playerid] 								=
    Medicines[playerid]								=
    UnMaskReset[playerid] 							=
    UseWork[playerid] 								=
	pickupentered[playerid] 						=
	PI[playerid][pSportExp] 						=
	PI[playerid][pMask] 							=
	PI[playerid][pBed] 								=
	PI[playerid][pTruckSkill] 						=
	PI[playerid][pTruckLevel] 						=
	PI[playerid][pZakon] 							=
	PI[playerid][pCheckCode] 						=
	PI[playerid][pWatch] 							=
	PI[playerid][pCiggare] 							=
	PI[playerid][pSprunk] 							=
	PI[playerid][pCHIPS] 							=
	PI[playerid][pRepairCar] 						=
	ChosenSkin[playerid] 							=
	SelectCharPlace[playerid] 						=
	PI[playerid][pPhoneBalance] 					=
	PlayerLogTries[playerid] 						=
	PlayerStats[playerid] 							=
	ClothesRound[playerid]							=
	HousePrice[playerid] 							=
	InShop[playerid] 								=
	InShopSkin[playerid] 							=
	DrivingTestTime[playerid]						=
	FlyTestTime[playerid]							=
	WaterTestTime[playerid]							=
	Oldskin2[playerid] 								=
	PI[playerid][pAdmin] 							=
	PI[playerid][pYouTuber] 						=
	PI[playerid][pLeader] 							=
	PI[playerid][pTempLeader]                       =
	PI[playerid][pMember] 							=
	PI[playerid][pRank] 							=
	PI[playerid][pModel] 							=
	PI[playerid][pMemberSkin] 						=
	//PI[playerid][pFamily] 							=
	PI[playerid][pSex] 								=
	PI[playerid][pID] 								=
	PI[playerid][pWarn] 							=
	PI[playerid][pCash] 							=
	PI[playerid][pExp] 								=
    PI[playerid][pMuted] 							=
	PI[playerid][pAge] 								=
	PI[playerid][pBank] 							=
	PI[playerid][pNews] 							=
	PI[playerid][pJail] 							=
	PI[playerid][pJailTime] 						=
	PI[playerid][pWanted] 							=
	PI[playerid][pWantedTime] 						=
	PI[playerid][pDrugs] 							=
	PI[playerid][pPatron] 							=
	PI[playerid][pGunAmount] 						=
	// PI[playerid][pCarA] 				     		=
	PI[playerid][pAutoLic] 				     		=
	// PI[playerid][pCarC] 				     		=
	// PI[playerid][pCarD] 				     		=
	PI[playerid][pCheckTime] 						=
	PI[playerid][pPick] 							=
	PI[playerid][pJob] 								=
	PI[playerid][pMarried] 							=
	PI[playerid][pPayCheck] 						=
	PI[playerid][pCharity] 							=
	PI[playerid][pVip] 								=
	PI[playerid][pVipTime]							=
	PI[playerid][pTime] 							=
	PI[playerid][pFightStyle] 						=
	PI[playerid][pCredits] 							=
	PI[playerid][pTotalCredits] 					=
	PI[playerid][pSkin][0] 							=
	PI[playerid][pSkin][1] 							=
	PI[playerid][pSkin][2] 							=
	PI[playerid][pZakon] 							=
	PI[playerid][pCheckCode] 						=
	PI[playerid][pVehicleKey]                       =
	PI[playerid][pMailConfirmed]                    =
	PI[playerid][pPhoneNumber]                      =
	PI[playerid][pVoennik]                          =
	PI[playerid][pShahtaEarn]						=
	PassInfo[playerid][psDateBirth][0] 				=
 	PassInfo[playerid][psDateBirth][1] 				=
 	PassInfo[playerid][psDateBirth][2] 				=
 	PassInfo[playerid][psDate][0] 					=
 	PassInfo[playerid][psDate][1] 					=
 	PassInfo[playerid][psDate][2] 					=
 	PassInfo[playerid][psCity] 						=
 	PassRegSex[playerid] 							=
 	PI[playerid][pRegVehicle] 						=
 	PI[playerid][pSpawnChange]						=
 	PI[playerid][ACCheck] 							=
 	Predlog[playerid]								=
    ZapretDice[playerid] 							=
    KostiMoney[playerid]							= 0;
    //player_afk_time[playerid] 						= 0;
    PI[playerid][P_ENTRANCE] 						=
	PI[playerid][P_ROOM] 							= -1;

    PI[playerid][pInputCode]						=
    HouseOffer[playerid] 							=
    Mobile[playerid] 								=
	CellTime[playerid] 								=
	PlayerStats[playerid] 							=
	PassInfo[playerid][mcState] 					= -1;
	
	/*PI[playerid][pFamily] 							=
	PI[playerid][pFamilySozd]                   	=
	PI[playerid][pFamilyZam]                    	=*/

    //activemusic[playerid]                           =
    //PlayerMusic[playerid]                           =
    StartGMTest[playerid]                           =
    PlayerDied[playerid]                    		=
    CheckOutMoney[playerid]							=
    UseGPS[playerid] 								=
	FreezePlayer[playerid]							=
	PlayerTied[playerid] 							=
	PlayerLogged[playerid] 							=
	AdminLogged[playerid] 							=
	TaxiON[playerid]                                =
	MedicON[playerid]                               =
	MechanicON[playerid]                            =
	PoliceON[playerid]                              =
	Ether[playerid] 								=
	EtherCall[0] 									=
	EtherCall[1] 									=
	EtherSms[0] 									=
	EtherSms[1] 									=
	EtherLive[playerid] 							=
	EtherCalled[playerid] 							= 
	PI[playerid][pPERID_Logged]						= false;

	times[playerid] 								=
	Phone[playerid] 								= true;

	NameStats[playerid]                             =
	pCuff[playerid][pCuffer] 						=
	pCuff[playerid][pCuffee] 						=
    PI[playerid][Spectating][0] 					=
	PI[playerid][Spectating][1] 					=
	KostiName[playerid] 							= INVALID_PLAYER_ID;

	VehTest[playerid]                               =
	PI[playerid][TaxiCarID]                         =
	PI[playerid][BusCarID]                          =
	PI[playerid][MechanicCarID]                     =
	PI[playerid][GruzCarID] 						=
	PI[playerid][TruckerCarID]                      =
	PI[playerid][SalonCarID]                        =
	PI[playerid][PlayerCarID][0]                    =
	PI[playerid][PlayerCarID][1]                    =
	EnterVehicle[playerid] 							= INVALID_VEHICLE_ID;

	PI[playerid][pColor]							= NONE_COLOR;
	PI[playerid][pSettings]                    		= 65535;
	PlayerArmour[playerid] 							= 0.0;
	PlayerLastTick[playerid] 						= GetTickCount();
	PI[playerid][pLevel] 							= 1;
	PI[playerid][pHealthS] 							= 100.0;
	PI[playerid][pHunger] 							= 50;

	new i;
	for(i = 0; i < 4; i++)
	{
    	PI[playerid][pLic][i] = 0;
 	    PI[playerid][pImprove][i] = 0;
 	    PI[playerid][pText][i] = 0;
	}
	for(i = 0; i < 8; i++)
	{
	    PI[playerid][pGunSkill][i] = 0;
	    PhoneNumbers[playerid][i] = 0;
	}
	for(i = 0; i < 12; i++)
 	{
        PI[playerid][pGun][i] = 0;
		PI[playerid][pAmmo][i] = 0;
	}
	/* Транспорт */
	for(i = 0; i < 13; i++)
	{
		PI[playerid][cVehcoms][i] = 0;
	}
	PI[playerid][cModel] 							=
	PI[playerid][cFuel] 							=
	PI[playerid][cColor][0] 						=
	PI[playerid][cColor][1] 						=
	PI[playerid][cLock] 							=
	PI[playerid][cCost] 							=
	PI[playerid][cPaintjob] 						= 0;
	/* Конец */

	strmid(PlayerName[playerid], "None", 0, strlen("None"), MAX_PLAYER_NAME);
	strmid(PI[playerid][pPassword], "", 0, strlen(PI[playerid][pPassword]), 32);
	strmid(PI[playerid][pMail], "", 0, strlen(PI[playerid][pMail]), 64);

	SetSpawnInfoEx(playerid, 0, 0.0, 0.0, 0.0, 0.0);
	ResetPlayerWeaponsAC(playerid);
	return 1;
}

publics pickup_alt(playerid, pickupid) {

	shahta_pickup(playerid, pickupid);
	return 0;


}



stock SetHealth(playerid, Float: Heal)
{
	PlayerUseHeal[playerid] = 1;
	PI[playerid][pHeal] = Heal;
	SetPlayerHealth(playerid, Heal);
	PlayerUseHeal[playerid] = 0;
	return 1;
}

stock SetArmour(playerid, Float: Arm)
{
	PlayerArmour[playerid] = Arm;
	SetPlayerArmour(playerid, Arm);
	return 1;
}

stock CarDoors(vehicleid, status)
{
	if(vehicleid == INVALID_VEHICLE_ID) return 0;
	new eengine, elights, ealarm, edoors, ebonnet, eboot, eobjective;
	GetVehicleParamsEx(vehicleid, eengine, elights, ealarm, edoors, ebonnet, eboot, eobjective);
	SetVehicleParamsEx(vehicleid, eengine, elights, ealarm, status, ebonnet, eboot, eobjective);
	if(vehicleid < lastveh) SetVehicleParamsEx(vehicleid, eengine, elights, ealarm, false, ebonnet, eboot, eobjective);
	return 1;
}

stock CarDoorsEx(vehicleid, status)
{
	if(vehicleid == INVALID_VEHICLE_ID) return 0;
	new eengine, elights, ealarm, edoors, ebonnet, eboot, eobjective;
	GetVehicleParamsEx(vehicleid, eengine, elights, ealarm, edoors, ebonnet, eboot, eobjective);
	SetVehicleParamsEx(vehicleid, eengine, elights, ealarm, status, ebonnet, eboot, eobjective);
	return 1;
}
stock GetPlayerHouse(playerid)
{
	new house = 0;
	for(new i = 1; i <= TOTALHOUSE;i++)
	{
		if(!strcmp(HouseInfo[i][hOwner], GetName(playerid), true))
		{
			SetPVarInt(playerid, "PlayerHouse", i);
			house ++;
			break;
		}
	}
	return house;
}

/*stock GetPlayerPorchHouse(playerid)
{
	new house = 0;
	for(new i = 1; i <= TOTALPORCHHOUSE;i++)
	{
		if(PorchHouseInfo[i][hOwnerID] == PI[playerid][pID])
		{
	 		SetPVarInt(playerid, "PlayerPorchHouse", i);
			house = i;
			break;
		}
	}
	return house;
}*/
stock GetPlayerBizz(playerid)
{
	new bizz = 0;
	for(new i = 1; i <= TOTALBIZZ;i++)
	{
		if(!strcmp(BizzInfo[i][bOwner], GetName(playerid), true)) bizz++, SetPVarInt(playerid, "PlayerBizz", i);
	}
	return bizz;
}

stock IsTheMember(member)
{
	switch(member)
	{
		case TEAM_AO,TEAM_PPS,TEAM_DPS,TEAM_FSIN,TEAM_MZY,TEAM_VDV,TEAM_SMI,TEAM_MZA: return 1;
		default: return 0;
	}
	return 0;
}
stock IsThePayDayMembers(member)
{
	switch(member)
	{
		case TEAM_AO,TEAM_PPS,TEAM_DPS,TEAM_FSIN,TEAM_MZY,TEAM_VDV,TEAM_SPARTAK,TEAM_CSKA,TEAM_SMI,TEAM_MZA: return 1;
		default: return 0;
	}
	return 0;
}
stock IsAbleToGosNewsRank(playerid)
{
	switch(PI[playerid][pMember])
	{
		case TEAM_AO: if(PI[playerid][pRank] >= 9) return 1;
		case TEAM_PPS,TEAM_DPS: if(PI[playerid][pRank] >= 9) return 1;
		case TEAM_FSIN: if(PI[playerid][pRank] >= 9) return 1;
		case TEAM_VDV: if(PI[playerid][pRank] >= 9) return 1;
		case TEAM_MZY: if(PI[playerid][pRank] >= 9) return 1;
		case TEAM_SMI,TEAM_MZA: if(PI[playerid][pRank] >= 9) return 1;
		default: return 0;
	}
	return 0;
}
stock IsAbleToInvite(playerid)
{
	switch(PI[playerid][pMember])
	{
	    case TEAM_AO: if(PI[playerid][pRank] >= 9) return 1;
		case TEAM_PPS,TEAM_DPS: if(PI[playerid][pRank] >= 9) return 1;
		case TEAM_FSIN: if(PI[playerid][pRank] >= 9) return 1;
		case TEAM_VDV: if(PI[playerid][pRank] >= 9) return 1;
		case TEAM_MZY: if(PI[playerid][pRank] >= 9) return 1;
		case TEAM_SPARTAK,TEAM_CSKA, TEAM_DINAMO, TEAM_ZENIT: if(PI[playerid][pRank] >= 9) return 1;
		case TEAM_SMI,TEAM_MZA: if(PI[playerid][pRank] >= 9) return 1;
	}
	return 0;
}
stock IsAbleToChangeSkin(playerid)
{
	switch(PI[playerid][pMember])
	{
	    case TEAM_AO: if(PI[playerid][pRank] >= 8) return 1;
		case TEAM_PPS,TEAM_DPS: if(PI[playerid][pRank] >= 8) return 1;
		case TEAM_FSIN: if(PI[playerid][pRank] >= 8) return 1;
		case TEAM_VDV: if(PI[playerid][pRank] >= 8) return 1;
		case TEAM_MZY: if(PI[playerid][pRank] >= 8) return 1;
		case TEAM_SPARTAK,TEAM_CSKA, TEAM_DINAMO, TEAM_ZENIT: if(PI[playerid][pRank] >= 8) return 1;
		case TEAM_SMI,TEAM_MZA: if(PI[playerid][pRank] >= 8) return 1;
	}
	return 0;
}
stock IsAbleToUninvite(playerid)
{
    switch(PI[playerid][pMember])
	{
	    case TEAM_AO: if(PI[playerid][pRank] >= 9) return 1;
		case TEAM_PPS,TEAM_DPS: if(PI[playerid][pRank] >= 9) return 1;
		case TEAM_FSIN: if(PI[playerid][pRank] >= 9) return 1;
		case TEAM_VDV: if(PI[playerid][pRank] >= 9) return 1;
		case TEAM_MZY: if(PI[playerid][pRank] >= 9) return 1;
		case TEAM_SPARTAK,TEAM_CSKA,TEAM_DINAMO, TEAM_ZENIT: if(PI[playerid][pRank] >= 9) return 1;
		case TEAM_SMI,TEAM_MZA: if(PI[playerid][pRank] >= 9) return 1;
	}
	return 0;
}
stock IsAbleToGiverank(playerid)
{
    switch(PI[playerid][pMember])
	{
	    case TEAM_AO: if(PI[playerid][pRank] >= 9) return 1;
		case TEAM_PPS,TEAM_DPS: if(PI[playerid][pRank] >= 9) return 1;
		case TEAM_FSIN: if(PI[playerid][pRank] >= 9) return 1;
		case TEAM_VDV: if(PI[playerid][pRank] >= 9) return 1;
		case TEAM_MZY: if(PI[playerid][pRank] >= 9) return 1;
		case TEAM_SPARTAK,TEAM_CSKA,TEAM_DINAMO,TEAM_ZENIT: if(PI[playerid][pRank] >= 9) return 1;
		case TEAM_SMI,TEAM_MZA: if(PI[playerid][pRank] >= 9) return 1;
	}
	return 0;
}
stock SelectCar(playerid)
{
	new string[128];
	new Keys,ud,lr;
	GetPlayerKeys(playerid,Keys,ud,lr);
	if((GetTickCount() - PlayerLastTick[playerid]) < 500) return 1;
	if(lr < 0)
	{
		pPressed[playerid]++;
		if(PI[playerid][SalonCarID] != INVALID_VEHICLE_ID) DestroyVehicle(PI[playerid][SalonCarID]);
		if(InShop[playerid] == 1)
		{
			if(pPressed[playerid]>sizeof(carsC))pPressed[playerid] = 0;
			PI[playerid][SalonCarID] = CreateVehicle(carsC[pPressed[playerid]][0],2641.2471,-1920.3633,2325.8000,270.0000,colors[playerid][0]=random(10),colors[playerid][1]=random(10),10000);
			format(string,sizeof(string),"~w~%s",VehicleNames[carsC[pPressed[playerid]][0]-400]);
			PlayerTextDrawSetString(playerid,choicecars[playerid][6],string);
			format(string,64,"%d",carsC[pPressed[playerid]][1]);
			PlayerTextDrawSetString(playerid,choicecars[playerid][11],string);
		}
		if(InShop[playerid] == 2)
		{
			if(pPressed[playerid]>sizeof(carsB))pPressed[playerid] = 0;
			PI[playerid][SalonCarID] = CreateVehicle(carsC[pPressed[playerid]][0],2641.2471,-1920.3633,2325.8000,270.0000,colors[playerid][0]=random(10),colors[playerid][1]=random(10),10000);
			format(string,sizeof(string),"~w~%s",VehicleNames[carsB[pPressed[playerid]][0]-400]);
			PlayerTextDrawSetString(playerid,choicecars[playerid][6],string);
			format(string,sizeof(string),"~w~%d",carsB[pPressed[playerid]][1]);
			PlayerTextDrawSetString(playerid,choicecars[playerid][11],string);
		}
		if(InShop[playerid] == 3)
		{
			if(pPressed[playerid]>sizeof(carsA))pPressed[playerid] = 0;
			PI[playerid][SalonCarID] = CreateVehicle(carsC[pPressed[playerid]][0],2641.2471,-1920.3633,2325.8000,270.0000,colors[playerid][0]=random(10),colors[playerid][1]=random(10),10000);
			format(string,sizeof(string),"~w~%s",VehicleNames[carsA[pPressed[playerid]][0]-400]);
			PlayerTextDrawSetString(playerid,choicecars[playerid][6],string);
			format(string,sizeof(string),"~w~%d",carsA[pPressed[playerid]][1]);
			PlayerTextDrawSetString(playerid,choicecars[playerid][11],string);
		}
		if(InShop[playerid] == 4)
		{
			if(pPressed[playerid]>sizeof(carsBike))pPressed[playerid] = 0;
			PI[playerid][SalonCarID] = CreateVehicle(carsC[pPressed[playerid]][0],2641.2471,-1920.3633,2325.8000,270.0000,colors[playerid][0]=random(10),colors[playerid][1]=random(10),10000);
			format(string,sizeof(string),"~w~%s",VehicleNames[carsBike[pPressed[playerid]][0]-400]);
			PlayerTextDrawSetString(playerid,choicecars[playerid][6],string);
			format(string,sizeof(string),"~w~%d",carsBike[pPressed[playerid]][1]);
			PlayerTextDrawSetString(playerid,choicecars[playerid][11],string);
		}
		PlayerLastTick[playerid] = GetTickCount();
		LinkVehicleToInterior(PI[playerid][SalonCarID],3);
		SetVehicleVirtualWorld(PI[playerid][SalonCarID],playerid);
		PutPlayerInVehicle(playerid,PI[playerid][SalonCarID],0);
		SetPlayerCameraPos(playerid, 2650.4348, -1924.8947, 2326.8867);
		SetPlayerCameraLookAt(playerid, 2649.5349, -1924.4620, 2326.7051);
	}
	if(lr > 0)
	{
		pPressed[playerid]--;
		if(PI[playerid][SalonCarID] != INVALID_VEHICLE_ID) DestroyVehicle(PI[playerid][SalonCarID]);
		if(InShop[playerid] == 1)
		{
			if(pPressed[playerid] < 0) pPressed[playerid] = sizeof(carsC)-1;
			PI[playerid][SalonCarID] = CreateVehicle(carsC[pPressed[playerid]][0],2641.2471,-1920.3633,2325.8000,270.0000,colors[playerid][0]=random(10),colors[playerid][1]=random(10),10000);
			format(string,sizeof(string),"~w~%s",VehicleNames[carsC[pPressed[playerid]][0]-400]);
			PlayerTextDrawSetString(playerid,choicecars[playerid][6],string);
			format(string,sizeof(string),"~w~%d",carsC[pPressed[playerid]][1]);
			PlayerTextDrawSetString(playerid,choicecars[playerid][11],string);
		}
		if(InShop[playerid] == 2)
		{
			if(pPressed[playerid] < 0) pPressed[playerid] = sizeof(carsB)-1;
			PI[playerid][SalonCarID] = CreateVehicle(carsC[pPressed[playerid]][0],2641.2471,-1920.3633,2325.8000,270.0000,colors[playerid][0]=random(10),colors[playerid][1]=random(10),10000);
			format(string,sizeof(string),"~w~%s",VehicleNames[carsB[pPressed[playerid]][0]-400]);
			PlayerTextDrawSetString(playerid,choicecars[playerid][6],string);
			format(string,sizeof(string),"~w~%i",carsB[pPressed[playerid]][1]);
			PlayerTextDrawSetString(playerid,choicecars[playerid][11],string);
		}
		if(InShop[playerid] == 3)
		{
			if(pPressed[playerid] < 0) pPressed[playerid] = sizeof(carsA)-1;
			PI[playerid][SalonCarID] = CreateVehicle(carsA[pPressed[playerid]][0],2641.2471,-1920.3633,2325.8000,270.0000,colors[playerid][0]=random(10),colors[playerid][1]=random(10),10000);
			format(string,sizeof(string),"~w~%s",VehicleNames[carsA[pPressed[playerid]][0]-400]);
			PlayerTextDrawSetString(playerid,choicecars[playerid][6],string);
			format(string,sizeof(string),"~w~%d",carsA[pPressed[playerid]][1]);
			PlayerTextDrawSetString(playerid,choicecars[playerid][11],string);
		}
		if(InShop[playerid] == 4)
		{
			if(pPressed[playerid] < 0) pPressed[playerid] = sizeof(carsBike)-1;
			PI[playerid][SalonCarID] = CreateVehicle(carsC[pPressed[playerid]][0],2641.2471,-1920.3633,2325.8000,270.0000,colors[playerid][0]=random(10),colors[playerid][1]=random(10),10000);
			format(string,sizeof(string),"~w~%s",VehicleNames[carsBike[pPressed[playerid]][0]-400]);
			PlayerTextDrawSetString(playerid,choicecars[playerid][6],string);
			format(string,sizeof(string),"~w~%d",carsBike[pPressed[playerid]][1]);
			PlayerTextDrawSetString(playerid,choicecars[playerid][11],string);
		}
		/*PlayerLastTick[playerid] = GetTickCount();
		LinkVehicleToInterior(PI[playerid][SalonCarID],0);
		PutPlayerInVehicle(playerid,PI[playerid][SalonCarID],0);
		SetPlayerCameraPos(playerid, 2650.4348, -1924.8947, 2326.8867);
		SetPlayerCameraLookAt(playerid, 2649.5349, -1924.4620, 2326.7051);*/
		PlayerLastTick[playerid] = GetTickCount();
		LinkVehicleToInterior(PI[playerid][SalonCarID],3);
		SetVehicleVirtualWorld(PI[playerid][SalonCarID],playerid);
		PutPlayerInVehicle(playerid,PI[playerid][SalonCarID],0);
		SetPlayerCameraPos(playerid, 2650.4348, -1924.8947, 2326.8867);
		SetPlayerCameraLookAt(playerid, 2649.5349, -1924.4620, 2326.7051);
	}
	return 1;
}
stock Convert(seconds, stringTo[], size = sizeof(stringTo))
{
	stringTo[0] = 0x0;
	new result[4];
	result[0] = floatround(seconds / (3600 * 24));
	result[1] = floatround(seconds / 3600);
	result[2] = floatround((seconds / 60) - (result[1] * 60));
	result[3] = floatround(seconds - ((result[1] * 3600) + (result[2] * 60)));
	switch(result[0])
	{
	case 0:
		{
			switch(result[1])
			{
			case 0: format(stringTo,size,"%02d:%02d",result[2],result[3]);
			default: format(stringTo,size,"%d:%02d:%02d",result[1],result[2],result[3]);
			}
		}
	}
	return 1;
}
stock TimeConverter(seconds)
{
	new strings[64];
	new minutes = floatround(seconds/60);
	seconds -= minutes*60;
	format(strings, 64, "%02d:%02d", minutes, seconds);
	return strings;
}
stock GetXYInBackOfPlayer(const playerid, &Float:x, &Float:y, const Float:distance)
{
	new Float:a; GetPlayerPos(playerid, x, y, a); GetPlayerFacingAngle(playerid, a);
	if(IsPlayerInAnyVehicle(playerid))
	{
		new vid = GetPlayerVehicleID(playerid);
		if(vid > 0 && vid <= MAX_VEHICLES) GetVehicleZAngle(vid, a);
	}
	x -= (distance * floatsin(-a, degrees)); y -= (distance * floatcos(-a, degrees));
}
stock IsPlayerInInvalidNosVehicle(playerid)
{
    #define MAX_INVALID_NOS_VEHICLES 52
    static const InvalidNosVehicles[MAX_INVALID_NOS_VEHICLES] =
    {
		581,523,462,521,463,522,461,448,468,586,417,425,469,487,512,520,563,593,
		509,481,510,472,473,493,520,595,484,430,453,432,476,497,513,533,577,
		452,446,447,454,590,569,537,538,570,449,519,460,488,511,519,548,592
	};
	if(IsPlayerInAnyVehicle(playerid))
	{
		for(new i = 0; i < MAX_INVALID_NOS_VEHICLES; i++)
        {
			if(GetVehicleModel(GetPlayerVehicleID(playerid)) == InvalidNosVehicles[i]) return 1;
		}
	}
	return 0;
}
stock IsComponentidCompatible(modelid, componentid)
{
    if(componentid == 1025 || componentid == 1073 || componentid == 1074 || componentid == 1075 || componentid == 1076 ||
         componentid == 1077 || componentid == 1078 || componentid == 1079 || componentid == 1080 || componentid == 1081 ||
         componentid == 1082 || componentid == 1083 || componentid == 1084 || componentid == 1085 || componentid == 1096 ||
         componentid == 1097 || componentid == 1098 || componentid == 1087 || componentid == 1086)
         return 1;

    switch (modelid)
    {
        case 400: return (componentid == 1020 || componentid == 1021 || componentid == 1019 || componentid == 1018 || componentid == 1013 || componentid == 1024 || componentid == 1008 || componentid == 1009 || componentid == 1010);
        case 401: return (componentid == 1005 || componentid == 1004 || componentid == 1142 || componentid == 1143 || componentid == 1144 || componentid == 114 || componentid == 1020 || componentid == 1019 || componentid == 1013 || componentid == 1008 || componentid == 1009 || componentid == 1010 || componentid == 1006 || componentid == 1001 || componentid == 1003 || componentid == 1017 || componentid == 1007);
        case 402: return (componentid == 1009 || componentid == 1009 || componentid == 1010);
        case 404: return (componentid == 1020 || componentid == 1021 || componentid == 1019 || componentid == 1013 || componentid == 1008 || componentid == 1009 || componentid == 1010 || componentid == 1002 || componentid == 1016 || componentid == 1000 || componentid == 1017 || componentid == 1007);
        case 405: return (componentid == 1020 || componentid == 1021 || componentid == 1019 || componentid == 1018 || componentid == 1008 || componentid == 1009 || componentid == 1010 || componentid == 1001 || componentid == 1014 || componentid == 1023 || componentid == 1000);
        case 409: return (componentid == 1009);
        case 410: return (componentid == 1019 || componentid == 1021 || componentid == 1020 || componentid == 1013 || componentid == 1024 || componentid == 1008 || componentid == 1009 || componentid == 1010 || componentid == 1001 || componentid == 1023 || componentid == 1003 || componentid == 1017 || componentid == 1007);
        case 411: return (componentid == 1008 || componentid == 1009 || componentid == 1010);
        case 412: return (componentid == 1008 || componentid == 1009 || componentid == 1010);
        case 415: return (componentid == 1019 || componentid == 1018 || componentid == 1008 || componentid == 1009 || componentid == 1010 || componentid == 1001 || componentid == 1023 || componentid == 1003 || componentid == 1017 || componentid == 1007);
        case 418: return (componentid == 1020 || componentid == 1021 || componentid == 1008 || componentid == 1009 || componentid == 1010 || componentid == 1006 || componentid == 1002 || componentid == 1016);
        case 419: return (componentid == 1008 || componentid == 1009 || componentid == 1010);
        case 420: return (componentid == 1005 || componentid == 1004 || componentid == 1021 || componentid == 1019 || componentid == 1008 || componentid == 1009 || componentid == 1010 || componentid == 1001 || componentid == 1003);
        case 421: return (componentid == 1020 || componentid == 1021 || componentid == 1019 || componentid == 1018 || componentid == 1008 || componentid == 1009 || componentid == 1010 || componentid == 1014 || componentid == 1023 || componentid == 1016 || componentid == 1000);
        case 422: return (componentid == 1020 || componentid == 1021 || componentid == 1019 || componentid == 1013 || componentid == 1008 || componentid == 1009 || componentid == 1010 || componentid == 1017 || componentid == 1007);
        case 426: return (componentid == 1005 || componentid == 1004 || componentid == 1021 || componentid == 1019 || componentid == 1008 || componentid == 1009 || componentid == 1010 || componentid == 1006 || componentid == 1001 || componentid == 1003);
        case 429: return (componentid == 1008 || componentid == 1009 || componentid == 1010);
        case 436: return (componentid == 1020 || componentid == 1021 || componentid == 1022 || componentid == 1019 || componentid == 1013 || componentid == 1008 || componentid == 1009 || componentid == 1010 || componentid == 1006 || componentid == 1001 || componentid == 1003 || componentid == 1017 || componentid == 1007);
        case 438: return (componentid == 1008 || componentid == 1009 || componentid == 1010);
        case 439: return (componentid == 1003 || componentid == 1023 || componentid == 1001 || componentid == 1008 || componentid == 1009 || componentid == 1010 || componentid == 1017 || componentid == 1007 || componentid == 1142 || componentid == 1143 || componentid == 1144 || componentid == 1145 || componentid == 1013);
        case 442: return (componentid == 1008 || componentid == 1009 || componentid == 1010);
        case 445: return (componentid == 1008 || componentid == 1009 || componentid == 1010);
        case 451: return (componentid == 1008 || componentid == 1009 || componentid == 1010);
        case 458: return (componentid == 1008 || componentid == 1009 || componentid == 1010);
        case 466: return (componentid == 1008 || componentid == 1009 || componentid == 1010);
        case 467: return (componentid == 1008 || componentid == 1009 || componentid == 1010);
        case 474: return (componentid == 1008 || componentid == 1009 || componentid == 1010);
        case 475: return (componentid == 1008 || componentid == 1009 || componentid == 1010);
        case 477: return (componentid == 1020 || componentid == 1021 || componentid == 1019 || componentid == 1018 || componentid == 1008 || componentid == 1009 || componentid == 1010 || componentid == 1006 || componentid == 1017 || componentid == 1007);
        case 478: return (componentid == 1005 || componentid == 1004 || componentid == 1012 || componentid == 1020 || componentid == 1021 || componentid == 1022 || componentid == 1013 || componentid == 1024 || componentid == 1008 || componentid == 1009 || componentid == 1010);
        case 479: return (componentid == 1008 || componentid == 1009 || componentid == 1010);
        case 480: return (componentid == 1008 || componentid == 1009 || componentid == 1010);
        case 489: return (componentid == 1005 || componentid == 1004 || componentid == 1020 || componentid == 1019 || componentid == 1018 || componentid == 1013 || componentid == 1024 || componentid == 1008 || componentid == 1009 || componentid == 1010 || componentid == 1006 || componentid == 1002 || componentid == 1016 || componentid == 1000);
        case 491: return (componentid == 1142 || componentid == 1143 || componentid == 1144 || componentid == 1145 || componentid == 1020 || componentid == 1021 || componentid == 1019 || componentid == 1018 || componentid == 1008 || componentid == 1009 || componentid == 1010 || componentid == 1014 || componentid == 1023 || componentid == 1003 || componentid == 1017 || componentid == 1007);
        case 492: return (componentid == 1005 || componentid == 1004 || componentid == 1008 || componentid == 1009 || componentid == 1010 || componentid == 1006 || componentid == 1016 || componentid == 1000);
        case 496: return (componentid == 1006 || componentid == 1017 || componentid == 1007 || componentid == 1011 || componentid == 1019 || componentid == 1023 || componentid == 1001 || componentid == 1008 || componentid == 1009 || componentid == 1010 || componentid == 1003 || componentid == 1002 || componentid == 1142 || componentid == 1143 || componentid == 1020);
        case 500: return (componentid == 1020 || componentid == 1021 || componentid == 1019 || componentid == 1013 || componentid == 1024 || componentid == 1008 || componentid == 1009 || componentid == 1010);
        case 506: return (componentid == 1009);
        case 507: return (componentid == 1008 || componentid == 1009 || componentid == 1010);
        case 516: return (componentid == 1004 || componentid == 1020 || componentid == 1021 || componentid == 1019 || componentid == 1018 || componentid == 1008 || componentid == 1009 || componentid == 1010 || componentid == 1002 || componentid == 1015 || componentid == 1016 || componentid == 1000 || componentid == 1017 || componentid == 1007);
        case 517: return (componentid == 1142 || componentid == 1143 || componentid == 1144 || componentid == 1145 || componentid == 1020 || componentid == 1019 || componentid == 1018 || componentid == 1008 || componentid == 1009 || componentid == 1010 || componentid == 1002 || componentid == 1023 || componentid == 1016 || componentid == 1003 || componentid == 1017 || componentid == 1007);
        case 518: return (componentid == 1005 || componentid == 1142 || componentid == 1143 || componentid == 1144 || componentid == 1145 || componentid == 1020 || componentid == 1018 || componentid == 1013 || componentid == 1008 || componentid == 1009 || componentid == 1010 || componentid == 1006 || componentid == 1001 || componentid == 1023 || componentid == 1003 || componentid == 1017 || componentid == 1007);
        case 526: return (componentid == 1008 || componentid == 1009 || componentid == 1010);
        case 527: return (componentid == 1021 || componentid == 1020 || componentid == 1018 || componentid == 1008 || componentid == 1009 || componentid == 1010 || componentid == 1001 || componentid == 1014 || componentid == 1015 || componentid == 1017 || componentid == 1007);
        case 529: return (componentid == 1012 || componentid == 1011 || componentid == 1020 || componentid == 1019 || componentid == 1018 || componentid == 1008 || componentid == 1009 || componentid == 1010 || componentid == 1006 || componentid == 1001 || componentid == 1023 || componentid == 1003 || componentid == 1017 || componentid == 1007);
        case 533: return (componentid == 1008 || componentid == 1009 || componentid == 1010);
        case 534: return (componentid == 1126 || componentid == 1127 || componentid == 1179 || componentid == 1185 || componentid == 1100 || componentid == 1123 || componentid == 1125 || componentid == 1008 || componentid == 1009 || componentid == 1010 || componentid == 1180 || componentid == 1178 || componentid == 1101 || componentid == 1122 || componentid == 1124 || componentid == 1106);
        case 535: return (componentid == 1109 || componentid == 1110 || componentid == 1113 || componentid == 1114 || componentid == 1115 || componentid == 1116 || componentid == 1117 || componentid == 1008 || componentid == 1009 || componentid == 1010 || componentid == 1120 || componentid == 1118 || componentid == 1121 || componentid == 1119);
        case 536: return (componentid == 1104 || componentid == 1105 || componentid == 1182 || componentid == 1181 || componentid == 1008 || componentid == 1009 || componentid == 1010 || componentid == 1184 || componentid == 1183 || componentid == 1128 || componentid == 1103 || componentid == 1107 || componentid == 1108);
        case 540: return (componentid == 1004 || componentid == 1142 || componentid == 1143 || componentid == 1144 || componentid == 1145 || componentid == 1020 || componentid == 1019 || componentid == 1018 || componentid == 1024 || componentid == 1008 || componentid == 1009 || componentid == 1010 || componentid == 1006 || componentid == 1001 || componentid == 1023 || componentid == 1017 || componentid == 1007);
        case 541: return (componentid == 1008 || componentid == 1009 || componentid == 1010);
        case 542: return (componentid == 1144 || componentid == 1145 || componentid == 1020 || componentid == 1021 || componentid == 1019 || componentid == 1018 || componentid == 1008 || componentid == 1009 || componentid == 1010 || componentid == 1014 || componentid == 1015);
        case 545: return (componentid == 1008 || componentid == 1009 || componentid == 1010);
        case 546: return (componentid == 1004 || componentid == 1142 || componentid == 1143 || componentid == 1144 || componentid == 1145 || componentid == 1019 || componentid == 1018 || componentid == 1024 || componentid == 1008 || componentid == 1009 || componentid == 1010 || componentid == 1006 || componentid == 1002 || componentid == 1001 || componentid == 1023 || componentid == 1017 || componentid == 1007);
        case 547: return (componentid == 1142 || componentid == 1143 || componentid == 1020 || componentid == 1021 || componentid == 1019 || componentid == 1018 || componentid == 1008 || componentid == 1009 || componentid == 1010 || componentid == 1016 || componentid == 1003 || componentid == 1000);
        case 549: return (componentid == 1012 || componentid == 1011 || componentid == 1142 || componentid == 1143 || componentid == 1144 || componentid == 1145 || componentid == 1020 || componentid == 1019 || componentid == 1018 || componentid == 1008 || componentid == 1009 || componentid == 1010 || componentid == 1001 || componentid == 1023 || componentid == 1003 || componentid == 1017 || componentid == 1007);
        case 550: return (componentid == 1005 || componentid == 1004 || componentid == 1142 || componentid == 1143 || componentid == 1144 || componentid == 1145 || componentid == 1020 || componentid == 1019 || componentid == 1018 || componentid == 1008 || componentid == 1009 || componentid == 1010 || componentid == 1006 || componentid == 1001 || componentid == 1023 || componentid == 1003);
        case 551: return (componentid == 1005 || componentid == 1020 || componentid == 1021 || componentid == 1019 || componentid == 1018 || componentid == 1008 || componentid == 1009 || componentid == 1010 || componentid == 1006 || componentid == 1002 || componentid == 1023 || componentid == 1016 || componentid == 1003);
        case 555: return (componentid == 1008 || componentid == 1009 || componentid == 1010);
        case 558: return (componentid == 1092 || componentid == 1089 || componentid == 1166 || componentid == 1165 || componentid == 1008 || componentid == 1009 || componentid == 1010 || componentid == 1168 || componentid == 1167 || componentid == 1088 || componentid == 1091 || componentid == 1164 || componentid == 1163 || componentid == 1094 || componentid == 1090 || componentid == 1095 || componentid == 1093);
        case 559: return (componentid == 1065 || componentid == 1066 || componentid == 1160 || componentid == 1173 || componentid == 1008 || componentid == 1009 || componentid == 1010 || componentid == 1159 || componentid == 1161 || componentid == 1162 || componentid == 1158 || componentid == 1067 || componentid == 1068 || componentid == 1071 || componentid == 1069 || componentid == 1072 || componentid == 1070 || componentid == 1009);
        case 560: return (componentid == 1028 || componentid == 1029 || componentid == 1169 || componentid == 1170 || componentid == 1008 || componentid == 1009 || componentid == 1010 || componentid == 1141 || componentid == 1140 || componentid == 1032 || componentid == 1033 || componentid == 1138 || componentid == 1139 || componentid == 1027 || componentid == 1026 || componentid == 1030 || componentid == 1031);
        case 561: return (componentid == 1064 || componentid == 1059 || componentid == 1155 || componentid == 1157 || componentid == 1008 || componentid == 1009 || componentid == 1010 || componentid == 1154 || componentid == 1156 || componentid == 1055 || componentid == 1061 || componentid == 1058 || componentid == 1060 || componentid == 1062 || componentid == 1056 || componentid == 1063 || componentid == 1057);
        case 562: return (componentid == 1034 || componentid == 1037 || componentid == 1171 || componentid == 1172 || componentid == 1008 || componentid == 1009 || componentid == 1010 || componentid == 1149 || componentid == 1148 || componentid == 1038 || componentid == 1035 || componentid == 1147 || componentid == 1146 || componentid == 1040 || componentid == 1036 || componentid == 1041 || componentid == 1039);
        case 565: return (componentid == 1046 || componentid == 1045 || componentid == 1153 || componentid == 1152 || componentid == 1008 || componentid == 1009 || componentid == 1010 || componentid == 1150 || componentid == 1151 || componentid == 1054 || componentid == 1053 || componentid == 1049 || componentid == 1050 || componentid == 1051 || componentid == 1047 || componentid == 1052 || componentid == 1048);
        case 566: return (componentid == 1008 || componentid == 1009 || componentid == 1010);
        case 567: return (componentid == 1129 || componentid == 1132 || componentid == 1189 || componentid == 1188 || componentid == 1008 || componentid == 1009 || componentid == 1010 || componentid == 1187 || componentid == 1186 || componentid == 1130 || componentid == 1131 || componentid == 1102 || componentid == 1133);
        case 575: return (componentid == 1044 || componentid == 1043 || componentid == 1174 || componentid == 1175 || componentid == 1008 || componentid == 1009 || componentid == 1010 || componentid == 1176 || componentid == 1177 || componentid == 1099 || componentid == 1042);
        case 576: return (componentid == 1136 || componentid == 1135 || componentid == 1191 || componentid == 1190 || componentid == 1008 || componentid == 1009 || componentid == 1010 || componentid == 1192 || componentid == 1193 || componentid == 1137 || componentid == 1134);
        case 579: return (componentid == 1008 || componentid == 1009 || componentid == 1010);
        case 580: return (componentid == 1020 || componentid == 1018 || componentid == 1008 || componentid == 1009 || componentid == 1010 || componentid == 1006 || componentid == 1001 || componentid == 1023 || componentid == 1017 || componentid == 1007);
        case 585: return (componentid == 1142 || componentid == 1143 || componentid == 1144 || componentid == 1145 || componentid == 1020 || componentid == 1019 || componentid == 1018 || componentid == 1013 || componentid == 1008 || componentid == 1009 || componentid == 1010 || componentid == 1006 || componentid == 1001 || componentid == 1023 || componentid == 1003 || componentid == 1017 || componentid == 1007);
        case 587: return (componentid == 1008 || componentid == 1009 || componentid == 1010);
        case 589: return (componentid == 1005 || componentid == 1004 || componentid == 1144 || componentid == 1145 || componentid == 1020 || componentid == 1018 || componentid == 1008 || componentid == 1009 || componentid == 1010 || componentid == 1024 || componentid == 1013 || componentid == 1006 || componentid == 1016 || componentid == 1000 || componentid == 1017 || componentid == 1007);
        case 600: return (componentid == 1005 || componentid == 1004 || componentid == 1020 || componentid == 1022 || componentid == 1018 || componentid == 1013 || componentid == 1008 || componentid == 1009 || componentid == 1010 || componentid == 1006 || componentid == 1017 || componentid == 1007);
        case 602: return (componentid == 1008 || componentid == 1009 || componentid == 1010);
        case 603: return (componentid == 1144 || componentid == 1145 || componentid == 1142 || componentid == 1143 || componentid == 1020 || componentid == 1019 || componentid == 1018 || componentid == 1024 || componentid == 1008 || componentid == 1009 || componentid == 1010 || componentid == 1006 || componentid == 1001 || componentid == 1023 || componentid == 1017 || componentid == 1007);
    }
    return 0;
}
stock GiveWeapon(playerid,weaponid,ammo)
{
    SetPVarInt(playerid, "GunCheckTime", 2);
    new ammow = 0;
    if(weaponid >= 1 && weaponid <= 9) GetPlayerWeaponData(playerid, 1, ammow, ammow);
    if(weaponid >= 10 && weaponid <= 15) GetPlayerWeaponData(playerid, 10, ammow, ammow);
    if(weaponid >= 16 && weaponid <= 19) GetPlayerWeaponData(playerid, 8, ammow, ammow);
    if(weaponid >= 22 && weaponid <= 24) GetPlayerWeaponData(playerid, 2, ammow, ammow);
    if(weaponid >= 25 && weaponid <= 27) GetPlayerWeaponData(playerid, 3, ammow, ammow);
    if(weaponid >= 28 && weaponid <= 29 || weaponid == 32) GetPlayerWeaponData(playerid, 4, ammow, ammow);
    if(weaponid >= 30 && weaponid <= 31) GetPlayerWeaponData(playerid, 5, ammow, ammow);
    if(weaponid >= 33 && weaponid <= 34) GetPlayerWeaponData(playerid, 6, ammow, ammow);
    if(weaponid >= 35 && weaponid <= 38) GetPlayerWeaponData(playerid, 7, ammow, ammow);
    if(weaponid >= 41 && weaponid <= 43) GetPlayerWeaponData(playerid, 9, ammow, ammow);
    Weapons[playerid][weaponid] += (ammo+ammow);
	GivePlayerWeapon(playerid,weaponid,ammo);
	return true;
}
stock GetGangZoneColor(fractionid) {
	return
		(GZInfo[fractionid][gFrak] == TEAM_SPARTAK) ? (0x009900AA) :
		(GZInfo[fractionid][gFrak] == TEAM_CSKA) ? (0xffa500AA) :
		(GZInfo[fractionid][gFrak] == TEAM_DINAMO) ? (0x00CCFFAA) : (0xFFFFFF65);
}

stock GetGangName(fractionid)
{
	new string[20];
	switch(fractionid)
	{
		case 7: format(string, sizeof(string), "Южная");
		case 8: format(string, sizeof(string), "Ореховская");
		case 9: format(string, sizeof(string), "Солнцевская");
	}
	return string;
}

stock IsInAllowed(playerid)
{
	for(new i = 0; i < sizeof(allowedfactions); i++)
	{
		if(PI[playerid][pMember] == allowedfactions[i]||PI[playerid][pLeader] == allowedfactions[i]) return 1;
	}
	return 0;
}

stock IsInAllowedF(fractionid)
{
	for(new i = 0; i < sizeof(allowedfactions); i++)
	{
		if(fractionid == allowedfactions[i]) return 1;
	}
	return 0;
}

stock IsPlayerInBandOnline(fractionid)
{
	new np;
	foreach(new i: Player)
	{
		if(PlayerLogged[i] == false) continue;
		if(PI[i][pMember] == fractionid || PI[i][pLeader] == fractionid) np++;
	}
	return np;
}

stock IsPlayerToSquare(playerid,Float:min_x,Float:min_y,Float:max_x,Float:max_y)
{
	new Float:xxp,Float:yyp,Float:zzp;
	GetPlayerPos(playerid, xxp, yyp, zzp);
	if((xxp <= max_x && xxp >= min_x) && (yyp <= max_y && yyp >= min_y)) return 1;
	return 0;
}
stock GivePlayerWeaponAC(playerid, weaponid, ammo)
{
    new slot = GetWeaponSlotEx(weaponid);
	if(slot == -1) return 0;
	PI[playerid][pGun][slot] = weaponid;
    if(ammo > 0) PI[playerid][pAmmo][slot] += ammo;
    else PI[playerid][pAmmo][slot] -= ammo;
	GivePlayerWeapon(playerid, weaponid, ammo);
	return 1;
}
stock RemovePlayerWeapon(playerid, weaponid)
{
	if(!IsPlayerConnected(playerid) || weaponid < 0 || weaponid > 50) return;
	for(new i = 0; i < 12; i++) GetPlayerWeaponData(playerid, i, PI[playerid][pGun][i], PI[playerid][pAmmo][i]);
	ResetPlayerWeaponsAC(playerid);
	for(new i = 0; i < 12; i++)
	{
		if(PI[playerid][pGun][i] == weaponid || PI[playerid][pAmmo][i] == 0) continue;
		GivePlayerWeaponAC(playerid, PI[playerid][pGun][i], PI[playerid][pAmmo][i]);
	}
	GivePlayerWeaponAC(playerid, 0, 1);
}
stock ResetPlayerWeaponsAC(playerid)
{
	for(new i = 0; i < 12; i++)
    {
        PI[playerid][pGun][i] = 0;
		PI[playerid][pAmmo][i] = 0;
	}
	ResetPlayerWeapons(playerid);
	return 1;
}
stock GetWeaponSlotEx(weaponid)
{
	switch(weaponid)
	{
		case 0,1:			return 0;
		case 2..9:			return 1;
		case 22..24:		return 2;
		case 25..27:		return 3;
		case 28,29,32:		return 4;
		case 30,31:			return 5;
		case 33,34:			return 6;
		case 35..38:		return 7;
		case 16..18,39:		return 8;
		case 41..43:		return 9;
		case 10..15:		return 10;
		case 44..46:		return 11;
		case 40:			return 12;
	}
	return -1;
}
stock GzCheck()
{
	new string[256], SCORE[128];
	for(new i = 0; i < sizeof(GZInfo); i++)
	{
		if(ZoneOnBattle[i] == 1 && IsCapture == true)
		{
   			foreach(new x: Player)
			{
				if(PlayerLogged[x] == false && drawcapt[x] == true) continue;
				if(PI[x][pMember] == GZInfo[i][gNapad] || PI[x][pMember] == GZInfo[i][gFrak])
				{
				    for(new s; s < 10; s++) PlayerTextDrawShow(x, CaptureTD[x][s]);
					format(SCORE, sizeof(SCORE), "%s", GetGangName(GZInfo[i][gNapad]));
					PlayerTextDrawSetString(x, CaptureTD[x][7], SCORE);
					format(SCORE, sizeof(SCORE), "%s", GetGangName(GZInfo[i][gFrak]));
					PlayerTextDrawSetString(x, CaptureTD[x][8], SCORE);
					format(SCORE, sizeof(SCORE), "%d", GangInfo[GZInfo[i][gNapad]][score]);
					PlayerTextDrawSetString(x, CaptureTD[x][9], SCORE);
					format(SCORE, sizeof(SCORE), "%d", GangInfo[GZInfo[i][gFrak]][score]);
					PlayerTextDrawSetString(x, CaptureTD[x][10], SCORE);
					GangZoneFlashForPlayer(x,GangZone[i],GetGangZoneColor(GZInfo[i][gNapad]));
					drawcapt[x] = true;
				}
			}
		}
		if(ZoneOnBattle[i] == 1 && GZSafeTime[i] == 0)
		{
			if(GangInfo[GZInfo[i][gNapad]][score] == GangInfo[GZInfo[i][gFrak]][score])
			{
				new zh = GZInfo[i][gNapad];
				new zj = i;
				new zg = GZInfo[i][gFrak];
				format(string, 128, "Вы захватили новую территорию, которая находилась под контролем банды %s",GetGangName(zg));
				SendFMes(GZInfo[i][gNapad],COLOR_GREEN, string);
				format(string, 128, "Вам не удалось отстоять свою территорию, теперь эта территория под контролем банды %s",GetGangName(zh));
				SendFMes(GZInfo[i][gFrak],COLOR_RED, string);
				ZoneOnBattle[i] = 0;
				IsCapture = false;
				CaptureEnd(GZInfo[i][gNapad], GZInfo[i][gFrak]);
				GangInfo[GZInfo[i][gNapad]][captureid] =
				GangInfo[GZInfo[i][gNapad]][capture] =
				GangInfo[GZInfo[i][gNapad]][score] =
				GangInfo[GZInfo[i][gFrak]][captureid] =
				GangInfo[GZInfo[i][gFrak]][capture] =
				GangInfo[GZInfo[i][gFrak]][score] =
				GangInfo[GZInfo[i][gNapad]][gangnumber] =
				GangInfo[GZInfo[i][gFrak]][gangnumber] = 0;
				GZInfo[zj][gFrak] = zh;
				GZInfo[zj][gNapad] = 0;
				GangZoneStopFlashForAll(GangZone[zj]);
				GangZoneHideForAll(GangZone[zj]);
				GangZoneShowForAll(GangZone[zj],GetGangZoneColor(zj));
				SaveGZ(zj);

			}
			else if(GangInfo[GZInfo[i][gNapad]][score] > GangInfo[GZInfo[i][gFrak]][score])
			{
				new zx = GZInfo[i][gNapad];
				new zl = i;
				format(string, 128, "Вы захватили новую территорию, которая находилась под контролем банды %s", GetGangName(GZInfo[i][gFrak]));
				SendFMes(GZInfo[i][gNapad],COLOR_GREEN, string);
				format(string, 128, "Вам не удалось отстоять свою территорию, теперь эта территория под контролем банды %s",GetGangName(zx));
				SendFMes(GZInfo[i][gFrak],COLOR_RED, string);
				ZoneOnBattle[zl] = 0;
				CaptureEnd(GZInfo[zl][gNapad], GZInfo[zl][gFrak]);
				GangInfo[GZInfo[zl][gNapad]][captureid] =
				GangInfo[GZInfo[zl][gNapad]][capture] =
				GangInfo[GZInfo[zl][gNapad]][score] =
				GangInfo[GZInfo[zl][gFrak]][captureid] =
				GangInfo[GZInfo[zl][gFrak]][capture] =
				GangInfo[GZInfo[zl][gFrak]][score] =
				GangInfo[GZInfo[i][gNapad]][gangnumber] =
				GangInfo[GZInfo[i][gFrak]][gangnumber] = 0;
				GZInfo[zl][gFrak] = zx;
				GZInfo[zl][gNapad] = 0;
				IsCapture = false;
				GangZoneStopFlashForAll(GangZone[zl]);
				GangZoneHideForAll(GangZone[zl]);
				GangZoneShowForAll(GangZone[zl],GetGangZoneColor(zl));
				SaveGZ(zl);

			}
			else if(GangInfo[GZInfo[i][gNapad]][score] < GangInfo[GZInfo[i][gFrak]][score])
			{
				new zx = GZInfo[i][gFrak];
				new zl = i;
				SendFMes(GZInfo[i][gNapad],COLOR_RED, "Вам не удалось захватить новую территорию");
				SendFMes(GZInfo[i][gFrak],COLOR_GREEN,"Вы отстояли свою территорию");
				ZoneOnBattle[zl] = 0;
				CaptureEnd(GZInfo[zl][gNapad], GZInfo[zl][gFrak]);
				GangInfo[GZInfo[zl][gNapad]][captureid] =
				GangInfo[GZInfo[zl][gNapad]][capture] =
				GangInfo[GZInfo[zl][gNapad]][score] =
				GangInfo[GZInfo[zl][gFrak]][captureid] =
				GangInfo[GZInfo[zl][gFrak]][capture] =
				GangInfo[GZInfo[zl][gFrak]][score] =
				GangInfo[GZInfo[i][gNapad]][gangnumber] =
				GangInfo[GZInfo[i][gFrak]][gangnumber] = 0;
				IsCapture = false;
				GZInfo[zl][gFrak] = zx;
				GZInfo[zl][gNapad] = 0;
				GangZoneStopFlashForAll(GangZone[zl]);
				GangZoneHideForAll(GangZone[zl]);
				GangZoneShowForAll(GangZone[zl],GetGangZoneColor(zl));
				SaveGZ(zl);

			}
		}
	}
	for(new i = 0; i < sizeof(GZInfo); i++)
	{
		for(new z = 0; z < 20; z++)
		{
			OnZONE[i][z] = 0;
		}
	}
	for(new i = 0; i < sizeof(MZInfo); i++)
	{
		if(ZoneOnBattlem[i] == 1 && MZSafeTime[i] == 0)
		{
			ZoneTimerm[i] -= 10;
			if(ZoneTimerm[i] <= 0)
			{
				for(new h = 0; h < sizeof(BizzInfo); h++)
				{
					if(BizzInfo[h][bZahvat] == 1)
					{
						SendFMes(BizzInfo[h][bMafia],COLOR_GREEN,"Вам удалось отстоять свой бизнес");
						BizzInfo[h][bZahvat] = 0;
					}
				}
				SendFMes(MZInfo[i][mNapad],COLOR_RED,"Вам не удалось взять под контроль новый бизнес");
				startwar = 0;
				ZoneOnBattlem[i] = 0;
				GangZoneStopFlashForAll(zons);
			}
			foreach(new x: Player)
			{
				if(IsPlayerToSquare(x,328.755706, 2412.644531, 448.755706, 2564.644531))
				{
					new factionm;
					if(PI[x][pLeader] != 0) factionm = PI[x][pLeader];
					else factionm = PI[x][pMember];
					OnmZONE[i][factionm]++;
				}
			}
			new asd;
			for(new x = 0; x < 20; x++)
			{
				if(OnmZONE[i][x] > 0 && IsInAllowedM(x)) asd++;
			}
			if(asd == 1)
			{
				for(new x = 0; x < 20; x++)
				{
					if(OnmZONE[i][x] > 0)
					{
						new zx = x;
						new zl = i;
						if(MZInfo[i][mFrakVlad] == x)
						{
							for(new h = 0; h < sizeof(BizzInfo); h++)
							{
								if(BizzInfo[h][bZahvat] == 1)
								{
									BizzInfo[h][bMafia] = BizzInfo[h][bMafia];
									switch(BizzInfo[h][bMafia])
									{
									   	case TEAM_SPARTAK: MafiaTotalBizz[0]++;
									   	case TEAM_CSKA: MafiaTotalBizz[1]++;
									   	case TEAM_DINAMO: MafiaTotalBizz[2]++;
									}
									SendFMes(BizzInfo[h][bMafia],COLOR_GREEN,"Вы отстояли свой бизнес");
									BizzInfo[h][bZahvat] = 0;
									MysqlUpdateBizzInt(h, "mafia", BizzInfo[h][bMafia]);
								}
							}
							startwar = 0;
							SendFMes(MZInfo[i][mNapad],COLOR_RED,"Вам не удалось завоевать ещё один бизнес");
						}
						else
						{
							startwar = 0;
							SendFMes(MZInfo[i][mNapad],COLOR_GREEN,"Вы завоевали новый бизнес");
							for(new h = 0; h < sizeof(BizzInfo); h++)
							{
								if(BizzInfo[h][bZahvat] == 1)
								{
									SendFMes(BizzInfo[h][bMafia],COLOR_RED,"Вы потеряли контроль над одним из своих бизнесов");
									BizzInfo[h][bMafia] = MZInfo[i][mNapad];
									switch(BizzInfo[h][bMafia])
									{
									   	case TEAM_SPARTAK: MafiaTotalBizz[0]--;
									   	case TEAM_CSKA: MafiaTotalBizz[1]--;
									   	case TEAM_DINAMO: MafiaTotalBizz[2]--;
									}
									BizzInfo[h][bZahvat] = 0;
									MysqlUpdateBizzInt(h, "mafia", BizzInfo[h][bMafia]);
								}
							}
						}
						ZoneOnBattlem[zl] = 0;
						MZInfo[zl][mFrakVlad] = 0;
						MZInfo[zl][mFrakVlad] = zx;
						GangZoneStopFlashForAll(zons);
						GangZoneHideForAll(zons);
						GangZoneShowForAll(zons,COLOR_NEWS);
						break;
					}
				}
			}
		}
	}
	for(new mz = 0; mz < 20; mz++)
	{
		OnmZONE[0][mz] = 0;
	}
	return 1;
}

stock LeaveFractionPlayer(playerid)
{
	if(IsAGang(playerid))
	{
		for(new i; i < 11; i++) PlayerTextDrawHide(playerid, CaptureTD[playerid][i]);
	}
	PI[playerid][pMemberSkin] = PI[playerid][pMember] = PI[playerid][pRank] = 0;
	if(PI[playerid][pLeader]) PI[playerid][pLeader] = 0;
	ResetPlayerWeaponsAC(playerid);
	SetPlayerSkin(playerid,PI[playerid][pModel]);
	PI[playerid][pSpawnChange] = 0;
	return 1;
}

stock NewsPanel(playerid)
{
	new full = 0;
	full = (PI[playerid][pMember] == TEAM_SMI) ? (0) : (PI[playerid][pMember] == TEAM_MZA) ? (1) : (2);
	new string[210];
	format(string, sizeof(string), "%s\n{FFFFFF}- Пригласить в эфир\n{FFFFFF}- Выпроводить из эфира\n%s\n%s\n{FFCC00}- Объявления [Новых %i]",
	!Ether[playerid] ? ("{63BD4E}- Войти в эфир") : ("{F04245}- Выйти из эфира"),
	!EtherCall[full] ? ("{63BD4E}- Включить прием звонков в эфир") : ("{F04245}- Выключить прием звонков в эфир"),
	!EtherSms[full] ? ("{63BD4E}- Включить прием смс в эфир") : ("{F04245}- Выключить прием смс в эфир"),
	TOTALADVERT[full]);
	ShowPlayerDialog(playerid, D_NMENU, 2,
	(PI[playerid][pMember] == TEAM_SMI) ? ("{FFCC00}ТРК Амазинг {FFFFFF}(т. 555)") :
	(PI[playerid][pMember] == TEAM_MZA) ? ("{FFCC00}ТРК Ритм {FFFFFF}(т. 666)") : ("{FFCC00}Закрыто {FFFFFF}(т. 777)"),
	string, "Принять", "Отмена");
	return 1;
}

stock MobileCrash(playerid)
{
	SendClientMessage(Mobile[playerid], COLOR_RED, "Абонент положил трубку");
	SetPlayerSpecialAction(Mobile[playerid], SPECIAL_ACTION_STOPUSECELLPHONE);
	CellTime[Mobile[playerid]] = CellTime[playerid] = Mobile[Mobile[playerid]] = -1;
	if(EtherCalled[playerid] == true) EtherCalled[playerid] = false;
	if(EtherCalled[Mobile[playerid]] == true) EtherCalled[Mobile[playerid]] = false;
	Mobile[playerid] = -1;
	SetPlayerSpecialAction(playerid, SPECIAL_ACTION_STOPUSECELLPHONE);
	DeletePVar(playerid, "CallTime");
	DeletePVar(Mobile[playerid], "CallTime");
	return 1;
}

stock ClearBizz(i)
{
	new playerid = GetPlayerID(BizzInfo[i][bOwner]);
	if(playerid != INVALID_PLAYER_ID)
	{
		if(IsPlayerConnected(playerid) && PlayerLogged[playerid])
		{
			PI[playerid][pBank] += BizzInfo[i][bBuyPrice];
			PI[playerid][pBank] += BizzInfo[i][bMoney];
			SendClientMessage(playerid, COLOR_YELLOW,"[Налоговая служба] Ваш бизнес закрыли в связи с нехваткой ресурсов");
			SendClientMessage(playerid, COLOR_YELLOW,"[Налоговая служба] Половина стоимости бизнеса и его бюджет зачислены На Ваш банковский счет");
		}
	}
	else
	{
		format(query, sizeof(query), "SELECT `bank`,`text` FROM `accounts` WHERE name = '%s'", BizzInfo[i][bOwner]);
		mysql_tquery(dbHandle, query, "OfflineClearBizz", "i", i);
	}
	BizzPay[i] = BizzInfo[i][bLock] = BizzInfo[i][bLockTime] = BizzInfo[i][bMafia] = BizzInfo[i][bBuyPrice] = BizzInfo[i][bMoney] = BizzInfo[i][bLic] = BizzInfo[i][bEnter] = 0;
	BizzInfo[i][bTill] = 50;
	switch(BizzInfo[i][bType])
	{
	    case 1: BizzInfo[i][bProduct] = 5000;
	    case 2: BizzInfo[i][bProduct] = 20000;
	    case 3: BizzInfo[i][bProduct] = 3000;
	    case 4: BizzInfo[i][bProduct] = 7000;
	    case 5: BizzInfo[i][bProduct] = 7000;
	    case 6: BizzInfo[i][bProduct] = 20000;
	    case 7: BizzInfo[i][bProduct] = 100000;
	    case 8: BizzInfo[i][bProduct] = 50000;
	    case 9: BizzInfo[i][bProduct] = 50000;
	}
	new string[512];
	strmid(BizzInfo[i][bOwner], "None", 0, strlen("None"), MAX_PLAYER_NAME);
	format(string, sizeof(string), "UPDATE `bizz` SET owner='%s', block=%d, money=%d, lic=%d, penter=%d, till=%d, buyprice=%d , product=%d, unlock_ogran=0, unlock_banner=0, unlock_gps=0, unlock_music=0 WHERE id = %d",\
	BizzInfo[i][bOwner], BizzInfo[i][bLock],\
	BizzInfo[i][bMoney], BizzInfo[i][bLic],\
	BizzInfo[i][bEnter], BizzInfo[i][bTill], \
	BizzInfo[i][bBuyPrice], BizzInfo[i][bProduct], i);
	mysql_tquery(dbHandle, query, "", "");
	UpdateBizz(i);
	return 1;
}

forward OfflineClearBizz(bizzid);
public OfflineClearBizz(bizzid)
{
    new rows, fields, bank, texts[20], text[4];
    cache_get_data(rows, fields);
	if(rows)
	{
		bank = cache_get_row_int(0, 0, dbHandle); // bank
		cache_get_row(0, 1, texts, dbHandle); // text
	}
	sscanf(texts, "p<,>a<i>[4]", text);
	format(texts, sizeof(texts), "%i, 1, %i, %i", text[0], text[2], text[3]);
	bank += BizzInfo[bizzid][bBuyPrice];
	bank += BizzInfo[bizzid][bMoney];
	format(query, sizeof(query), "UPDATE `accounts` SET text = '%s', bank = %i WHERE name = '%s'", texts, bank, BizzInfo[bizzid][bOwner]);
	mysql_tquery(dbHandle, query, "", "");
	return 1;
}

stock GetHomeOplata(idx)
{
	new htax;
    if(!strcmp("A",HouseInfo[idx][hDiscript],true)) htax = 1000;
	if(!strcmp("B",HouseInfo[idx][hDiscript],true)) htax = 2000;
	if(!strcmp("C",HouseInfo[idx][hDiscript],true)) htax = 4000;
	if(!strcmp("D",HouseInfo[idx][hDiscript],true)) htax = 8000;
	if(!strcmp("E",HouseInfo[idx][hDiscript],true)) htax = 16000;
	if(!strcmp("F",HouseInfo[idx][hDiscript],true)) htax = 32000;
	if(!strcmp("G",HouseInfo[idx][hDiscript],true)) htax = 1000;
	return htax;
}
stock GetBizOplata(idx)
{
	new htax;
	switch(BizzInfo[idx][bType]) {
		case BIZ_MAGAZINE: htax = 2500;
		case BIZ_APTEKA: htax = 3000;
		case BIZ_AZS: htax = 8000;
		case BIZ_BAR: htax = 1000;
		case BIZ_BAR2: htax = 1500;
		case BIZ_COMPSHOP: htax = 5000;
		case BIZ_STO: htax = 10000;
		case BIZ_KAZINO: htax = 15000;
		case BIZ_GUNSHOP: htax = 2000;
		case BIZ_PYROSHOP: htax = 1000;
		case BIZ_TOOLS: htax = 1000;
		case BIZ_PLAYSHOP: htax = 1000;
		case BIZ_RESTARAUNT: htax = 2000;
		case BIZ_SAUNA: htax = 1000;
	}
	return htax;
}

forward OfflineClearHouse(houseid);
public OfflineClearHouse(houseid)
{
    new rows, fields, texts[16], text[4];
    cache_get_data(rows, fields);
	if(rows) cache_get_field_content(0, "text", texts);
	sscanf(texts, "p<,>a<i>[4]", text);
	format(texts, sizeof(texts), "%i, %i, %i, %i", houseid, text[1], text[2], text[3]);
	format(query, sizeof(query), "UPDATE `accounts`  SET text = '%s' WHERE name = '%s'", texts, HouseInfo[houseid][hOwner]);
	mysql_tquery(dbHandle, query, "", "");
	return 1;
}

stock GunShopList(playerid)
{
	if(PI[playerid][pLic][3] == 0) return SendClientMessage(playerid, COLOR_RED, "У Вас нет лицензии на оружие!");
	new string[700], str[80];
	strcat(string, "{FFCC00}Наименование\t\t{FFCC00}Цена\n");
	for(new i; i < 10-8; i++)
	{
	    format(str, sizeof(str), "{FFFFFF}%s\t\t{63BD4E}%d рублей\n", gGunNames[i], gGunCosts[i]);
	    strcat(string, str);
	}
	for(new i = 2; i < 10; i++)
	{
	    format(str, sizeof(str), "{FFFFFF}%s\t\t{63BD4E}%d рублей {AFAFAF}за 1 пт.\n", gGunNames[i], gGunCosts[i]);
	    strcat(string, str);
	}
	ShowPlayerDialog(playerid, 1374, DIALOG_STYLE_LIST, "{FFCC00}Магазин оружия", string, "Купить", "Отмена");
	return 1;
}

stock SkinShopList(playerid)
{
	ShowPlayerDialog(playerid, D_JOB+31, DIALOG_STYLE_MSGBOX, "{FFCC00}Покупка одежды", "{FFFFFF}Вы хотите перейти к выбору одежды?", "Да", "Нет");
	return 1;
}
stock MagazineList(playerid)
{
	ShowPlayerDialog(playerid, D_HEAL+13, DIALOG_STYLE_LIST, "{FFCC00}Магазин 24/7","\
	\n1. Мобильный телефон  \t\t{FFCC00}450 рублей\
	\n2. SIM-карта     		\t\t{FFCC00}300 рублей\
	\n3. Фотоаппарат		\t\t{FFCC00}300 рублей\
	\n4. Аптечки для дома	\t\t{FFCC00}550 рублей\
	\n5. Цветы				{FFCC00}100 рублей\
	\n6. Рюкзак				{FFCC00}150 рублей\
	\n7. Маска				{FFCC00}300 рублей\
	\n8. Сигарета			\t{FFCC00}70 рублей\
	\n9. Газировка			\t{FFCC00}70 рублей\
	\n10. Набор инструментов	\t{FFCC00}200 рублей","Купить", "Отмена");
	return 1;
}
stock EatList(playerid, idx)
{
	new string[512], str[64];
	strcat(string, "{FFCC00}Наименование\t\t{FFCC00}Цена\n");
	for(new i; i < 4; i++)
	{
	    if(GetPlayerInterior(playerid) == 5)
	    {
			format(str, sizeof(str), "{FFFFFF}%s\t\t{63BD4E}%d рублей\n", gEateryNames1[i], BizzInfo[idx][bTill] * gEateryCosts[i]);
			strcat(string, str);
		}
	    else if(GetPlayerInterior(playerid) == 10)
	    {
			format(str, sizeof(str), "{FFFFFF}%s\t\t{63BD4E}%d рублей\n", gEateryNames2[i], BizzInfo[idx][bTill] * gEateryCosts[i]);
			strcat(string, str);
		}
	    else if(GetPlayerInterior(playerid) == 9)
	    {
			format(str, sizeof(str), "{FFFFFF}%s\t\t{63BD4E}%d рублей\n", gEateryNames3[i], BizzInfo[idx][bTill] * gEateryCosts[i]);
			strcat(string, str);
		}
	}
	ShowPlayerDialog(playerid, D_HEAL+14, DIALOG_STYLE_LIST, "{FFCC00}Закусочная", string, "Купить", "Отмена");
	return 1;
}

stock BarList(playerid)
{
	ShowPlayerDialog(playerid, D_HEAL+15, DIALOG_STYLE_LIST, "{FFCC00}Бар","\
	\n{FFCC00}1.{FFFFFF} Минеральная вода (50 рублей)\
	\n{FFCC00}2.{FFFFFF} Обычная газировка (80 рублей)\
	\n{FFCC00}3.{FFFFFF} Кока-Кола (85 рублей)\
	\n{FFCC00}4.{FFFFFF} Пиво (60 рублей)\
	\n{FFCC00}5.{FFFFFF} Вино (200 рублей)\
	\n{FFCC00}6.{FFFFFF} Водка (100 рублей)\
	\n{FFCC00}7.{FFFFFF} Виски (300 рублей)\
	\n{FFCC00}8.{FFFFFF} Абсент (250 рублей)", "Купить", "Отмена");
	return 1;
}

/*stock BizzStats(playerid, idx)
{
	new string[800], text[20];
	switch(BizzInfo[idx][bMafia])
	{
	    case TEAM_SPARTAK: text = "ОПГ Южная";
	    case TEAM_CSKA: text = "ОПГ Ореховская";
	    case TEAM_DINAMO: text = "ОПГ Солнцевская";
		case 0: text = "отсутствует";
	}
	if(BizzInfo[idx][bProduct] < 1) SendClientMessage(playerid, COLOR_LIME, "{DC4747}[ Информация ] {ffffff}Бизнес не приносит прибыли по причине отсутствия продуктов");
	if(BizzInfo[idx][bType] == 1)
	{
		format(string, sizeof(string), "{ffffff}Название: \t\t\t{FFCC00}Магазин 24/7\n{ffffff}Тип предприятия:\t\t24/7\n{FFFFFF}Владелец: \t\t\t{0099FF}%s\n{ffffff}Стоимость: \t\t\t\t{0099FF}%d рублей\n{ffffff}Баланс: \t\t\t%d рублей\nПрибыль: \t\t\t%d рублей\nОплачен на \t\t\t\t30 из 30 дней\nЦена за вход: \t\t\t%d рублей",
		BizzInfo[idx][bOwner], BizzInfo[idx][bPrice], BizzInfo[idx][bMoney], BizzPay[idx], BizzInfo[TOTALBIZZ][bEnter]);
	}
	else if(BizzInfo[idx][bType] == 2)
	{
		format(string, sizeof(string), "{ffffff}Название: \t\t\tАЗС\nТип предприятия: \t\t\tАЗС\n{FFFFFF}Владелец: \t\t\t{0099FF}%s\n{ffffff}Стоимость: \t\t\t{0099FF}%d рублей\n{ffffff}Баланс: \t\t\t%d рублей\nПрибыль за день: \t\t\t%d рублей\nОплачен на \t\t\t30 из 30 дней\nЦена за 1 литр: \t\t\t%d рублей",
		BizzInfo[idx][bOwner], BizzInfo[idx][bPrice], BizzInfo[idx][bMoney], BizzPay[idx], BizzInfo[idx][bTill] / 3);
	}
	else if(BizzInfo[idx][bType] == 3)
	{
		format(string, sizeof(string), "{FFFFFF}Закусочная:\t\t\t%s\n{FFFFFF}Владелец:\t\t\t%s\n\nНа счету бизнеса:\t\t%i рублей\nВ этом часу заработано:\t%i рублей\nСтоимость бизнеса:\t\t%i рублей\nЦена за товар:\t\t%i рублей\n\nПродуктов:\t\t\t%i / 3000\n\nСтатус:\t\t\t\t%s\nЛицензия на бизнес:\t\t%s\nВремя простоя:\t\t%i час(-а/ов)\nКрыша:\t\t\t%s",
		BizzInfo[idx][bName], BizzInfo[idx][bOwner], BizzInfo[idx][bMoney], BizzPay[idx], BizzInfo[idx][bPrice], BizzInfo[idx][bTill], BizzInfo[idx][bProduct]
		,(!BizzInfo[idx][bLock])?("{63BD4E}Открыт{ffffff}") : ("{F04245}Закрыт{ffffff}"),(!BizzInfo[idx][bLic])?("{F04245}Нет{ffffff}"):("{63BD4E}Да{ffffff}"), BizzInfo[idx][bLockTime], text);
	}
	else if(BizzInfo[idx][bType] == 4 || BizzInfo[idx][bType] == 5)
	{
		format(string, sizeof(string), "{FFFFFF}Клуб:\t\t\t%s\n{FFFFFF}Владелец:\t\t\t%s\n\nНа счету бизнеса:\t\t%i рублей\nВ этом часу заработано:\t%i рублей\nСтоимость бизнеса:\t\t%i рублей\nЦена за товар:\t\t%i рублей\n\nПродуктов:\t\t\t%i / 7000\n\nСтатус:\t\t\t\t%s\nЛицензия на бизнес:\t\t%s\nВремя простоя:\t\t%i час(-а/ов)\nКрыша:\t\t\t%s",
		BizzInfo[idx][bName], BizzInfo[idx][bOwner], BizzInfo[idx][bMoney], BizzPay[idx], BizzInfo[idx][bPrice], BizzInfo[idx][bTill], BizzInfo[idx][bProduct]
		,(!BizzInfo[idx][bLock])?("{63BD4E}Открыт{ffffff}") : ("{F04245}Закрыт{ffffff}"),(!BizzInfo[idx][bLic])?("{F04245}Нет{ffffff}"):("{63BD4E}Да{ffffff}"), BizzInfo[idx][bLockTime], text);
	}
	else if(BizzInfo[idx][bType] == 6)
	{
		format(string, sizeof(string), "{FFFFFF}Аммуниция:\t\t\t%s\n{FFFFFF}Владелец:\t\t\t%s\n\nНа счету бизнеса:\t\t%i рублей\nВ этом часу заработано:\t%i рублей\nСтоимость бизнеса:\t\t%i рублей\n\nБоеприпасов на складе:\t%i / 20000\n\nСтатус:\t\t\t\t%s\nЛицензия на бизнес:\t\t%s\nВремя простоя:\t\t%i час(-а/ов)\nКрыша:\t\t\t%s",
		BizzInfo[idx][bOwner], BizzInfo[idx][bPrice], BizzInfo[idx][bMoney], BizzPay[idx], BizzInfo[TOTALBIZZ][bEnter]);
	}
	else if(BizzInfo[idx][bType] == 7)
	{
		format(string, sizeof(string), "{FFFFFF}CTO:\t\t\t\t%s\n{FFFFFF}Владелец:\t\t\t%s\n\nНа счету бизнеса:\t\t%i рублей\nВ этом часу заработано:\t%i рублей\nСтоимость бизнеса:\t\t%i рублей\nЦена за 1 запчасть:\t\t%i рублей\n\nЗапчастей на складе:\t\t%i / 100000\n\nСтатус:\t\t\t\t%s\nЛицензия на бизнес:\t\t%s\nВремя простоя:\t\t%i час(-а/ов)\nКрыша:\t\t\t%s",
		BizzInfo[idx][bOwner], BizzInfo[idx][bPrice], BizzInfo[idx][bMoney], BizzPay[idx], BizzInfo[TOTALBIZZ][bEnter]);
	}
	else if(BizzInfo[idx][bType] == 8)
	{
		format(string, sizeof(string), "{FFFFFF}Название: \t\t\t{FFCC00}Магазин Одежды\n{ffffff}Тип предприятия:\t\tМагазин одежды\n{FFFFFF}Владелец: \t\t\t{0099FF}%s\n{ffffff}Стоимость: \t\t\t\t{0099FF}%d рублей\n{ffffff}Баланс: \t\t\t%d рублей\nПрибыль: \t\t\t%d рублей\nОплачен на \t\t\t\t30 из 30 дней\nЦена за вход: \t\t\t%d рублей",
		BizzInfo[idx][bOwner], BizzInfo[idx][bPrice], BizzInfo[idx][bMoney], BizzPay[idx], BizzInfo[TOTALBIZZ][bEnter]);
	}
	else if(BizzInfo[idx][bType] == 9)
	{
	   	format(string, sizeof(string), "{ffffff}Название: \t\t\t{FFCC00}Казино\n{ffffff}Тип предприятия:\t\t\tКазино\n{FFFFFF}Владелец: \t\t\t{0099FF}%s\n{ffffff}Стоимость: \t\t\t\t{0099FF}%d рублей\n{ffffff}Баланс: \t\t\t%d рублей\nПрибыль: \t\t\t%d рублей\nОплачен на \t\t\t30 из 30 дней\nЦена за вход: \t\t\t%d рублей",
		BizzInfo[idx][bOwner], BizzInfo[idx][bPrice], BizzInfo[idx][bMoney], BizzPay[idx], BizzInfo[TOTALBIZZ][bEnter]);
	}
	ShowPlayerDialog(playerid, D_BIZPANEL, 0, "{FFCC00}Информация о бизнесе", string, "Изменить", "Отмена");
	return 1;
}*/

stock BizzStats(playerid, idx)
{
	new string[800], text[20];
	switch(BizzInfo[idx][bMafia])
	{
	    case TEAM_SPARTAK: text = "ОПГ Южная";
	    case TEAM_CSKA: text = "ОПГ Ореховская";
	    case TEAM_DINAMO: text = "ОПГ Солнцевская";
		case 0: text = "Отсутствует";
	}
	if(BizzInfo[idx][bProduct] < 1) SendClientMessage(playerid, COLOR_YELLOW, "Бизнес не приносит прибыли по причине отсутствия продуктов");
	if(BizzInfo[idx][bType] == 1)
	{
		format(string, sizeof(string), "{FFFFFF}Магазин 24/7:\t\t\t%s\n{FFFFFF}Владелец:\t\t\t%s\nОплачен:\t\t\t%d из 30 дней\n\nНа счету бизнеса:\t\t%iр\nВ этом часу заработано:\t%iр\nСтоимость бизнеса:\t\t%iр\n\nПродуктов:\t\t\t%i / 5000\n\nСтатус:\t\t\t\t%s\nЛицензия на бизнес:\t\t%s\nВремя простоя:\t\t%i час(-а/ов)\nКрыша:\t\t\t\t%s",
		BizzInfo[idx][bName], BizzInfo[idx][bOwner], BizzInfo[idx][bOplata], BizzInfo[idx][bMoney], BizzPay[idx], BizzInfo[idx][bPrice], BizzInfo[idx][bProduct]
		,(!BizzInfo[idx][bLock])?("{63BD4E}Открыт{ffffff}") : ("{F04245}Закрыт{ffffff}"),(!BizzInfo[idx][bLic])?("{F04245}Нет{ffffff}"):("{63BD4E}Есть{ffffff}"), BizzInfo[idx][bLockTime], text);
	}
	else if(BizzInfo[idx][bType] == 2)
	{
		format(string, sizeof(string), "{FFFFFF}Заправка:\t\t\t%s\n{FFFFFF}Владелец:\t\t\t%s\nОплачен:\t\t\t%d из 30 дней\n\nНа счету бизнеса:\t\t%iр\nВ этом часу заработано:\t%iр\nСтоимость бизнеса:\t\t%iр\nЦена за 1 литр:\t\t%iр\n\nТоплива:\t\t\t%i / 20000\n\nСтатус:\t\t\t\t%s\nЛицензия на бизнес:\t\t%s\nВремя простоя:\t\t%i час(-а/ов)\nКрыша:\t\t\t%s",
		BizzInfo[idx][bName], BizzInfo[idx][bOwner], BizzInfo[idx][bOplata], BizzInfo[idx][bMoney], BizzPay[idx], BizzInfo[idx][bPrice], BizzInfo[idx][bTill], BizzInfo[idx][bProduct]
		,(!BizzInfo[idx][bLock])?("{63BD4E}Открыт{ffffff}") : ("{F04245}Закрыт{ffffff}"),(!BizzInfo[idx][bLic])?("{F04245}Нет{ffffff}"):("{63BD4E}Да{ffffff}"), BizzInfo[idx][bLockTime], text);
	}
	else if(BizzInfo[idx][bType] == 3)
	{
		format(string, sizeof(string), "{FFFFFF}Закусочная:\t\t\t%s\n{FFFFFF}Владелец:\t\t\t%s\nОплачен:\t\t\t%d из 30 дней\n\nНа счету бизнеса:\t\t%iр\nВ этом часу заработано:\t%iр\nСтоимость бизнеса:\t\t%iр\nЦена за товар:\t\t%iр\n\nПродуктов:\t\t\t%i / 3000\n\nСтатус:\t\t\t\t%s\nЛицензия на бизнес:\t\t%s\nВремя простоя:\t\t%i час(-а/ов)\nКрыша:\t\t\t%s",
		BizzInfo[idx][bName], BizzInfo[idx][bOwner], BizzInfo[idx][bOplata], BizzInfo[idx][bMoney], BizzPay[idx], BizzInfo[idx][bPrice], BizzInfo[idx][bTill], BizzInfo[idx][bProduct]
		,(!BizzInfo[idx][bLock])?("{63BD4E}Открыт{ffffff}") : ("{F04245}Закрыт{ffffff}"),(!BizzInfo[idx][bLic])?("{F04245}Нет{ffffff}"):("{63BD4E}Да{ffffff}"), BizzInfo[idx][bLockTime], text);
	}
	else if(BizzInfo[idx][bType] == 4 || BizzInfo[idx][bType] == 5)
	{
		format(string, sizeof(string), "{FFFFFF}Клуб:\t\t\t%s\n{FFFFFF}Владелец:\t\t\t%s\nОплачен:\t\t\t%d из 30 дней\n\nНа счету бизнеса:\t\t%iр\nВ этом часу заработано:\t%iр\nСтоимость бизнеса:\t\t%iр\nЦена за товар:\t\t%iр\n\nПродуктов:\t\t\t%i / 7000\n\nСтатус:\t\t\t\t%s\nЛицензия на бизнес:\t\t%s\nВремя простоя:\t\t%i час(-а/ов)\nКрыша:\t\t\t%s",
		BizzInfo[idx][bName], BizzInfo[idx][bOwner], BizzInfo[idx][bOplata], BizzInfo[idx][bMoney], BizzPay[idx], BizzInfo[idx][bPrice], BizzInfo[idx][bTill], BizzInfo[idx][bProduct]
		,(!BizzInfo[idx][bLock])?("{63BD4E}Открыт{ffffff}") : ("{F04245}Закрыт{ffffff}"),(!BizzInfo[idx][bLic])?("{F04245}Нет{ffffff}"):("{63BD4E}Да{ffffff}"), BizzInfo[idx][bLockTime], text);
	}
	else if(BizzInfo[idx][bType] == 6)
	{
		format(string, sizeof(string), "{FFFFFF}Аммуниция:\t\t\t%s\n{FFFFFF}Владелец:\t\t\t%s\nОплачен:\t\t\t%d из 30 дней\n\nНа счету бизнеса:\t\t%iр\nВ этом часу заработано:\t%iр\nСтоимость бизнеса:\t\t%iр\n\nБоеприпасов на складе:\t%i / 20000\n\nСтатус:\t\t\t\t%s\nЛицензия на бизнес:\t\t%s\nВремя простоя:\t\t%i час(-а/ов)\nКрыша:\t\t\t%s",
		BizzInfo[idx][bName], BizzInfo[idx][bOwner], BizzInfo[idx][bOplata], BizzInfo[idx][bMoney], BizzPay[idx], BizzInfo[idx][bPrice], BizzInfo[idx][bProduct]
		,(!BizzInfo[idx][bLock])?("{63BD4E}Открыт{ffffff}") : ("{F04245}Закрыт{ffffff}"),(!BizzInfo[idx][bLic])?("{F04245}Нет{ffffff}"):("{63BD4E}Да{ffffff}"), BizzInfo[idx][bLockTime], text);
	}
	else if(BizzInfo[idx][bType] == 7)
	{
		format(string, sizeof(string), "{FFFFFF}CTO:\t\t\t\t%s\n{FFFFFF}Владелец:\t\t\t%s\nОплачен:\t\t\t%d из 30 дней\n\nНа счету бизнеса:\t\t%iр\nВ этом часу заработано:\t%iр\nСтоимость бизнеса:\t\t%iр\nЦена за 1 запчасть:\t\t%iр\n\nЗапчастей на складе:\t\t%i / 100000\n\nСтатус:\t\t\t\t%s\nЛицензия на бизнес:\t\t%s\nВремя простоя:\t\t%i час(-а/ов)\nКрыша:\t\t\t%s",
		BizzInfo[idx][bName], BizzInfo[idx][bOwner], BizzInfo[idx][bOplata], BizzInfo[idx][bMoney], BizzPay[idx], BizzInfo[idx][bPrice], BizzInfo[idx][bTill], BizzInfo[idx][bProduct]
		,(!BizzInfo[idx][bLock])?("{63BD4E}Открыт{ffffff}") : ("{F04245}Закрыт{ffffff}"),(!BizzInfo[idx][bLic])?("{F04245}Нет{ffffff}"):("{63BD4E}Да{ffffff}"), BizzInfo[idx][bLockTime], text);
	}
	else if(BizzInfo[idx][bType] == 8)
	{
		format(string, sizeof(string), "{FFFFFF}Магазин одежды:\t\t%s\n{FFFFFF}Владелец:\t\t\t%s\nОплачен:\t\t\t%d из 30 дней\n\nНа счету бизнеса:\t\t%iр\nВ этом часу заработано:\t%iр\nСтоимость бизнеса:\t\t%iр\n\nТовар:\t\t\t\t%i / 50000\n\nСтатус:\t\t\t\t%s\nЛицензия на бизнес:\t\t%s\nВремя простоя:\t\t%i час(-а/ов)\nКрыша:\t\t\t%s",
		BizzInfo[idx][bName], BizzInfo[idx][bOwner], BizzInfo[idx][bOplata], BizzInfo[idx][bMoney], BizzPay[idx], BizzInfo[idx][bPrice], BizzInfo[idx][bProduct]
		,(!BizzInfo[idx][bLock])?("{63BD4E}Открыт{ffffff}") : ("{F04245}Закрыт{ffffff}"),(!BizzInfo[idx][bLic])?("{F04245}Нет{ffffff}"):("{63BD4E}Да{ffffff}"), BizzInfo[idx][bLockTime], text);
	}
	else if(BizzInfo[idx][bType] == 9)
	{
	    format(string, sizeof(string), "{FFFFFF}Казино:\t\t\t%s\n{FFFFFF}Владелец:\t\t\t%s\nОплачен:\t\t\t%d из 30 дней\n\nНа счету бизнеса:\t\t%iр\nВ этом часу заработано:\t%iр\nСтоимость бизнеса:\t\t%iр\n\nТовар:\t\t\t\t%i / 50000\n\nСтатус:\t\t\t\t%s\nЛицензия на бизнес:\t\t%s\nВремя простоя:\t\t%i час(-а/ов)\nКрыша:\t\t\t%s",
		BizzInfo[idx][bName], BizzInfo[idx][bOwner], BizzInfo[idx][bOplata], BizzInfo[idx][bMoney], BizzPay[idx], BizzInfo[idx][bPrice], BizzInfo[idx][bProduct]
		,(!BizzInfo[idx][bLock])?("{63BD4E}Открыт{ffffff}") : ("{F04245}Закрыт{ffffff}"),(!BizzInfo[idx][bLic])?("{F04245}Нет{ffffff}"):("{63BD4E}Да{ffffff}"), BizzInfo[idx][bLockTime], text);
	}
	ShowPlayerDialog(playerid, D_NULL, 0, "{FFCC00}Статистика бизнеса", string, "Закрыть", "");
	return 1;
}

stock AdvertList(playerid)
{
	new full = 0;
	full = (PI[playerid][pMember] == TEAM_SMI) ? (0) : (PI[playerid][pMember] == TEAM_MZA) ? (1) : (2);
	new str[42], str2[630];
	for(new i = 1; i <= TOTALADVERT[full]; i++)
	{
		format(str, sizeof(str), "№%i - Прислал: %s\n",i, AdvertInfo[i][full][aName]);
		strcat(str2, str);
	}
	if(TOTALADVERT[full] == 0) return ShowPlayerDialog(playerid, D_NULL, 0, "{FFCC00}Объявления", "{FFFFFF}Новых объявлений нет", "Назад", "");
	ShowPlayerDialog(playerid, D_NMENU+5, 2, "{FFCC00}Объявления", str2, "Принять", "Отмена");
	return 1;
}

stock BankFracEnter(playerid)
{
	new bank, string[256];
	if(PI[playerid][pMember] == TEAM_SMI) bank = FracBank[8];
	if(PI[playerid][pMember] == TEAM_MZA) bank = FracBank[9];
	//if(PI[playerid][pMember] == TEAM_LVNEWS) bank = FracBank[10];
	format(string, sizeof(string), "Ввод средств в банк организации\nВывод средств из банка организации\nВ банке организации: %i рублей", bank);
	ShowPlayerDialog(playerid, D_JOB+131, 2, "{FFCC00}Банк", string, "Принять", "Отмена");
	return 1;
}

stock SavePos(playerid)
{
    new Float:X;
    new Float:Y;
    new Float:Z;
    GetPlayerPos(playerid,X,Y,Z);
    PI[playerid][PosX] = X;
    PI[playerid][PosY] = Y;
    PI[playerid][PosZ] = Z;
    PI[playerid][pInt] = GetPlayerInterior(playerid);
    PI[playerid][pWorld] = GetPlayerVirtualWorld(playerid);
    SaveAcc();
    return true;
}

stock SetPos(playerid)
{
    SetPlayerInterior(playerid, PI[playerid][pInt]);
    SetPlayerVirtualWorld(playerid, PI[playerid][pWorld]);
    SetPlayerPos(playerid, PI[playerid][PosX],PI[playerid][PosY],PI[playerid][PosZ]);
    return true;
}

stock SetPosInShop(playerid)
{
	SetPlayerFacingAngle(playerid,270.0000);
	SetPlayerInterior(playerid,3);
	TogglePlayerControllable(playerid,false);
	pPressed[playerid] = 0;
	LinkVehicleToInterior(PI[playerid][SalonCarID],3);
	LoadAvtosalon(playerid);
	PutPlayerInVehicle(playerid,PI[playerid][SalonCarID],0);
}

/*stock SetPosInShop(playerid)
{
	SetPlayerPos(playerid,2641.2471,-1920.3633,2325.8000);
	SetPlayerFacingAngle(playerid,270.0000);
	TogglePlayerControllable(playerid,false);
	pPressed[playerid] = 0;
	SetPlayerVirtualWorld(playerid, 1);
	SetVehicleVirtualWorld(PI[playerid][SalonCarID],playerid);
	for(new i; i < 19; i++) PlayerTextDrawShow(playerid,choicecars[playerid][i]);
	PutPlayerInVehicle(playerid,PI[playerid][SalonCarID],0);
}*/

forward OfflineSetReferalMoney(playerid);
public OfflineSetReferalMoney(playerid)
{
    new rows, fields, texts[12], text[4];
    cache_get_data(rows, fields);
	if(rows) cache_get_field_content(0, "text", texts);
    sscanf(texts, "p<,>a<i>[4]", text);
   	format(texts, sizeof(texts), "%i, %i, %i, %i", text[0], text[1], 1, text[3]);
    format(query, sizeof(query), "UPDATE `accounts`  SET text = '%s' WHERE name = '%s'", texts, PI[playerid][pReferal]);
	mysql_tquery(dbHandle, query, "", "");
	return 1;
}
stock GetVehicleIdxByKey(key)
{
	for(new i = 0; i < MAX_VEHICLES; i++)
	{
		if(!PI[i][aKey]) continue;
		if(PI[i][aKey] == key) return i;
	}
	return -1;
}
new GMXTimer;
stock GMX() {

	print("Server is restarting!");
	return SendRconCommand("gmx");
}

cmd:setvehnomer(playerid, params[]) {
	
	if(PI[playerid][pAdmin] < 7) return SendClientMessage(playerid, -1, "Данной команды не существует. Введи /mm для просмотра полного списка команд");
	new newnomer[32];
	if(sscanf(params, "s[31]", newnomer)) return SendErr(playerid, "Использование: /setvehnomer [новый номер (макс 31)]");
	new vehid = GetPlayerVehicleID(playerid);
	if(!SetVehicleNumberPlate(vehid, newnomer)) return SendErr(playerid, "Ошибка");
	new str[64];
	new Float:veh_x, Float:veh_y, Float:veh_z;
	GetPlayerPos(playerid,veh_x,veh_y,veh_z);
	SetVehicleToRespawn(vehid);
	SetVehiclePos(vehid,veh_x,veh_y,veh_z);
	SetVehicleVirtualWorld(vehid, GetPlayerVirtualWorld(playerid));
	PutPlayerInVehicle(playerid, vehid, 0);
	format(str, 64, "Новый временный номер машины - %s", newnomer);
	SendClientMessage(playerid, COLOR_ALLDEPT, str);
	return 1;
}

cmd:stopgmx(playerid,params[]) {
	if(PI[playerid][pAdmin] < 7) return SendClientMessage(playerid, -1, "Данной команды не существует. Введи /mm для просмотра полного списка команд");
	SendClientMessage(playerid, COLOR_BLUE, "Вы отменили рестарт сервера");
	SendClientMessageToAll(COLOR_ADMIN, "Рестарт сервера был отменен администрацией!");
	return KillTimer(GMXTimer);
}
//==============================================================================
stock PayDay()
{
    new string[128];
    new hour;
    gettime(hour);


    foreach(new i: Player)
	{
	    if(!IsPlayerConnected(i)) continue;
	    if(PlayerLogged[i])
	    {
			if(playerArend[i][arendCarID]) {
				StopCarshareArend(i);
			}
			autoschool_errors[i] = 0;
			if(PI[i][pCheckTime] >= 0 && IsThePayDayMembers(PI[i][pMember]))
			{
				PI[i][pPayCheck] += Fraction_Pay[GetTeamID(i)][PI[i][pRank]-1];
			}
			else if(PI[i][pCheckTime] >= 0 && IsAGang(i))
			{
				if(PI[i][pLeader] == TEAM_SPARTAK) PI[i][pPayCheck] += 40 * GangTotalGz[3];
				else if(PI[i][pMember] == TEAM_SPARTAK) PI[i][pPayCheck] += 100 * GangTotalGz[3];
				if(PI[i][pLeader] == TEAM_CSKA) PI[i][pPayCheck] += 40 * GangTotalGz[2];
				else if(PI[i][pMember] == TEAM_CSKA) PI[i][pPayCheck] += 100 * GangTotalGz[2];
				if(PI[i][pLeader] == TEAM_DINAMO) PI[i][pPayCheck] += 40 * GangTotalGz[0];
				else if(PI[i][pMember] == TEAM_DINAMO) PI[i][pPayCheck] += 100 * GangTotalGz[0];
    			if(PI[i][pLeader] == TEAM_ZENIT) PI[i][pPayCheck] += 40 * GangTotalGz[0];
				else if(PI[i][pMember] == TEAM_ZENIT) PI[i][pPayCheck] += 100 * GangTotalGz[0];
			}
			format(string, sizeof(string), "Текущее время: {0099FF}%d:00", hour);
			SendClientMessage(i, 0xFFFFFFFF, string);
			SendClientMessage(i,0xFFFFFFFF, "БАНКОВСКИЙ ЧЕК");
			SendClientMessage(i,0xFFFFFFFF, "______________________________________");
			SendClientMessage(i,0xFFFFFFFF, "");
			if(PI[i][pAdmin])
			{
			    new AdminSalary = 5000*(PI[i][pAdmin]+1);
			    GiveBankMoney(i, AdminSalary, "AdminSalary");
			    format(string, sizeof(string), "Админ-зарплата: {FFCC00}%d руб", AdminSalary);
			    SendClientMessage(i, 0xFFFFFFFF, string);
			}
	  		format(string, sizeof(string), "Ваша зарплата: {FFCC00}%d рублей", PI[i][pPayCheck]);
		    SendClientMessage(i, 0xFFFFFFFF, string);
			GiveBankMoney(i, PI[i][pPayCheck], "PayDay");
			format(string, sizeof(string), "Текущий баланс счёта: {FFCC00}%d рублей", PI[i][pBank]);
			SendClientMessage(i, 0xFFFFFFFF, string);
			SendClientMessage(i,0xFFFFFFFF, "______________________________________");
//			SendClientMessage(i,0xDA70D6FF, "Вы отыграли 5 часов без AFK на нашем сервере.");
//			SendClientMessage(i,0xDA70D6FF, "Теперь вы можете бесплатно прокрутить рулетку на нашем сайте! (Brilliant-rp.ru/roulette)");
			PI[i][pPayCheck] = 0;
			if(PI[i][pZakon] < 100) PI[i][pZakon]+=10;
			PI[i][pCheckTime] = 0;
			PI[i][pTime]++;
			PI[i][pExp]++;
			if(EXP_BOOST) {
				PI[i][pExp] += EXP_BOOST;
				SendPond(i, "В данный момент на сервере действует акция увеличения опыта!");
				format(STRING_GLOBAL, 60, "Вы получили %d очков опыта помимо обычного!", EXP_BOOST);
				SendPond(i, STRING_GLOBAL);
			}
			if(PI[i][pVip] && !(PI[i][pTime] % 2)) PI[i][pExp]++;
			if(PI[i][pExp] >= (PI[i][pLevel]+0)*4)
			{
				SendClientMessage(i, COLOR_BLUE, "Ваш игровой уровень повысился, теперь Вы перешли на следующий уровень!");
				PI[i][pLevel]++;
				PI[i][pExp] = 0;
				SetPlayerScore(i, PI[i][pLevel]);
			}
//=======================[ Реферальная система ]================================
			if(PI[i][pLevel] == 5 && PI[i][pExp] == 0)
			{
				if(!strcmp(PI[i][pReferal], "None", true)) { }
				else
				{
					new targetid = GetPlayerID(PI[i][pReferal]);
					if(targetid != INVALID_PLAYER_ID)
					{
						TransferMoney(-1, targetid, 100000);
						SendClientMessage(targetid, COLOR_YELLOW, "Вы получили {ffffff}100000 рублей{FFCC00} за приглашенного игрока");
					}
					else
					{
						format(query, sizeof(query), "SELECT * FROM `accounts` WHERE name = '%s'", PI[i][pReferal]);
						mysql_tquery(dbHandle, query, "OfflineSetReferalMoney", "i", i);
					}
				}
			}
			if(DONATE_ON_PAYDAY) {
				PI[i][pCredits] += DONATE_ON_PAYDAY;
				format(STRING_GLOBAL, 100, "Вы получили %d кредитов, так как на сервере включена акция {FF0000}'Донат каждый час'", DONATE_ON_PAYDAY);
				SendPond(i, STRING_GLOBAL);
			}
			SaveAccount(i);
			PlayerPlaySound(i,5203,0.0,0.0,0.0);
		}
		else SendClientMessage(i, COLOR_RED, "Вы не авторизированы для получения зарплаты");
	}
//==============================================================================
/*	if(hour == 4)
	{
		new Query[128],
			targetid;
		for(new idx = 1; idx <= TOTALPORCHHOUSE; idx++)
		{
			if(PorchHouseInfo[idx][hOwnerID] == 0) continue;
			PorchHouseInfo[idx][hDays]--;
			if(PorchHouseInfo[idx][hDays] <= 0)
			{
				targetid = GetPlayerID(PorchHouseInfo[idx][hOwner]);
				if(targetid != INVALID_PLAYER_ID)
				{
					PI[targetid][pSpawnChange] = 0;
					SendClientMessage(targetid, COLOR_RED, "Вы были выселены из квартиры за неуплату");
					if(PI[targetid][PlayerCarID] != INVALID_VEHICLE_ID)
					{
						DestroyVehicle(PI[targetid][PlayerCarID]);
						PI[targetid][PlayerCarID] = INVALID_VEHICLE_ID;
					}
					MysqlUpdatePlayerInt(targetid, "spawnchange", PI[targetid][pSpawnChange]);
				}
				else
				{
					mysql_format(dbHandle, Query,sizeof Query, "UPDATE `accounts` SET `spawnchange` = '0'WHERE `id` = '%d'", PorchHouseInfo[idx][hOwnerID]);
					mysql_tquery(dbHandle, Query, "", "");
				}
				strmid(PorchHouseInfo[idx][hOwner], "None", 0, strlen("None"), MAX_PLAYER_NAME);
				PorchHouseInfo[idx][hDays] = 0;
				PorchHouseInfo[idx][hOwnerID] = 0;
				mysql_format(dbHandle, Query,sizeof Query, "UPDATE `porch_house` SET `hOwner` = 'none', `hOwnerID` = '0', `hDays` = `0' WHERE `id` = '%d'", idx);
				mysql_tquery(dbHandle, Query, "", "");
				DestroyDynamicMapIcon(PorchHouseInfo[idx][hMIcon]);
				DestroyDynamicPickup(PorchHouseInfo[idx][hPickup]);
				PorchHouseInfo[idx][hMIcon] = CreateDynamicMapIcon(PorchHouseInfo[idx][hEntrx], PorchHouseInfo[idx][hEntry], PorchHouseInfo[idx][hEntrz], 32, 0,idx + 100,9,-1,150.0);
				PorchHouseInfo[idx][hPickup] = CreateDynamicPickup(1272, 1, PorchHouseInfo[idx][hEntrx], PorchHouseInfo[idx][hEntry], PorchHouseInfo[idx][hEntrz]);
			}
			else
			{
				mysql_format(dbHandle, Query,sizeof Query, "UPDATE `porch_house` SET `hDays` = `%d' WHERE `id` = '%d'", PorchHouseInfo[idx][hDays], idx);
				mysql_tquery(dbHandle, Query, "", "");
			}
		}
	}*/
//==============================================================================
	if(hour == 23)
	{
		for(new houseid = 1; houseid <= TOTALHOUSE; houseid++)
		{
			if(!strcmp("None", HouseInfo[houseid][hOwner], true)) continue;
			if(HouseInfo[houseid][hOplata] < 1)
			{
				new targetid = GetPlayerID(HouseInfo[houseid][hOwner]);
				if(targetid != INVALID_PLAYER_ID)
				{
					PI[targetid][pBank] += HouseInfo[houseid][hBuyPrice];
					PI[targetid][pSpawnChange] = 0;
					SendClientMessage(targetid, COLOR_YELLOW, "Вы были выселены из дома за неуплату");
					SendClientMessage(targetid, COLOR_YELLOW, "На Ваш банковский счет возвращена стоимость дома по гос-ву");
					if(PI[targetid][PlayerCarID] != INVALID_VEHICLE_ID)
					{
						DestroyVehicle(PI[targetid][PlayerCarID]);
						PI[targetid][PlayerCarID] = INVALID_VEHICLE_ID;
					}
				}
				else
				{
					strmid(HouseInfo[houseid][hOwner], "None", 0, strlen("None"), MAX_PLAYER_NAME);
					format(query, sizeof(query), "UPDATE `house` SET hOwner='%s',hOplata=%d,buyprice=%d,hLock=%d WHERE id=%d",
					HouseInfo[houseid][hOwner],HouseInfo[houseid][hOplata],HouseInfo[houseid][hBuyPrice],HouseInfo[houseid][hLock],houseid);
					mysql_tquery(dbHandle, query, "", "");
					UpdateHouse(houseid);
				}
				MysqlUpdatePlayerInt(targetid, "spawnchange", PI[targetid][pSpawnChange]);
				strmid(HouseInfo[houseid][hOwner], "None", 0, strlen("None"), MAX_PLAYER_NAME);
				format(query, sizeof(query), "UPDATE `house` SET hOwner='%s',hOplata=%d,buyprice=%d,hLock=%d WHERE id=%d",
				HouseInfo[houseid][hOwner],HouseInfo[houseid][hOplata],HouseInfo[houseid][hBuyPrice],HouseInfo[houseid][hLock],houseid);
				mysql_tquery(dbHandle, query, "", "");
				UpdateHouse(houseid);
			}
			else
			{
				HouseInfo[houseid][hOplata] -= 1;
				MysqlUpdateHouseInt(houseid, "hOplata", HouseInfo[houseid][hOplata]);
			}
		}
	}	
	
	// GMXTimer = SetTimer("GMX", 5*60*1000, false);
	// SendClientMessageToAll(COLOR_ADMIN, "-----------------------------------------------------");
	// SendClientMessageToAll(COLOR_REDD, "Через 5 минут произойдет технический рестарт сервера!");
	// SendClientMessageToAll(COLOR_ADMIN, "-----------------------------------------------------");



//==============================================================================
	for(new bizzid = 1; bizzid <= TOTALBIZZ; bizzid++)
	{
	    if(!strcmp(BizzInfo[bizzid][bOwner], "None", true)) continue;
	    if(BizzInfo[bizzid][bMoney] < BizzInfo[bizzid][bBuyPrice] / 2000 || BizzInfo[bizzid][bLock] == 1 && BizzInfo[bizzid][bLockTime] >= 12) ClearBizz(bizzid);
	    else
	    {
	       	BizzPay[bizzid] = 0;
	       	new playerid = GetPlayerID(BizzInfo[bizzid][bOwner]);
	        if(BizzInfo[bizzid][bProduct] <= 0)
			{
				if(playerid != INVALID_PLAYER_ID && IsPlayerConnected(playerid))
				{
					if(BizzInfo[bizzid][bLockTime] == 0)
					{
					    if(GetPlayerBizz(playerid))
						{
							SendClientMessage(playerid, COLOR_YELLOW, "[Налоговая служба] Ваш бизнес был закрыт по причине: отсутствие продуктов или отсутствие лицензии");
							SendClientMessage(playerid, COLOR_YELLOW, "[Налоговая служба] Если по истечению {ffffff}12 {FFCC00}часов бизнес будет закрыт, он будет продан гос-ву");
						}
					}
					BizzInfo[bizzid][bLock] = 1;
					MysqlUpdateBizzInt(bizzid, "block", BizzInfo[bizzid][bLock]);
				}
			}
			if(BizzInfo[bizzid][bLock] == 1)
			{
				BizzInfo[bizzid][bLockTime]++;
				MysqlUpdateBizzInt(bizzid, "locktime", BizzInfo[bizzid][bLockTime]);
			}
			if(BizzInfo[bizzid][bLockTime] > 1 && BizzInfo[bizzid][bLockTime] < 12)
			{
				if(IsPlayerConnected(playerid) && playerid != INVALID_PLAYER_ID)
				{
					if(GetPlayerBizz(playerid))
					{
						SendMes(playerid, COLOR_YELLOW, "[Напоминание] Ваш бизнес закрыт уже {ffffff}%i {FFCC00}час(а)", BizzInfo[GetPVarInt(playerid, "PlayerBizz")][bLockTime]);
						SendClientMessage(playerid, COLOR_YELLOW, "[Напоминание] Если по истечению {ffffff}12 {FFCC00}часов бизнес будет закрыт, он будет продан гос-ву");
					}
				}
			}
  			BizzInfo[bizzid][bMoney] -= BizzInfo[bizzid][bBuyPrice] / 2000;
			MysqlUpdateBizzInt(bizzid, "money", BizzInfo[bizzid][bMoney]);
	    }
	   	switch(BizzInfo[bizzid][bMafia])
    	{
    		case TEAM_SPARTAK:
			{
				FracBank[6] += BizzPay[bizzid] / 10;
				MysqlUpdateMafiaInt("yakuzabank", FracBank[5]);
			}
	    	case TEAM_CSKA:
			{
				FracBank[5] += BizzPay[bizzid] / 10;
				MysqlUpdateMafiaInt("lcnbank", FracBank[6]); 
			}
			case TEAM_DINAMO:
			{
				FracBank[5] += BizzPay[bizzid] / 10;
				MysqlUpdateMafiaInt("rmbank", FracBank[7]);
			}
		}
	}
	return 1;
}
//==============================================================================
stock Menu()
{
	specmenu = CreateMenu("Spec", 1, 40.0, 220.0, 100.0);
	AddMenuItem(specmenu, 0, "Обновить");
	AddMenuItem(specmenu, 0, "Следующий");
	AddMenuItem(specmenu, 0, "Преведущий");
	AddMenuItem(specmenu, 0, "Слап");
	AddMenuItem(specmenu, 0, "GM info");
	AddMenuItem(specmenu, 0, "Статистика");
	AddMenuItem(specmenu, 0, "Выход");

	skinmenu = CreateMenu("СКИНЫ", 1, 50.0, 160.0, 90.0);
	AddMenuItem(skinmenu ,0,">> ДАЛЕЕ");
	AddMenuItem(skinmenu ,0,"<< НАЗАД");
	AddMenuItem(skinmenu ,0,"ВЫБРАТЬ");
}
//==============================================================================
public OnPlayerSelectedMenuRow(playerid, row)
{
    if(GetPlayerMenu(playerid) == Menu:INVALID_MENU) return SKick(playerid, 7436);
    if(GetPlayerMenu(playerid) == specmenu)
    {
        switch(row)
        {
            case 0:
            {
	            SetPlayerInterior(playerid,GetPlayerInterior(PI[playerid][Spectating][0]));
	            SetPlayerVirtualWorld(playerid,GetPlayerVirtualWorld(PI[playerid][Spectating][0]));
	            TogglePlayerSpectating(playerid, 1);
	            if(IsPlayerInAnyVehicle(PI[playerid][Spectating][0]))
	            {
		           new carid = GetPlayerVehicleID(PI[playerid][Spectating][0]);
		           PlayerSpectateVehicle(playerid, carid);
             	}
	            else PlayerSpectatePlayer(playerid, PI[playerid][Spectating][0]);
                ShowMenuForPlayer(specmenu, playerid);
            }
            case 1:
			{
			    new maxplayers = GetMaxPlayers();
				for(new id = PI[playerid][Spectating][0]+1, bool:secondloop; id < maxplayers; id++)
				{
				    if(id == maxplayers && !secondloop)
					{
						secondloop = true, id = 0;
						continue;
					}
					if(PlayerLogged[id] == false) continue;
					switch(GetPlayerState(id))
					{
						case 1..3: {}
						default: continue;
					}
					new param_str[4];
					format(param_str, sizeof param_str, "%i", id);
					callcmd::spec(playerid, param_str);
					break;
				}
				ShowMenuForPlayer(specmenu, playerid);
			}
            case 2:
			{
			    new maxplayers = GetMaxPlayers();
				for(new id = PI[playerid][Spectating][0]-1, bool:secondloop; id >= 0; id--)
				{
				    if(id <= 0 && !secondloop)
					{
						secondloop = true, id = maxplayers;
						continue;
					}
					if(PlayerLogged[id] == false) continue;
					switch(GetPlayerState(id))
					{
						case 1..3: {}
						default: continue;
					}
					new param_str[4];
					format(param_str, sizeof param_str, "%i", id);
					callcmd::spec(playerid, param_str);
					break;
				}
				ShowMenuForPlayer(specmenu, playerid);
			}
            case 3:
            {
                new param_str[11];
                format(param_str, sizeof(param_str), "%i", PI[playerid][Spectating][0]);
                callcmd::slap(playerid, param_str);
                ShowMenuForPlayer(specmenu, playerid);
            }
            case 4:
            {
                new param_str[11];
                format(param_str, sizeof(param_str), "%i", PI[playerid][Spectating][0]);
                callcmd::gm(playerid, param_str);
                ShowMenuForPlayer(specmenu, playerid);
            }
            case 5:
			{
				ShowPlayerStatsDialog(playerid, PI[playerid][Spectating][0]);
				ShowMenuForPlayer(specmenu, playerid);
			}
            case 6: callcmd::specoff(playerid, "");
		}
    }
    if(GetPlayerMenu(playerid) == skinmenu)
	{
		switch(row)
		{
		    case 0:
			{
			    if(PI[playerid][pSex] == 1)
				{
					if(SelectCharPlace[playerid] == 0) SelectCharPlace[playerid] = sizeof(JoinRegM)-1;
					else SelectCharPlace[playerid]--;
					SetPlayerSkin(playerid, JoinRegM[SelectCharPlace[playerid]]);
					ChosenSkin[playerid] = JoinRegM[SelectCharPlace[playerid]];
				}
			    else
			    {
					if(SelectCharPlace[playerid] == 0) SelectCharPlace[playerid] = sizeof(JoinRegF)-1;
					else SelectCharPlace[playerid]--;
					SetPlayerSkin(playerid, JoinRegF[SelectCharPlace[playerid]]);
					ChosenSkin[playerid] = JoinRegF[SelectCharPlace[playerid]];
			    }
			    {
			        ShowMenuForPlayer(skinmenu,playerid);
			    }
		    }
		    case 1:
		    {
			    if(PI[playerid][pSex] == 1)
				{
					if(SelectCharPlace[playerid] == sizeof(JoinRegM)-1) SelectCharPlace[playerid] = 0;
					else SelectCharPlace[playerid]++;
					SetPlayerSkin(playerid, JoinRegM[SelectCharPlace[playerid]]);
					ChosenSkin[playerid] = JoinRegM[SelectCharPlace[playerid]];
				}
				else
				{
					if(SelectCharPlace[playerid] == sizeof(JoinRegF)-1) SelectCharPlace[playerid] = 0;
					else SelectCharPlace[playerid]++;
					SetPlayerSkin(playerid, JoinRegF[SelectCharPlace[playerid]]);
					ChosenSkin[playerid] = JoinRegF[SelectCharPlace[playerid]];
				}
				{
					ShowMenuForPlayer(skinmenu,playerid);
				}
			}
			case 2:
			{
				PI[playerid][pModel] = ChosenSkin[playerid];
				ChosenSkin[playerid] = 0;
				SelectCharPlace[playerid] = 0;
				ClothesRound[playerid] = 0;
				TogglePlayerControllable(playerid, 1);
				CreateAccount(playerid, PI[playerid][pPassword]);
				HideMenuForPlayer(specmenu, playerid);
			}
		}
	}
    return 1;
}
//==============================================================================
/*public OnPlayerWeaponShot(playerid, weaponid, hittype, hitid, Float:fX, Float:fY, Float:fZ)
{
    if(!IsPlayerConnected(playerid)) return 0;
	if(PI[playerid][pAFK] >= 3) return 0;

	if(!IsACop(playerid) || !IsAArmy(playerid) || !IsAMayor(playerid) || !PI[playerid][pAdmin])
	{
		for(new i; i < sizeof(AreaInfo[arGreenZone]); i++)
	    {
	        if(IsPlayerInDynamicArea(playerid, AreaInfo[arGreenZone][i]))
	        {
				ApplyAnimation(playerid,"PED","handscower",4.1,1,0,0,0,1000);
			 	SetPlayerArmedWeapon(playerid, 0);
			 	return 0;
			}
		}
	}
    return 1;
}*/
//==============================================================================
publics KickEx(playerid) return Kick(playerid);

stock SKick(playerid, reason)
{
    new string[128];
    format(string, sizeof(string), "%s [%d] был кикнут с причиной: %i", GetName(playerid), playerid, reason);
	SendLog("ServerSkick",string);
	return Kick(playerid);
}

stock SetHunger(playerid, amount)
{
	if(amount > 100) PI[playerid][pHunger] = 100;
	else if(amount < 0) PI[playerid][pHunger] = 0;
	else PI[playerid][pHunger] = amount;
	Hunger(playerid, 0);
	return 1;
}

stock Hunger(playerid, type)
{
    if(PI[playerid][pSettings] & setHungerInfo)
    {
		switch(type)
		{
		    case 0:
			{
/*				TextDrawShowForPlayer(playerid, HungerBackground[0]);
				TextDrawShowForPlayer(playerid, HungerBackground[1]);
				PlayerTextDrawTextSize(playerid, HungerProgress[playerid], 549.5 + PI[playerid][pHunger] / 100.0 * 54.5, 40.000000);*/
				switch(PI[playerid][pHunger])
				{
/*				    case 81..100: PlayerTextDrawBoxColor(playerid, HungerProgress[playerid], 0x63BD4EFF);
				    case 51..80: PlayerTextDrawBoxColor(playerid, HungerProgress[playerid], 0xCCFF00FF);
				    case 31..50: PlayerTextDrawBoxColor(playerid, HungerProgress[playerid], 0xFDE910FF);
				    case 16..30: PlayerTextDrawBoxColor(playerid, HungerProgress[playerid], 0xFF8800FF);
				    case 0..15: PlayerTextDrawBoxColor(playerid, HungerProgress[playerid], 0xFF0600FF);*/
				}
			//	PlayerTextDrawShow(playerid, HungerProgress[playerid]);
			}
			case 1:
			{
/*				PlayerTextDrawHide(playerid, HungerProgress[playerid]);
				TextDrawHideForPlayer(playerid, HungerBackground[0]);
				TextDrawHideForPlayer(playerid, HungerBackground[1]);*/
			}
		}
	}
}

stock TunningGarages(playerid)
{
    if(IsPlayerInRangeOfPoint(playerid,20.0,2065.3801,-1832.5280,13.68)||IsPlayerInRangeOfPoint(playerid,20.0,-99.7154,1117.5011,19.88)||IsPlayerInRangeOfPoint(playerid,20.0,719.8336,-456.7990,16.47)||IsPlayerInRangeOfPoint(playerid,20.0,-1420.4562,2583.2180,55.98)||IsPlayerInRangeOfPoint(playerid,20.0,-2424.8093,1021.1127,50.53)||IsPlayerInRangeOfPoint(playerid,20.0,1975.0587,2161.9456,11.21)||
    IsPlayerInRangeOfPoint(playerid,20.0,487.9699,-1741.5265,11.28)||IsPlayerInRangeOfPoint(playerid,20.0,1025.7683,-1023.8249,32.24)||IsPlayerInRangeOfPoint(playerid,20.0,-1904.9709,285.8506,41.18)||IsPlayerInRangeOfPoint(playerid,20.0,615.2845,-124.2390,997.7112)||IsPlayerInRangeOfPoint(playerid,20.0,616.7787,-74.8150,997.6274)||IsPlayerInRangeOfPoint(playerid,20.0,617.5302,-1.9900,1001.06))return 1;
    return 0;
}
stock ShowDialogGhetto(playerid)
{
	new string[400];
	format(string, sizeof(string), "{FFFFFF}Закрыто\t\t\t| %s\nЗакрыто\t\t\t| %s\nЗакрыто\t\t\t| %s\nЗакрыто\t\t| %s\nЗакрыто\t\t| %s",
	(b_Capture{0} ? ("{F04245}Запрет включен{FFFFFF}") : ("{63BD4E}Запрет выключен{FFFFFF}")),
	(b_Capture{1} ? ("{F04245}Запрет включен{FFFFFF}") : ("{63BD4E}Запрет выключен{FFFFFF}")),
	(b_Capture{2} ? ("{F04245}Запрет включен{FFFFFF}") : ("{63BD4E}Запрет выключен{FFFFFF}")),
	(b_Capture{3} ? ("{F04245}Запрет включен{FFFFFF}") : ("{63BD4E}Запрет выключен{FFFFFF}")),
	(b_Capture{4} ? ("{F04245}Запрет включен{FFFFFF}") : ("{63BD4E}Запрет выключен{FFFFFF}")));
	ShowPlayerDialog(playerid, 969, DIALOG_STYLE_LIST, "{FFCC00}Управление каптами", string, "Изменить", "Отмена");
	return 1;
}

stock isNumeric(const string[])
{
	if(strlen(string) <= 0) return 0;
  	for(new i = 0; i < strlen(string); i++)
    {
		if((string[i] > '9' || string[i] < '0' && string[i] != '-' && string[i] != '+')
		|| (string[i] == '-' && i != 0) || (string[i] == '+' && i != 0)) return 0;
	}
  	if(strlen(string) == 1 && (string[0] == '-' || string[0] == '+')) return 0;
  	return 1;
}

forward OnPlayerChangeName(playerid, nickname[]);
public OnPlayerChangeName(playerid, nickname[])
{
    new rows, fields;
    cache_get_data(rows, fields);
	if(rows)
	{
		SendClientMessage(playerid, COLOR_RED, "Этот никнейм уже используется");
		return ShowPlayerDialog(playerid, D_JOB+20, 1, "{FFCC00}Смена нонРП ника", "{FFFFFF}Введите будущий ник\n\n{F04245}Возможно сменить только если У Вас нонРП ник!", "Принять", "Назад");
	}
	new full = 0;
	foreach(new i: Player)
	{
		if(PlayerLogged[i] == false) continue;
		if(PI[i][pAdmin] > ADM_ADMIN) full++;
	}
	if(full == 0) return SendClientMessage(playerid, COLOR_RED, "Модераторы игровых логинов сейчас находятся оффлайн!");
	set_name = playerid;
	strmid(PlayerName[playerid], nickname, 0, strlen(nickname), MAX_PLAYER_NAME);
	SendClientMessage(playerid, COLOR_YELLOW, "Вы успешно отправили заявку на смену игрового ника");
	new string[128];
	format(string, sizeof(string), "[A] %s [%i] просит сменить ник на %s", GetName(playerid), playerid, nickname);
	SendAdminMessage(COLOR_GREY, string);
	foreach(new i: Player)
	{
		if(PlayerLogged[i] == false) continue;
		if(PI[i][pAdmin] > ADM_ADMIN)
		{
			SendClientMessage(i, COLOR_RED, "Введите /okay, чтобы принять заявку");
		}
	}
	return 1;
}
forward OnPlayerChangeDonateName(playerid, nickname[]);
public OnPlayerChangeDonateName(playerid, nickname[])
{
	new rows, fields;
	cache_get_data(rows, fields);
	if(rows)
	{
		SendErr(playerid, "Этот никнейм уже используется");
		return ShowPlayerDialogEx(playerid, D_JOB+179, 1, "{3498db}>> Смена ника", "{FFFFFF}Введите будущий ник:", "Принять", "Назад");
	}
	if(GetPlayerHouse(playerid) > 0)
	{
		new i = GetPVarInt(playerid, "PlayerHouse");
		format(HouseInfo[i][hOwner], MAX_PLAYER_NAME, nickname);
		MysqlUpdateHouseStr(i, "hOwner", nickname);
	}
	if(GetPlayerBizz(playerid) > 0)
	{
		new i = GetPVarInt(playerid, "PlayerBizz");
		format(BizzInfo[i][bOwner], MAX_PLAYER_NAME, nickname);
		MysqlUpdateBizzStr(i, "owner", nickname);
		UpdateBizz(i);
	}

	new rowss;
	new string[128];
	new Cache: result;

	format(string, sizeof string, "SELECT * FROM ownable_cars WHERE owner_name='%s'", GetName(playerid));
	result = mysql_query(dbHandle, string);
	rowss = cache_num_rows();

	if(rowss)
	{
		format(string, sizeof string, "UPDATE ownable_cars SET owner_name='%s' WHERE owner_name='%s'", nickname, GetName(playerid));
		mysql_query(dbHandle, string);
		cache_delete(result);
	}

	cache_delete(result);

	format(string, sizeof(string), "%s сменил(а) ник на %s", GetName(playerid), nickname);
	SendClientMessageToAll(COLOR_ORANGE, string);
	PI[playerid][pCredits] -= 150;

	//new query[128];
	format(query, sizeof(query), "SELECT `referal` FROM `accounts` WHERE `name`='%s'", PI[playerid][pName]);
	mysql_tquery(dbHandle, query, "MysqlPayAZCheck", "dd", playerid, 15);

	STRING_GLOBAL[0] = EOS;
	format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "UPDATE "T_ACCOUNTS" SET name='%s',credits=%i WHERE name='%s' LIMIT 1", nickname, PI[playerid][pCredits], GetName(playerid));
	mysql_tquery(dbHandle, STRING_GLOBAL, "", "");
	if(PI[playerid][pAdmin])
	{
		STRING_GLOBAL[0] = EOS;
		format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "UPDATE "T_ADMIN" SET name='%s' WHERE name='%s' LIMIT 1", nickname, GetName(playerid));
		mysql_tquery(dbHandle, STRING_GLOBAL, "", "");
	}
	if(PI[playerid][pSupport])
	{
		STRING_GLOBAL[0] = EOS;
		format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "UPDATE "T_SUPPORT" SET name='%s' WHERE name='%s' LIMIT 1", nickname, GetName(playerid));
		mysql_tquery(dbHandle, STRING_GLOBAL, "", "");
	}
	if(PI[playerid][pYouTuber])
	{
		STRING_GLOBAL[0] = EOS;
		format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "UPDATE "T_YOUTUBER" SET name='%s' WHERE name='%s' LIMIT 1", nickname, GetName(playerid));
		mysql_tquery(dbHandle, STRING_GLOBAL, "", "");
	}

	STRING_GLOBAL[0] = EOS;
	format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "UPDATE "T_ACCOUNTS" SET referal='%s' WHERE referal='%s' LIMIT 1", nickname, GetName(playerid));
	mysql_tquery(dbHandle, STRING_GLOBAL, "", "");

	STRING_GLOBAL[0] = EOS;
	format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "INSERT INTO `historyname` (`idacca`, `Name`, `lastname`) VALUE ('%d', '%s', '%s')", PI[playerid][pID], nickname, GetName(playerid));
	mysql_tquery(dbHandle, STRING_GLOBAL, "", "");
	format(GetName(playerid), MAX_PLAYER_NAME, nickname);
	SetPlayerName(playerid, nickname);
	SCMF(playerid, COLOR_GREEN, "Ваше новое имя: {ffffff}%s", nickname);
	SendClientMessage(playerid, COLOR_GREEN, "Обязательно нужно сделать скриншот. Клавиша: {ffffff}F8");
	SendClientMessage(playerid, COLOR_GREEN, "Пропишите свой новый ник в окне {ffffff}CR:MP");
	Kick(playerid);
	return 1;
}

forward OnPlayerSetName(playerid, nickname[]);
public OnPlayerSetName(playerid, nickname[])
{
	new string[128];
	new rows, fields;
	cache_get_data(rows, fields);
	if(rows)
	{
		format(string, sizeof(string), "{FFFFFF}Введите будущий ник для игрока: %s", GetName(NameStats[playerid]));
		ShowPlayerDialogEx(playerid, D_UCPADMIN2, DIALOG_STYLE_INPUT, "{3498db}>> Имя игрока", string, "Принять", "Отмена");
		return SendErr(playerid, "Этот никнейм уже используется");
	}
	if(GetPlayerHouse(NameStats[playerid]))
	{
		new i = GetPVarInt(NameStats[playerid], "PlayerHouse");
		strmid(HouseInfo[i][hOwner], nickname, 0, strlen(nickname), MAX_PLAYER_NAME);
		MysqlUpdateHouseStr(i, "hOwner", nickname);
	}
	if(GetPlayerBizz(NameStats[playerid]))
	{
		new i = GetPVarInt(NameStats[playerid], "PlayerBizz");
		strmid(BizzInfo[i][bOwner], nickname, 0, strlen(nickname), MAX_PLAYER_NAME);
		MysqlUpdateBizzStr(i, "owner", nickname);
		UpdateBizz(i);
	}
	format(string, sizeof(string), "Вы сменили имя игрока %s на %s", GetName(NameStats[playerid]), nickname);
	SendClientMessage(playerid, COLOR_LIME, string);

	STRING_GLOBAL[0] = EOS;
	format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "UPDATE "T_ACCOUNTS" SET name = '%s' WHERE name = '%s' LIMIT 1", nickname, GetName(NameStats[playerid]));
	mysql_tquery(dbHandle, STRING_GLOBAL, "", "");
	if(PI[NameStats[playerid]][pAdmin])
	{
		STRING_GLOBAL[0] = EOS;
		format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "UPDATE "T_ADMIN" SET name='%s' WHERE name='%s' LIMIT 1", nickname, GetName(NameStats[playerid]));
		mysql_tquery(dbHandle, STRING_GLOBAL, "", "");
	}
	if(PI[NameStats[playerid]][pSupport])
	{
		STRING_GLOBAL[0] = EOS;
		format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "UPDATE "T_SUPPORT" SET name='%s' WHERE name='%s' LIMIT 1", nickname, GetName(NameStats[playerid]));
		mysql_tquery(dbHandle, STRING_GLOBAL, "", "");
	}
	if(PI[NameStats[playerid]][pYouTuber])
	{
		STRING_GLOBAL[0] = EOS;
		format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "UPDATE "T_YOUTUBER" SET name='%s' WHERE name='%s' LIMIT 1", nickname, GetName(NameStats[playerid]));
		mysql_tquery(dbHandle, STRING_GLOBAL, "", "");
	}

	STRING_GLOBAL[0] = EOS;
	format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "UPDATE "T_ACCOUNTS" SET referal='%s' WHERE referal='%s' LIMIT 1", nickname, GetName(NameStats[playerid]));
	mysql_tquery(dbHandle, STRING_GLOBAL, "", "");

	STRING_GLOBAL[0] = EOS;
	format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "INSERT INTO `historyname` (`idacca`, `Name`, `lastname`) VALUE ('%d', '%s', '%s')", PI[NameStats[playerid]][pID], nickname, GetName(NameStats[playerid]));
	mysql_tquery(dbHandle, STRING_GLOBAL, "", "");
	format(GetName(NameStats[playerid]), MAX_PLAYER_NAME, nickname);
	SetPlayerName(NameStats[playerid], nickname);
	format(string, sizeof(string), "Администратор %s сменил Вам никнейм", GetName(playerid));
	SendClientMessage(NameStats[playerid], COLOR_WHITE, string);
	format(string, sizeof(string), "Ваш новый никнейм: {ffffff}%s", nickname);
	SendClientMessage(NameStats[playerid], COLOR_GREEN, string);
	SendClientMessage(NameStats[playerid], COLOR_GREEN, "Обязательно нужно сделать скриншот. Клавиша: {ffffff}F8");
	SendClientMessage(NameStats[playerid], COLOR_GREEN, "Пропишите свой новый ник в окне {ffffff}SA:MP");
	Kick(NameStats[playerid]);
	return 1;
}

forward OnPlayerSetPhoneNumber(playerid);
public OnPlayerSetPhoneNumber(playerid)
{
    new rows, fields;
	cache_get_data(rows, fields);
    if(rows)
    {
		SendClientMessage(playerid, COLOR_RED, "Такой номер уже используется");
		ShowPlayerDialog(playerid, D_BUYSIM, DIALOG_STYLE_INPUT, "{FFCC00}Изменение номера", "{FFFFFF}Введите новый номер в поле ниже\n\n{FFCC00}Примечания:\n\
		{FFCC00}- Номер должен быть шестизначным,\nнапример: 123456\n- Номер не должен начинаться с 0", "Далее", "Отмена");
		return 1;
	}
    new price = gShopCosts[1];
    new i = GetPVarInt(playerid, "PlayerBizz");
    PI[playerid][pPhoneNumber] = GetPVarInt(playerid, "CheckNumber");
    TransferMoney(playerid, -1, price);
    if(BizzInfo[i][bProduct] > 0)
	{
		BizzInfo[i][bMoney] += price;
		BizzPay[i] += price;
		BizzInfo[i][bProduct] -= gShopProd[1];
		MysqlUpdateBizzInt(i, "money", BizzInfo[i][bMoney]);
		MysqlUpdateBizzInt(i, "product", BizzInfo[i][bProduct]);
	}
	new string[128];
	format(string, sizeof(string), "{ffffff}Вы изменили номер телефона\nТеперь с Вами можно связаться по номеру {0099FF}%i", PI[playerid][pPhoneNumber]);
	ShowPlayerDialog(playerid, D_NULL, 0, "{FFCC00}Изменение номера", string, "Закрыть", "");
	MysqlUpdatePlayerInt(playerid, "phonenumber", PI[playerid][pPhoneNumber]);
	DeletePVar(playerid, "CheckNumber");
	return 1;
}
forward MysqlCheckPhoneNumber(playerid, telephone);
public MysqlCheckPhoneNumber(playerid, telephone)
{
	if(cache_get_row_count(dbHandle) > 0) return SendClientMessage(playerid, COLOR_RED, "Произошла ошибка при покупке SIM-карты, попробуйте еще раз!");
	new num;
	foreach(new i: Player)
	{
 		if((PI[i][pPhoneNumber] == telephone) && (i != playerid))
		{
	 		SendClientMessage(playerid, COLOR_RED, "Произошла ошибка при покупке SIM-карты, попробуйте еще раз!");
	 		num++;
	 		break;
		}
	}
    if(num == 0)
	{
	    PI[playerid][pPhoneNumber] = telephone;
		SendClientMessage(playerid, COLOR_BLUE, "Вы купили мобильный телефон");
		MysqlUpdatePlayerInt(playerid, "phonenumber", PI[playerid][pPhoneNumber]);
		new price = gShopCosts[0];
		new i = GetPVarInt(playerid, "PlayerBizz");
	    TransferMoney(playerid, -1, price);
	    if(BizzInfo[i][bProduct] > 0)
	    {
			BizzInfo[i][bMoney] += price;
			BizzPay[i] += price;
			BizzInfo[i][bProduct] -= gShopProd[0];
		    MysqlUpdateBizzInt(i, "money", BizzInfo[i][bMoney]);
			MysqlUpdateBizzInt(i, "product", BizzInfo[i][bProduct]);
		}
	    MagazineList(playerid);
	}
	return 1;
}
forward OfflineMembersOnFraction(playerid);
public OfflineMembersOnFraction(playerid)
{
	new rows, fields;
	cache_get_data(rows, fields);
	new string[84], string_dialogue[1681], mname[MAX_PLAYER_NAME], mdata[15], mrank;
	strcat(string_dialogue, "{FFCC00}Посл. вход\tДолжность\t\tНик\n");
	if(rows)
	{
	for(new i = 0; i < rows; i++)
	{
	cache_get_field_content(i, "name", mname, dbHandle, MAX_PLAYER_NAME);
	cache_get_field_content(i, "datavhod", mdata, dbHandle, 15);
	mrank = cache_get_field_content_int(i, "rank", dbHandle);
	format(string, sizeof(string), "{FFFFFF}%s\t%s (%i)\t\t%s\n", mdata, Fraction_Rang[PI[playerid][pMember]][mrank], mrank, mname);
	strcat(string_dialogue, string);
	}
	}
	ShowPlayerDialog(playerid, D_NULL, DIALOG_STYLE_LIST, "{FFCC00}Все члены организации", string_dialogue, "Закрыть", "");
	return 1;
}
forward OfflineUninviteOnFraction(playerid);
public OfflineUninviteOnFraction(playerid)
{
	new rows, fields, Names[MAX_PLAYER_NAME];
    cache_get_data(rows, fields);
    if(!rows) return SendClientMessage(playerid, COLOR_RED, "Не найдено совпадений!");
    cache_get_field_content(0, "name", Names, dbHandle, 32);
    format(query, 256, "UPDATE `accounts` SET leader = '0', member = '0', rank = '0', memberskin = '0' WHERE name = '%s' LIMIT 1",Names);
	mysql_tquery(dbHandle, query, "", "");
	new string[63];
	format(string, sizeof(string), "Вы уволили игрока %s", Names);
	SendClientMessage(playerid, COLOR_RED, string);
	return 1;
}
forward AllAdmins(playerid);
public AllAdmins(playerid)
{
   	new rows, fields;
    cache_get_data(rows, fields);
	new string[72], string_dialogue[1440], aname[MAX_PLAYER_NAME], alevel, alastcon[15], adata[15];
	strcat(string_dialogue, "{FFCC00}Ник {FFCC00}Уровень админа {FFCC00}Последний вход {FFCC00}Поставлен\n");
	if(rows)
	{
	    for(new i = 0; i < rows; i++)
	    {
	        cache_get_field_content(i, "name", aname, dbHandle, MAX_PLAYER_NAME);
			alevel = cache_get_field_content_int(i, "level", dbHandle);
			cache_get_field_content(i, "last_connect", alastcon, dbHandle, 15);
			cache_get_field_content(i, "data", adata, dbHandle, 15);
			if(alevel == 6) continue;
	    	format(string, sizeof(string), "{FFFFFF}%s\t%d\t%s\t%s\n", aname, alevel, alastcon, adata);
	    	strcat(string_dialogue, string);
    	}
	}
	ShowPlayerDialog(playerid, D_APANEL+1, DIALOG_STYLE_LIST, "{FFCC00}Весь список администрации", string_dialogue, "Закрыть", "");
	return 1;
}
//==============================================================================
forward OnPlayerReferal(playerid);
public OnPlayerReferal(playerid)
{
    new rows, fields;
    cache_get_data(rows, fields);
	if(!rows)
	{
		ShowPlayerDialog(playerid, D_JOB+30, 1, "{FFCC00}Реферал",\
		"{FFFFFF}{ffffff}Введите имя игрока, пригласившего Вас на сервер\n\
		Если Вас никто не приглашал, то нажмите \"Пропустить\"\n\n\
		{FFCC00}Если Вы достигните 5 уровня, то Ваш реферал получит 50 000 рублей", "Ок", "Пропустить");
		return SendClientMessage(playerid, COLOR_RED, "Игрок с таким никнеймом не играет на сервере!");
	}
	new name[MAX_PLAYER_NAME];
	GetPVarString(playerid, "Drug", name, sizeof(name));
	strmid(PI[playerid][pReferal], name, 0, strlen(name), MAX_PLAYER_NAME);
	ClothesRound[playerid] = 1;
	PlayerRegistered[playerid] = 1;
	SetHealth(playerid, 100);
	SetHunger(playerid, 100);
	PlayerLogged[playerid] = true;
	SpawnPlayer(playerid);
	return 1;
}
//==============================================================================
stock Float:GetAngleToPoint(Float:X, Float:Y, Float:A, Float:x, Float:y)
{
	new Float:angle = 185.0 - atan2(X-x, Y-y);
	A -= (angle - 5.0);
	return A;
}
//==============================================================================
forward GetPlayerAngleToPoint(playerid, Float:x, Float:y);
stock GetPlayerAngleToPoint(playerid, Float:x, Float:y)
{
	new Float:ix, Float:iy, Float:iz, Float:a;
	GetPlayerFacingAngle(playerid, a);
	GetPlayerPos(playerid, ix, iy, iz);
	return floatround(GetAngleToPoint(ix, iy, a, x, y));
}
//==============================================================================
stock Float:GetPlayerAngleToPlayer(playerid, facingtoid)
{
	new Float:x, Float:y, Float:z;
	GetPlayerPos(facingtoid, x, y, z);
	return float(GetPlayerAngleToPoint(playerid, x, y));
}
//==============================================================================
stock GetPlayerFaceToPlayer(playerid, targetid, Float:facing)
{
	new Float:radius = GetPlayerAngleToPlayer(playerid, targetid);
	return (radius > -facing && radius < facing);
}
//==============================================================================
stock PlayerSecurity(playerid)
{
    new string[350];
	format(string, sizeof(string), "Сменить пароль\nПотверждение почты\nУстановить защитный код\t\t| %s\n{FFCC00}Настройки графического пароля\n"newblue"Vk Auth {FFFFFF}\t\t\t\t| %s", \
	(!PI[playerid][pCheckCode]) ? ("{F04245}Отсутствует") : ("{63BD4E}Активирован"),\
	(!PI[playerid][VkAuth]) ? ("{F04245}Отсутствует") : ("{63BD4E}Активирован"));

	ShowPlayerDialog(playerid, D_JOB+201, 2, "{FFCC00}Защита аккаунта", string, "Выбрать", "Назад");
	return 1;
}
//==============================================================================
stock GPSPlayer_(playerid, Float:X, Float:Y, Float:Z, locname[])
{
	if(X == 0.0) return SendClientMessage(playerid, COLOR_RED, "Критическая ошибка! Обратитесь к администрации!");
 	new Float:VPos[3];
    GetPlayerPos(playerid, VPos[0], VPos[1], VPos[2]);
    UseGPS[playerid] = true;
    DisablePlayerRaceCheckpoint(playerid);
	SetPlayerRaceCheckpoint(playerid, 1, X, Y, Z, 0, 0, 0, 5.0);
	new string[128];
	format(string, sizeof(string), "Вы отметили на карте: %s. {FFCC00}Расстояние: %.1f м", locname, GetDistanceBetweenPoints(VPos[0], VPos[1], VPos[2], X, Y, Z));
	SendClientMessage(playerid, COLOR_WHITE, string);
	return 1;
}
//==============================================================================
stock MeAction(playerid, action[], Float:distance = 13.0)
{
	new string[128];
	format(string, sizeof(string), "%s %s", GetName(playerid), action);
	foreach(new i: Player)
	{
		if(!IsPlayerConnected(i) || GetPlayerDistanceToPlayer(playerid,i) > distance || GetPlayerVirtualWorld(i) != GetPlayerVirtualWorld(playerid)) continue;
		SendClientMessage(i, COLOR_PURPLE, string);
	}
	return 1;
}
//==============================================================================
stock DoAction(playerid, action[], Float:distance = 13.0)
{
	new string[128];
	format(string, sizeof(string), "%s (( %s ))", action, GetName(playerid));
	foreach(new i: Player)
	{
		if(!IsPlayerConnected(i) ||  GetPlayerDistanceToPlayer(playerid,i) > distance || GetPlayerVirtualWorld(i) != GetPlayerVirtualWorld(playerid)) continue;
		SendClientMessage(i, COLOR_PURPLE, string);
	}
	return 1;
}
//==============================================================================
stock TryAction(playerid, action[], Float:distance = 13.0)
{
	new string[128];
	if(random(2) == 1) format(string, sizeof(string), "%s %s | {FFCC00}Удачно", GetName(playerid), action);
	else format(string, sizeof(string), "%s %s | {FF0000}Неудачно", GetName(playerid), action);
	foreach(new i: Player)
	{
		if(!IsPlayerConnected(i) || GetPlayerDistanceToPlayer(playerid,i) > distance || GetPlayerVirtualWorld(i) != GetPlayerVirtualWorld(playerid)) continue;
		SendClientMessage(i, COLOR_PURPLE, string);
	}
	return 1;
}
//===============================================================================
stock AutoStationBusInfo(playerid, text[]) ProxDetectorNew(playerid, 30.0, COLOR_BLUE, text);

forward OnPlayerOffMute(playerid, name[], time, reason[]);
public OnPlayerOffMute(playerid, name[], time, reason[])
{
	if(cache_get_row_count(dbHandle) > 0)
    {
		new string[144];
  		mysql_tquery(dbHandle, "SET NAMES 'cp1251'", "", "");
		mysql_tquery(dbHandle, "SET CHARACTER SET 'cp1251'", "", "");
		format(string, sizeof(string), "[A] Администратор %s поставил затычку %s в оффлайне на %d мин. Причина: %s", GetName(playerid), name, time, reason);
		SendAdminMessage(COLOR_BLUE, string);
		format(query, sizeof(query), "UPDATE `accounts` SET `mute` = '%d', `offmes_mute` = 'Администратор %s выдал Вам затычку в оффлайне на %d минут. Причина: %s' WHERE name='%s'", time*60, GetName(playerid), time, reason, name);
		mysql_tquery(dbHandle, query, "", "");

	}
	else SendClientMessage(playerid, COLOR_RED, "Игрок не найден!");
    return 1;
}
forward OnPlayerOffJail(playerid, name[], time, reason[]);
public OnPlayerOffJail(playerid, name[], time, reason[])
{
	if(cache_get_row_count(dbHandle) > 0)
    {
		new string[144];
  		mysql_tquery(dbHandle, "SET NAMES 'cp1251'", "", "");
		mysql_tquery(dbHandle, "SET CHARACTER SET 'cp1251'", "", "");
		format(string, sizeof(string), "[A] Администратор %s посадил в деморган %s в оффлайне на %d минут(ы). Причина: %s", GetName(playerid), name, time, reason);
		SendAdminMessage(COLOR_BLUE, string);
		format(query, sizeof(query), "UPDATE `accounts` SET `jail` = '3', `jailtime` = '%d', `offmes_jail` = 'Администратор %s посадил Вас в деморган в оффлайне на %d минут. Причина: %s' WHERE name='%s'", time*60, GetName(playerid), time, reason, name);
		mysql_tquery(dbHandle, query, "", "");

	}
	else SendClientMessage(playerid, COLOR_RED, "Игрок не найден!");
    return 1;
}

forward OnPlayerOffban(playerid, name[], day, reason[]);
public OnPlayerOffban(playerid, name[], day, reason[])
{
	if(cache_get_row_count(dbHandle) > 0)
    {
		new string[144];
		format(string, sizeof(string), "Администратор %s забанил игрока %s в оффлайне на %i дней. Причина: %s", GetName(playerid), name, day, reason);
		SendClientMessageToAll(COLOR_RED, string);
		SendLog("OffBan", string);
		getdate(years, months, days);
		new unbandate = gettime() + day*86400;
		new data[15];
        mysql_tquery(dbHandle, "SET NAMES 'cp1251'", "", "");
		mysql_tquery(dbHandle, "SET CHARACTER SET 'cp1251'", "", "");
		format(data, sizeof(data), "%02d.%02d.%04d", days, months, years);
		format(query, sizeof(query), "INSERT INTO bans (name, whobanned, ip, bandate, time, unbandate, reason) VALUES ('%s', '%s', '%s', '%s', '%d', '%d', '%s')", name, GetName(playerid), cache_get_row_int(0, 3, dbHandle), data, day, unbandate, reason);
		mysql_tquery(dbHandle, query, "", "");
		format(query, sizeof(query), "UPDATE `accounts` SET warn=0,member=0,leader=0,templeader=0,rank=0,job=0,spawnchange=0 WHERE name='%s'", name);
		mysql_tquery(dbHandle, query, "", "");
	}
	else SendClientMessage(playerid, COLOR_RED, "Игрок не найден!");
	return 1;
}
forward OnPlayerOffwarn(playerid, name[], reason[]);
public OnPlayerOffwarn(playerid, name[], reason[])
{
	if(cache_get_row_count(dbHandle) > 0)
	{
	    new string[144];
		if(cache_get_row_int(0, 20, dbHandle) < 3)
		{
			format(string, sizeof(string), "Администратор %s выдал предупреждение в оффлайне игроку %s. Причина: %s", GetName(playerid), name, reason);
			format(query, sizeof(query), "UPDATE `accounts` SET warn=warn+1,member=0,leader=0,templeader=0,rank=0,job=0,spawnchange=0 WHERE name='%s'", name);
			mysql_tquery(dbHandle, query, "", "");
		}
		else
		{
		    new data[15], unbandate;
			format(string, sizeof(string), "Игрок %s получил оффлайн бан на 7 дней от администратора %s. Причина: %s", name, GetName(playerid), reason);
			getdate(years, months, days);
			unbandate = gettime() + 7*86400;
			format(data, sizeof(data), "%02d.%02d.%04d", days, months, years);
			format(query, sizeof(query), "INSERT INTO bans (name, whobanned, ip, bandate, time, unbandate, reason) VALUES ('%s', '%s', '%s', '%s', 7, %d, '%s')", name, GetName(playerid), cache_get_row_int(0, 3, dbHandle), data, unbandate, reason);
			mysql_tquery(dbHandle, query, "", "");
			format(query, sizeof(query), "UPDATE `accounts` SET warn=0,member=0,leader=0,templeader=0,rank=0,job=0,spawnchange=0 WHERE name='%s'", name);
			mysql_tquery(dbHandle, query, "", "");
		}
		SendClientMessageToAll(COLOR_RED, string);
	    SendLog("WarnLog", string);
	}
	else SendClientMessage(playerid, COLOR_RED, "Игрок не найден!");
	return 1;
}

forward OnPlayerOffawarn(playerid, name[], reason[]);
public OnPlayerOffawarn(playerid, name[], reason[])
{
	if(cache_get_row_count(dbHandle) > 0)
	{
	    new string[144];
		if(cache_get_row_int(0, 20, dbHandle) < 3)
		{
			format(string, sizeof(string), "%s выдал оффлайн выговор администратору %s. Причина: %s", GetName(playerid), name, reason);
			format(query, sizeof(query), "UPDATE `accounts` SET warn=warn+1,member=0,leader=0,templeader=0,rank=0,job=0,spawnchange=0 WHERE name='%s'", name);
			mysql_tquery(dbHandle, query, "", "");
		}
		else
		{
		    new data[15], unbandate;
			format(string, sizeof(string), "Администратор %s был снят оффлайн Руководителем %s. Причина: %s", name, GetName(playerid), reason);
			getdate(years, months, days);
			unbandate = gettime() + 7*86400;
			format(data, sizeof(data), "%02d.%02d.%04d", days, months, years);
			format(query, sizeof(query), "INSERT INTO bans (name, whobanned, ip, bandate, time, unbandate, reason) VALUES ('%s', '%s', '%s', '%s', 7, %d, '%s')", name, GetName(playerid), cache_get_row_int(0, 3, dbHandle), data, unbandate, reason);
			mysql_tquery(dbHandle, query, "", "");
			format(query, sizeof(query), "UPDATE `accounts` SET warn=0,member=0,leader=0,templeader=0,rank=0,job=0,spawnchange=0 WHERE name='%s'", name);
			mysql_tquery(dbHandle, query, "", "");
		}
		SendClientMessageToAll(COLOR_RED, string);
	    SendLog("WarnLog", string);
	}
	else SendClientMessage(playerid, COLOR_RED, "Игрок не найден!");
	return 1;
}
forward OnPlayerUnban(playerid, name[]);
public OnPlayerUnban(playerid, name[])
{
    new rows, fields;
    cache_get_data(rows, fields);
    if(!rows) return SendClientMessage(playerid, COLOR_RED, "Данный игрок не забанен!");
    else
    {
		format(query, sizeof(query), "DELETE FROM bans WHERE name = '%s'", name);
	    mysql_tquery(dbHandle, query, "", "");
		new string[76];
		format(string, sizeof(string), "[A] %s разбанил игрока %s", GetName(playerid), name);
		SendAdminMessage(COLOR_BLUE, string);
	}
	return 1;
}
forward OnPlayerDeleteAccount1(playerid, name[]);
public OnPlayerDeleteAccount1(playerid, name[])
{
	if(cache_get_row_count(dbHandle) > 0)
    {
        new idacca, level;
        idacca = cache_get_row_int(0, 0, dbHandle);
        level = cache_get_row_int(0, 1, dbHandle);
        if(!GetPVarInt(playerid, "deleting_account"))
        {
            new string[80];
            SetPVarInt(playerid, "deleting_account", 1);
			format(string, sizeof(string), "Ник: %s, аккаунт №%i, уровень: %i. Деактивировать аккаунт??", name, idacca, level);
			SendClientMessage(playerid, COLOR_RED, string);
			SendClientMessage(playerid, COLOR_YELLOW, "Чтобы ОТМЕНИТЬ удаление аккаунта, повторите /nb без ника");
			SendClientMessage(playerid, COLOR_YELLOW, "Чтобы ПОТВЕРДИТЬ удаление аккаунта, повторите /nb [ник игрока]");
		}
		else if(GetPVarInt(playerid, "deleting_account"))
		{
		    new string[87];
	    	format(string, sizeof(string), "Аккаунт №%i деактивирован", idacca);
	    	SendClientMessage(playerid, COLOR_LIME, string);
	    	format(string, sizeof(string), "[Внимание] %s [%i] деактивировал аккаунт %s", GetName(playerid), playerid, name);
	    	SendAdminMessage(COLOR_REDD, string);
	    	SendLog("DeleteAccount", string);
	    	if(GetPlayerID(name) != -1)
	    	{
	    	    SendClientMessage(GetPlayerID(name), COLOR_REDD, "Ваш аккаунт деактивирован");
				Kick(GetPlayerID(name));
	    	}
			format(string, sizeof(string), "DELETE FROM `accounts` WHERE `name` = '%s'", name);
			mysql_tquery(dbHandle, string, "", "");
			SetPVarInt(playerid, "deleting_account", 0);
		}
    }
    else
    {
        DeletePVar(playerid, "deleting_account");
    	SendClientMessage(playerid, COLOR_RED, "Игрок не найден!");
    }
	return 1;
}
forward OnPlayerDeleteAccount(playerid, name[]);
public OnPlayerDeleteAccount(playerid, name[])
{
	if(cache_get_row_count(dbHandle) > 0)
    {
        new idacca, level;
        idacca = cache_get_row_int(0, 0, dbHandle);
        level = cache_get_row_int(0, 1, dbHandle);
        if(!GetPVarInt(playerid, "deleting_account"))
        {
            new string[80];
            SetPVarInt(playerid, "deleting_account", 1);
			format(string, sizeof(string), "Ник: %s, аккаунт №%i, уровень: %i. Удалить аккаунт?", name, idacca, level);
			SendClientMessage(playerid, COLOR_RED, string);
			SendClientMessage(playerid, COLOR_LIME, "Чтобы {FFCC00}ОТМЕНИТЬ{FFCC00} удаление аккаунта, повторите /delacc без ника");
			SendClientMessage(playerid, COLOR_LIME, "Чтобы {FFCC00}ПОДТВЕРДИТЬ{FFCC00} удаление аккаунта, повторите /delacc [ник игрока]");
		}
		else if(GetPVarInt(playerid, "deleting_account"))
		{
		    new string[87];
	    	format(string, sizeof(string), "Аккаунт №%i удалён", idacca);
	    	SendClientMessage(playerid, COLOR_LIME, string);
	    	format(string, sizeof(string), "[Внимание] %s [%i] удалил аккаунт %s", GetName(playerid), playerid, name);
	    	SendAdminMessage(COLOR_REDD, string);
	    	SendLog("DeleteAccount", string);
	    	if(GetPlayerID(name) != -1)
	    	{
	    	    SendClientMessage(GetPlayerID(name), COLOR_REDD, "Ваш аккаунт был удалён за нарушение правил сервера");
				Kick(GetPlayerID(name));
	    	}
			format(string, sizeof(string), "DELETE FROM `accounts` WHERE `name` = '%s'", name);
			mysql_tquery(dbHandle, string, "", "");
			SetPVarInt(playerid, "deleting_account", 0);
		}
    }
    else
    {
        DeletePVar(playerid, "deleting_account");
    	SendClientMessage(playerid, COLOR_RED, "Игрок не найден!");
    }
	return 1;
}

forward OnPlayerOffget(playerid, name[]);
public OnPlayerOffget(playerid, name[])
{
	if(cache_get_row_count(dbHandle) > 0)
	{
	    new string[64], string_dialogue[512], idacca, cash, bank, level, regip[16], lastip[16], datareg[15], donate;
	    idacca = cache_get_row_int(0, 0, dbHandle);
	    cash = cache_get_row_int(0, 11, dbHandle);
	    bank = cache_get_row_int(0, 12, dbHandle);
	    level = cache_get_row_int(0, 10, dbHandle);
	    cache_get_row(0, 14, regip, dbHandle, 16);
	    cache_get_row(0, 3, lastip, dbHandle, 16);
	    cache_get_row(0, 15, datareg, dbHandle, 15);
	    donate = cache_get_row_int(0, 58, dbHandle);
		format(string, sizeof(string), "{FFCC00}Номер аккаунта:\t%i\n", idacca);
		strcat(string_dialogue, string);
		format(string, sizeof(string), "{FFCC00}Наличные:\t\t%i\n", cash);
		strcat(string_dialogue, string);
		format(string, sizeof(string), "{FFCC00}Банковский счёт:\t%i\n", bank);
		strcat(string_dialogue, string);
		format(string, sizeof(string), "Уровень:\t\t%i\n", level);
		strcat(string_dialogue, string);
		format(string, sizeof(string), "{FFCC00}IP адрес (регис.):\t%s\n", regip);
		strcat(string_dialogue, string);
		format(string, sizeof(string), "{FFCC00}IP адрес (последн.):\t%s\n", lastip);
		strcat(string_dialogue, string);
		format(string, sizeof(string), "{FFCC00}Дата регистрации:\t%s\n", datareg);
		strcat(string_dialogue, string);
		format(string, sizeof(string), "{FFCC00}Донат:\t\t\t%i\n", donate);
		strcat(string_dialogue, string);
		ShowPlayerDialog(playerid, D_NULL, DIALOG_STYLE_MSGBOX, name, string_dialogue, "Закрыть", "");
	}
	else SendClientMessage(playerid, COLOR_RED, "Игрок не найден!");
	return 1;
}

stock SetString(param_1[], param_2[], size = 300)
{
    return strmid(param_1, param_2, 0, strlen(param_2), size);
}

stock GetStringY(params1[], params2[])
{
	return !strcmp(params1, params2, false);
}
forward GmTest(playerid, targetid, Float:oldhealth);
public GmTest(playerid, targetid, Float:oldhealth)
{
    new Float: newhealth;
	GetPlayerHealth(targetid, newhealth);
	new mes[256], string[60];
	if(oldhealth == newhealth) string = "{FF0000}Возможно игрок использует God Mode(GM)";
	if(oldhealth != newhealth) string = "{05E900}Вероятно игрок чист, показатель его HP уменьшился";
    format(mes, sizeof(mes), "{FFFFFF}Было: {FF9900}%.0f.0 (HP)\n{FFFFFF}Стало: {FF9900}%.0f.0 (HP)\n{FFFFFF}Уменьшилось на: {FF9900}%.0f.0 (HP)\n\n%s", oldhealth, newhealth, oldhealth-newhealth, string);
    ShowPlayerDialog(playerid, D_NULL, DIALOG_STYLE_MSGBOX, GetName(targetid), mes, "Закрыть", "");
	SetHealth(targetid, oldhealth);
	StartGMTest[playerid] = false;
	return 1;
}
forward StealMats(playerid);
public StealMats(playerid)
{
	new guns = random(5) + 1;
	new ammo = random(5) + 1;
	if(PI[playerid][pGunAmount] + guns > 500) guns = 500 - PI[playerid][pGunAmount];
	if(PI[playerid][pPatron] + ammo > 500) ammo = 500 - PI[playerid][pPatron];
	if(500 < ammo + PI[playerid][pPatron] && !PI[playerid][pImprove][2]) return 0;
	else if(1000 < ammo + PI[playerid][pPatron] && PI[playerid][pImprove][2]) return 0;
	if(500 < guns + PI[playerid][pGunAmount] && !PI[playerid][pImprove][2]) return 0;
	else if(1000 < guns + PI[playerid][pGunAmount] && PI[playerid][pImprove][2]) return 0;
	if(gArmyWarehouse[0] < guns || gArmyWarehouse[1] < ammo) return 0;
	gArmyWarehouse[1] -= ammo;
	new string[35];
	format(string, sizeof(string), "~b~+%d~n~~y~TOTAL: %d", ammo, PI[playerid][pPatron]);
	GameTextForPlayer(playerid, string, 1500, 6);
	PI[playerid][pPatron] += ammo;
	MysqlUpdatePlayerInt(playerid, "patron", PI[playerid][pPatron]);
	return 1;
}
/*stock SendFMes(family, color, str[])
{
	foreach(new i: Player)
	{
		if(!PlayerLogged[i]) continue;
		if(PI[i][pMember] == family) SendClientMessage(i, color, str);
	}
	return 1;
}*/
stock WHDataUpdate()
{
	new string[500];

	format(string,sizeof(string),"{FFCC00}Склад\n{FFFFFF}Патроны: {FFCC00}%d {FFFFFF}шт.\n{FFFFFF}Металл: {FFCC00}%d {FFFFFF}кг.\n{FFCC00}/getmet - взять металл\n/putmet - положить металл", gArmyWarehouse[1], gArmyWarehouse[0]);
	UpdateDynamic3DTextLabelText(gArmyWarehouseText,0xFFFFFFFF,string);

	format(string,sizeof(string),"{F3FF02}Склад\n\n{FFFFFF}Патроны: {FFAF00}%d\n{FFFFFF}Металл: {FFAF00}%d\n{FFFFFF}Деньги: {FFAF00}%d", MafiaPatr[0], MafiaEd[0], FracBank[5]);
	UpdateDynamic3DTextLabelText(Mafia3d[0],0xFFFFFFFF,string);

	format(string,sizeof(string),"{F3FF02}Склад\n\n{FFFFFF}Патроны: {FFAF00}%d\n{FFFFFF}Металл: {FFAF00}%d\n{FFFFFF}Деньги: {FFAF00}%d", MafiaPatr[1], MafiaEd[1], FracBank[6]);
	UpdateDynamic3DTextLabelText(Mafia3d[1],0xFFFFFFFF,string);

	format(string,sizeof(string),"{F3FF02}Склад\n\n{FFFFFF}Патроны: {FFAF00}%d\n{FFFFFF}Металл: {FFAF00}%d\n{FFFFFF}Деньги: {FFAF00}%d", MafiaPatr[2], MafiaEd[2], FracBank[7]);
	UpdateDynamic3DTextLabelText(Mafia3d[2],0xFFFFFFFF,string);
}

stock GetPlayerTruckLevel(playerid)
{
	if(PI[playerid][pTruckSkill] >= 30000) return 2;
	else return 1;
}

stock BadFloat(Float:x)
{
    if(x >= 10.0 || x <= -10.0) return 1;
    return 0;
}

stock IsIpFound(const string[])
{
	if(!CheckIPs) CheckIPs = regex_build("([0-9]{1,3})[^[:digit:]^[:cntrl:]]{1,3}([0-9]{1,3})[^[:digit:]^[:cntrl:]]{1,3}([0-9]{1,3})[^[:digit:]^[:cntrl:]]{1,3}([0-9]{1,3})");
	return regex_search_exid(string, CheckIPs);
}
//==============================================================================
stock CheckString(string[])
{
	static const WebSites[][] = {
		"риверс","р и в е р с","rivers","р и в е р с","слив","sliv","IP "};
	for(new i = 0; i < sizeof(WebSites); i++)
	{
		if(strfind(string, WebSites[i], true) != -1) return 1;
	}
	return 0;
}
//==============================================================================
stock PlayerGetsChatBan(playerid, text[])
{
	new string[90];
	format(string, sizeof(string), "[Внимание] %s[%i] получил бан чата за отправку: %s", GetName(playerid), playerid, text);
	SendAdminMessage(COLOR_RED, string);
	SendLog("PlayerAdvertise",string);
	return 1;
}
//==============================================================================
stock AdminAntisliv(playerid, text[])
{
	RemoveAdmin(playerid, GetName(playerid));
	new string[88];
	format(string, sizeof(string), "[Внимание] %s [%i] подозревается во взломе [IP:%s]", GetName(playerid), playerid, PI[playerid][pIP]);
	SendAdminMessage(COLOR_REDD, string);
	format(string, sizeof(string), "[Внимание] Текст: %s", text);
	SendAdminMessage(COLOR_REDD, string);
	SendLog("AdminAntisliv",string);
	new data[15], unbandate;
	getdate(years, months, days);
	unbandate = gettime() + 30*86400;
	format(data, sizeof(data), "%02d.%02d.%04d", days, months, years);
	format(query, sizeof(query), "INSERT INTO bans (name, whobanned, ip, bandate, time, unbandate, reason) VALUES ('%s', 'System', '%s', '%s', '30', '%d', 'Слив админки')", GetName(playerid), PI[playerid][pIP], data, unbandate);
	mysql_tquery(dbHandle, query, "", "");
	Kick(playerid);
	return 1;
}
//==============================================================================
stock AttemptRemoveChiefAdmin(playerid)
{
	RemoveAdmin(playerid, GetName(playerid));
    new data[15], unbandate;
	getdate(years, months, days);
	unbandate = gettime() + 30*86400;
	format(data, sizeof(data), "%02d.%02d.%04d", days, months, years);
	format(query, sizeof(query), "INSERT INTO bans (name, whobanned, ip, bandate, time, unbandate, reason) VALUES ('%s', 'System', '%s', '%s', '30', '%d', 'Слив админки')", GetName(playerid), PI[playerid][pIP], data, unbandate);
	mysql_tquery(dbHandle, query, "", "");
    new string[98];
    format(string, sizeof(string), "[Внимание] %s был снят за попытку выдать наказание главному администратору", GetName(playerid));
    SendAdminMessageEx(COLOR_REDD, string, 5);
    SendLog("AttemptRemoveChiefAdmin", string);
    Kick(playerid);
	return 1;
}
//==============================================================================
stock AttemptRemoveAdmin(playerid)
{
    SendClientMessage(playerid, COLOR_RED, "Администратор выше Вас рангом, или равен Вам");
    new string[97];
    format(string, sizeof(string), "[Внимание] %s попытался выдать наказание администратору выше его по рангу", GetName(playerid));
    SendAdminMessageEx(COLOR_REDD, string, 5);
    SendLog("AttemptRemoveAdmin", string);
	return 1;
}
//==============================================================================
stock RemoveAdmin(targetid, name[])
{
	PI[targetid][pAdmin] = ADM_NONE;
	new string[128];
	mysql_format(dbHandle, string, sizeof(string), "DELETE FROM `admins` WHERE `name`='%s'", name);
	mysql_tquery(dbHandle, string, "", "");
	MysqlUpdatePlayerInt(targetid, "admin", PI[targetid][pAdmin]);
	return 1;
}

stock SetSpawnInfoEx(playerid, skin, Float:x, Float:y, Float:z, Float:a)
    return SetSpawnInfo(playerid, 255, skin, x, y, z-0.2, a, 0, 0, 0, 0, 0, 0);

stock HaveWeapon(playerid, weaponid)
{
	new weapons[13][2];
	for(new i = 0; i <= 12; i++)
	{
		GetPlayerWeaponData(playerid, i, weapons[i][0], weapons[i][1]);
		if((weapons[i][0] == weaponid) && weapons[i][1]) return 1;
	}
	return 0;
}

stock split(const strsrc[], strdest[][], delimiter)
{
	new i, li, aNum, len;
	while(i <= strlen(strsrc))
	{
		if(strsrc[i]==delimiter || i==strlen(strsrc))
		{
			len = strmid(strdest[aNum], strsrc, li, i, 128);
			strdest[aNum][len] = 0;
			li = i+1;
			aNum++;
		}
		i++;
	}
	return 1;
}

stock GetNameWithNumber(number)
{
	new str[MAX_PLAYER_NAME] = {"Offline/None"};
	foreach(new i: Player)
	{
		if(!PlayerLogged[i]) continue;
		if(PI[i][pPhoneNumber] == number)
		{
			format(str, sizeof(str), "%s", GetName(i));
			break;
		}
	}
	return str;
}

forward SetAdmin(playerid, name[], level);
public SetAdmin(playerid, name[], level)
{
	new rows, fields, string[256];
	cache_get_data(rows, fields);
	if(rows)
	{
		if(!level)
		{
			if(GetPlayerID(name) != INVALID_PLAYER_ID) PI[GetPlayerID(name)][pAdmin] = 0, AdminLogged[GetPlayerID(name)] = false;
			mysql_format(dbHandle, string, sizeof(string), "DELETE FROM "T_ADMIN" WHERE `name`='%s'", name);
			mysql_tquery(dbHandle, string, "", "");
			mysql_format(dbHandle, string, sizeof(string), "UPDATE "T_ACCOUNTS" SET `admin` = '0' WHERE `name` = '%s'", name);
			mysql_tquery(dbHandle, string, "", "");
			format(string, sizeof(string), "Вы сняли %s с должности администратора", name);
			SendClientMessage(playerid, COLOR_YELLOW, string);
			format(string, sizeof(string), "[A] %s снял %s с должности администратора", GetName(playerid), name);
			SendAdminMessage(COLOR_GREY, string);
		}
		else
		{
			if(GetPlayerID(name) != INVALID_PLAYER_ID) PI[GetPlayerID(name)][pAdmin] = level;
			mysql_format(dbHandle, string, sizeof(string), "UPDATE "T_ADMIN" SET `level` = '%d' WHERE `name` = '%s' LIMIT 1", level, name);
			mysql_tquery(dbHandle, string, "", "");
			format(string, sizeof(string), "Вы установили уровень администратора %s на %i", name, level);
			SendClientMessage(playerid, COLOR_YELLOW, string);
			format(string, sizeof(string), "[A] %s установил уровень администратора %s на %i", GetName(playerid), name, level);
			SendAdminMessage(COLOR_GREY, string);
		}
	}
	else
	{
		if(!level) return SendClientMessage(playerid, COLOR_GREY, "Игрок не администратор");
		new data[15];
		getdate(years, months, days);
		format(data, sizeof(data), "%02d.%02d.%04d", days, months, years);
		mysql_format(dbHandle, string, sizeof(string), "INSERT INTO "T_ADMIN" (`name`, `level`, `last_connect`, `put_admin`, `data`) VALUES ('%s', %d, '%s', '%s', '%s')", name, level, data, GetName(playerid), data);
		mysql_tquery(dbHandle, string, "", "");
		format(string, sizeof(string), "%s добавлен в список администрации. Уровень полномочий %i", name, level);
		SendClientMessage(playerid, COLOR_GREEN, string);
		format(string, sizeof(string), "[A] %s добавил в список администрации %s (%i уровень)", GetName(playerid), name, level);
		SendAdminMessage(COLOR_GREY, string);
		if(GetPlayerID(name) != INVALID_PLAYER_ID)
		{
			format(string, sizeof(string), "%s назначил Вас администратором {FFFFFF}/alogin", GetName(playerid));
			SendClientMessage(GetPlayerID(name), COLOR_LIME, string);
		}
	}
	return 1;
}

forward Alogin(playerid, name[]);
public Alogin(playerid, name[])
{
	new rows, fields;
	cache_get_data(rows, fields);
	if(!rows)
	{
		if(PI[playerid][pAdmin] > 0) PI[playerid][pAdmin] = 0;
		return 1;
	}
	new Password[16];
	cache_get_field_content(0, "password", Password, dbHandle);
	if(!strcmp(Password, "qwerty", true))
	{
		SetPVarInt(playerid, "aLogin", 1);
		ShowPlayerDialog(playerid, D_ALOGIN, DIALOG_STYLE_INPUT, "{FFCC00}Регистрация администратора", "\
		{FFFFFF}Введите пароль, который будет использоватья для панели администратора\n\n\
		{FFCC00}Примечание:\n\
		\t- Пароль должен состоять из латинских букв и цифр\n\
		\t- Размер пароля от 6 до 15 символов", "Принять", "Отмена");
	}
	else
	{
		SetPVarInt(playerid, "aLogin", 0);
		ShowPlayerDialog(playerid, D_ALOGIN, DIALOG_STYLE_INPUT, "{FFCC00}Доступ администратора", "\
		{FFFFFF}Пароль должен состоять из латинских букв и цифры\n\
		размером от 6 до 15 символов\n\n\
		Введите пароль:", "Войти", "Отмена");
	}
	return 1;
}
//==============================================================================
forward AloginReg(playerid, name[]);
public AloginReg(playerid, name[])
{
	new rows, fields;
	cache_get_data(rows, fields);
	if(!rows) return 1;
	new inputtext[16], string[144], ipplayer[256];
	GetPVarString(playerid, "inputtext", inputtext, sizeof(inputtext));
	mysql_format(dbHandle, string, sizeof(string), "UPDATE "T_ADMIN" SET `password` = '%s' WHERE `name` = '%s' LIMIT 1", inputtext, GetName(playerid));
	mysql_tquery(dbHandle, string, "", "");
	PI[playerid][pAdmin] = cache_get_field_content_int(0, "level");
	GetPlayerIp(playerid,ipplayer,sizeof(ipplayer));
	MysqlUpdatePlayerInt(playerid, "admin", PI[playerid][pAdmin]);
	if(PI[playerid][pSex] == 1) format(string, sizeof(string), "<ALogin> вошёл %s[%i]", GetName(playerid), playerid);
	else format(string, sizeof(string), "<ALogin> вошла %s[%i]", GetName(playerid), playerid);

	if(PI[playerid][pAdmin] >= 6) SendAdminMessage(COLOR_SERVER, string, PI[playerid][pAdmin]);
	else SendAdminMessage(COLOR_SERVER, string, PI[playerid][pAdmin]);

	AdminLogged[playerid] = true;
	new day, month, year;
	getdate(year, month, day);
	mysql_format(dbHandle, string, sizeof(string), "UPDATE "T_ADMIN" SET `last_connect` = '%d.%d.%d' WHERE `name` = '%s' LIMIT 1", day, month, year, GetName(playerid));
	mysql_tquery(dbHandle, string, "", "");

	global_string = "";
	mysql_format(dbHandle, global_string, 128, "SELECT * FROM "T_ADMIN" WHERE `name` = '%s'",GetName(playerid));
	mysql_tquery(dbHandle, global_string, "LoadAstats", "d", playerid);
	return 1;
}
//==============================================================================
forward AloginAuth(playerid, inputtext[]);
public AloginAuth(playerid, inputtext[])
{
	new rows, fields;
	cache_get_data(rows, fields);
	if(!rows)
	{
		SendErr(playerid, "Неверный пароль");
		SetPVarInt(playerid, "attempt_pass", GetPVarInt(playerid, "attempt_pass") + 1);
		if(GetPVarInt(playerid, "attempt_pass") > 3)
		{
			DeletePVar(playerid, "attempt_pass");
            Kick(playerid);
		}
	}
	else
	{
		new string[144];
		AdminLogged[playerid] = true;
		PI[playerid][pAdmin] = cache_get_row_int(0, 1, dbHandle);
		AdminInfo[playerid][admGoto] = cache_get_row_int(0, 6, dbHandle);
		AdminInfo[playerid][admGethere] = cache_get_row_int(0, 7, dbHandle);
		AdminInfo[playerid][admSpectate] = cache_get_row_int(0, 8, dbHandle);
		AdminInfo[playerid][admTimeMin] = cache_get_row_int(0, 9, dbHandle);
		AdminInfo[playerid][admAlog] = cache_get_row_int(0, 10, dbHandle);

		if(PI[playerid][pAdmin] != 7)
		{
			if(PI[playerid][pSex] == 1) format(string, sizeof(string), "<ALogin> вошёл %s[%i]", GetName(playerid), playerid);
			else format(string, sizeof(string), "<ALogin> вошла %s[%i]", GetName(playerid), playerid);
			SendAdminMessage(COLOR_SERVER, string);
		}

		Iter_Add(Admins, playerid);

		new day, month, year;
		getdate(year, month, day);
		mysql_format(dbHandle, string, 144, "UPDATE "T_ADMIN" SET `last_connect` = '%d.%d.%d' WHERE `name` = '%s' LIMIT 1", day, month, year, GetName(playerid));
		mysql_tquery(dbHandle, string, "", "");
	}
	return 1;
}
//==============================================================================
forward SupportAuth(playerid);
public SupportAuth(playerid)
{
	new rows, fields;
	cache_get_data(rows, fields);
	if(!rows)
	{
		return 1;
	}
	else
	{
		new string[144];
		AdminLogged[playerid] = true;
		PI[playerid][pSupport] = cache_get_row_int(0, 1, dbHandle);
		SupportInfo[playerid][admTimeMin] = cache_get_row_int(0, 9, dbHandle);

		if(PI[playerid][pSex] == 1) format(string, sizeof(string), "Хелпер %s[%i] авторизовался.", GetName(playerid), playerid);
		else format(string, sizeof(string), "Хелпер %s[%i] авторизовалась.", GetName(playerid), playerid);
		SendAdminMessage(COLOR_BLUE, string);

		Iter_Add(Supports, playerid);

		new day, month, year;
		getdate(year, month, day);
		mysql_format(dbHandle, string, 144, "UPDATE "T_SUPPORT" SET `last_connect` = '%d.%d.%d' WHERE `name` = '%s' LIMIT 1", day, month, year, GetName(playerid));
		mysql_tquery(dbHandle, string, "", "");
	}
	return 1;
}

forward YouTuberAuth(playerid);
public YouTuberAuth(playerid)
{
	new rows, fields;
	cache_get_data(rows, fields);
	if(!rows)
	{
		return 1;
	}
	else
	{
		new string[144];
		//AdminLogged[playerid] = true;
		PI[playerid][pYouTuber] = cache_get_row_int(0, 1, dbHandle);
		YouTubersInfo[playerid][admTimeMin] = cache_get_row_int(0, 9, dbHandle);

		if(PI[playerid][pSex] == 1) format(string, sizeof(string), "Ютубер %s[%i] авторизовался.", GetName(playerid), playerid);
		else format(string, sizeof(string), "Ютубер %s[%i] авторизовалась.", GetName(playerid), playerid);
		SendAdminMessage(COLOR_BLUE, string);

		// Iter_Add(YouTubers, playerid);

		new day, month, year;
		getdate(year, month, day);
		mysql_format(dbHandle, string, 144, "UPDATE "T_YOUTUBER" SET `last_connect` = '%d.%d.%d' WHERE `name` = '%s' LIMIT 1", day, month, year, GetName(playerid));
		mysql_tquery(dbHandle, string, "", "");
	}
	return 1;
}

stock GetMonthDays(year, month)
{
	switch(month)
	{
	    case 0:     return 31;
	    case 1: 	return 31;
	    case 2: 	return februarydays(year);
	    case 3: 	return 31;
	    case 4: 	return 30;
	    case 5: 	return 31;
	    case 6: 	return 30;
	    case 7: 	return 31;
	    case 8: 	return 31;
	    case 9: 	return 30;
	    case 10: 	return 31;
	    case 11: 	return 30;
	    case 12: 	return 31;
	    default: 	return -1;
	}
	return -1;
}

stock februarydays(year)
{
	if(!(year % 4)) return 29;
	else return 28;
}

stock GetArendCarID(vehicleid, &arend_id = INVALID_PLAYER_ID)
{
    arend_id = INVALID_PLAYER_ID;
	for(new i = 0; i < sizeof(ArendInfo); i++)
	{
	    if(vehicleid == ArendInfo[i][aID])
		{
      		if(IsPlayerConnected(ArendInfo[i][aPlayerID])) arend_id = ArendInfo[i][aPlayerID];
			return i;
		}
 	}
	return -1;
}

stock GetVehicleArendID(vehicleid)
{
	new playerid = INVALID_PLAYER_ID, get_rent = GetArendCarID(vehicleid, playerid);
    if(get_rent != (-1))
	{
	    if(playerid == INVALID_PLAYER_ID || !IsPlayerConnected(playerid))
	    {
	        ArendInfo[get_rent][aPlayerID] = INVALID_PLAYER_ID;
	        return INVALID_PLAYER_ID;
	    }
	    return ArendInfo[get_rent][aPlayerID];
	}
	return INVALID_PLAYER_ID;
}

stock TranslateText(string[])
{
    new result[128];
    for (new i = 0; i < sizeof(result); i++)
    {
        switch (string[i])
        {
            case 'а': result[i] = 'a';
            case 'А': result[i] = 'A';
            case 'б': result[i] = '—';
            case 'Б': result[i] = 'Ђ';
            case 'в': result[i] = 'ў';
            case 'В': result[i] = '‹';
            case 'г': result[i] = '™';
            case 'Г': result[i] = '‚';
            case 'д': result[i] = 'љ';
            case 'Д': result[i] = 'ѓ';
            case 'е': result[i] = 'e';
            case 'Е': result[i] = 'E';
            case 'ё': result[i] = 'e';
            case 'Ё': result[i] = 'E';
            case 'ж': result[i] = '›';
            case 'Ж': result[i] = '„';
            case 'з': result[i] = 'џ';
            case 'З': result[i] = '€';
            case 'и': result[i] = 'њ';
            case 'И': result[i] = '…';
            case 'й': result[i] = 'ќ';
            case 'Й': result[i] = '…';
            case 'к': result[i] = 'k';
            case 'К': result[i] = 'K';
            case 'л': result[i] = 'ћ';
            case 'Л': result[i] = '‡';
            case 'м': result[i] = 'Ї';
            case 'М': result[i] = 'M';
            case 'н': result[i] = '®';
            case 'Н': result[i] = ' ';
            case 'о': result[i] = 'o';
            case 'О': result[i] = 'O';
            case 'п': result[i] = 'Ј';
            case 'П': result[i] = 'Њ';
            case 'р': result[i] = 'p';
            case 'Р': result[i] = 'P';
            case 'с': result[i] = 'c';
            case 'С': result[i] = 'C';
            case 'т': result[i] = '¦';
            case 'Т': result[i] = 'Џ';
            case 'у': result[i] = 'y';
            case 'У': result[i] = 'Y';
            case 'ф': result[i] = '~';
            case 'Ф': result[i] = 'Ѓ';
            case 'х': result[i] = 'x';
            case 'Х': result[i] = 'X';
            case 'ц': result[i] = '*';
            case 'Ц': result[i] = '‰';
            case 'ч': result[i] = '¤';
            case 'Ч': result[i] = 'Ќ';
            case 'ш': result[i] = 'Ґ';
            case 'Ш': result[i] = 'Ћ';
            case 'щ': result[i] = 'Ў';
            case 'Щ': result[i] = 'Љ';
            case 'ь': result[i] = '©';
            case 'Ь': result[i] = '’';
            case 'ъ': result[i] = 'ђ';
            case 'Ъ': result[i] = '§';
            case 'ы': result[i] = 'Ё';
            case 'Ы': result[i] = '‘';
            case 'э': result[i] = 'Є';
            case 'Э': result[i] = '“';
            case 'ю': result[i] = '«';
            case 'Ю': result[i] = '”';
            case 'я': result[i] = '¬';
            case 'Я': result[i] = '•';
            default: result[i] = string[i];
        }
    }
    return result;
}
forward TopCharity(playerid);
public TopCharity(playerid)
{
    new rows, fields, name[MAX_PLAYER_NAME], string[59], string_dialogue[945];
    cache_get_data(rows, fields);
    strcat(string_dialogue, "{FFCC00}Ник игрока\t\t{FFCC00}Пожертвовано\n");
    if(rows < 1) return 1;
    for(new i; i < rows; i++)
    {
        if(cache_get_row_int(i, 52, dbHandle) < 1 || cache_get_row_int(i, 6, dbHandle) >= 1) continue;
        cache_get_row(i, 1, name, dbHandle, MAX_PLAYER_NAME);
        format(string, sizeof(string), "{FFFFFF}%s\t\t{63BD4E}%d рублей\n", name, cache_get_row_int(i, 52, dbHandle));
        strcat(string_dialogue, string);
    }
    ShowPlayerDialog(playerid, D_NULL, DIALOG_STYLE_LIST, "{FFCC00}Самые щедрые игроки", string_dialogue, "Закрыть", "");
	return 1;
}

stock GetMaxSeat(modelid)
{
	switch(modelid)
	{
		case 596..598, 427, 490: return 4;
		case 599, 497, 528: return 2;
	}
	return -1;
}

stock CategoryVeh(carid)
{
    if(carid >= Category[0] && carid <= Category[1]) return true;
	return false;
}

forward OnPlayerHistoryName(playerid);
public OnPlayerHistoryName(playerid)
{
    if(cache_get_row_count(dbHandle) > 0)
    {
		new string[128];
		new idacca = cache_get_row_int(0, 0, dbHandle);
		format(string, sizeof(string), "SELECT * FROM `historyname` WHERE `idacca` = '%d' ORDER BY `id` DESC LIMIT 10", idacca);
		mysql_tquery(dbHandle, string, "OnPlayerHistoryName2", "d", playerid);
    }
    else SendClientMessage(playerid, COLOR_RED, "Игрок с таким именем не найден");
	return 1;
}

forward OnPlayerHistoryName2(playerid);
public OnPlayerHistoryName2(playerid)
{
	new rows, fields;
    cache_get_data(rows, fields);
	if(rows)
	{
	    new nickname[MAX_PLAYER_NAME], string[350], str[35];
	    for(new i = 0; i < rows; i++)
	    {
			cache_get_row(i, 2, nickname, dbHandle);
	        format(str, sizeof(str), "{FFFFFF}%s\n", nickname);
			strcat(string, str);
	    }
	    ShowPlayerDialog(playerid, D_NULL, DIALOG_STYLE_LIST, "{FFCC00}История ников", string, "Закрыть", "");
	}
	else SendClientMessage(playerid, COLOR_RED, "Данный игрок ещё не менял имя");
	return 1;
}

/*forward TimeMine(playerid);
public TimeMine(playerid)
{
    if(startjob2[playerid]==true)
    {
  		if(IsPlayerAttachedObjectSlotUsed(playerid,2)) RemovePlayerAttachedObject(playerid,2);
		if(IsPlayerAttachedObjectSlotUsed(playerid,3)) RemovePlayerAttachedObject(playerid,3);
		SetPlayerAttachedObject(playerid,2, 1458, 1, -1.034844, 1.116571, -0.065124, 76.480148, 75.781570, 280.952545, 0.575599, 0.604554, 0.624122);
		SetPlayerAttachedObject(playerid,3, 905, 1, -0.275758, 1.305280, 0.000000, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000);
		SetPlayerCheckpoint(playerid,-25.5943,1054.8018,-84.0819-1,2.0);
    }
    return true;
}*/
stock GiveMoney(playerid, amount, bool:game_text=true)
{
	if(playerid == INVALID_PLAYER_ID) return 1;

	PI[playerid][pCash] += amount;
	ex_GiveMoney(playerid, amount);
	MysqlUpdatePlayerInt(playerid, "cash", PI[playerid][pCash]);

	STRING_GLOBAL[0] = EOS;
	/*mysql_format(dbHandle, STRING_GLOBAL, sizeof STRING_GLOBAL, "INSERT INTO money_log (uid,uip,time,money,description) VALUES (%d,'%s',%d,%d,'%s')", PI[playerid][pID], PI[playerid][pIP], gettime(), amount, description);
	mysql_query(dbHandle, STRING_GLOBAL);*/

	if(game_text && amount != 0)
	{
		STRING_GLOBAL[0] = EOS;
		format(STRING_GLOBAL, sizeof STRING_GLOBAL, "%s%d rub", amount < 0 ? ("~r~") : ("~g~+"), amount);
		GameTextForPlayer(playerid, STRING_GLOBAL, 4000, 1);
	}

	printf("[MONEY LOG] Player %s, money: %d", GetName(playerid), amount);

	return 1;
}
// stock IsPlayerUseForbiddenSoftware(playerid)
// {
// 	static const forbidden_soft_keys[][43 + 1] =
// 	{
// 		"5E1C1837D2C54B24EAAED18C3F96D9EA51A2A481003", // RakSAMP v0.5-0.3c
// 		"381356A6B4349449E8F818B06B405A4FBBE9F8DDDAB", // RakSAMP v0.5-0.3d
// 		"354A1F8D95B8384F9C365E2D7418C7EC06CD6EE2928", // RakSAMP v0.5-0.3eR2
// 		"38E4952825700FE3B8476C3F72D976E7447905BA45D", // BabaShura 2.6/2.7 (0.3e)
// 		"45525544533450414336385A4E335637584B4F49", // ALEXDRIFT
// 		"4D374F3753315753544D4E5450354A59414F4746", // SERGEENKO
// 		"9ED058AA448CD9C4EACD949800A0DC8CFDA4DF99" // MAKAREVICH
// 	};

// 	new player_key[64 + 1];

// 	gpci(playerid, player_key, sizeof(player_key));

// 	for(new i = 0; i < sizeof(forbidden_soft_keys); i++)
// 	{
// 		if(strcmp(player_key, forbidden_soft_keys[i]) == 0)
// 		{
// 			return BanEx(playerid,"Cheat");
// 		}
// 	}

// 	return 0;
// }
CMD:intporch(playerid)
{
	SetPlayerInterior(playerid, 9);
	return SetPlayerPos(playerid, -379.4313,1127.5590,2712.7734);
}
// CMD:addpod(playerid)
// {
// 	 if(PI[playerid][pAdmin] < ADM_TOP) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
// 	 {
// 	 	if(PI[playerid][pAdmin] < 1) return SendClientMessage(playerid, COLOR_RED, "[MySQL] Впишите себя в таблице admin");
// 	 	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid,  COLOR_RED, !"Вы не должны находится в машине");
// 	 	new Float:x, Float:y, Float:z;
// 	 	GetPlayerPos(playerid, x, y, z);
// 	 	new Cache:temp = mysql_query(dbHandle, "SELECT max(id) FROM `porch_house`", true);
// 	 	new flat[10];
// 		cache_get_row(0, 0, flat);
// 		new last_flat = strval(flat) + 1;
// 		cache_delete(temp, dbHandle);
// 		new Query[200];
// 		mysql_format(dbHandle, Query, sizeof Query, "INSERT INTO `porch` (`pEnterX`, `pEnterY`,`pEnterZ`, `pCarX`, `pCarY`, `pCarZ`, `first_flat`) VALUES ('%f','%f','%f','%f','%f','%f','%d')", x, y, z, x, y, z, last_flat);
// 		temp = mysql_query(dbHandle, Query, true);
// 		new id = cache_insert_id(dbHandle);
// 		cache_delete(temp, dbHandle); 
// 		for(new idx = 1; idx < sizeof(PorchFlatsCoord); idx++)
// 		{
// 			mysql_format(dbHandle, Query, sizeof Query, "INSERT INTO `porch_house` (`hEntrx`, `hEntry`,`hEntrz`,`hPrice`) VALUES ('%f','%f','%f','%d')", PorchFlatsCoord[idx][0],PorchFlatsCoord[idx][1],PorchFlatsCoord[idx][2], 3000);
// 			mysql_tquery(dbHandle, Query, "", "");
// 		}
// 		format(Query, sizeof Query, "{FFCC00}Создан подъезд № %d\n{FFFFFF}*Изменения вступят в силу после перезагрузки сервера\n{FFFFFF}Не забудьте установить координаты для спавна авто ({FFCC00}/podsetcarpos{FFFFFF})", id);
// 		ShowPlayerDialog(playerid, 0, DIALOG_STYLE_MSGBOX, "{FFFFFF}Создание подъезда", Query, "Ок", "");
// 	 }
// 	 return 1;
// }
// CMD:podsetcarpos(playerid, params[])
// {
// 	if(PI[playerid][pAdmin] < ADM_TOP) return SendClientMessage(playerid, COLOR_WHITE, "Данной команды не существует. Используйте /mm для просмотра списка команд.");
// 	{
// 	 	if(PI[playerid][pAdmin] < 1) return 1;
// 	 	if(!IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid,  COLOR_RED, !"Вы должны находится в машине");
// 	 	new porch;
// 	 	if(sscanf(params, "d", porch)) return SendClientMessage(playerid,  COLOR_LIME, !"Информация: {ffffff}/podsetcarpos [Номер подъезда]");
// 	 	if(porch < 1 || porch > TOTALPORCH) return SendClientMessage(playerid,  COLOR_RED, !"Такого подъезда не существует");
// 	 	new Float:x, Float:y, Float:z, Float:a;
// 	 	GetVehiclePos(GetPlayerVehicleID(playerid), x, y, z);
// 	 	GetVehicleZAngle(GetPlayerVehicleID(playerid), a);
// 	 	PorchInfo[porch][pCarX] = x;
// 	 	PorchInfo[porch][pCarY] = y;
// 	 	PorchInfo[porch][pCarZ] = z;
// 	 	PorchInfo[porch][pCarA] = a;
// 	 	new Query[144];
// 	 	format(Query, sizeof Query, "UPDATE `porch` SET `pCarX` = '%f', `pCarY` = '%f',`pCarZ` = '%f',`pCarA` = '%f' WHERE `id` = '%d'", x, y, z, a, porch);
// 	 	mysql_tquery(dbHandle, Query, "", "");
// 	 	SendClientMessage(playerid, COLOR_GREEN, "Координаты спавна авто установлены");
//  	}
//  	return 1;
// }
forward gdonat_callback(playerid);
public gdonat_callback(playerid)
{
	new rows, fields;
    cache_get_data(rows, fields);
	new sum = cache_get_row_int(0, 0, dbHandle);
	new status = cache_get_row_int(0, 1, dbHandle);
	new did = cache_get_row_int(0, 2, dbHandle);
	new string[128];
    if(status == 1)
    {
        PI[playerid][pCredits] += sum;
        PI[playerid][pTotalCredits] += sum;
        format(string, sizeof(string), "На Ваш счёт зачислено %i кредитов. Спасибо за помощь серверу!", sum);
		SendClientMessage(playerid, COLOR_GREEN, string);
		format(string, sizeof(string), "%s /donate to %d", GetName(playerid), sum);
		SendLog("GiveCredits", string);
		format(string, sizeof(string), "UPDATE `accounts` SET credits=%d,totalcredits=%d WHERE id=%d", PI[playerid][pCredits], PI[playerid][pTotalCredits], PI[playerid][pID]);
		mysql_tquery(dbHandle, string, "", "");
		format(string, sizeof(string), "DELETE FROM `gdonate_payments` WHERE `id` = '%d'", did);
		mysql_tquery(dbHandle, string, "", "");
    }
	return 1;
}
#define BYTES_PER_CELL (cellbits / 8)

stock SendMesToAll(color, fstring[], {Float, _}:...)
{
	static const
	STATIC_ARGS = 2;
	new
	n = (numargs() - STATIC_ARGS) * BYTES_PER_CELL;
	if (n)
	{
		new
		message[145],
		arg_start,
		arg_end;
		#emit CONST.alt        fstring
		#emit LCTRL          5
		#emit ADD
		#emit STOR.S.pri        arg_start

		#emit LOAD.S.alt        n
		#emit ADD
		#emit STOR.S.pri        arg_end
		do
		{
			#emit LOAD.I
			#emit PUSH.pri
			arg_end -= BYTES_PER_CELL;
			#emit LOAD.S.pri      arg_end
		}
		while (arg_end > arg_start);

		// Push the static format parameters.
		#emit PUSH.S          fstring
		#emit PUSH.C          145
		#emit PUSH.ADR         message

		n += BYTES_PER_CELL * 3;
		#emit PUSH.S          n
		#emit SYSREQ.C         format

		n += BYTES_PER_CELL;
		#emit LCTRL          4
		#emit LOAD.S.alt        n
		#emit ADD
		#emit SCTRL          4

		return SendClientMessageToAll(color, message);
	}
	else
	{
		return SendClientMessageToAll(color, fstring);
	}
}
/**************************************************************************/
stock GetPlayerCar(playerid)
{
	new car;
	if(PI[playerid][cModel] > 0) car = PI[playerid][cModel];
	else car = 0;
	return car;
}
stock DestroyVehicleOP(vehicleid)
{
	if(!IsValidVehicle(vehicleid)) return 0;
	return (DestroyVehicle(vehicleid));
}
stock SendDalnoboyMessage(color, str[])
{
	foreach(new i: Player)
	{
		if(!PlayerLogged[i]) continue;
		if(PI[i][pJob] == 6) SCM(i, color, str);
	}
	return 1;
}
stock GetAdminRang(playerid)
{
	new text[29];
	switch(PI[playerid][pAdmin])
	{
		case 1: text = "Мл.администратор";
		case 2: text = "Мл.администратор";
		case 3: text = "Администратор";
		case 4: text = "Администратор";
		case 5: text = "Зам гл.администратора";
		case 6: text = "Главный администратор";
		case 7: text = "Разработчик";
	}
	return text;
}
stock GetRang(playerid)
{
	new text[29];
	switch(PI[playerid][pLeader])
	{
		case 1: text = "1";
		case 2: text = "2";
		case 3: text = "3";
		case 4: text = "4";
		case 5: text = "5";
		case 6: text = "6";
		case 7: text = "7";
		case 8: text = "8";
		case 9: text = "9";
		case 10: text = "10";
		case 11: text = "11";
		case 12: text = "12";
		case 13: text = "13";
		case 14: text = "14";
		case 15: text = "15";
		case 16: text = "16";
		case 17: text = "17";
		case 18: text = "18";
		case 19: text = "19";
		case 20: text = "20";
		case 21: text = "21";
		case 22: text = "22";
		case 23: text = "23";
		case 24: text = "24";
		case 25: text = "25";
		
	}
	return text;
}
stock ToolsList(playerid)
{
	ShowPlayerDialog(playerid,1456,DIALOG_STYLE_LIST,"{FFCC00}Покупка игрушек","{FFCC00}1. {ffffff}Машинка   {FFCC00}1000 рублей\n{FFCC00}2. {ffffff}Самолётик   {FFCC00}2800 рублей\n{FFCC00}3. {ffffff}Вертолётик   {FFCC00}2500 рублей\n{FFCC00}4. {ffffff}Вертолётик   {FFCC00}2600 рублей\n{FFCC00}5. {ffffff}Танчик   {FFCC00}6200 рублей\n{FFCC00}6. {ffffff}Горшок   {FFCC00}800 рублей","Купить","Отмена");
	return 1;
}
stock AptekaList(playerid)
{
	ShowPlayerDialog(playerid,1458,DIALOG_STYLE_LIST,"{FFCC00}Аптека","{FFCC00}1. {ffffff}Аптечка\t{FFCC00}1000 рублей\n{FFCC00}2. {ffffff}Маска\t{FFCC00}2000 руб.","Купить","Отмена");
	return 1;
}
stock IsAIP(text[])
{
	new numbers;
	for(new i = 0; i < strlen(text); i++) if('0' <= text[i] <= '9') if(!('0' <= text[i+1] <= '9')) numbers ++;
	if(numbers >= 4) return 1;
	return 0;
}
stock ReplaceText(text[])
{
	for(new i; i < strlen(text); i ++)
	{
	    if('0' <= text[i] <= '9') text[i] = '*';
	}
	return 1;
}
/*stock SetZhazhda(playerid, amount)
{
	if(amount > 100) PI[playerid][pZhazhda] = 100;
	else if(amount < 0) PI[playerid][pZhazhda] = 0;
	else PI[playerid][pZhazhda] = amount;
	return 1;
}
stock GiveZhazhda(playerid, amount)
{
	SetZhazhda(playerid,PI[playerid][pZhazhda] + amount);
	if(PI[playerid][pZhazhda] + amount > 100) PI[playerid][pZhazhda] = 100;
}*/
stock GiveHunger(playerid, amount)
{
	SetHunger(playerid,PI[playerid][pHunger] + amount);
	if(PI[playerid][pHunger] + amount > 100) PI[playerid][pHunger] = 100;
	Hunger(playerid, 0);
}
stock SendMuteMessage(playerid, ret = 1)
{
	new string[128];
	format(string, sizeof(string), "У Вас затычка. Узнать подробней: /time");
	SendClientMessage(playerid, COLOR_RED, string);
	return ret;
}

stock FixText(string[])
{
	new result[256];
	for(new i=0; i < 256; i++)
	{
		switch(string[i])
		{
			case 'a':result[i] = 'a';
			case 'A':result[i] = 'A';
			case 'a':result[i] = '—';
			case 'A':result[i] = '€';
			case 'a':result[i] = '?';
			case 'A':result[i] = '‹';
			case 'a':result[i] = '™';
			case 'A':result[i] = '‚';
			case 'a':result[i] = 's';
			case 'A':result[i] = '?';
			case 'a':result[i] = 'e';
			case 'A':result[i] = 'E';
			case '?':result[i] = 'e';
			case '?':result[i] = 'E';
			case '?':result[i] = '›';
			case '?':result[i] = '„';
			case 'c':result[i] = 'Y';
			case 'C':result[i] = '?';
			case 'e':result[i] = '?';
			case 'E':result[i] = '…';
			case 'e':result[i] = '?';
			case 'E':result[i] = '…';
			case 'e':result[i] = 'k';
			case 'E':result[i] = 'K';
			case 'e':result[i] = 'z';
			case 'E':result[i] = '‡';
			case 'i':result[i] = '?';
			case 'I':result[i] = 'M';
			case 'i':result[i] = '®';
			case 'I':result[i] = '*';
			case 'i':result[i] = 'o';
			case 'I':result[i] = 'O';
			case 'i':result[i] = '?';
			case 'I':result[i] = '?';
			case '?':result[i] = 'p';
			case '?':result[i] = 'P';
			case 'n':result[i] = 'c';
			case 'N':result[i] = 'C';
			case 'o':result[i] = '¦';
			case 'O':result[i] = '?';
			case 'o':result[i] = 'y';
			case 'O':result[i] = 'Y';
			case 'o':result[i] = '?';
			case 'O':result[i] = '?';
			case 'o':result[i] = 'x';
			case 'O':result[i] = 'X';
			case 'o':result[i] = '*';
			case 'O':result[i] = '‰';
			case '?':result[i] = '¤';
			case '?':result[i] = '?';
			case 'o':result[i] = '?';
			case 'O':result[i] = 'Z';
			case 'u':result[i] = '?';
			case 'U':result[i] = 'S';
			case 'u':result[i] = '©';
			case 'U':result[i] = '’';
			case 'u':result[i] = '?';
			case 'U':result[i] = '§';
			case 'u':result[i] = '?';
			case 'U':result[i] = '‘';
			case 'y':result[i] = '?';
			case 'Y':result[i] = '“';
			case '?':result[i] = '«';
			case '?':result[i] = '”';
			case 'y':result[i] = '¬';
			case '?':result[i] = '•';
			default:result[i]=string[i];
		}
	}
	return result;
}
//==============================================================================
stock ShowPlayerDialogTeleportList(playerid)
{
	new list_text[30 * (sizeof teleport_list)];
	new dest[30];

	for(new i; i < sizeof teleport_list; i ++)
	{
		format(dest, sizeof dest, "%s\n", teleport_list[i][t_name]);
		strcat(list_text, dest);
	}


	return
		ShowPlayerDialog
		(
			playerid, DIALOG_TELEPORT_LIST, DIALOG_STYLE_LIST,
			"{FFCC00}Телепорт",
			list_text,
			"Выбрать", "Закрыть"
		);
}
//==============================================================================
stock ShowPlayerMenuDialog(playerid)
{
	ShowPlayerDialog
	(
		playerid, DIALOG_MENU, DIALOG_STYLE_LIST,
		"{FFCC00}Меню игрока",
		"{FFCC00}1. {ffffff}Статистика\n\
		{FFCC00}2. {ffffff}Команды сервера\n\
		{FFCC00}3. {ffffff}Защита аккаунта\n\
		{FFCC00}4. {ffffff}Вопросы/жалобы на игроков\n\
		{FFCC00}5. {ffffff}Правила сервера\n\
		{FFCC00}6. {ffffff}Изменение ника\n\
		{FFCC00}7. {ffffff}Персональные настройки\n\
		{FFCC00}8. {ffffff}GPS (важные места)\n\
		{FFCC00}9. {ffffff}Радио\n\
		{FFCC00}10. {ffffff}Дополнительные возможности",
		"Выбрать", "Закрыть"
	);

	return 1;
}
//==============================================================================
stock ShowPlayerDialogOrgList(playerid)
{
	return ShowPlayerDialog
		(
			playerid, DIALOG_CMDS_ORGANIZATIONS_LIST, DIALOG_STYLE_LIST,
			"{FFCC00}Команды огранизаций",
			"{FFCC00}1. {ffffff}Правительство\n\
			{FFCC00}2. {ffffff}Патрульно-постовая служба (ППС)\n\
			{FFCC00}3. {ffffff}Центральная Больница\n\
			{FFCC00}4. {ffffff}Армия\n\
			{FFCC00}5. {ffffff}Средства массовой информации (СМИ)\n\
			{FFCC00}6. {ffffff}Организованная преступная группа\n\
			{FFCC00}7. {ffffff}Дорожно-патрульная служба (ДПС)\n\
			{FFCC00}8. {ffffff}Федеральная служба безопасности (ФСБ)\n\
			{FFCC00}9. {ffffff}Общие команды организаций\n\
			{FFCC00}7. {ffffff}Команды лидеров/заместителей организаций\n\
			{FFCC00}8. {ffffff}Команды мафий",
			"Выбрать", "Назад"
		);
}

stock ShowPlayerDialogWorksCmds(playerid)
{
	return
		ShowPlayerDialog
		(
			playerid, DIALOG_CMDS_WORKS, DIALOG_STYLE_MSGBOX,
			"{FFCC00}Команды для работы",
			"\n{ffffff}Команды: {FFCC00}Работ{ffffff}\n\n\
			/calling - посмотреть список вызовов (Механик)\n\
			/repair [id игрока] [стоимость] - починить авто игроку (Механик)\n\
			/jskill - посмотреть свои рабочие навыки (Дальнобойщик)\n\
			/end - окончить работу (Уборщик улиц)\n\
			",
			"Назад", "Закрыть"
		);
}

stock ShowPlayerDialogFamilyCmds(playerid)
{
	return
		ShowPlayerDialog
		(
			playerid, DIALOG_CMDS_PROPERTY, DIALOG_STYLE_MSGBOX,
			"{FFCC00}Команды семьи",
			"\n{FFFFFF}Команды: {FFCC00}Семья{FFFFFF}\n\n\
			/fmenu - информация о семье\n\
			/fo - посмотреть список онлайн семьи\n\
			/fhlock - закрыть или открыть особняк\n\
			/sellfhouse - продать особняк государству\n\
			/buyfbiz - купить семейный бизнес\n\
			/foff - посмотреть полный список членов семьи\n\
			/frang [id] [1/2] - изменить игроку ранг в семье\n\
			/funinvite [id] [причина] - уволить игрока из семьи\n\
			/funinviteoff [никнейм] - уволить игрока из семьи оффлайн\n\
			/fleave - покинуть семью по СЖ\n\
			/finvite [id] - принять игрока в семью \n\
			/use - управление шкафом дома\n\
			/rlock - закрыть/открыть номер в отеле\n\
			/klock - закрыть/открыть квартиру",
			"Назад", "Закрыть"
		);
}
//==============================================================================
stock ShowPlayerDialogPropertyCmds(playerid)
{
	return
		ShowPlayerDialog
		(
			playerid, DIALOG_CMDS_PROPERTY, DIALOG_STYLE_MSGBOX,
			"{FFCC00}Команды недвижимости",
			"\n{ffffff}Команды недвижимости: {FFCC00}Транспорт, дом, бизнес{ffffff}\n\n\
			/rshower - починить душ\n\
			/lock [1] - открыть/закрыть личный транспорт\n\
			/gpsveh - поиск личного транспорта\n\
			/sellcar - продать транспорт государству\n\
			/sellmycar [id] [цена] - продать транспорт игроку\n\
			/buybiz - купить бизнес\n\
			/business - управление бизнесом\n\
			/sellmybusiness [id] [цена] - продать бизнес игроку\n\
			/sellhouse [id] [цена] - продать дом государству/игроку\n\
			/sellmyhouse [id] [цена] - продать дом игроку\n\
			/changehouse [id] [цена] - обменяться домами\n\
			/hlock - закрыть/открыть дом\n\
			/home - управление домом\n\
			/hupg - улучшение дома\n\
			/use - управление сейфом дома\n\
			/gpsbiz - Отметить свой бизнес на карте",
			"Назад", "Закрыть"
		);
}

stock ShowPlayerDialogCommunCmds(playerid)
{
	return
		ShowPlayerDialog
		(
			playerid, DIALOG_CMDS_COMMYNUCATION, DIALOG_STYLE_MSGBOX,
			"{FFCC00}Команды общения",
			"\n{ffffff}Команды: {FFCC00}Общение{ffffff}\n\n\
			/rb [текст] - написать в ООС чат организации\n\
			/r [текст] - написать в РП чат организации\n\
			/db [текст] - написать в ООС чат департамента\n\
			/d [текст] - написать в РП чат департамента\n\
			/gov [текст] - написать в гос новости\n\
			/ad [текст] - подать объявление\n\
			/me [текст] - действие игрока от 1 лица\n\
			/try [текст] - действие игрока на удачу\n\
			/do [текст] - действие игрока от 3 лица\n\
			/b [текст] - написать в ООС чат\n\
			/s [текст] - крикнуть в чат\n\
			/call [номер телефона] - позвонить\n\
			/p - взять трубку\n\
			/h - положить трубку\n\
			/sms [номер телефона] [текст] - написать смс игроку\n\
			/togphone - выключить телефон",
			"Назад", "Закрыть"
		);
}

stock ShowPlayerDialogRadio(playerid)
{
	return
		ShowPlayerDialog
		(
			playerid, DIALOG_RADIO, DIALOG_STYLE_LIST,
			"{FFCC00}Radio",
			"{FFCC00}1.{FFFFFF} Подключиться к радио\n\
			{FFCC00}2.{FFFFFF} Информация о радио",
			"Назад", "Закрыть"
		);
}
stock ShowPlayerDialogCommands(playerid)
{
	return
		ShowPlayerDialog
		(
			playerid, DIALOG_MENU_CMD, DIALOG_STYLE_LIST,
			"{FFCC00}Команды сервера",
			"{FFCC00}1. {ffffff}Команды организаций\n\
			{FFCC00}2. {ffffff}Команды работ\n\
			{FFCC00}3. {ffffff}Команды семьи\n\
			{FFCC00}4. {ffffff}Команды недвижимости\n\
			{FFCC00}5. {ffffff}Команды общения\n\
			{FFCC00}6. {ffffff}Команды остальные",
			"Выбрать", "Назад"
		);
}
stock ShowPlayerDialogSecurity(playerid)
{

	if(PI[playerid][pPERID_Logged]) return PlayerSecurity(playerid);
	ShowPlayerDialog(playerid, DIALOG_MENU_SECURITY+1, DIALOG_STYLE_PASSWORD, "{FFCC00}Введите секретный ключ аккаунта BrilliantID", "\
	{FFFFFF}Чтобы продолжить, необходимо ввести секретный ключ аккаунта BrilliantID,\n\
	который Вы ввели при регистрации аккаунта.\n\
	Если Вы забыли данный ключ, то Вам необходимо обратиться в систему форматирования (/Brilliantid - форматировать данные)\n\
	и далее выбрать {FFCC00}'восстановление ключа аккаунта'", "Далее", "Отмена");
	// new string[512];
	// if(PI[playerid][pSecurityCode]) 
	// 	strcat(string, "1. Секретный код {ADFF2f}[ВКЛЮЧЕН]{FFFFFF}\n");
	// else strcat(string, "1. Секретный код {FF0000}[ВЫКЛЮЧЕН]{FFFFFF}\n");
	// strcat(string, "2. VK Auth {FF0000}[ВЫКЛЮЧЕН]{FFFFFF}\n");
	// if(PI[playerid][pMail] && PI[playerid][pMailConfirmed])
	// 	strcat(string, "3. Почта {ADFF2F}[ПОДТВЕРЖДЕНА]{FFFFFF}\n");
	// else strcat(string, "4. Почта {FF0000}[НЕ ПОДТВЕРЖДЕНА]{FFFFFF}\n");
	// new dest[80];
	// if(PI[playerid][pLastChangePaswword]) format(dest, sizeof dest, "5. Изменить пароль {FFCC00}[Последнее изменение: %s]\n", PI[playerid][pLastChangePassword]);
	// else dest = "5. Изменить пароль {FFCC00}[Пароль не менялся]\n";
	// strcat(string, dest);
	// strcat(string, "[6] Форматировтаь секретный код");
	// return ShowPlayerDialog(playerid, D_JOB+201, DIALOG_STYLE_LIST, "Безопасность аккаунта\t|\t{FFCC00}Brilliant Role Play", string, "Далее", "Отмена");

	return 1;
}

stock ShowPlayerDialogOtherCmds(playerid)
{
	return
		ShowPlayerDialog
		(
			playerid, DIALOG_CMDS_OTHER, DIALOG_STYLE_MSGBOX,
			"{FFCC00}Команды остальные",
			"\n{ffffff}Команды: {FFCC00}Остальные{ffffff}\n\n\
			/guncolor - взять скин оружия\n\
			/myrefs - посмотреть список рефералов\n\
			/pack - заказать наркотики\n\
			/blow - запустить перотехнические изделия\n\
			/mn - меню сервера\n\
			/paintlist - посмотреть список участников матча по пейнтболу\n\
			/drugs [количество (1-2)] - использовать наркотики\n\
			/pepsi - выпить баночку напитка\n\
			/drink - выпить бутылку пива\n\
			/en - запустить двигатель в транспорте\n\
			/smoke - начать курить сигарету\n\
			/eat - съесть пачку чипсов\n\
			/id [никнейм] - посмотреть id игрока по никнейму\n\
			/radio - открыть меню радио сервера\n\
			/need - посмотреть свои нужды\n\
			/fstyle - использовать изученные стили боя\n\
			/fight [id] [сумма] - предложить бой игроку\n\
			/skill [id] - предложить посмотреть свои навыки оружия\n\
			/gotomp - телепортироваться на мероприятие\n\
			/time - посмотреть время\n\
			/pass [id] - показать паспорт\n\
			/lic [id] - показать лицензии\n\
			/leaders - список лидеров онлайн\n\
			/eject [id] - выкинуть игрока из транспорта\n\
			/fill - заправить транспорт на АЗС\n\
			/carpass [id] - показать документы на транспортное средство\n\
			/tune - поставить тюнинг на транспорт в СТО\n\
			/gps - навигатор по серверу\n\
			/pay [id] - передать деньги игроку\n\
			/dice [id] [сумма] - предложить игроку игру в кости\n\
			/anim [номер анимации] - анимация\n\
			/mask - надеть маску\n\
			/healme - использовать аптечку\n\
			/tickets - посмотреть список неоплаченных штрафов\n\
			/buyk - купить канистру на АЗС\n\
			/donate - посмотреть донат\n\
			/hi - пожать руку, если человек находится рядом. Помахать рукой,\n\
			если человек находится чуть дальше (~5-7 метров от Вас)\n\
			/flowers - передать цветы, если человек находится рядом. Помахать рукой,\n\
			если человек находится чуть дальше (~5-7 метров от Вас)\n\
			/selfie - сделать селфи\n\
			/huninvite - выселить игрока\n\
			/car - открыть меню выбора транспорта\n\
			/gpsavto - найти свой транспорт\n\
			/mytk - посмотреть свою трудовую книжку\n\
			/showtk [id] - показать трудовую книжку\n\
			/sellsim [id] [сумма] - продать SIM-карту игроку\n\
			/fish - рыбалка\n\
			/craftfood - приготовить еду\n\
			/eatfish - съесть готовую рыбу\n\
			/rshower - починить душ\n\
			/pov - включить вид от 1-го лица\n\
			/trunk - открыть капот/багажник\n\
			/tmenu - меню багажника\n\
			/doc - показать удостоверение игроку\n\
			/recipes - посмтреть свои рецепты\n\
			/drugsoff - избавиться от наркотиков",
			"Назад", "Закрыть"
		);
}

cmd:getinfoworld(playerid,params[]){
	if(PI[playerid][pAdmin] <= 2) return 1;
	new Float:x, Float:y, Float:z, VWorld, SInterior;
	GetPlayerPos(playerid, x, y, z);
	SInterior = GetPlayerInterior(playerid);
	VWorld = GetPlayerVirtualWorld(playerid);
	new str[128];
	format(str, 128, "X:%0.0f \tY:%0.0f \tZ:%0.0f\nVirtual World: %d\nInterior: %d", x, y, z, VWorld, SInterior);
	return ShowPlayerDialog(playerid, D_NULL, DIALOG_STYLE_MSGBOX, "Информация о мире", str, "Ок", "");
}

stock ShowPlayerConnectToRadio(playerid)
{
	SCM(playerid, COLOR_BLUE, "В разработке");
	return 1;
}

stock ShowPlayerRadioInfo(playerid)
{
	ShowPlayerDialog
	(
		playerid, DIALOG_MENU_SECURITY, DIALOG_STYLE_MSGBOX,
		"{FFCC00}Информация",
		"{FFFFFF}Слушателей сейчас: 6 чел\n\
		ВКонтакте: "VKONTAKTE_RADIO"",
		"Закрыть", ""
	);
	return 1;
}

stock ShowPlayerDialogHelpAdm(playerid)
{
	ShowPlayerDialog
	(
		playerid, DIALOG_MENU_HELP_ADM, DIALOG_STYLE_LIST,
		"{FFCC00}Связь с администрацией",
		"{FFCC00}1. {ffffff}Вопрос\n\
		{FFCC00}2. {ffffff}Жалоба",
		"Выбрать", "Назад"
	);
	return 1;
}
stock ShowPlayerDialogSettings(playerid)
{
	new fmt_dialog[40];

	format
	(
		fmt_dialog, sizeof fmt_dialog,
		"1. %s ники\n\
		2. Очистить чат",
		(player_show_name_tags[playerid] == true) ? ("Выключить") : ("Включить")
	);

	ShowPlayerDialog
	(
		playerid, DIALOG_MENU_SETTINGS, DIALOG_STYLE_LIST,
		"{FFCC00}Личные настройки",
		fmt_dialog,
		"Далее", "Назад"
	);
	return 1;
}
stock ShowPlayerDialogChangeNonRpName(playerid)
{
	ShowPlayerDialog
	(
		playerid, DIALOG_MENU_CHANGE_NAME, DIALOG_STYLE_INPUT,
		"{FFCC00}Изменение имени",
		"{FFFFFF}Вы можете изменить имя своего персонажа, если оно не соответствует RP правилам\n"\
		"Во всех остальных случаях смена имени осуществляется в /menu > Дополнительные средства\n\n"\
		"RP ник имеет формат Имя_Фамилия. Например: Andrey_Ivanov, Maria_Petrova, Steve_Jobs, Amanda_Flores и т.п\n"\
		"Введите новое имя в поле ниже. Допустимы только латинские символы:",
		"Изменить", "Закрыть"
	);

	return 1;
}
stock ShowPlayerDialogEditList(playerid)
{
	new fmt_msg[400], fmt_msg1[10+3+MAX_PLAYER_NAME+40], status[40];

	for(new i = 0; i < 15; i++)
	{
		switch(edit_list[i][aStatus])
		{
			case 0: status = "";
			case 1: status = "{ffffff}[{FFCC00}Проверяется{ffffff}]";
			case 2: status = "{ffffff}[{FFCC00}Проверено{ffffff}]";
		}
		format(fmt_msg1, sizeof fmt_msg1, "%d. %s %s\n", i+1, edit_list[i][aName], status);
		strcat(fmt_msg, fmt_msg1);
	}

	ShowPlayerDialog
	(
		playerid, DIALOG_SHOW_EDIT, DIALOG_STYLE_LIST,
		"Объявляния",
		fmt_msg,
		"Ок", "Отмена"
	);

	return 1;
}
forward minuteupdate();
public minuteupdate()
{
	new hour, minute, second;
	gettime(hour, minute, second);
	
	foreach(new playerid : Player) {

		if(playerReported[playerid]) {
			playerReported[playerid]++;
			if(playerReported[playerid]%5 == 0) {
				new string[256];
				format(string, 256, "{FF0000}[REPORT]{FFCC00} Игрок %s(%d) подал жалобу и на нее никто не отреагировал: {FFFFFF}%s", GetName(playerid), playerid, playerReportText[playerid]);
				SendInfo(playerid, "Ваша жалоба все еще находится в обработке у администрации");
				SendPond(playerid, "Если Вы хотели подать жалобу на читера, то лучше обращаться в /cheatreport(/crep)");
				SendAdminMessage(-1, string);
			}
		}
	
		for(new i = 0; i < MAX_EDIT_LIST; i++)
		{
			if(edit_list[i][aStatus] == 2)
			{
				new string[128];
				format(string, sizeof(string), "%s | Отправил: %s (тел. %i)", edit_list[i][aText], edit_list[i][aName], PI[playerid][pPhoneNumber]);
				SendClientMessageToAll(0x99CC00AA, string);
				format(string, sizeof(string), "   Объявление проверил %s %s.",Fraction_Rang[PI[playerid][pMember]][PI[playerid][pRank]], edit_list[i][aEditName], playerid);
				SendClientMessageToAll(0x339900AA, string);

				edit_list[i][aEditName] = EOS;
				edit_list[i][aName] = EOS;
				edit_list[i][aPhone] = EOS;
				edit_list[i][aStatus] = 0;
				edit_list[i][aText] = EOS;
			}

		}
	}
		
	/*if(minute == 5 || minute == 15 || minute == 30 || minute == 45 || minute == 59)
	{
        foreach(new playerid: Player)
        {
 			if(PI[playerid][pHunger] -5 > 0)
			{
                PI[playerid][pHunger] -= 5;
			}
		    if(PI[playerid][pHunger] <= 30)
			{
			    SendClientMessage(playerid, 0xff7963FF, "Вы проголодались! Посетите столовую или купите чипсы в 24/7. Узнать состояние персонажа: /need");
			    PlayerPlaySound(playerid, 40403, 0.0, 0.0, 0.0);
			}
 			if(PI[playerid][pZhazhda] -3 > 0)
			{
                PI[playerid][pZhazhda] -= 3;
			}
			if(PI[playerid][pZhazhda] <= 30)
			{
			    SendClientMessage(playerid, 0xff7963FF, "Вы хотите пить! Посетите столовую или купите пепси в 24/7. Узнать состояние персонажа: /need");
			}
			if(PI[playerid][pHYGIENE] -1 > 0)
			{
                PI[playerid][pHYGIENE] --;
			}
			if(PI[playerid][pHYGIENE] <= 30)
			{
				new fmt_str[128];
				SetPlayerChatBubble(playerid, "Плохо пахнет", COLOR_PURPLE, 25.0, 5000);

				format(fmt_str, sizeof fmt_str, "Плохо пахнет (( %s ))", PI[playerid][pName]);
			}
			UpdateNeeds(playerid);
		}
	}*/
	if(hour == 00 && minute == 00)
	{
		for(new houseid = 1; houseid < TOTALHOUSE; houseid++)
		{
			if(!strcmp("None", HouseInfo[houseid][hOwner], true)) continue;
			if(HouseInfo[houseid][hOplata] < 1)
			{
				new targetid = GetPlayerID(HouseInfo[houseid][hOwner]);
				if(targetid != INVALID_PLAYER_ID)
				{
					PI[targetid][pBank] += HouseInfo[houseid][hBuyPrice];
					PI[targetid][pSpawnChange] = 0;
					SendClientMessage(targetid, COLOR_RED, "Вы были выселены из дома за неуплату");
					SendClientMessage(targetid, COLOR_RED, "На Ваш банковский счет возвращена стоимость дома по гос-ву");
					if(PI[targetid][PlayerCarID] != INVALID_VEHICLE_ID)
					{
						DestroyVehicle(PI[targetid][PlayerCarID]);
						PI[targetid][PlayerCarID] = INVALID_VEHICLE_ID;
					}
				}
				else
				{
					strmid(HouseInfo[houseid][hOwner], "None", 0, strlen("None"), MAX_PLAYER_NAME);
					format(query, sizeof(query), "UPDATE `house` SET hOwner='%s',hOplata=%d,buyprice=%d,hLock=%d WHERE id=%d",
					HouseInfo[houseid][hOwner],HouseInfo[houseid][hOplata],HouseInfo[houseid][hBuyPrice],HouseInfo[houseid][hLock],houseid);
					mysql_tquery(dbHandle, query, "", "");
					UpdateHouse(houseid);
				}
				MysqlUpdatePlayerInt(targetid, "spawnchange", PI[targetid][pSpawnChange]);
				strmid(HouseInfo[houseid][hOwner], "None", 0, strlen("None"), MAX_PLAYER_NAME);
				format(query, sizeof(query), "UPDATE `house` SET hOwner='%s',hOplata=%d,buyprice=%d,hLock=%d WHERE id=%d",
				HouseInfo[houseid][hOwner],HouseInfo[houseid][hOplata],HouseInfo[houseid][hBuyPrice],HouseInfo[houseid][hLock],houseid);
				mysql_tquery(dbHandle, query, "", "");
				UpdateHouse(houseid);
			}
			else
			{
				HouseInfo[houseid][hOplata] -= 1;
				MysqlUpdateHouseInt(houseid, "hOplata", HouseInfo[houseid][hOplata]);
			}
		}
		for(new entranceid; entranceid < MAX_ENTRANCES; entranceid++)
		{
			for(new roomid; roomid < MAX_ROOMS; roomid++)
			{
				if(!strcmp("None", g_rooms[entranceid][roomid][ER_OWNER], true)) continue;

				if(GetRoomData(entranceid, roomid, ER_PAY) < 1)
				{
					new targetid = GetPlayerID(g_rooms[entranceid][roomid][ER_OWNER]);
					if(targetid != INVALID_PLAYER_ID)
					{
						SendClientMessage(targetid, COLOR_YELLOW, "Ваша квартира была продана за неуплату");

						PI[targetid][P_ENTRANCE] =
						PI[targetid][P_ROOM] = -1;

						MysqlUpdatePlayerInt(targetid, "entrance", PI[targetid][P_ENTRANCE]);
						MysqlUpdatePlayerInt(targetid, "room", PI[targetid][P_ROOM]);
					}

					STRING_GLOBAL[0] = EOS;
					format(STRING_GLOBAL, sizeof STRING_GLOBAL, "UPDATE accounts SET entrance=-1, room=-1 WHERE name='%s'", g_rooms[entranceid][roomid][ER_OWNER]);
					mysql_query(dbHandle, STRING_GLOBAL);

					g_rooms[entranceid][roomid][ER_PAY] = 1;

					g_rooms[entranceid][roomid][ER_OWNER] = EOS;
					strcat(g_rooms[entranceid][roomid][ER_OWNER], "None");
				}
				else
				{
					g_rooms[entranceid][roomid][ER_PAY] --;
				}

				STRING_GLOBAL[0] = EOS;
				format(STRING_GLOBAL, sizeof STRING_GLOBAL, "UPDATE rooms SET owner='%s', pay=%d WHERE id=%d", g_rooms[entranceid][roomid][ER_OWNER], g_rooms[entranceid][roomid][ER_PAY], g_rooms[entranceid][roomid][ER_SQL_ID]);
				mysql_query(dbHandle, STRING_GLOBAL);
			}

			UpdateEntrance(entranceid);
		}
	}
	return 1;
}
/*stock UpdateNeeds(playerid)
{
	static const fmt_query[] = "UPDATE `accounts` SET `needs` = '%d, %d, %d, %d' WHERE `id` = '%d'";
	format
	(
	    query, sizeof(query), fmt_query,
		PI[playerid][pHunger],
		PI[playerid][pZhazhda],
		PI[playerid][pTualet],
		PI[playerid][pHYGIENE]
	);
	mysql_query(dbHandle, query);
    return 1;
}*/
/*stock GetPlayerRankName(playerid)
{
	new rang = PI[playerid][pRank];

	if(!(1 <= rang <= 15))
		rang = 1;

	return ranknames[ PI[playerid][pMember] ][ rang ];
}*/
stock ShowPlayerDialogDonateList(playerid)
{
	new count;
	new fmt_str[80];
	new text[(sizeof fmt_str) * 10];
	
	for(new i; i < 10; i++)
	{
		dialog_listitem_values[playerid][count] = i;
		count ++;
		
		format(fmt_str, sizeof fmt_str, "{FFCC00}%d. {ffffff}%s\n", i+1, donate_list[i][donate_name]);
		strcat(text, fmt_str);
	}
	
	ShowPlayerDialog
	(
		playerid, DIALOG_MENU_DONATE, DIALOG_STYLE_LIST,
		"{FFCC00}Донат меню",
		text,
		"Выбрать", "Отмена"
	);
	
	return 1;
}
stock SetPlayerSkillss(playerid)
{
    SetPlayerSkillLevel(playerid, WEAPONSKILL_PISTOL_SILENCED, PI[playerid][pSkill]*10);
    SetPlayerSkillLevel(playerid, WEAPONSKILL_DESERT_EAGLE, PI[playerid][pSkill][1]*10);
    SetPlayerSkillLevel(playerid, WEAPONSKILL_SHOTGUN, PI[playerid][pSkill][2]*10);
    SetPlayerSkillLevel(playerid, WEAPONSKILL_MP5, PI[playerid][pSkill][3]*10);
    SetPlayerSkillLevel(playerid, WEAPONSKILL_AK47, PI[playerid][pSkill][4]*10);
    SetPlayerSkillLevel(playerid, WEAPONSKILL_M4, PI[playerid][pSkill][5]*10);
    return 1;
}
stock SetPlayerSkills(playerid)
{
	SetPlayerSkillLevel(playerid, WEAPONSKILL_PISTOL_SILENCED, 		PI[playerid][pGunSkill]*10);
	SetPlayerSkillLevel(playerid, WEAPONSKILL_DESERT_EAGLE, 		PI[playerid][pGunSkill][1]*10);
	SetPlayerSkillLevel(playerid, WEAPONSKILL_SHOTGUN, 				PI[playerid][pGunSkill][2]*10);
	SetPlayerSkillLevel(playerid, WEAPONSKILL_MP5, 					PI[playerid][pGunSkill][3]*10);
	SetPlayerSkillLevel(playerid, WEAPONSKILL_AK47, 				PI[playerid][pGunSkill][4]*10);
	SetPlayerSkillLevel(playerid, WEAPONSKILL_M4, 					PI[playerid][pGunSkill][5]*10);
	SetPlayerSkillLevel(playerid, WEAPONSKILL_PISTOL, 				PI[playerid][pGunSkill][6]*10);
	SetPlayerSkillLevel(playerid, WEAPONSKILL_MICRO_UZI, 			PI[playerid][pGunSkill][7]*10);
	return 1;
}

stock GetPlayerJobkName(playerid)
{
	return Job_Names[ PI[playerid][pJob] ];
}
stock SendMessageToJob(to_job, message[], color = -1)
{
	foreach(new i: Player)
	{
		if(PI[i][pJob] == to_job) SendClientMessage(i, color, message);
	}
	return 1;
}
stock ApplyAnimationEx(playerid, animlib[], animname[], Float:fDelta, loop, lockx, locky, freeze, time, forcesync, anim_type=USE_ANIM_TYPE_NONE)
{
	PI[playerid][pP_USE_ANIM_TYPE] = anim_type;
	// ApplyAnimationEx(playerid, animlib, animname, fDelta, loop, lockx, locky, freeze, time, forcesync);

	return 0;
}
forward ClearPlayerChatAnim(playerid);
public ClearPlayerChatAnim(playerid)
{
//	ClearPlayerAnim(playerid);
	PI[playerid][pP_USE_ANIM_TYPE] = USE_ANIM_TYPE_NONE;
	return 0;
}
stock GetNearestVehicleID(playerid, Float:dist = 5.0)
{
	new Float: x, Float: y, Float: z;

	GetPlayerPos(playerid, x, y, z);
	for(new i = 1; i < MAX_VEHICLES; i ++)
	{
		if(!IsValidVehicle(i)) continue;
		else if(!IsVehicleStreamedIn(i, playerid)) continue;
		else if(GetVehicleDistanceFromPoint(i, x, y, z) > dist) continue;

		return i;
	}

	return -1;
}
stock ShowDialogSelectRecipe(playerid)
{
	ShowPlayerDialog
	(
		playerid, DIALOG_SELECT_RECIPE, DIALOG_STYLE_LIST,
		"{FFCC00}Рецепты",
		"{FFCC00}1. {FFFFFF}Пистолеты\n"\
		"{FFCC00}2. {FFFFFF}Пистолеты-пулемёты\n"\
		"{FFCC00}3. {FFFFFF}Дробовики\n"\
		"{FFCC00}4. {FFFFFF}Штурмовые винтовки\n"\
		"{FFCC00}5. {FFFFFF}Снайперские винтовки\n"\
		"{FFCC00}6. {FFFFFF}Гранаты",
		"Выбрать", "Отмена"
    );
    return 1;
}

stock ShowDialogBuyRecipeGuns(playerid)
{
	ShowPlayerDialog
	(
		playerid, DIALOG_BUY_RECIPE_GUNS, DIALOG_STYLE_LIST,
		"{FFCC00}Пистолеты\n",\
		"{FFCC00}1. {FFFFFF}9mm - 20 000 рублей\n"\
		"{FFCC00}2. {FFFFFF}SDPistol - 40 000 рублей\n"\
		"{FFCC00}3. {FFFFFF}Дигл - 100 000 рублей",
		"Выбрать", "Назад"
    );
	return 1;
}

stock ShowDialogBuyRecipeGuns_2(playerid)
{
	ShowPlayerDialog
	(
		playerid, DIALOG_BUY_RECIPE_GUNS_2, DIALOG_STYLE_LIST,
		"{FFCC00}Пистолеты-пулемёты\n",\
		"{FFCC00}1. {FFFFFF}ТЕК-9 - 50 000 рублей\n"\
		"{FFCC00}2. {FFFFFF}УЗИ - 75 000 рублей\n"\
		"{FFCC00}3. {FFFFFF}МП5 - 120 000 рублей",
		"Выбрать", "Назад"
    );
    return 1;
}

stock ShowDialogBuyRecipeGuns_3(playerid)
{
	ShowPlayerDialog
	(
		playerid, DIALOG_BUY_RECIPE_GUNS_3, DIALOG_STYLE_LIST,
		"{FFCC00}Дробовики\n",\
		"{FFCC00}1. {FFFFFF}Шотган - 120 000 рублей\n"\
		"{FFCC00}2. {FFFFFF}Обрез - 150 000 рублей\n"\
		"{FFCC00}3. {FFFFFF}Боевой дробовик - 200 000 рублей",
		"Выбрать", "Назад"
    );
    return 1;
}

stock ShowDialogBuyRecipeGuns_4(playerid)
{
	ShowPlayerDialog
	(
		playerid, DIALOG_BUY_RECIPE_GUNS_5, DIALOG_STYLE_LIST,
		"{FFCC00}Штурмовые винтовки\n",\
		"{FFCC00}1. {FFFFFF}АК-47 - 200 000 рублей\n"\
		"{FFCC00}2. {FFFFFF}М4 - 300 000 рублей",
		"Выбрать", "Назад"
    );
    return 1;
}

stock ShowDialogBuyRecipeGuns_5(playerid)
{
	ShowPlayerDialog
	(
		playerid, DIALOG_BUY_RECIPE_GUNS_5, DIALOG_STYLE_LIST,
		"{FFCC00}Снайперские винтовки\n",\
		"{FFCC00}1. {FFFFFF}Contry Rifle - 150 000 рублей\n"\
		"{FFCC00}2. {FFFFFF}Sniper Rifle - 300 000 рублей",
		"Выбрать", "Назад"
    );
    return 1;
}
stock ShowDialogBuyRecipeGuns_6(playerid)
{
	ShowPlayerDialog
	(
		playerid, DIALOG_BUY_RECIPE_GUNS_6, DIALOG_STYLE_LIST,
		"{FFCC00}Гранаты\n",\
		"{FFCC00}1. {FFFFFF}Дымовая граната - 150 000 рублей\n"\
		"{FFCC00}2. {FFFFFF}Коктейль молотова - 300 000 рублей\n"\
		"{FFCC00}3. {FFFFFF}Взрывчатая граната - 600 000 рублей",
		"Выбрать", "Назад"
    );
    return 1;
}
stock PlayerCheckRecipe(playerid, listitem)
{
	switch(listitem)
	{
		case 0:
		{
			if(PI[playerid][pRECIPE_9MM] > 0)
			{
				return SendClientMessage(playerid, COLOR_RED, "У Вас нет этого рецепта");
			}
		}
		case 1:
		{
			if(PI[playerid][pRECIPE_SDPISTOL] > 0)
			{
                return SendClientMessage(playerid, COLOR_RED, "У Вас нет этого рецепта");
			}
		}
		case 2:
		{
			if(PI[playerid][pRECIPE_DEAGLE] > 0)
			{
                return SendClientMessage(playerid, COLOR_RED, "У Вас нет этого рецепта");
			}
		}
		case 3:
		{
			if(PI[playerid][pRECIPE_TEK9] > 0)
			{
                return SendClientMessage(playerid, COLOR_RED, "У Вас нет этого рецепта");
			}
		}
		case 4:
		{
			if(PI[playerid][pRECIPE_UZY] > 0)
			{
                return SendClientMessage(playerid, COLOR_RED, "У Вас нет этого рецепта");
			}
		}
		case 5:
		{
			if(PI[playerid][pRECIPE_MP5] > 0)
			{
                return SendClientMessage(playerid, COLOR_RED, "У Вас нет этого рецепта");
			}
		}
		case 6:
		{
			if(PI[playerid][pRECIPE_SHOTGUN] > 0)
			{
                return SendClientMessage(playerid, COLOR_RED, "У Вас нет этого рецепта");
			}
		}
		case 7:
		{
			if(PI[playerid][pRECIPE_SHOTGUN] > 0)
			{
                return SendClientMessage(playerid, COLOR_RED, "У Вас нет этого рецепта");
			}
		}
		case 8:
		{
			if(PI[playerid][pRECIPE_COMBAT_SHOTGUN] == 0)
			{
                return SendClientMessage(playerid, COLOR_RED, "У Вас нет этого рецепта");
			}
		}
		case 9:
		{
			if(PI[playerid][pRECIPE_AK47] > 0)
			{
                return SendClientMessage(playerid, COLOR_RED, "У Вас нет этого рецепта");
			}
		}
		case 10:
		{
			if(PI[playerid][pRECIPE_M4] > 0)
			{
                return SendClientMessage(playerid, COLOR_RED, "У Вас нет этого рецепта");
			}
		}
		case 11:
		{
			if(PI[playerid][pRECIPE_COUNTRY_RIFLE] > 0)
			{
                return SendClientMessage(playerid, COLOR_RED, "У Вас нет этого рецепта");
			}
		}
		case 12:
		{
			if(PI[playerid][pRECIPE_SNIPER_RIFLE] > 0)
			{
                return SendClientMessage(playerid, COLOR_RED, "У Вас нет этого рецепта");
			}
		}
		default: return 1;
	}

	return 1;
}
stock ShowPlayerDialogCreateGun(playerid)
{
	new old_gun;
	new count;
	new fmt_str[80];
	new text[(sizeof fmt_str) * 10];

	for(new i; i < 12; i++)
	{
		if(old_gun == gunlist[i][gun_id]) continue;

		dialog_listitem_values[playerid][count] = i;
		count ++;

		old_gun = gunlist[i][gun_id];

		format(fmt_str, sizeof fmt_str, "{FFCC00}%d. {ffffff}%s{0099ff}(%d металла)\n", i+1, gunlist[i][gun_name], gunlist[i][gun_metal]);
		strcat(text, fmt_str);
	}

	ShowPlayerDialog
	(
		playerid, DIALOG_CREATE_GUN, DIALOG_STYLE_LIST,
		"{FFCC00}Создание оружия",
		text,
		"Создать", "Отмена"
	);
	return 1;
}
stock ResultCheat(p, r)
{
    new fmt_dialog[300], result[5];

    switch(r)
    {
        case 1: result = "G001"; // - Оружие
        case 2: result = "G002"; // - Патроны
        case 3: result = "G002"; // - Бексконечные патроны
    }

	new Year, Month, Day;
	getdate(Year, Month, Day);

	new Hour, Minute;
	gettime(Hour, Minute);

	format
	(
		fmt_dialog, sizeof fmt_dialog,
		"{FFFFFF}Внимание! Вы были кикнуты по подозрению в читерстве!\n"\
		"Код: {FFCC00}%s\n"\
		"{FFFFFF}Дата: {FFCC00}%d-%02d-%02d %d:%02d\n"\
		"{FFFFFF}Ваш пинг: {FFCC00}%d\n\n"\
		"{FFFFFF}Форум: {FFCC00}http://{FFCC00}"PROJECT_FORUM"\n"\
		"{FFFFFF}Предложения по улучшению античита\n"\
		"можно оставить на форуме.",
        result, Day, Month, Year, Hour, Minute, GetPlayerPing(p)
	);

	ShowPlayerDialog
	(
		p, INVALID_DIALOG_ID, DIALOG_STYLE_MSGBOX,
		"{FFCC00}Античит",
		fmt_dialog,
		"Закрыть", ""
	);

    if(PI[p][pAdmin] == 0)
	{
	    Kick(p);
	}
    return true;
}


cmd:pravila(playerid,params[]){
	
	ShowDialogRules(playerid, 1);
	
	return 1;
}




stock ShowDialogRules(playerid, progress = 0){

	DeleteRulesTextDraws(playerid);
	if(!progress) progress = progressPravila[playerid];
	switch(progress){
		case 0: {

				txd_rules[0] = CreatePlayerTextDraw(playerid, 203.806747, 134.749969, "prp:pravilo_01");
				PlayerTextDrawLetterSize(playerid, txd_rules[0], 0.000000, 0.000000);
				PlayerTextDrawTextSize(playerid, txd_rules[0], 236.603210, 221.083251);
				PlayerTextDrawAlignment(playerid, txd_rules[0], 1);
				PlayerTextDrawColor(playerid, txd_rules[0], -1);
				PlayerTextDrawSetShadow(playerid, txd_rules[0], 0);
				PlayerTextDrawSetOutline(playerid, txd_rules[0], 0);
				PlayerTextDrawFont(playerid, txd_rules[0], 4);

				interact_txd_rules[playerid][0] = CreatePlayerTextDraw(playerid, 320.125915, 320.583312, "usebox");
				PlayerTextDrawLetterSize(playerid, interact_txd_rules[playerid][0], 0.000000, 1.951854);
				PlayerTextDrawTextSize(playerid, interact_txd_rules[playerid][0], 255.686676, 0.000000);
				PlayerTextDrawAlignment(playerid, interact_txd_rules[playerid][0], 1);
				PlayerTextDrawColor(playerid, interact_txd_rules[playerid][0], 0);
				PlayerTextDrawUseBox(playerid, interact_txd_rules[playerid][0], true);
				PlayerTextDrawBoxColor(playerid, interact_txd_rules[playerid][0], 102);
				PlayerTextDrawSetShadow(playerid, interact_txd_rules[playerid][0], 0);
				PlayerTextDrawSetOutline(playerid, interact_txd_rules[playerid][0], 0);
				PlayerTextDrawFont(playerid, interact_txd_rules[playerid][0], 0);
				PlayerTextDrawSetSelectable(playerid, interact_txd_rules[playerid][0], 1);
		}
		case 1: {

				txd_rules[1] = CreatePlayerTextDraw(playerid, 203.806747, 134.749969, "prp:pravilo_02");
				PlayerTextDrawLetterSize(playerid, txd_rules[1], 0.000000, 0.000000);
				PlayerTextDrawTextSize(playerid, txd_rules[1], 236.603210, 221.083251);
				PlayerTextDrawAlignment(playerid, txd_rules[1], 1);
				PlayerTextDrawColor(playerid, txd_rules[1], -1);
				PlayerTextDrawSetShadow(playerid, txd_rules[1], 0);
				PlayerTextDrawSetOutline(playerid, txd_rules[1], 0);
				PlayerTextDrawFont(playerid, txd_rules[1], 4);

				interact_txd_rules[playerid][0] = CreatePlayerTextDraw(playerid, 320.125915, 320.583312, "usebox");
				PlayerTextDrawLetterSize(playerid, interact_txd_rules[playerid][0], 0.000000, 1.951854);
				PlayerTextDrawTextSize(playerid, interact_txd_rules[playerid][0], 255.686676, 0.000000);
				PlayerTextDrawAlignment(playerid, interact_txd_rules[playerid][0], 1);
				PlayerTextDrawColor(playerid, interact_txd_rules[playerid][0], 0);
				PlayerTextDrawUseBox(playerid, interact_txd_rules[playerid][0], true);
				PlayerTextDrawBoxColor(playerid, interact_txd_rules[playerid][0], 102);
				PlayerTextDrawSetShadow(playerid, interact_txd_rules[playerid][0], 0);
				PlayerTextDrawSetOutline(playerid, interact_txd_rules[playerid][0], 0);
				PlayerTextDrawFont(playerid, interact_txd_rules[playerid][0], 0);
				PlayerTextDrawSetSelectable(playerid, interact_txd_rules[playerid][0], 1);

				interact_txd_rules[playerid][1] = CreatePlayerTextDraw(playerid, 388.593231, 320.416595, "usebox");
				PlayerTextDrawLetterSize(playerid, interact_txd_rules[playerid][1], 0.000000, 1.951854);
				PlayerTextDrawTextSize(playerid, interact_txd_rules[playerid][1], 323.153991, 0.000000);
				PlayerTextDrawAlignment(playerid, interact_txd_rules[playerid][1], 1);
				PlayerTextDrawColor(playerid, interact_txd_rules[playerid][1], 0);
				PlayerTextDrawUseBox(playerid, interact_txd_rules[playerid][1], true);
				PlayerTextDrawBoxColor(playerid, interact_txd_rules[playerid][1], 102);
				PlayerTextDrawSetShadow(playerid, interact_txd_rules[playerid][1], 0);
				PlayerTextDrawSetOutline(playerid, interact_txd_rules[playerid][1], 0);
				PlayerTextDrawFont(playerid, interact_txd_rules[playerid][1], 0);
				PlayerTextDrawSetSelectable(playerid, interact_txd_rules[playerid][1], 1);
		}
		case 2: {

				txd_rules[2] = CreatePlayerTextDraw(playerid, 203.806747, 134.749969, "prp:pravilo_03");
				PlayerTextDrawLetterSize(playerid, txd_rules[2], 0.000000, 0.000000);
				PlayerTextDrawTextSize(playerid, txd_rules[2], 236.603210, 221.083251);
				PlayerTextDrawAlignment(playerid, txd_rules[2], 1);
				PlayerTextDrawColor(playerid, txd_rules[2], -1);
				PlayerTextDrawSetShadow(playerid, txd_rules[2], 0);
				PlayerTextDrawSetOutline(playerid, txd_rules[2], 0);
				PlayerTextDrawFont(playerid, txd_rules[2], 4);


				interact_txd_rules[playerid][0] = CreatePlayerTextDraw(playerid, 320.125915, 320.583312, "usebox");
				PlayerTextDrawLetterSize(playerid, interact_txd_rules[playerid][0], 0.000000, 1.951854);
				PlayerTextDrawTextSize(playerid, interact_txd_rules[playerid][0], 255.686676, 0.000000);
				PlayerTextDrawAlignment(playerid, interact_txd_rules[playerid][0], 1);
				PlayerTextDrawColor(playerid, interact_txd_rules[playerid][0], 0);
				PlayerTextDrawUseBox(playerid, interact_txd_rules[playerid][0], true);
				PlayerTextDrawBoxColor(playerid, interact_txd_rules[playerid][0], 102);
				PlayerTextDrawSetShadow(playerid, interact_txd_rules[playerid][0], 0);
				PlayerTextDrawSetOutline(playerid, interact_txd_rules[playerid][0], 0);
				PlayerTextDrawFont(playerid, interact_txd_rules[playerid][0], 0);
				PlayerTextDrawSetSelectable(playerid, interact_txd_rules[playerid][0], 1);

				interact_txd_rules[playerid][1] = CreatePlayerTextDraw(playerid, 388.593231, 320.416595, "usebox");
				PlayerTextDrawLetterSize(playerid, interact_txd_rules[playerid][1], 0.000000, 1.951854);
				PlayerTextDrawTextSize(playerid, interact_txd_rules[playerid][1], 323.153991, 0.000000);
				PlayerTextDrawAlignment(playerid, interact_txd_rules[playerid][1], 1);
				PlayerTextDrawColor(playerid, interact_txd_rules[playerid][1], 0);
				PlayerTextDrawUseBox(playerid, interact_txd_rules[playerid][1], true);
				PlayerTextDrawBoxColor(playerid, interact_txd_rules[playerid][1], 102);
				PlayerTextDrawSetShadow(playerid, interact_txd_rules[playerid][1], 0);
				PlayerTextDrawSetOutline(playerid, interact_txd_rules[playerid][1], 0);
				PlayerTextDrawFont(playerid, interact_txd_rules[playerid][1], 0);
				PlayerTextDrawSetSelectable(playerid, interact_txd_rules[playerid][1], 1);

		}
		case 3: {

				txd_rules[3] = CreatePlayerTextDraw(playerid, 203.806747, 134.749969, "prp:pravilo_04");
				PlayerTextDrawLetterSize(playerid, txd_rules[3], 0.000000, 0.000000);
				PlayerTextDrawTextSize(playerid, txd_rules[3], 236.603210, 221.083251);
				PlayerTextDrawAlignment(playerid, txd_rules[3], 1);
				PlayerTextDrawColor(playerid, txd_rules[3], -1);
				PlayerTextDrawSetShadow(playerid, txd_rules[3], 0);
				PlayerTextDrawSetOutline(playerid, txd_rules[3], 0);
				PlayerTextDrawFont(playerid, txd_rules[3], 4);

				interact_txd_rules[playerid][0] = CreatePlayerTextDraw(playerid, 320.125915, 320.583312, "usebox");
				PlayerTextDrawLetterSize(playerid, interact_txd_rules[playerid][0], 0.000000, 1.951854);
				PlayerTextDrawTextSize(playerid, interact_txd_rules[playerid][0], 255.686676, 0.000000);
				PlayerTextDrawAlignment(playerid, interact_txd_rules[playerid][0], 1);
				PlayerTextDrawColor(playerid, interact_txd_rules[playerid][0], 0);
				PlayerTextDrawUseBox(playerid, interact_txd_rules[playerid][0], true);
				PlayerTextDrawBoxColor(playerid, interact_txd_rules[playerid][0], 102);
				PlayerTextDrawSetShadow(playerid, interact_txd_rules[playerid][0], 0);
				PlayerTextDrawSetOutline(playerid, interact_txd_rules[playerid][0], 0);
				PlayerTextDrawFont(playerid, interact_txd_rules[playerid][0], 0);
				PlayerTextDrawSetSelectable(playerid, interact_txd_rules[playerid][0], 1);

				interact_txd_rules[playerid][1] = CreatePlayerTextDraw(playerid, 388.593231, 320.416595, "usebox");
				PlayerTextDrawLetterSize(playerid, interact_txd_rules[playerid][1], 0.000000, 1.951854);
				PlayerTextDrawTextSize(playerid, interact_txd_rules[playerid][1], 323.153991, 0.000000);
				PlayerTextDrawAlignment(playerid, interact_txd_rules[playerid][1], 1);
				PlayerTextDrawColor(playerid, interact_txd_rules[playerid][1], 0);
				PlayerTextDrawUseBox(playerid, interact_txd_rules[playerid][1], true);
				PlayerTextDrawBoxColor(playerid, interact_txd_rules[playerid][1], 102);
				PlayerTextDrawSetShadow(playerid, interact_txd_rules[playerid][1], 0);
				PlayerTextDrawSetOutline(playerid, interact_txd_rules[playerid][1], 0);
				PlayerTextDrawFont(playerid, interact_txd_rules[playerid][1], 0);
				PlayerTextDrawSetSelectable(playerid, interact_txd_rules[playerid][1], 1);

		}
		case 4: {
			progressPravila[playerid] = 0;
			if(GetPVarInt(playerid, "RegPravila")) {


				new string [] = "После ознакомления с правилами подтвердите, что Вы будете их исполнять!\n\
				Имейте ввиду, что за неисполнение данных правил Ваш аккаунт может быть {FF0000}заблокирован{FFFFFF}\n\
				или удален безвозвратно! За нарушение правил предусмотрены и другие наказания, но нажатием кнопки 'ДА'\n\
				Вы соглашаетесь соблюдать правила сервера "SERVER_NAME_RP"!";
				ShowPlayerDialog(playerid, D_JOB+30, DIALOG_STYLE_MSGBOX, !"{FFCC00}Ознакомьтесь с правилами!", string, !"ДА", "/q");
				return DeletePVar(playerid, "RegPravila");

			}
			return SendClientMessage(playerid, COLOR_GREEN, "Вы закончили читать правила сервера!");
		}
	}


	return 1;
}

cmd:setpvar(playerid,params[]){
	if(PI[playerid][pAdmin] < 7) return 1;
	if(sscanf(params, "sd", params[0], params[1])) return SendClientMessage(playerid, -1, "Используй: /setpvar [name pvarint] [new]");
	SetPVarInt(playerid, params[0], params[1]);
	return 1;
}

stock DeleteRulesTextDraws(playerid) {
	
	for(new i; i != 4; i++) PlayerTextDrawDestroy(playerid, txd_rules[i]);
	for(new i; i < 3; i++) PlayerTextDrawDestroy(playerid, interact_txd_rules[playerid][i]);
	return 1;
}

//==============================================================================
forward IsPlayerInZone(playerid, Float:minX, Float:minY, Float:maxX, Float:maxY); 
public IsPlayerInZone(playerid, Float:minX, Float:minY, Float:maxX, Float:maxY) 
{ 
    new Float:FXF_ZoneX, Float:FXF_ZoneY, Float:FXF_ZoneZ; 
    GetPlayerPos(playerid, FXF_ZoneX, FXF_ZoneY, FXF_ZoneZ); 
    if((FXF_ZoneX >= minX && FXF_ZoneX <= maxX) && (FXF_ZoneY >= minY && FXF_ZoneY <= maxY) && FXF_ZoneZ <= 500) 
    { 
        return 1; 
    } 
    return 0; 
}  
//==============================================================================
stock LoadMySQLSettings()
{
	new FileID = ini_openFile("mysql_settings.ini"),errCode;
	if(FileID < 0)
	{
		printf("Error while opening MySQL settings file. Error code: %d",FileID);
		return 0;
	}
	errCode = ini_getString(FileID,"host",MySQLSettings[SERVER_HOST]);
	if(errCode < 0) printf("Error while reading MySQL settings file (host). Error code: %d",errCode);
	errCode = ini_getString(FileID,"username",MySQLSettings[SERVER_USERNAME]);
	if(errCode < 0) printf("Error while reading MySQL settings file (username). Error code: %d",errCode);
	errCode = ini_getString(FileID,"password",MySQLSettings[SERVER_PASSWORD]);
	if(errCode < 0) printf("Error while reading MySQL settings file (password). Error code: %d",errCode);
	errCode = ini_getString(FileID,"database",MySQLSettings[SERVER_DATABASE]);
	if(errCode < 0) printf("Error while reading MySQL settings file (database). Error code: %d",errCode);
	ini_closeFile(FileID);
	return 1;
}
LimitVehicleSpeed_ts(const playerid, const speed)
{
    new	Float: speed_x,
        Float: speed_y,
        Float: speed_z,
        vehicle = GetPlayerVehicleID(playerid);
		
    GetVehicleVelocity(vehicle, speed_x, speed_y, speed_z);
    return (floatround(floatsqroot((speed_x * speed_x) + (speed_y * speed_y) + (speed_z * speed_z)) * 195) > speed)
    ? SetVehicleVelocity(vehicle, speed_x * 0.98, speed_y * 0.98, speed_z * 0.98)
    : 0;
}

/*publics UpdateZonaPlayer(playerid)
{
	new Float: x, Float: y, Float: z;
	
	GetPlayerPos(playerid, x, y, z);

//	for(new i = 0; i != sizeof ZoneName; i ++)
	{
//		if((x <= ZoneName[i][zMax_x] && x >= ZoneName[i][zMin_x]) && (y <= ZoneName[i][zMax_y] && y >= ZoneName[i][zMin_y]))
		{
//			TextDrawSetString(arzp_PTD[playerid], ZoneName[i][zName]);
//			break;
		}
		
//		else
		{
			TextDrawSetString(arzp_PTD[playerid], "Hњ›E™OPOљCKA¬ O—ћ.");
		}
	}
	
	return 1;
}
*/
stock SendFMes(family, color, str[])
{
	foreach(new i: Player)
	{
		if(!PlayerLogged[i]) continue;
		if(PI[i][pMember] == family) SendClientMessage(i, color, str);
	}
	
	return 1;
}

stock AC_Vehicle_Time(model)
{
    new value = 500;
    switch(model)
    {
        //-------------------[Скутеры/мотоциклы/велосипеды/без дверей]----------
        case 424: value = 250;
        case 448: value = 250;
        case 461..463: value = 250;
        case 468: value = 250;
        case 471: value = 250;
        case 481: value = 250;
        case 509..510: value = 250;
        case 521..523: value = 250;
        case 530..531: value = 250;
        case 571..572: value = 250;
        case 581: value = 250;
        case 586: value = 250;
        case 457: value = 250;
        case 485: value = 250;
        case 486: value = 250;
        case 568: value = 250;
        //----------------------------[Лодки/Поезда]----------------------------
        case 430: value = 0;
        case 446: value = 0;
        case 452..454: value = 0;
        case 472..473: value = 0;
        case 484: value = 0;
        case 493: value = 0;
        case 539: value = 0;
        case 595: value = 0;
        case 449: value = 0;
        case 537..538: value = 0;
        case 570: value = 0;
    }
    return value;
}
stock GetWeaponModel(weaponid)
{
    switch(weaponid)
    {
        case 1:
            return 331;

        case 2..8:
            return weaponid+331;

        case 9:
            return 341;

        case 10..15:
            return weaponid+311;

        case 16..18:
            return weaponid+326;

        case 22..29:
            return weaponid+324;

        case 30,31:
            return weaponid+325;

        case 32:
            return 372;

        case 33..45:
            return weaponid+324;

        case 46:
            return 371;
    }
    return 0;
}

stock ChangeView(playerid, oldstate, newstate)
{
    new Float: X[3], Float: Y[3], Float: Z[3];
	
    if(GetPlayerVehicleID(playerid) > 0)
    {
        GetVehicleModelInfo(GetVehicleModel(GetPlayerVehicleID(playerid)), 1, X[0], Y[0], Z[0]);
        GetVehicleModelInfo(GetVehicleModel(GetPlayerVehicleID(playerid)), 2, X[1], Y[1], Z[1]);
        GetVehicleModelInfo(GetVehicleModel(GetPlayerVehicleID(playerid)), 3, X[2], Y[2], Z[2]);
    }
	
    if(oldstate == newstate) AttachCameraToObject(playerid, FirstPerson[playerid]);
	
    switch(newstate)
    {
        case 1: AttachObjectToPlayer(FirstPerson[playerid], playerid, 0.0, 0.13, 0.65, 0, 0, 0), AttachCameraToObject(playerid, FirstPerson[playerid]);
        case 2, 3:
        {
            switch(GetPlayerVehicleSeat(playerid))
            {
                case 0: { X[1] -= (X[0] / 2.43), Y[1] -= 0.1, Z[1] += 0.6; AttachObjectToVehicle(FirstPerson[playerid], GetPlayerVehicleID(playerid), X[1], Y[1], Z[1], 0, 0, 0); }
                case 1: { X[1] += 0.0, Y[1] -= 0.1, Z[1] += 0.55; AttachObjectToVehicle(FirstPerson[playerid], GetPlayerVehicleID(playerid), X[1], Y[1], Z[1], 0, 0, 0); }
                case 2: { X[2] -= (X[0] / 2.43), Y[2] += 0.0, Z[2] += 0.6; AttachObjectToVehicle(FirstPerson[playerid], GetPlayerVehicleID(playerid), X[2], Y[2], Z[2], 0, 0, 0); }
                case 3: { X[2] += 0.0, Y[2] += 0.0, Z[2] += 0.55; AttachObjectToVehicle(FirstPerson[playerid], GetPlayerVehicleID(playerid), X[2], Y[2], Z[2], 0, 0, 0); }
                default:
                {
                    switch(GetPlayerVehicleSeat(playerid))
                    {
                        case 0: AttachObjectToVehicle(FirstPerson[playerid], GetPlayerVehicleID(playerid), X[1], Y[1] + 0.45, Z[1] + 0.6, 0, 0, 0);
                        case 1: AttachObjectToVehicle(FirstPerson[playerid], GetPlayerVehicleID(playerid), X[2], Y[2] + 0.4, Z[2] + 0.5, 0, 0, 0);
                    }
                }
            }
            AttachCameraToObject(playerid, FirstPerson[playerid]);
        }
    }
	
    return 0;
}
//==============================================================================
publics SecondTimer(playerid)
{
	//if(FCNPC_IsValid(playerid)) return 0;
	new fmt_str[90];
		/*hours,
		minutes, 
		seconds,
		gettime(hours, minutes, seconds);*/
		//vehicleid = GetPlayerVehicleID(playerid);
		
//    UpdateZonaPlayer(playerid);
	tazer_off[playerid] --;

	if(tazer_off[playerid] == 0)
	{
		SetPVarInt(playerid, "Tazer", 0);
		ApplyAnimation(playerid, "CARRY", "crry_prtial", 4.0, 0, 0, 0, 0, 0, 0);
		TogglePlayerControllable(playerid, 1);
	}
	PI[playerid][pAFK]++;
	if(PI[playerid][pAFK] >= 7)
	{
		new temp[64];
		format(temp, sizeof(temp), "На паузе: %s", Converts(PI[playerid][pAFK]));
		SetPlayerChatBubble(playerid, temp, COLOR_AFK, 10.0, 1600);
	}
	
    /*format(fmt_str, sizeof fmt_str, "%s%d:%s%d", (hours < 10) ? ("0") : (""), hours, (minutes < 10) ? ("0") : (""), minutes);
    TextDrawSetString(Vrijeme, fmt_str);
    
	getdate(year, month, day);
	
	format(fmt_str, sizeof fmt_str, "ФЕВРАЛЬ %d", day, ((month < 10) ? ("0") : ("")));
	TextDrawSetString(Datum, fmt_str);*/
	
	/*timer_show_use_alt_td[playerid] --;
	
	if(timer_show_use_alt_td[playerid] == 1)
	{
		for(new i = 0; i != sizeof USE_ALT; i ++)
		{
			PlayerTextDrawHide(playerid, USE_ALT[i]);
		}		
	}
	if(minutes == 00 && seconds == 00)
	{
		new weather;
		
		weather = random(20);
		
		SetWeather(weather);
		
		switch(weather)
		{
			case 1: SendClientMessageToAll(COLOR_OMEGOV,"В области ожидается солнечная погода! (28°С)");
			case 2: SendClientMessageToAll(COLOR_OMEGOV,"В области ожидаются сильные дожди!");
			case 3: SendClientMessageToAll(COLOR_OMEGOV,"В области ожидается солнечная погода! (28°С)");
			case 4: SendClientMessageToAll(COLOR_OMEGOV,"В области ожидается туманная погода!");
			case 5: SendClientMessageToAll(COLOR_OMEGOV,"В области ожидается дождевая погода!");
			case 6: SendClientMessageToAll(COLOR_OMEGOV,"В области ожидается дождевая погода!");
			case 7: SendClientMessageToAll(COLOR_OMEGOV,"В области ожидается облачная погода!");
			case 8: SendClientMessageToAll(COLOR_OMEGOV,"В области ожидается пасмурная погода!");
			case 9: SendClientMessageToAll(COLOR_OMEGOV,"В области ожидается туманная погода!");
			case 10: SendClientMessageToAll(COLOR_OMEGOV,"В области ожидается солнечная погода! (28°С)");
			case 11: SendClientMessageToAll(COLOR_OMEGOV,"В области ожидается солнечная погода! (28°С)");
			case 12: SendClientMessageToAll(COLOR_OMEGOV,"В области ожидается облачная погода!");
			case 13: SendClientMessageToAll(COLOR_OMEGOV,"В области ожидается солнечная погода! (28°С)");
			case 14: SendClientMessageToAll(COLOR_OMEGOV,"В области ожидается солнечная погода! (28°С)");
			case 15: SendClientMessageToAll(COLOR_OMEGOV,"В области ожидается облачная погода!");
			case 16: SendClientMessageToAll(COLOR_OMEGOV,"В области ожидается дождевая погода!");
			case 17: SendClientMessageToAll(COLOR_OMEGOV,"В области ожидается жаркая погода! (32°С)");
			case 18: SendClientMessageToAll(COLOR_OMEGOV,"В области ожидается жаркая погода! (32°С)");
			case 19: SendClientMessageToAll(COLOR_OMEGOV,"В области ожидаются сильные дожди!");
			case 20: SendClientMessageToAll(COLOR_OMEGOV,"В области ожидается облачная погода!");
		}
	}*/
	
	for(new i; i < 6; i++) if(gGunWorkTime[i]) gGunWorkTime[i] --;
	
	WHDataUpdate();
	GzCheck();
	SaveAccount(playerid);
	Probeg();
	SaveWarehouse();
	
	/*for(new i = 0; i < sizeof GZInfo; i ++)
	{
		if(GZSafeTime[i] > 0)
		{
			GZSafeTime[i] --;
			
			foreach(new x: Player)
			{
				if(PI[x][pMember] == GZInfo[i][gNapad] || PI[x][pMember] == GZInfo[i][gFrak])
				{
					TimeConverter(GZSafeTime[i], fmt_str);
					PlayerTextDrawSetString(x, CaptureTD[x][4], fmt_str);
				}
			}
		}
	}*/
	
	PlayerTimer();
	
	/*if(FrakCD > 0 && IsCapture == false) FrakCD --;
	
	for(new f = 0; f < 3; f++)
	{
		if(MZSafeTime[f]>0)
		{
			MZSafeTime[f] --;
			if(MZSafeTime[f] == 200 || MZSafeTime[f] == 450)
			{
				format(fmt_str, sizeof fmt_str, "У Вас осталось %d секунд. Место встречи: Поле", MZSafeTime[f]);
				
				SendFMes(MZInfo[f][mNapad],COLOR_RED, fmt_str);
				
				for(new h = 0; h < 200; h++)
				{
					if(BizzInfo[h][bZahvat] == 1) SendFMes(BizzInfo[h][bMafia],COLOR_RED,fmt_str);
				}
			}
		}
	}*/
	
	fuelcheck ++;
	
	if(fuelcheck == 25)
	{
		fuelcheck = 0;
		for(new v = 1, j = MAX_VEHICLES; v <= j; v++)
		{
			if(GetVehicleModel(v) == 0) continue;
			if(IsAPlane(v) == 1 || IsABoat(v) == 1 || IsAVel(v) == 1) continue; // и мопед
			if(Engine[v] == true && Fuel[v] > 0)
			{
				Fuel[v]--;
				if(Fuel[v] < 1)
				{
					Engine[v] = false;
					PlayerFuelMes[v] = true;
					GetVehicleParamsEx(v,engine,lights,alarm,doors,bonnet,boot,objective);
					SetVehicleParamsEx(v,false,lights,alarm,doors,bonnet,boot,objective);
					Fuel[v] = 0;
				}
			}
		}
	}

	/*if(minutes == 0 && seconds >= 11 && seconds <= 16) PAYDAY = 0;
	
   	if(minutes == 0 && seconds >= 0 && seconds <= 10 && PAYDAY == 0)
   	{
   	    PAYDAY = 1;
   	    SetWorldTime(hours);
   	    PayDay();
		
		mask_off_timer[playerid] --;
	
		if(mask_off_timer[playerid] == 0)
		{
			SetPlayerColorEx(playerid,TeamColors[GetTeamID(playerid)]);
			PlayerUseMask[playerid] = false;
			PI[playerid][pMask]--;
			SetPlayerChatBubble(playerid, "снимает маску", COLOR_PURPLE, 13.0, 10000);
			GameTextForPlayer(playerid, "~y~INVISABLE OFF", 800, 4);
			PlayerPlaySound(playerid, 21001, 0.0, 0.0, 0.0);
  		}
   	}*/
   	
    new h,m,s;
	gettime(h,m,s);

   	if(m == 2 && PAYDAY == 1) PAYDAY = 0;
	if(m == 1 && PAYDAY == 0)
	{
		PAYDAY = 1;
		SetWorldTime(h);
		PayDay();
		//ServerBonus();
	}
	
	foreach(new i: Player)
	{
		if(!IsPlayerConnected(i)) continue;
		
		if(GetPVarInt(i, "arendkey") == -1) continue;
		
		new rc = GetPVarInt(i, "arendkey");
		
		if(ArendInfo[rc][aPlayerID] != i)
		{
		    SetPVarInt(i, "arendkey", -1);
		    continue;
		}
		
		if(!IsPlayerInVehicle(i, ArendInfo[rc][aID]))
		{
		    new Float: x, 
				Float: y, 
				Float: z;
			
		    GetVehiclePos(ArendInfo[rc][aID], x, y, z);
			
			/*if(!IsPlayerInRangeOfPoint(i, 2000.0, x, y, z) && GetPlayerVirtualWorld(i) == 0 && GetPlayerInterior(i) == 0)
			{
			    SendClientMessage(i, COLOR_RED, "Вы отошли слишком далеко от арендованного транспорта");
				
			    ArendInfo[rc][aPlayerID] = INVALID_PLAYER_ID;
            	SetVehicleToRespawn(ArendInfo[rc][aID]);
				CarDoorsEx(ArendInfo[rc][aID], 0);
            	SetPVarInt(i, "arendkey", -1);
				
            	continue;
			}*/
		}
	}
	
	/*if(paintt[1] == 0)
    {
        if(hours == 16 && minutes == 10  || hours == 13 && minutes == 10  || hours == 14 && minutes == 10  || hours == 22 && minutes == 10 || hours == 01 && minutes == 30 || hours == 03 && minutes == 15 )
        {
            SendClientMessageToAll(0xFFCC00FF, "[МП] Внимание! Начало пейнтбола через 5 минут!");

            paintt[0] = 300;
            paintt[1] = 1;

			foreach(new i: Player)
			{
                if(GetPVarInt(i, "paintball") == 1)
                {
                    DeletePVar(i, "paintball");
				}
			}
        }
    }
    if(paintt[0] > 0)
    {
        paintt[0]--;
        if(paintt[1] == 1 && paintt[0] == 120)
		{
		    SendClientMessageToAll(0xFFCC00FF, "[МП] Внимание! Начало пейнтбола через 5 минут!");
		}
        if(paintt[1] == 1 && paintt[0] == 1)
        {
            if(paintt[2] > 1) // 1
            {
                for(new i = 0; i < PaintList; i ++)
                {
                    strmid(PaintInfo[i][Player_Name],"None", 0, strlen("None"), MAX_PLAYER_NAME);
                    PaintInfo[i][Kills] = 0;
                    PaintInfo[i][Deaths] = 0;
                }

                PaintList = 0;

                SendClientMessageToAll(0xFFCC00FF,"[МП] Внимание! Матч по Пейнтболу начался");

                paintt[1] = 2;
			    paintt[0] = 300;
        		
				foreach(new i: Player)
				{
                    if(GetPVarInt(i, "paintball") == 1)
					{
					    SetPVarInt(i, "paintball", 2);
					    FreezePlayer(i, 2000);
						PI[i][pHeal] = 100;
						SetPlayerHealth(i, PI[i][pHeal]);
  						GivePlayerWeaponAC(i, PaintGun[random(sizeof(PaintGun))], 600);
        				SetPlayerPos(i, 2234.7456,1391.6573,11.5700);
					}
                }
            }
            else
			{
			    SendClientMessageToAll(0xFFCC00FF, "Матч по пейнтболу отменен из-за недостаточного количества участников");
				paintt[1] = 0;
				paintt[0] = 0;
			}
        }
        if(paintt[1] == 2 && paintt[0] == 1)
        {
            SendClientMessageToAll(0xFFCC00FF, "Матч по пейнтболу завершен. Список участников: /paintlist");

            paintt[1] = paintt[0] = 0;

            foreach(new i: Player)
            {
                if(GetPVarInt(i, "paintball") == 2)
                {
                    PaintInfo[PaintList][Kills] = GetPVarInt(i,"paintkills");
                    PaintInfo[PaintList][Deaths] = GetPVarInt(i,"paintdeaths");

                    strmid(PaintInfo[PaintList][Player_Name], PI[i][pName], 0, strlen(PI[i][pName]), MAX_PLAYER_NAME);

                    PaintList++;
                    ResetPlayerWeaponsAC(i);

                    SetPlayerPos(i, 2233.7534,1374.7618,11.5700);
                    SetPlayerFacingAngle(i, 189.2908);
                }
            }
        }
    }
	
   	if(MUSICACTIVE == true && activemusic[playerid] == false && IsPlayerInRangeOfPoint(playerid, MUSICDIST, MUSICX, MUSICY, MUSICZ))
    {
		if(PlayerMusic[playerid] == true)
		{
           PlayAudioStreamForPlayer(playerid, MUSICURL, MUSICX, MUSICY, MUSICZ,MUSICDIST, 1);
    	   activemusic[playerid] = true;
 		   SendClientMessage(playerid, COLOR_GREEN, "Вы попали в зону проигрывания музыки");
 		   SendClientMessage(playerid, COLOR_GREEN, "Во избежании недоразумений, сделайте пожалуйста громкость колонок тише");
 		   SendClientMessage(playerid, COLOR_GREEN, "В песне, возможно, будет использована нецензурная брань");
 		}
    }
	
    if(MUSICACTIVE == true && activemusic[playerid] == true && !IsPlayerInRangeOfPoint(playerid, MUSICDIST, MUSICX, MUSICY, MUSICZ))
    {
        if(PlayerMusic[playerid] == true)
		{
    	   activemusic[playerid] = false;
     	   StopAudioStreamForPlayer(playerid);
     	   SendClientMessage(playerid, COLOR_RED, "Вы покинули зону прослушивания музыки!");
		}
    }
	
	clear_anim_text[playerid] --;
	
	if(clear_anim_text[playerid] == 0)
	{
		ApplyAnimation(playerid, "CARRY", "crry_prtial", 4.0, 0, 0, 0, 0, 0);
	}*/
	
	/*check_rent_car[playerid] --;
	
	if(check_rent_car[playerid] == 0)
	{
		if(GetPlayerState(playerid) != 2) return 1;
		
		EnterVehicle[playerid] = vehicleid;
		
		if(!ispassenger_timer)
		{
			if(PI[playerid][TaxiCarID] == vehicleid
			|| PI[playerid][BusCarID] == vehicleid
			|| PI[playerid][MechanicCarID] == vehicleid
			|| PI[playerid][TruckerCarID] == vehicleid) return 1;
			
			else
			{
				SendClientMessage(playerid, COLOR_RED, "У Вас нет ключей от этого транспорта");
				ClearAnimations(playerid, true);
				
				return 1;
			}
		}
	}*/
	
	/*hand_timer[playerid] --;
	
	if(hand_timer[playerid] == 0)
	{
		if(startjob2[playerid] == true)
		{
			ApplyAnimation(playerid,"PED","IDLE_chat",4.1,0,0,0,1,5150);
			
			if(IsPlayerAttachedObjectSlotUsed(playerid,1)) RemovePlayerAttachedObject(playerid,1);
			
			SetPlayerAttachedObject(playerid,2, 905, 5, 0.020944, 0.039285, -0.035010, 0.000000, 0.000000, 0.000000, 0.301603, 0.125763, 0.233199);
			SetPlayerAttachedObject(playerid,3, 906, 6, -0.032336, 0.111448, 0.001745, 0.000000, 0.000000, 0.000000, 0.026124, 0.048238, 0.048593);
			
			timemine[playerid] = mine_timer[playerid] = 6;
		}		
	}
	
	mine_timer[playerid] --;
	
	if(mine_timer[playerid] == 0)
	{
		if(startjob2[playerid] == true)
		{
			if(IsPlayerAttachedObjectSlotUsed(playerid,2)) RemovePlayerAttachedObject(playerid,2);
			if(IsPlayerAttachedObjectSlotUsed(playerid,3)) RemovePlayerAttachedObject(playerid,3);
			SetPlayerAttachedObject(playerid,2, 1458, 1, -1.034844, 1.116571, -0.065124, 76.480148, 75.781570, 280.952545, 0.575599, 0.604554, 0.624122);
			SetPlayerAttachedObject(playerid,3, 905, 1, -0.275758, 1.305280, 0.000000, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000);
			SetPlayerCheckpoint(playerid,-25.5943, 1054.8018, -84.0819-1, 2.0);
		}
	}
	
	reset_antiflood_pick_timer[playerid] --;
	
	if(reset_antiflood_pick_timer[playerid] == 0)
	{
		SetPVarInt(playerid, "PickupID", -1);
	}
	
	unfreeze_two_timer[playerid] --;
	
	if(unfreeze_two_timer[playerid] == 0)
	{
		TogglePlayerControllable(playerid, 1);
		ClearAnimations(playerid);
	}
	
	clear_animations_delay[playerid] --;
	
	if(clear_animations_delay[playerid] == 0)
	{
		ApplyAnimation(playerid, "PED", "IDLE_chat", 4.1, 1, 0, 0, 0, 1, 1);
	}
	
	warning_green_zone_timer[playerid] --;
	
	if(warning_green_zone_timer[playerid] == 0)
	{
		PlayerTextDrawShow(playerid, GreenZoneText[playerid][0]);
		PlayerTextDrawShow(playerid, GreenZoneText[playerid][1]);
		
		DeletePVar(playerid, "SwitchingTextdraw");		
	}
	
	pickup_back_timer[playerid] --;
	
	if(pickup_back_timer[playerid] == 0)
	{
		pickupentered[playerid] = 0;
	}
	
	gamemode_exit_deday[playerid] --;
	
	if(gamemode_exit_deday[playerid] == 0)
	{
		GameModeExit();
	}
	
	drug_effect_gone_timer[playerid] --;
	
	if(drug_effect_gone_timer[playerid] == 0)
	{
		SetPlayerTime(playerid, hours, minutes);
		SetPlayerWeather(playerid, 7);
		SetPlayerDrunkLevel(playerid, 0);
	}*/
 
	// Спектатор
	if(PI[playerid][pAdmin] && PI[playerid][Spectating][0]) {
		format(fmt_str, sizeof fmt_str, "%s_(%d)_FPS:_100_I_PING:_%d", GetName(player_spectate_id), player_spectate_id, GetPlayerPing(player_spectate_id));
		PlayerTextDrawSetString(playerid, pOdminPanel_PTD[playerid][0], fmt_str);
		if(IsPlayerInAnyVehicle(player_spectate_id))
		{
			format(fmt_str, sizeof fmt_str, "СКОРОСТЬ:_%d_KM/Ч", SpeedVehicle(player_spectate_id));
			PlayerTextDrawSetString(playerid, pOdminPanel_PTD[playerid][1], fmt_str);
		}
		
		else
		{
			format(fmt_str, sizeof fmt_str, "НЕ В МАШИНЕ", SpeedVehicle(player_spectate_id));
			PlayerTextDrawSetString(playerid, pOdminPanel_PTD[playerid][1], fmt_str);
		}
		
		format(fmt_str, sizeof fmt_str, "ЧИП:_НЕТ", SpeedVehicle(player_spectate_id));
		PlayerTextDrawSetString(playerid, pOdminPanel_PTD[playerid][3], fmt_str);
		
		new Float: player_spectate_health;
		
		GetPlayerHealth(player_spectate_id, player_spectate_health);
		
		format(fmt_str, sizeof fmt_str, "HP:_%d", player_spectate_health * 100 / 1000);
		PlayerTextDrawSetString(playerid, pOdminPanel_PTD[playerid][4], fmt_str);
	}
	
	
	
//================[ Система выдачи кейса от 1КК на руках ]======================
	if(GetPlayerMoney(playerid) < 1000000)
	{
		RemovePlayerAttachedObject(playerid,3);
	}
	if(GetPlayerMoney(playerid) > 999999)
    {
		SetPlayerAttachedObject(playerid,3,1210,5,0.299999,0.099999,0.000000,0.000000,-83.000000,0.000000,1.000000,1.000000,1.000000);
    }
//==============================================================================
	return 1;
}

stock IsPlayerGrandAdmin(playerid)
{
    if(PI[playerid][pAdmin] < 0) return 0;

	new fmt_query[70];
	new rows;
	new Cache: result;

	format(fmt_query, sizeof fmt_query, "SELECT * FROM fullaccess WHERE name='%s'", GetName(playerid));
	result = mysql_query(dbHandle, fmt_query);

	rows = cache_num_rows();

	if(rows)
	{
		cache_delete(result);
		return 1;
	}
	else
	{
		cache_delete(result);
		return 0;
	}
}

//=================================[ Спидометр ]================================

// new side_light, // 0 = выключены поворотники, 1 = поворотник налево, 2 = поворотник направо
// 	bool:speed_limit[MAX_VEHICLES], // вкл\выкл ограничитель скорости
// 	bool:accident_light[MAX_VEHICLES]; // вкл\выкл аварийка

// new bool:Engine[MAX_VEHICLES];
// new bool:Lights[MAX_VEHICLES];
// new bool:IsLocked[MAX_VEHICLES];
// new Fuel[MAX_VEHICLES] = 100; НАПОМИНАНИЕ



CreateReconTextDraws(playerid)
{
	if(!PI[playerid][pAdmin] || !PI[playerid][Spectating][0]) return 0;
	pOdminPanel_PTD[playerid][0] = CreatePlayerTextDraw(playerid, 213.0000, 308.8445, "MARK_RICHARDS_(500)_FPS:_100_I_PING:_110"); // пусто
	PlayerTextDrawLetterSize(playerid, pOdminPanel_PTD[playerid][0], 0.1824, 1.1457);
	PlayerTextDrawTextSize(playerid, pOdminPanel_PTD[playerid][0], 475.0000, 0.0000);
	PlayerTextDrawAlignment(playerid, pOdminPanel_PTD[playerid][0], 1);
	PlayerTextDrawColor(playerid, pOdminPanel_PTD[playerid][0], 589505535);
	PlayerTextDrawUseBox(playerid, pOdminPanel_PTD[playerid][0], 1);
	PlayerTextDrawBoxColor(playerid, pOdminPanel_PTD[playerid][0], -19909889);
	PlayerTextDrawBackgroundColor(playerid, pOdminPanel_PTD[playerid][0], 255);
	PlayerTextDrawFont(playerid, pOdminPanel_PTD[playerid][0], 2);
	PlayerTextDrawSetProportional(playerid, pOdminPanel_PTD[playerid][0], 1);
	PlayerTextDrawSetShadow(playerid, pOdminPanel_PTD[playerid][0], 0);

	pOdminPanel_PTD[playerid][1] = CreatePlayerTextDraw(playerid, 428.7999, 326.4667, "CKOPOCЏ’:_100_KM/Ќ"); // пусто
	PlayerTextDrawLetterSize(playerid, pOdminPanel_PTD[playerid][1], 0.2004, 1.0337);
	PlayerTextDrawTextSize(playerid, pOdminPanel_PTD[playerid][1], 5.0000, 92.0000);
	PlayerTextDrawAlignment(playerid, pOdminPanel_PTD[playerid][1], 2);
	PlayerTextDrawColor(playerid, pOdminPanel_PTD[playerid][1], -1);
	PlayerTextDrawUseBox(playerid, pOdminPanel_PTD[playerid][1], 1);
	PlayerTextDrawBoxColor(playerid, pOdminPanel_PTD[playerid][1], 589505535);
	PlayerTextDrawBackgroundColor(playerid, pOdminPanel_PTD[playerid][1], -1523963137);
	PlayerTextDrawFont(playerid, pOdminPanel_PTD[playerid][1], 2);
	PlayerTextDrawSetProportional(playerid, pOdminPanel_PTD[playerid][1], 1);
	PlayerTextDrawSetShadow(playerid, pOdminPanel_PTD[playerid][1], 0);
	PlayerTextDrawSetSelectable(playerid, pOdminPanel_PTD[playerid][1], true);

	pOdminPanel_PTD[playerid][2] = CreatePlayerTextDraw(playerid, 429.2999, 342.2448, "MAKC:_147_KM/Ќ"); // пусто
	PlayerTextDrawLetterSize(playerid, pOdminPanel_PTD[playerid][2], 0.2004, 1.0337);
	PlayerTextDrawTextSize(playerid, pOdminPanel_PTD[playerid][2], 5.0000, 92.0000);
	PlayerTextDrawAlignment(playerid, pOdminPanel_PTD[playerid][2], 2);
	PlayerTextDrawColor(playerid, pOdminPanel_PTD[playerid][2], -1);
	PlayerTextDrawUseBox(playerid, pOdminPanel_PTD[playerid][2], 1);
	PlayerTextDrawBoxColor(playerid, pOdminPanel_PTD[playerid][2], -1523963137);
	PlayerTextDrawBackgroundColor(playerid, pOdminPanel_PTD[playerid][2], -1523963137);
	PlayerTextDrawFont(playerid, pOdminPanel_PTD[playerid][2], 2);
	PlayerTextDrawSetProportional(playerid, pOdminPanel_PTD[playerid][2], 1);
	PlayerTextDrawSetShadow(playerid, pOdminPanel_PTD[playerid][2], 0);
	PlayerTextDrawSetSelectable(playerid, pOdminPanel_PTD[playerid][2], true);

	pOdminPanel_PTD[playerid][3] = CreatePlayerTextDraw(playerid, 429.2999, 358.4226, "Ќ…Њ:_HEЏ"); // пусто
	PlayerTextDrawLetterSize(playerid, pOdminPanel_PTD[playerid][3], 0.2004, 1.0337);
	PlayerTextDrawTextSize(playerid, pOdminPanel_PTD[playerid][3], 5.0000, 92.0000);
	PlayerTextDrawAlignment(playerid, pOdminPanel_PTD[playerid][3], 2);
	PlayerTextDrawColor(playerid, pOdminPanel_PTD[playerid][3], -1);
	PlayerTextDrawUseBox(playerid, pOdminPanel_PTD[playerid][3], 1);
	PlayerTextDrawBoxColor(playerid, pOdminPanel_PTD[playerid][3], -1523963137);
	PlayerTextDrawBackgroundColor(playerid, pOdminPanel_PTD[playerid][3], -1523963137);
	PlayerTextDrawFont(playerid, pOdminPanel_PTD[playerid][3], 2);
	PlayerTextDrawSetProportional(playerid, pOdminPanel_PTD[playerid][3], 1);
	PlayerTextDrawSetShadow(playerid, pOdminPanel_PTD[playerid][3], 0);
	PlayerTextDrawSetSelectable(playerid, pOdminPanel_PTD[playerid][3], true);

	pOdminPanel_PTD[playerid][4] = CreatePlayerTextDraw(playerid, 428.7999, 374.6004, "HP:_1000"); // пусто
	PlayerTextDrawLetterSize(playerid, pOdminPanel_PTD[playerid][4], 0.2004, 1.0337);
	PlayerTextDrawTextSize(playerid, pOdminPanel_PTD[playerid][4], 5.0000, 92.0000);
	PlayerTextDrawAlignment(playerid, pOdminPanel_PTD[playerid][4], 2);
	PlayerTextDrawColor(playerid, pOdminPanel_PTD[playerid][4], -1);
	PlayerTextDrawUseBox(playerid, pOdminPanel_PTD[playerid][4], 1);
	PlayerTextDrawBoxColor(playerid, pOdminPanel_PTD[playerid][4], 589505535);
	PlayerTextDrawBackgroundColor(playerid, pOdminPanel_PTD[playerid][4], -1523963137);
	PlayerTextDrawFont(playerid, pOdminPanel_PTD[playerid][4], 2);
	PlayerTextDrawSetProportional(playerid, pOdminPanel_PTD[playerid][4], 1);
	PlayerTextDrawSetShadow(playerid, pOdminPanel_PTD[playerid][4], 0);
	return 1;
}

/*new ID_TRAILER_SYNC = 114;
new ID_UNOCCUPIED_SYNC = 110;
public OnPlayerReceivedPacket(player_id, packet_id, BitStream:bs)
{
    if(packet_id == ID_UNOCCUPIED_SYNC)
    {
        new vehID, seatID, Float:Roll[3];
        BS_IgnoreBits(bs,8);
        BS_ReadValue(bs, RNM_INT16, vehID,
                         RNM_UINT8, seatID,
                         RNM_FLOAT, Roll[0],
                         RNM_FLOAT, Roll[1],
                         RNM_FLOAT, Roll[2]);
        new buff[255];
        if(floatcmp(floatabs(Roll[0]), 30000.0) == 1 ||
           floatcmp(floatabs(Roll[1]), 30000.0) == 1 ||
           floatcmp(floatabs(Roll[2]), 30000.0) == 1)
           {
           	Kick(player_id);
			return false;
           }
	}
    if(packet_id == ID_TRAILER_SYNC)
    {
        new trailerid;
        BS_IgnoreBits(bs,8);
        BS_ReadValue(bs, RNM_UINT16, trailerid); 								// - узнаем ид авто, которое синхронят
        if(GetPlayerState(player_id) != PLAYER_STATE_DRIVER) return false;

        new vehicle_id = GetPlayerVehicleID(player_id); 						// - узнаем ид авто, в котором игрок
        if(!IsTrailerAttachedToVehicle(vehicle_id)) return false; 				// - если у игрока ничего не прицеплено то не принимаем

        new model_car = GetVehicleModel(vehicle_id); 							// - узнаем модель авто игрока
        new model_trailer = GetVehicleModel(trailerid); 						// - узнаем модель того, что синхронят
        if(model_car == 403 || model_car == 514 || model_car == 515 || model_car == 572)
        {
            if(model_trailer == 584 || model_trailer == 435 || model_trailer == 450 || model_trailer == 610 || model_trailer == 611)
            return true;
        }
        if(model_car == 525) return true;
        return false;
    }
    if(packet_id == ID_UNOCCUPIED_SYNC)
    {
        new sVehicleID, seat;
        BS_IgnoreBits(bs, 8);
        BS_ReadValue(bs, RNM_UINT16, sVehicleID, RNM_UINT8, seat);

        if(seat >= 1)
            if(GetPlayerVehicleID(player_id) != sVehicleID) Kick(player_id);
    }
    return true;
}*/

stock GetSpeedKM(playerid)
{
	new Float:PosX, Float:PosY, Float:PosZ, Float:PlayerSpeedDistance;
 	GetVehicleVelocity(GetPlayerVehicleID(playerid), PosX, PosY, PosZ);
	PlayerSpeedDistance = floatmul(floatsqroot(floatadd(floatadd(floatpower(PosX, 2), floatpower(PosY, 2)), floatpower(PosZ, 2))), 170.0);
	new spe = floatround(PlayerSpeedDistance * 1);
	return spe;
}
forward vsystem(playerid);
forward vsysted(playerid);
public vsystem(playerid)
{
    new string[150],months1[12],year,month,day;
    getdate(year, month, day);
    switch(month)
    {
        case 1: months1 = "•HBAP’";
		case 2: months1 = "ЃEBPA‡’";
		case 3: months1 = "MAPT";
		case 4: months1 = "AЊPE‡’";
		case 5: months1 = "MA†";
		case 6: months1 = "…”H’";
		case 7: months1 = "…”‡’";
		case 8: months1 = "AB‚YCT";
		case 9: months1 = "CEHT•ЂP’";
		case 10: months1 = "OKT•ЂP’";
		case 11: months1 = "HO•ЂP’";
		case 12: months1 = "ѓEKAЂP’";

    }
    format(string, sizeof string, "%s %d",months1, day);
    TextDrawSetString(Datum, string);

}
public vsysted(playerid)
{
    new string[150],hours,minutes,seconds;
    gettime(hours, minutes, seconds);
    format(string, sizeof string, "%s%d:%s%d", (hours < 10) ? ("0") : (""), hours, (minutes < 10) ? ("0") : (""), minutes);
    TextDrawSetString(Vrijeme, string);
}
/*stock IsPlayerAfk(playerid)
{
	return player_afk_time[playerid] >= 5 ? (true) : (false);
}*/

forward HideNoticeTextDraw(playerid);
public  HideNoticeTextDraw(playerid) //return TextDrawHideForPlayer(playerid, USE_ALT[i]);
{
	if(PlayerPickupID[playerid] > 0) return 1;
    for(new i; i < sizeof USE_ALT; i++) PlayerTextDrawHide(playerid, USE_ALT[i]);
	return 1;
}
//const PLAYER_SYNC = 207;
new VehicleDestroyed = 136;
new ID_UNOCCUPIED_SYNC = 110;
new ID_TRAILER_SYNC = 114;
IRPC:VehicleDestroyed(playerid, BitStream:bs)
{
    new vehicleid;
    BS_ReadUint16(bs, vehicleid);
    if (GetVehicleModel(vehicleid) < 400) return 0;
    return OnVehicleDeathRequest(vehicleid, playerid);
}

forward OnVehicleDeathRequest(vehicleid, killerid);
public OnVehicleDeathRequest(vehicleid, killerid)
{
    new Float:vhealth;
    GetVehicleHealth(vehicleid, vhealth);
    if (vhealth > 300.0) return 0;
    return 1;
}
public OnIncomingPacket(playerid, packetid, BitStream:bs){
    switch(packetid) {
    case VEHICLE_SYNC:{
            new inCarData[PR_InCarSync];
            BS_IgnoreBits(bs, eight);
            BS_ReadInCarSync(bs, inCarData);
            if (inCarData[PR_position][two] == BulletCrasher) {
                new string[MAX_CHATBUBBLE_LENGTH];
                format(string,sizeof(string),"[AC]: {FFCC00}%s {999999}|ID:%d| {00FF00}auto-kick {ff3838}[Motiv: BulletCrasher]",GetName(playerid),playerid);
                SendAdminMessage(red,string);
				print(string);
			    Kick(playerid);
                return false;
            }
        }
    case PLAYER_SYNC:{
            new onFootData[PR_OnFootSync];
            BS_IgnoreBits(bs,eight);
            BS_ReadOnFootSync(bs, onFootData);
            if (onFootData[PR_position][two] == BulletCrasher) {
                new string[MAX_CHATBUBBLE_LENGTH];
                format(string,sizeof(string),"[AC]: {FFCC00}%s {999999}|ID:%d| {00FF00}auto-kick {ff3838}[Motiv: BulletCrasher]",GetName(playerid),playerid);
                SendAdminMessage(red,string);
                print(string);
				Kick(playerid);
                return false;
            }
        }
    case PASSENGER_SYNC:{
            new passengerData[PR_PassengerSync];
            BS_IgnoreBits(bs, eight);
            BS_ReadPassengerSync(bs, passengerData);
            if (GetPlayerVehicleSeat(playerid) == NULL) {
                new string[MAX_CHATBUBBLE_LENGTH];
                format(string,sizeof(string),"[AC]: {FFCC00}%s {999999}|ID:%d| {00FF00}auto-kick {ff3838}[Motiv: BadVehicleCrasher]",GetName(playerid),playerid);
                SendAdminMessage(red,string);
				print(string);
                Kick(playerid);
                return false;
            }
            if (passengerData[PR_position][two] == BulletCrasher) {
                new string[MAX_CHATBUBBLE_LENGTH];
                format(string,sizeof(string),"[AC]: {FFCC00}%s {999999}|ID:%d| {00FF00}auto-kick {ff3838}[Motiv: BulletCrasher]",GetName(playerid),playerid);
                SendAdminMessage(red,string);
				print(string);
                Kick(playerid);
                return false;
            }
        }

    }
    /*if(packetid == ID_UNOCCUPIED_SYNC)
    {
        new vehID, seatID, Float:Roll[3];
        BS_IgnoreBits(bs,8);
        BS_ReadValue(bs, PR_INT16, vehID,
                         PR_UINT8, seatID,
                         PR_FLOAT, Roll[0],
                         PR_FLOAT, Roll[1],
                         PR_FLOAT, Roll[2]);
        new buff[255];
        if(floatcmp(floatabs(Roll[0]), 30000.0) == 1 ||
           floatcmp(floatabs(Roll[1]), 30000.0) == 1 ||
           floatcmp(floatabs(Roll[2]), 30000.0) == 1)
            {
             Kick(playerid);
             return false;
            }
	}*/
    if(packetid == ID_TRAILER_SYNC)
    {
        new trailerid;
        BS_IgnoreBits(bs,8);
        BS_ReadValue(bs, PR_UINT16, trailerid);									// - узнаем ид авто, которое синхронят
        if(GetPlayerState(playerid) != PLAYER_STATE_DRIVER) return false;

        new vehicleid = GetPlayerVehicleID(playerid);							// - узнаем ид авто, в котором игрок
        if(!IsTrailerAttachedToVehicle(vehicleid)) return false;				// - если у игрока ничего не прицеплено то не принимаем

        new model_car = GetVehicleModel(vehicleid); 							// - узнаем модель авто игрока
        new model_trailer = GetVehicleModel(trailerid); 						// - узнаем модель того, что синхронят
        if(model_car == 403 || model_car == 514 || model_car == 515 || model_car == 572)
        {
            if(model_trailer == 584 || model_trailer == 435 || model_trailer == 450 || model_trailer == 610 || model_trailer == 611)
            return true;
        }
        if(model_car == 525) return true;
        return false;
    }
    if(packetid == ID_UNOCCUPIED_SYNC)
    {
        new sVehicleID, seat;
        BS_IgnoreBits(bs, 8);
        BS_ReadValue(bs, PR_UINT16, sVehicleID, PR_UINT8, seat);

        if(seat >= 1)
            if(GetPlayerVehicleID(playerid) != sVehicleID) Kick(playerid);
    }
    if(packetid == PLAYER_SYNC)
    {
        new
            onFootData[PR_OnFootSync];

        BS_IgnoreBits(bs, 8);
        BS_ReadOnFootSync(bs, onFootData);

        if(onFootData[PR_specialAction] == SPECIAL_ACTION_ENTER_VEHICLE)
        {
            if(onFootData[PR_keys] & KEY_SPRINT || onFootData[PR_keys] & KEY_JUMP)
            {
                onFootData[PR_keys] = onFootData[PR_keys] & ~KEY_SPRINT;
				onFootData[PR_keys] = onFootData[PR_keys] & ~KEY_JUMP;

                BS_SetWriteOffset(bs, 8);
                BS_WriteOnFootSync(bs, onFootData);
            }
        }
    }
    if (packetid == PLAYER_SYNC)
    {
        new onFootData[PR_OnFootSync];

        BS_IgnoreBits(bs, 8); // ignore packetid (byte)
        BS_ReadOnFootSync(bs, onFootData);

        if (onFootData[PR_surfingVehicleId] != 0 &&
            onFootData[PR_surfingVehicleId] != INVALID_VEHICLE_ID
        ) {
			if ((floatcmp(floatabs(onFootData[PR_surfingOffsets][0]), 10.0) != -1) ||
				(floatcmp(floatabs(onFootData[PR_surfingOffsets][1]), 10.0) != -1) ||
				(floatcmp(floatabs(onFootData[PR_surfingOffsets][2]), 10.0) != -1))
			{
                onFootData[PR_surfingOffsets][0] = onFootData[PR_surfingOffsets][1] = onFootData[PR_surfingOffsets][2] = 0.0;

                BS_SetWriteOffset(bs, 8);
                BS_WriteOnFootSync(bs, onFootData); // rewrite
            }
        }
    }
    return 1;
}

public: LoadEntrances()
{
	new time = GetTickCount();

	new rows, fields;
	cache_get_data(rows, fields);

	if(rows)
	{
		for(new idx; idx < rows; idx ++)
		{
			SetEntranceData(idx, E_SQL_ID, cache_get_row_int(idx, 0, dbHandle));
			SetEntranceData(idx, POS_X, cache_get_row_float(idx, 1, dbHandle));
			SetEntranceData(idx, POS_Y, cache_get_row_float(idx, 2, dbHandle));
			SetEntranceData(idx, POS_Z, cache_get_row_float(idx, 3, dbHandle));
			SetEntranceData(idx, EXIT_POS_X, cache_get_row_float(idx, 4, dbHandle));
			SetEntranceData(idx, EXIT_POS_Y, cache_get_row_float(idx, 5, dbHandle));
			SetEntranceData(idx, EXIT_POS_Z, cache_get_row_float(idx, 6, dbHandle));
			SetEntranceData(idx, EXIT_ANGLE, cache_get_row_float(idx, 7, dbHandle));
			SetEntranceData(idx, E_PRICE_ROOM, cache_get_row_int(idx, 8, dbHandle));

			SetEntranceData(idx, E_PICKUP, CreateDynamicPickup(1318, 23, GetEntranceData(idx, POS_X), GetEntranceData(idx, POS_Y), GetEntranceData(idx, POS_Z), -1, -1));
			SetEntranceData(idx, E_AREA_ENTER, CreateDynamicSphere(GetEntranceData(idx, POS_X), GetEntranceData(idx, POS_Y), GetEntranceData(idx, POS_Z), 1.0));

			TOTALENTRANCE ++;
		}
	}

	for(new i; i < sizeof coord_rooms; i ++)
	{
		g_area_rooms[i] = CreateDynamicSphere(coord_rooms[i][0], coord_rooms[i][1], coord_rooms[i][2], 1.0);

		CreatePickup(19197, 23, coord_rooms[i][0], coord_rooms[i][1], coord_rooms[i][2], -1);
	
		CreatePickup(19197, 23, -379.4767,1127.6851,2712.7734, -1);
        CreatePickup(1239, 23, -378.0949,1128.7030,2712.7734, -1);
        CreatePickup(19197, 23, -691.0283,-460.0852,3147.0801, -1);

		STRING_GLOBAL[0] = EOS;
		format(STRING_GLOBAL, sizeof STRING_GLOBAL, "- Квартира №%d -", i + 1);
		CreateDynamic3DTextLabel(STRING_GLOBAL, 0x3399FFFF, coord_rooms[i][0], coord_rooms[i][1], coord_rooms[i][2] + 1.0, 5.0);
	}

	printf("[Загружено подъездов]: <%d>. Потрачено: <%i ms>.", rows, GetTickCount() - time);
	return 1;
}

stock UpdateEntrance(idx)
{
	new icon = 32;

	for(new i; i < MAX_ROOMS; i ++)
	{
		if(strcmp(g_rooms[idx][i][ER_OWNER], "None"))
			continue;

		icon = 31;

		break;
	}

	if(IsValidDynamicMapIcon(g_entrance[idx][E_MAP_ICON]))
	{
		DestroyDynamicMapIcon(g_entrance[idx][E_MAP_ICON]);
		SetEntranceData(idx, E_MAP_ICON, CreateDynamicMapIcon(GetEntranceData(idx, POS_X), GetEntranceData(idx, POS_Y), GetEntranceData(idx, POS_Z), icon, 0, 0, 0, -1, STREAMER_MAP_ICON_SD, MAPICON_LOCAL));
	}
	else SetEntranceData(idx, E_MAP_ICON, CreateDynamicMapIcon(GetEntranceData(idx, POS_X), GetEntranceData(idx, POS_Y), GetEntranceData(idx, POS_Z), icon, 0, 0, 0, -1, STREAMER_MAP_ICON_SD, MAPICON_LOCAL));

	return 1;
}

public: LoadRooms()
{
	new time = GetTickCount();
	new rows, fields;
	cache_get_data(rows, fields);

	new room_id,
		entranceid,
		text_buffer = -1;

	if(rows)
	{
		for(new idx; idx < rows; idx ++)
		{
			entranceid = cache_get_row_int(idx, 1, dbHandle);

			if(entranceid != text_buffer)
			{
				room_id = 0;
				UpdateEntrance(entranceid);
			}

			if(room_id > 22) continue;

			SetRoomData(entranceid, room_id, ER_SQL_ID, cache_get_row_int(idx, 0, dbHandle));
			SetRoomData(entranceid, room_id, ER_PAY, cache_get_row_int(idx, 3, dbHandle));
			cache_get_field_content(idx, "owner", g_rooms[entranceid][room_id][ER_OWNER], dbHandle, MAX_PLAYER_NAME);
			SetRoomData(entranceid, room_id, ER_LOCK, bool: cache_get_row_int(idx, 4, dbHandle));

			text_buffer = entranceid;
			room_id ++;

			TOTALROOMS ++;

			//printf("sql: %d roomid: %d entranceid: %d pay: %d owner: %s lock: %d", GetRoomData(entranceid, room_id, ER_SQL_ID), room_id, entranceid, GetRoomData(entranceid, room_id, ER_PAY), GetRoomData(entranceid, room_id, ER_OWNER), GetRoomData(entranceid, room_id, ER_LOCK));
		}
	}

	printf("[Загружено квартир]: <%d>. Потрачено: <%i ms>.", TOTALROOMS, GetTickCount() - time);

	return 1;
}

stock ShowPlayerEntraceMenu(playerid)
{
	ShowPlayerDialog
	(
		playerid, DIALOG_ENTRACE_MENU, DIALOG_STYLE_LIST,
		"{FFCC00}Меню подъезда",
		"{FFCC00}1. {FFFFFF}Список жильцов\n"\
		"{FFCC00}2. {FFFFFF}Регистрация\n"\
		"{FFCC00}3. {FFFFFF}Меню жильца",
		"Далее", "Закрыть"
	);
	return 1;
}

stock ShowPlayerFreeRomm(playerid, entranceid)
{
	if(0 <= entranceid <= MAX_ENTRANCES-1)
	{
		STRING_GLOBAL = "Квартира\t\tСтоимость\t\tОплачено\t\tВладелец\n\n{FFFFFF}";

		new fmt_str[144],
			owner[MAX_PLAYER_NAME];

		for(new idx; idx < MAX_ROOMS; idx ++)
		{
			owner = "{FFCC00}Отсутствует";

			if(strcmp(g_rooms[entranceid][idx][ER_OWNER], "None")) format(owner, sizeof owner, "{ff614a}%s", GetRoomData(entranceid, idx, ER_OWNER));

			format(fmt_str, sizeof fmt_str, "{FFCC00}№%d\t\t\t{FFFFFF}%d\t\t%d из 30\t\t\t%s\n", idx + 1, GetEntranceData(entranceid, E_PRICE_ROOM),  GetRoomData(entranceid, idx, ER_PAY), owner);
			strcat(STRING_GLOBAL, fmt_str);
		}

		ShowPlayerDialog
		(
			playerid, 0, DIALOG_STYLE_MSGBOX,
			"{FFCC00}Список жильцов",
			STRING_GLOBAL,
			"Закрыть", ""
		);

	}
	return 1;
}
//==============================================================================
stock GetFreeEntranceRoom(entranceid)
{
	new free_room = -1;

	if(0 <= entranceid <= MAX_ENTRANCES-1)
	{
		for(new idx; idx < MAX_ROOMS; idx ++)
		{
			if(strcmp(g_rooms[entranceid][idx][ER_OWNER], "None"))
				continue;

			free_room = idx;

			break;
		}
	}

	return free_room;
}
//==============================================================================
stock SetPlayerPosInRoom(playerid, entranceid = -1, roomid = -1)
{
	if(entranceid == -1 || roomid== -1)
		return 1;

	FreezePlayer(playerid, 2000);
	SetPlayerPos(playerid, -691.0530,-456.7366,3147.0801);
	SetPlayerFacingAngle(playerid, 360);
	SetPlayerInterior(playerid, 1);
	SetPlayerVirtualWorld(playerid, ((entranceid + 1) * 400) + (roomid + 2000));

	PI[playerid][P_IN_ROOM] = roomid;
	PI[playerid][P_IN_ENTRANCE] = entranceid;

	return 1;
}
//==============================================================================
stock ShowPlayerRoomInfo(playerid, entranceid = -1, roomid = -1)
{
	if(entranceid == -1 || roomid== -1)
		return 1;

	new owner[MAX_PLAYER_NAME] = "Отсутствует";

	if(strcmp(g_rooms[entranceid][roomid][ER_OWNER], "None")) format(owner, sizeof owner, "%s", GetRoomData(entranceid, roomid, ER_OWNER));

	STRING_GLOBAL[0] = EOS;

	format
	(
		STRING_GLOBAL, sizeof STRING_GLOBAL,
		"{FFFFFF}Квартира №{FFCC00}%d\n"\
		"{FFFFFF}Владелец: {FFCC00}%s\n"\
		"{FFFFFF}Оплата в сутки: %d рублей\n"\
		"{FFFFFF}Статус: %s\n\n"\
		"{FFFFFF}Вы хотите войти в эту квартиру?",
		(roomid % 22) + 1,
		owner,
		GetEntranceData(entranceid, E_PRICE_ROOM),
		GetRoomData(entranceid, roomid, ER_LOCK) == true ? "{99CC00}Открыта" : "{ff614a}Закрыта"
	);

	ShowPlayerDialog
	(
		playerid, DIALOG_ROOM_ENTER, DIALOG_STYLE_MSGBOX,
		"{FFCC00}Квартира",
		STRING_GLOBAL,
		"Войти", "Отмена"
	);

	g_player_listitem_use[playerid] = roomid;

	return 1;
}
//==============================================================================
stock ShowPlayerDialogPayRoom(playerid, entranceid = -1, roomid = -1)
{
	if(entranceid == -1 || roomid== -1)
		return 1;

	new fmt_dialog[170];

	format
	(
		fmt_dialog, sizeof fmt_dialog,
		"{ffffff}Квартира:\t\t\t\t\t№%d\n"\
		"Оплаченных дней:\t\t\t\t%d из 30\n"\
		"Ежедневная плата:\t\t\t\t%d руб\n"\
		"На сколько дней Вы хотите оплатить квартиру?",
		(roomid % 22) + 1,
		GetRoomData(entranceid, roomid, ER_PAY),
		GetEntranceData(entranceid, E_PRICE_ROOM)
	);

	return ShowPlayerDialog(playerid, DIALOG_PAY_ROOM, DIALOG_STYLE_INPUT, "{ffcc00}Оплата квартиры", fmt_dialog, "Оплатить", "Назад");
}
//==============================================================================
stock CheckServerProperty()
{
	for(new entranceid = TOTALENTRANCE; entranceid > 0; entranceid --)
	{
		for(new roomid = 22; roomid > 0; roomid --)
		{
			if(!strcmp("None", g_rooms[entranceid][roomid][ER_OWNER], true)) continue;

			if(GetRoomData(entranceid, roomid, ER_PAY) < 1)
			{
				new targetid = GetPlayerID(g_rooms[entranceid][roomid][ER_OWNER]);
				if(targetid != INVALID_PLAYER_ID)
				{
					SendClientMessage(targetid, COLOR_YELLOW, "Ваша квартира была продана за неуплату");

					PI[targetid][P_ENTRANCE] =
					PI[targetid][P_ROOM] = -1;

					MysqlUpdatePlayerInt(targetid, "entrance", PI[targetid][P_ENTRANCE]);
					MysqlUpdatePlayerInt(targetid, "room", PI[targetid][P_ROOM]);
				}

				STRING_GLOBAL[0] = EOS;
				format(STRING_GLOBAL, sizeof STRING_GLOBAL, "UPDATE accounts SET entrance=-1, room=-1 WHERE name='%s'", g_rooms[entranceid][roomid][ER_OWNER]);
				mysql_query(dbHandle, STRING_GLOBAL);

				g_rooms[entranceid][roomid][ER_PAY] = 1;

				g_rooms[entranceid][roomid][ER_OWNER] = EOS;
				strcat(g_rooms[entranceid][roomid][ER_OWNER], "None");
			}
			else
			{
				g_rooms[entranceid][roomid][ER_PAY] --;
			}

			STRING_GLOBAL[0] = EOS;
			format(STRING_GLOBAL, sizeof STRING_GLOBAL, "UPDATE rooms SET owner='%s', pay=%d WHERE id=%d", g_rooms[entranceid][roomid][ER_OWNER], g_rooms[entranceid][roomid][ER_PAY], g_rooms[entranceid][roomid][ER_SQL_ID]);
			mysql_query(dbHandle, STRING_GLOBAL);
		}

		UpdateEntrance(entranceid);
	}
	return 1;
}
//==============================================================================
stock SendMess(playerid, E_MSG_CMD_NAME:messageid)
{
	if(!IsPlayerConnected(playerid))
		return false;

	for(new id = sizeof(MSG_CMD_STRUCT)-1; id != -1; --id)
	{
		if(MSG_CMD_STRUCT[id][msgID] != messageid)
			continue;
		SendClientMessage(playerid, MSG_CMD_STRUCT[id][msgColor], MSG_CMD_STRUCT[id][msgText]);
		break;
	}
	return true;
}
//==============================================================================
/*stock AC_KICK(USERID, const SAC_NAME[], SAC_CODE)
{

	if(!AC_STRUCT[SAC_CODE - 1][RAC_STATUS]) return 1;

	if(GetTickCount()-GetPVarInt(USERID, "-Cheater") < 3000) return 1;
	SetPVarInt(USERID, "-Cheater", GetTickCount());

	//if(PI[USERID][pAdmin] > 0 && AdminLogged[USERID] == true && !PG_DATA[USERID][USE_CRASHER]) return 1;

	new ipstr[16];
	GetPlayerIp(USERID, ipstr, 16);

	new frmt_str[144];
	format(frmt_str, 144, "{F66917}[R-AC] {A3A3A3}%s[%d] был кикнут по подозрению в читерстве (%s) <#0%i> ", GetName(USERID), USERID, SAC_NAME, SAC_CODE);

	foreach(new playerid: Admins)
	{
		if(AdminInfo[playerid][admAclog] == 0)
			continue;

		SendClientMessage(playerid, 0xEB7208FF, frmt_str);
	}

	add_server_log(frmt_str, 39);

    new fmt_str[128];

	new y, m, d;
	getdate(y, m, d);

	new hh, mm, ss;
	gettime(hh, mm, ss);

	SendClientMessage(USERID, 0xF66917FF, "{F66917}[AC] {FCD736} Вы были кикнуты системой защиты по подозрению в использовании запрещенного ПО");
	format(fmt_str, 128, "{F66917}[AC] {FCD736} Дата и время: %02d-%02d-%04d / %02d:%02d:%02d | Код анти-чита: %d(%s)", d, m, y, hh, mm, ss, SAC_CODE, SAC_NAME);
	SendClientMessage(USERID, 0xF66917FF, fmt_str);
	SendClientMessage(USERID, 0xF66917FF, "{F66917}[AC] {FCD736} Если Вы считаете, что наказание было выдано ложно - обратитесь к старшей администрации");

	SetTimerEx("DisconnectPlayer",100,0,"i", USERID);

    AC_STRUCT[SAC_CODE - 1][RAC_COUNT] ++;

	return true;
}*/

/*stock ResetPlayerWeaponAC (playerid)
{

    for(new i = 0; i < 47; i++)
    {
        WeaponInfo[playerid][i] = false;
        AmmoInfo[playerid][i] = 0;
    }
    for(new i = 0; i < 13; i++) AmmoSlot[playerid][i] = 0;

    for(new i = 0; i < 12; i++)
 	{
        PI[playerid][pGun][i] = 0;
		PI[playerid][pAmmo][i] = 0;
	}

    ResetPlayerWeapons (playerid);

    return 1;
}*/
//==============================================================================
stock GetAdminsOnline()
{
	new Online;
	foreach(new i : Admins)
	{
		if(PlayerLogged[i]) if(PI[i][pAdmin] && PI[i][pAdmin] != ADM_NONE) Online ++;
	}
	return Online;
}
//==============================================================================
stock GetSupportsOnline()
{
	new Online;
	foreach(new i : Supports)
	{
		if(PlayerLogged[i]) if(PI[i][pSupport] && PI[i][pSupport] != 0) Online ++;
	}
	return Online;
}
//==============================================================================
stock GetYouTubersOnline()
{
	new Online;
	foreach(new i : YouTubers)
	{
		if(PlayerLogged[i]) if(PI[i][pYouTuber] && PI[i][pYouTuber] != 0) Online ++;
	}
	return Online;
}
//==============================================================================
//DestroyPlayerMapDraws(playerid) //на дисконект
//{
//	for(new i; i < sizeof gps_support_td; i++) TextDrawHideForPlayer(playerid, gps_support_td[i]);
//	for(new i; i < sizeof arzp_PTD; i++) TextDrawHideForPlayer(playerid, arzp_PTD[i]);
//	return true;
//}
//==============================================================================
//CreatePlayerMapDraws(playerid)
//{
//	for(new i; i < sizeof gps_support_td; i++) TextDrawShowForPlayer(playerid, gps_support_td[i]);
//	for(new i; i < sizeof arzp_PTD; i++) TextDrawShowForPlayer(playerid, arzp_PTD[i]);
//	return true;
//}
//==============================================================================
stock AC_SetVehicleToRespawn(vehicleid)
{
   	SetVehicleToRespawn(vehicleid);

    new Float:x, Float:y, Float:z, Float:a;
    GetVehiclePos(vehicleid, x, y, z);
	GetVehicleZAngle(vehicleid, a);
	return 1;
}
const UPDATE_SCORES_PINGSIPS = 105;

new rpc_105_used[MAX_PLAYERS] = 0;

public OnIncomingRPC(playerid, rpcid, BitStream:bs)

{
switch(rpcid)
{
	case UPDATE_SCORES_PINGSIPS:
	{
		if(!rpc_105_used[playerid])
		{
			SetPVarInt(playerid, "ac_trainer", GetTickCount());

			rpc_105_used[playerid] = 1;

		}
		else
		{
			new ac_time_value = GetTickCount() - GetPVarInt(playerid, "ac_trainer");

			if(ac_time_value > 4900 && ac_time_value < 5100) Kick(playerid);
			print("rpcid. ac_time_value error.");

			rpc_105_used[playerid] = 0;

		}

	}

}
return true;
}


/*

	CheckAdmin ( playerid, level )
	Проверяет игрока playerid на наличие админского уровня level
 */







stock CheckAdmin(playerid, level) {

	if(PI[playerid][pAdmin] < level){
		SendClientMessage(playerid, -1, "Данной команды не существует. Введи /mm для просмотра полного списка команд");
		return 1;
	}
	else return 0;

}


//==============================================================================


forward ShowPlayerMenu(playerid);
public ShowPlayerMenu(playerid)
{
	KillTimer(MenuTimer);
	IsCamMoving[playerid] = false;
	ShowPlayerDialog(playerid, DIALOG_MENU, DIALOG_STYLE_LIST,"Next step?","Preview\nChange Start\nChange End\nChange Speed\nSave","Ok","Cancel");
	return 1;
}

forward PreviewMovement(playerid);
public PreviewMovement(playerid)
{
    IsCamMoving[playerid] = true;
    DestroyObject(noclipdata[playerid][flyobject]);
    SetCameraBehindPlayer(playerid);
    if(coordInfo[playerid][MoveSpeed] > coordInfo[playerid][RotSpeed])
    	MenuTimer = SetTimerEx("ShowPlayerMenu", coordInfo[playerid][MoveSpeed], 0, "i", playerid);
	else
		MenuTimer = SetTimerEx("ShowPlayerMenu", coordInfo[playerid][RotSpeed], 0, "i", playerid);
	InterpolateCameraPos(playerid, coordInfo[playerid][StartX], coordInfo[playerid][StartY], coordInfo[playerid][StartZ], coordInfo[playerid][EndX], coordInfo[playerid][EndY], coordInfo[playerid][EndZ],coordInfo[playerid][MoveSpeed]);
	InterpolateCameraLookAt(playerid, coordInfo[playerid][StartLookX],coordInfo[playerid][StartLookY],coordInfo[playerid][StartLookZ],coordInfo[playerid][EndLookX],coordInfo[playerid][EndLookY],coordInfo[playerid][EndLookZ],coordInfo[playerid][RotSpeed]);
	return 1;
}

forward ExportMovement(playerid, inputtext[]);
public ExportMovement(playerid, inputtext[])
{
    new tagstring[64];
	new movestring[512];
	new rotstring[512];
	new filename[50];
	format(filename, 128, "CamEdit_%s.txt", inputtext);
	format(tagstring, sizeof(tagstring), "|----------%s----------|\r\n", inputtext);
	format(movestring, sizeof(movestring),"InterpolateCameraPos(playerid, %f, %f, %f, %f, %f, %f, %i);\r\n",coordInfo[playerid][StartX], coordInfo[playerid][StartY], coordInfo[playerid][StartZ], coordInfo[playerid][EndX], coordInfo[playerid][EndY], coordInfo[playerid][EndZ],coordInfo[playerid][MoveSpeed]);
	format(rotstring,sizeof(rotstring),"InterpolateCameraLookAt(playerid, %f, %f, %f, %f, %f, %f, %i);",coordInfo[playerid][StartLookX],coordInfo[playerid][StartLookY],coordInfo[playerid][StartLookZ],coordInfo[playerid][EndLookX],coordInfo[playerid][EndLookY],coordInfo[playerid][EndLookZ],coordInfo[playerid][RotSpeed]);
	new File:File = fopen(filename, io_write);
	fwrite(File, tagstring);
	fwrite(File, movestring);
	fwrite(File, rotstring);
	fclose(File);
	new myOutpString[256];
	format(myOutpString, sizeof(myOutpString), "Camera movements saved under {F58282}%s {a9c4e4}to the scriptfiles folder!\n\nWhat do you want to do next?", filename);
	ShowPlayerDialog(playerid, FLY_DIALOG_CLOSE_NEW, DIALOG_STYLE_MSGBOX,"What next?",myOutpString,"Create new","Exit");
}

stock GetMoveDirectionFromKeys(ud, lr)
{
	new direction = 0;

    if(lr < 0)
	{
		if(ud < 0) 		direction = MOVE_FORWARD_LEFT;
		else if(ud > 0) direction = MOVE_BACK_LEFT;
		else            direction = MOVE_LEFT;
	}
	else if(lr > 0)
	{
		if(ud < 0)      direction = MOVE_FORWARD_RIGHT;
		else if(ud > 0) direction = MOVE_BACK_RIGHT;
		else			direction = MOVE_RIGHT;
	}
	else if(ud < 0) 	direction = MOVE_FORWARD;
	else if(ud > 0) 	direction = MOVE_BACK;

	return direction;
}

//--------------------------------------------------

stock MoveCamera(playerid)
{
	new Float:FV[3], Float:CP[3];
	GetPlayerCameraPos(playerid, CP[0], CP[1], CP[2]);
    GetPlayerCameraFrontVector(playerid, FV[0], FV[1], FV[2]);
	if(noclipdata[playerid][accelmul] <= 1) noclipdata[playerid][accelmul] += ACCEL_RATE;
	new Float:speed = MOVE_SPEED * noclipdata[playerid][accelmul];
	new Float:X, Float:Y, Float:Z;
	GetNextCameraPosition(noclipdata[playerid][mode], CP, FV, X, Y, Z);
	MovePlayerObject(playerid, noclipdata[playerid][flyobject], X, Y, Z, speed);
	noclipdata[playerid][lastmove] = GetTickCount();
	return 1;
}

//--------------------------------------------------

stock GetNextCameraPosition(move_mode, Float:CP[3], Float:FV[3], &Float:X, &Float:Y, &Float:Z)
{
    #define OFFSET_X (FV[0]*6000.0)
	#define OFFSET_Y (FV[1]*6000.0)
	#define OFFSET_Z (FV[2]*6000.0)
	switch(move_mode)
	{
		case MOVE_FORWARD:
		{
			X = CP[0]+OFFSET_X;
			Y = CP[1]+OFFSET_Y;
			Z = CP[2]+OFFSET_Z;
		}
		case MOVE_BACK:
		{
			X = CP[0]-OFFSET_X;
			Y = CP[1]-OFFSET_Y;
			Z = CP[2]-OFFSET_Z;
		}
		case MOVE_LEFT:
		{
			X = CP[0]-OFFSET_Y;
			Y = CP[1]+OFFSET_X;
			Z = CP[2];
		}
		case MOVE_RIGHT:
		{
			X = CP[0]+OFFSET_Y;
			Y = CP[1]-OFFSET_X;
			Z = CP[2];
		}
		case MOVE_BACK_LEFT:
		{
			X = CP[0]+(-OFFSET_X - OFFSET_Y);
 			Y = CP[1]+(-OFFSET_Y + OFFSET_X);
		 	Z = CP[2]-OFFSET_Z;
		}
		case MOVE_BACK_RIGHT:
		{
			X = CP[0]+(-OFFSET_X + OFFSET_Y);
 			Y = CP[1]+(-OFFSET_Y - OFFSET_X);
		 	Z = CP[2]-OFFSET_Z;
		}
		case MOVE_FORWARD_LEFT:
		{
			X = CP[0]+(OFFSET_X  - OFFSET_Y);
			Y = CP[1]+(OFFSET_Y  + OFFSET_X);
			Z = CP[2]+OFFSET_Z;
		}
		case MOVE_FORWARD_RIGHT:
		{
			X = CP[0]+(OFFSET_X  + OFFSET_Y);
			Y = CP[1]+(OFFSET_Y  - OFFSET_X);
			Z = CP[2]+OFFSET_Z;
		}
	}
}
//--------------------------------------------------



stock CancelFlyMode(playerid)
{
	DeletePVar(playerid, "FlyMode");
	CancelEdit(playerid);
	// TogglePlayerSpectating(playerid, false);
	DestroyPlayerObject(playerid, noclipdata[playerid][flyobject]);
	noclipdata[playerid][cameramode] = CAMERA_MODE_NONE;
	IsReSettingStart[playerid] 	= false;
	IsReSettingEnd[playerid] 	= false;
	SettingFirstLoc[playerid] 	= false;
	SettingLastLoc[playerid] 	= false;
	AnswerAboutFly(playerid);
	return 1;
}

stock AnswerAboutFly(playerid) {

	// TextDrawShowForPlayer(playerid, FlyTXD);

	// Interact_FlyTXD1[playerid] = TextDrawCreate(326.685211, 250.583328, "usebox"); 
	// TextDrawLetterSize(Interact_FlyTXD1[playerid], 0.000000, 2.016664); 
	// TextDrawTextSize(Interact_FlyTXD1[playerid], 251.938507, 0.000000); 
	// TextDrawAlignment(Interact_FlyTXD1[playerid], 1); 
	// TextDrawColor(Interact_FlyTXD1[playerid], 0); 
	// TextDrawUseBox(Interact_FlyTXD1[playerid], true); 
	// TextDrawBoxColor(Interact_FlyTXD1[playerid], 102); 
	// TextDrawSetShadow(Interact_FlyTXD1[playerid], 0); 
	// TextDrawSetOutline(Interact_FlyTXD1[playerid], 0); 
	// TextDrawFont(Interact_FlyTXD1[playerid], 4); 
	// TextDrawSetSelectable(Interact_FlyTXD1[playerid], 1);
	// TextDrawShowForPlayer(playerid, Interact_FlyTXD1[playerid]);

	// Interact_FlyTXD2[playerid] = TextDrawCreate(406.802368, 250.000000, "usebox"); 
	// TextDrawLetterSize(Interact_FlyTXD2[playerid], 0.000000, 2.146298); 
	// TextDrawTextSize(Interact_FlyTXD2[playerid], 332.524169, 0.000000); 
	// TextDrawAlignment(Interact_FlyTXD2[playerid], 1); 
	// TextDrawColor(Interact_FlyTXD2[playerid], 0); 
	// TextDrawUseBox(Interact_FlyTXD2[playerid], true); 
	// TextDrawBoxColor(Interact_FlyTXD2[playerid], 102); 
	// TextDrawSetShadow(Interact_FlyTXD2[playerid], 0); 
	// TextDrawSetOutline(Interact_FlyTXD2[playerid], 0); 
	// TextDrawFont(Interact_FlyTXD2[playerid], 4);
	// TextDrawSetSelectable(Interact_FlyTXD2[playerid], 1);
	// TextDrawShowForPlayer(playerid, Interact_FlyTXD2[playerid]);
	// SelectTextDraw(playerid, -1);
	ShowPlayerDialog(playerid, FLY_ANSWER, DIALOG_STYLE_MSGBOX, "Конец полета", "Выберите место спавна", "В месте прилета", "В начале полета");
	return 1;
}

//--------------------------------------------------


cmd:practice(playerid) {
	AutoSchool_PutPlayerToPractice(playerid);
	return 1;
}

publics AutoSchool_PutPlayerToPractice(playerid) {
	SetTimerEx("AutoSchool_PutPlayerToPractice2", 1000, false, "d", playerid);
	return 1;
}


publics AutoSchool_PutPlayerToPractice2(playerid) {

	GetPlayerPos(playerid, autoschool_x, autoschool_y, autoschool_z);
	SmoothEffect(playerid);
	TogglePlayerControllable(playerid, 0);
	autoschool_car[playerid] = CreateVehicle(467, 2124, -2181, 22, 0, 2, 2, 100*1000*60);
	SetPlayerPos(playerid, 2124, -2181, 21);	
	SetVehicleVirtualWorld(autoschool_car[playerid], AUTOSCHOOL_WORLD+playerid);
	SetPlayerVirtualWorld(playerid, AUTOSCHOOL_WORLD+playerid);
	autoschool_Timer[playerid] = SetTimerEx("AutoSchool_Warn", 1000*60*1, true, "d", playerid);
	PutPlayerInVehicle(playerid, autoschool_car[playerid], 0);
	TogglePlayerControllable(playerid, 0);
	
	SendPond(playerid, "Вы начали проходить практический экзамен по вождению!");
	SendTimeMessage(playerid, "Для начала нажмите CTRL для того, чтобы завести машину.", 1000*5, POND_TYPE);
	SendTimeMessage(playerid, "Далее следуйте по чекпоинтам и пройдите всю дорогу без нарушений.", 1000*7, POND_TYPE);
	SendTimeMessage(playerid, "За каждое нарушение вы будете получать {FF0000}предупреждение.", 1000*9, POND_TYPE);
	SendTimeMessage(playerid, "{FFFFFF} Набрав 3 предупреждения - экзамен будет провален.", 1000*11, POND_TYPE);
	SendTimeMessage(playerid, "На прохождение каждой метки Вам отведена минута, в случае, если Вы не успеете, то получите предупреждение", 1000*13, ATTENTION_TYPE);
	SetTimerEx("AutoSchool_StartPractice", 1000*15, false, "d", playerid);
	autoschool_Progress[playerid] = 1;
	return 1;

}

forward AutoSchool_StartPractice(playerid);
public AutoSchool_StartPractice(playerid) {

	if(!autoschool_Progress[playerid]) return 0;
	if(!IsPlayerConnected(playerid)) return 0;

	TogglePlayerControllable(playerid, 1);
	SendClientMessage(playerid, -1, "{adff2f}Счастливого пути!");
	SendTimeMessage(playerid, "Введите команду: /stoppractice, чтобы покинуть практический экзамен.", 1000*3, POND_TYPE);
	
	AutoSchool_SetProgress(playerid, 1);
	return 1;
}

cmd:stoppractice(playerid) {
	if(!autoschool_Progress[playerid]) return SendErr(playerid, "Вы не проходите практический экзамен!");
	KillTimer(autoschool_Timer[playerid]);
	return AutoSchool_SetProgress(playerid, 100);
}

publics AutoSchool_SetProgress (playerid, progress) {

	if(autoschool_Checkpoint[playerid]) DestroyDynamicCP(autoschool_Checkpoint[playerid]);
	if(progress) autoschool_Progress[playerid] = progress; 
	else progress = autoschool_Progress[playerid];

	switch(progress){
		case 1: autoschool_Progress[playerid]++, autoschool_Checkpoint[playerid] = CreateDynamicCP(2137, -2124, 21, 10, AUTOSCHOOL_WORLD+playerid, 0, playerid, 1000);
		case 2: autoschool_Progress[playerid]++, autoschool_Checkpoint[playerid] = CreateDynamicCP(2212, -2124, 21, 10, AUTOSCHOOL_WORLD+playerid, 0, playerid, 1000);
		case 3: autoschool_Progress[playerid]++, autoschool_Checkpoint[playerid] = CreateDynamicCP(2227, -2181, 21, 10, AUTOSCHOOL_WORLD+playerid, 0, playerid, 1000);
		case 4: autoschool_Progress[playerid]++, autoschool_Checkpoint[playerid] = CreateDynamicCP(2184, -2252, 20, 10, AUTOSCHOOL_WORLD+playerid, 0, playerid, 1000);
		case 5: autoschool_Progress[playerid]++, autoschool_Checkpoint[playerid] = CreateDynamicCP(2070, -2252, 15, 10, AUTOSCHOOL_WORLD+playerid, 0, playerid, 1000);
		case 6: autoschool_Progress[playerid]++, autoschool_Checkpoint[playerid] = CreateDynamicCP(1895, -2252, 10, 10, AUTOSCHOOL_WORLD+playerid, 0, playerid, 1000);
		case 7: autoschool_Progress[playerid]++, autoschool_Checkpoint[playerid] = CreateDynamicCP(1809, -2288, 10, 10, AUTOSCHOOL_WORLD+playerid, 0, playerid, 1000);
		case 8: autoschool_Progress[playerid]++, autoschool_Checkpoint[playerid] = CreateDynamicCP(1865, -2424, 10, 10, AUTOSCHOOL_WORLD+playerid, 0, playerid, 1000);
		case 9: autoschool_Progress[playerid]++, autoschool_Checkpoint[playerid] = CreateDynamicCP(1918, -2555, 10, 10, AUTOSCHOOL_WORLD+playerid, 0, playerid, 1000);
		case 10: autoschool_Progress[playerid]++, autoschool_Checkpoint[playerid] = CreateDynamicCP(1963, -2687, 11, 10, AUTOSCHOOL_WORLD+playerid, 0, playerid, 1000);
		case 11: autoschool_Progress[playerid]++, autoschool_Checkpoint[playerid] = CreateDynamicCP(2126, -2687, 13, 10, AUTOSCHOOL_WORLD+playerid, 0, playerid, 1000);
		case 12: autoschool_Progress[playerid]++, autoschool_Checkpoint[playerid] = CreateDynamicCP(2262, -2692, 25, 10, AUTOSCHOOL_WORLD+playerid, 0, playerid, 1000);
		case 13: autoschool_Progress[playerid]++, autoschool_Checkpoint[playerid] = CreateDynamicCP(2404, -2687, 25, 10, AUTOSCHOOL_WORLD+playerid, 0, playerid, 1000);
		case 14: autoschool_Progress[playerid]++, autoschool_Checkpoint[playerid] = CreateDynamicCP(2467, -2590, 22, 10, AUTOSCHOOL_WORLD+playerid, 0, playerid, 1000);
		case 15: autoschool_Progress[playerid]++, autoschool_Checkpoint[playerid] = CreateDynamicCP(2467, -2427, 21, 10, AUTOSCHOOL_WORLD+playerid, 0, playerid, 1000);
		case 16: autoschool_Progress[playerid]++, autoschool_Checkpoint[playerid] = CreateDynamicCP(2467, -2296, 21, 10, AUTOSCHOOL_WORLD+playerid, 0, playerid, 1000);
		case 17: autoschool_Progress[playerid]++, autoschool_Checkpoint[playerid] = CreateDynamicCP(2468, -2189, 21, 10, AUTOSCHOOL_WORLD+playerid, 0, playerid, 1000);
		case 18: autoschool_Progress[playerid]++, autoschool_Checkpoint[playerid] = CreateDynamicCP(2417, -2152, 21, 10, AUTOSCHOOL_WORLD+playerid, 0, playerid, 1000);
		case 19: autoschool_Progress[playerid]++, autoschool_Checkpoint[playerid] = CreateDynamicCP(2305, -2152, 21, 10, AUTOSCHOOL_WORLD+playerid, 0, playerid, 1000);
		case 20: autoschool_Progress[playerid]++, autoschool_Checkpoint[playerid] = CreateDynamicCP(2233, -2816, 21, 10, AUTOSCHOOL_WORLD+playerid, 0, playerid, 1000);
		case 21: autoschool_Progress[playerid]++, autoschool_Checkpoint[playerid] = CreateDynamicCP(2175, -2235, 21, 10, AUTOSCHOOL_WORLD+playerid, 0, playerid, 1000);
		case 22: {
			SetPlayerPos(playerid, autoschool_x, autoschool_y, autoschool_z);
			PI[playerid][pAutoLic] = 1;
			SendSucces(playerid, "Вы получили водительские права!");
			DestroyVehicle(autoschool_car[playerid]);
			KillTimer(autoschool_Timer[playerid]);
			autoschool_PracticeWarns[playerid] = 0;
			autoschool_Progress[playerid] = 0;
			TogglePlayerControllable(playerid, 1);
			SaveAccount(playerid);
			return 1;
		}

		default: {
			SendErr(playerid, "Экзамен по вождению был досрочно завершен!");
			SetPlayerPos(playerid, 1066, 93, 1049);
			SetPlayerVirtualWorld(playerid, 0);
			SetPlayerInterior(playerid, 4);
			DestroyVehicle(autoschool_car[playerid]);
			KillTimer(autoschool_Timer[playerid]);
			autoschool_PracticeWarns[playerid] = 0;
			autoschool_Progress[playerid] = 0;
			TogglePlayerControllable(playerid, 1);
			return 1;
		}

	}
	KillTimer(autoschool_Timer[playerid]);
	autoschool_Timer[playerid] = SetTimerEx("AutoSchool_Warn", 1000*60*1, false, "dd", playerid, TIMEOUT);

	
	return 1;
}



forward AutoSchool_Warn(playerid, reason);
public AutoSchool_Warn(playerid, reason) {
	if(autoschool_Progress[playerid] == 0) {
		KillTimer(autoschool_Timer[playerid]);
		return 1;
	}
	if(reason == TIMEOUT) SendClientMessage(playerid, COLOR_BLUE, "На прохождение каждой метки Вам отведена минута!");
	if(autoschool_PracticeWarns[playerid] == 2) {
		SendPond(playerid, "Экзамен по вождению был прерван из-за того, что Вы нарушили правила.");
		AutoSchool_SetProgress(playerid, 100);
	} else {
		autoschool_PracticeWarns[playerid]++;
		SendClientMessage(playerid, COLOR_RED, "Вы получили предупреждение за нарушение правил практики!");
		new str[128];
		format(str, 128, "Еще %d предупреждения(ие) и экзамен будет провален.", 3 - autoschool_PracticeWarns[playerid]);
		SendTimeMessage(playerid, str, 1000*3, POND_TYPE);
	}
	autoschool_Timer[playerid] = SetTimerEx("AutoSchool_Warn", 1000*60*1, false, "dd", playerid, TIMEOUT);
	return 1;
}

//---------------[Теория в автошколе]---------------


#include <autoschool.inc>




//--------------------------------------------------

stock FlyMode(playerid)
{
	// new Float:X, Float:Y, Float:Z;
	IsCreating[playerid] = true;
	SettingFirstLoc[playerid] = true;
	GetPlayerPos(playerid, FlyPlayer[playerid][fly_x], FlyPlayer[playerid][fly_y], FlyPlayer[playerid][fly_z]);
	noclipdata[playerid][flyobject] = CreatePlayerObject(playerid, 19300, FlyPlayer[playerid][fly_x], FlyPlayer[playerid][fly_y], FlyPlayer[playerid][fly_z], 0.0, 0.0, 0.0);
	TogglePlayerSpectating(playerid, true);
	AttachCameraToPlayerObject(playerid, noclipdata[playerid][flyobject]);
	PlayerFlying[playerid] = true;

	SetPVarInt(playerid, "FlyMode", 1);
	noclipdata[playerid][cameramode] = CAMERA_MODE_FLY;
	SendInfo(playerid, "Вы перешли в режим полета, чтобы выйти из него - введите /fly");
	return 1;
}

IsNumeric(szInput[]) {
	new iChar, i = 0;
	while ((iChar = szInput[i++])) if (!('0' <= iChar <= '9')) return 0;
	return 1;
}



// SessionSpawn(playerid) {
// 	new sesid = GetPVarInt(playerid, "Session");
// 	SetPlayerPos(playerid, Session[sesid][sessionX], Session[sesid][sessionY], Session[sesid][sessionZ]);
// 	SetPlayerFacingAngle(playerid, Session[sesid][sessionAngle]);
// 	SetPlayerVirtualWorld(playerid, Session[sesid][sessionWorld]);
// 	SetPlayerInterior(playerid, Session[sesid][sessionInterior]);
// 	return SendClientMessage(playerid, COLOR_BLUE, "Игровая сессия восстановлена!");
// }

// stock TimeFunction(func[], interval, const format[] = "", ...){
// 	if(!strlen(format)) return SetTimer(func[], interval, false);
// 	else {

// 		new arg[numargs()];
// 		for(new i, j = numargs()+3; i < j; i++), arg = getarg(arg, i);
// 		return SetTimerEx(func[], interval, false, format[], arg);

// 	}
// }

// TextDraw









SendErr(playerid, text[]) {
	format(STRING_GLOBAL, 144, "%s", text);
	SendClientMessage(playerid, COLOR_RED, STRING_GLOBAL);
	return 1;
}

SendInf(playerid, text[]) {
	format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "{ADFF2F} * Информация:{FFFFFF} %s", text);
	SendClientMessage(playerid, 0xadff2f00, STRING_GLOBAL);
	return 1;
}

SendPond(playerid, text[]) {
	format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "{FFCC00} * Подсказка:{FFFFFF} %s", text);
	SendClientMessage(playerid, COLOR_YELLOW, STRING_GLOBAL);
	return 1;
}

SendSucces(playerid, text[]) {
	format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "{ADFF2F} * Успешно: {FFFFFF} %s", text);
	SendClientMessage(playerid, 0xADFF2F00, STRING_GLOBAL);
	return 1;
}

SendAttention(playerid, text[]) {
	format(STRING_GLOBAL, sizeof(STRING_GLOBAL), "{FF0000}* Внимание{FFFFFF}: %s", text);
	SendClientMessage(playerid, COLOR_RED, STRING_GLOBAL);
	return 1;
}







SendTimeMessage(playerid, text[], interval, type = MESSAGE_TYPE) {
	SetTimerEx("SendTimeMessageEX", interval, false, "iis", playerid, type, text);
	return 1;
}

forward SendTimeMessageEX(playerid, type, text[]);
public SendTimeMessageEX(playerid, type, text[]){
	switch(type){
		case MESSAGE_TYPE: return SendClientMessage(playerid, COLOR_WHITE, text);
		case POND_TYPE: return SendPond(playerid, text);
		case ERROR_TYPE: return SendErr(playerid, text);
		case SUCCESS_TYPE: return SendSucces(playerid, text);
		case ATTENTION_TYPE: return SendAttention(playerid, text);
		default: return 0;
	}
	return 0;
}






Float:S_GetPlayerDistanceFromPoint(playerid, Float:x, Float:y, Float:z)
{
	new NaN_String[5];
	new Float:Distance = GetPlayerDistanceFromPoint(playerid, x, y, z);
	format(NaN_String, 5, "%f", Distance);
	if(!strcmp(NaN_String, "NaN")) return 3000.0;
	#pragma unused S_GetPlayerDistanceFromPoint
	return Distance;
}
#define GetPlayerDistanceFromPoint S_GetPlayerDistanceFromPoint








Float:S_GetVehicleDistanceFromPoint(vehicleid, Float:x, Float:y, Float:z)
{
	#pragma unused S_GetVehicleDistanceFromPoint
	new NaN_String[5];
	new Float:Distance = GetVehicleDistanceFromPoint(vehicleid, x, y, z);
	format(NaN_String, 5, "%f", Distance);
	if(!strcmp(NaN_String, "NaN")) return 3000.0;
	
	return Distance;
}
#define GetVehicleDistanceFromPoint S_GetVehicleDistanceFromPoint






stock SetPlayerSkinEx(playerid, skinid)
{
	ClearAnimations(playerid, 1);
	if(skinid > 311) skinid = 311;
	else if(skinid < 0) skinid = 0;
	SetPlayerSkin(playerid, skinid);
}
#if defined _ALS_SetPlayerSkin
	#undef SetPlayerSkin
#else
	#define _ALS_SetPlayerSkin
#endif
#define	SetPlayerSkin SetPlayerSkinEx







stock SetPlayerPosEx(playerid, Float:x, Float:y, Float:z)
{
	PI[playerid][pPos][0] = x;
	PI[playerid][pPos][1] = y;
	PI[playerid][pPos][2] = z;
	return SetPlayerPos(playerid, PI[playerid][pPos][0], PI[playerid][pPos][1], PI[playerid][pPos][2]);
}
#if defined _ALS_SetPlayerPos
	#undef SetPlayerPos
#else
	#define _ALS_SetPlayerPos
#endif






stock SpawnPlayerEx(playerid)
{
	return SpawnPlayer(playerid);
}
#if defined _ALS_SpawnPlayer
	#undef SpawnPlayer
#else
	#define _ALS_SpawnPlayer
#endif
#define	SpawnPlayer SpawnPlayerEx






stock PutPlayerInVehicleEx(playerid, vehicleid, seatid)
{
    return PutPlayerInVehicle(playerid, vehicleid, seatid);
}
#if defined _ALS_PutPlayerInVehicle
	#undef PutPlayerInVehicle
#else
	#define _ALS_PutPlayerInVehicle
#endif
#define PutPlayerInVehicle PutPlayerInVehicleEx






stock CreateVehicleEx(modelid, Float: X, Float: Y, Float: Z, Float: A, Color1, Color2, SpawnDelay)
{
	new carid = CreateVehicle(modelid, X, Y, Z, A, Color1, Color2, SpawnDelay);
	if(carid == 65535) return 0;
	return carid;
}
#if defined _ALS_CreateVehicle
	#undef CreateVehicle
#else
	#define _ALS_CreateVehicle
#endif
#define	CreateVehicle CreateVehicleEx




stock AddStaticVehicleExEx(modelid, Float: X, Float: Y, Float: Z, Float: A, Color1, Color2, SpawnDelay)
{
	new carid = AddStaticVehicleEx(modelid, X, Y, Z, A, Color1, Color2, SpawnDelay);
	if(carid == 65535) return 0;
	return carid;
}
#if defined _ALS_AddStaticVehicleEx
	#undef AddStaticVehicleEx
#else
	#define _ALS_AddStaticVehicleEx
#endif
#define	AddStaticVehicleEx AddStaticVehicleExEx

stock AddStaticVehicleExx(modelid, Float: X, Float: Y, Float: Z, Float: A, Color1, Color2)
{
	new carid = AddStaticVehicle(modelid, X, Y, Z, A, Color1, Color2);
	return carid;
}
#if defined _ALS_AddStaticVehicle
	#undef AddStaticVehicle
#else
	#define _ALS_AddStaticVehicle
#endif
#define	AddStaticVehicle AddStaticVehicleExx





stock DestroyVehicleEx(vehicleid)
{
	if(!IsValidVehicle(vehicleid)) return 0;
	return (DestroyVehicle(vehicleid));
}
#if defined _ALS_DestroyVehicle
	#undef DestroyVehicle
#else
	#define _ALS_DestroyVehicle
#endif
#define	DestroyVehicle DestroyVehicleEx





stock ShowPlayerDialogEx(playerid, dialogid, style, caption[], info[], button1[], button2[])
{
	ShowPlayerDialog(playerid, dialogid, style, caption, info, button1, button2);
	SetPVarInt(playerid, "USEDIALOGID", dialogid);
	return 1;
}
#if defined _ALS_ShowPlayerDialog
	#undef ShowPlayerDialog
#else
	#define _ALS_ShowPlayerDialog
#endif
#define	ShowPlayerDialog ShowPlayerDialogEx





stock SetPlayerColorEx(playerid, color)
{
    PI[playerid][pColor] = color;
    SetPlayerColor(playerid, color);
    return 1;
}
#if defined _ALS_SetPlayerColor
	#undef SetPlayerColor
#else
	#define _ALS_SetPlayerColor
#endif







stock DestroyPickupAC(pickupid)
{
	if(IsPickupExists(pickupid))
	{
		ClearPickupInfo(pickupid);

		DestroyDynamicArea(GetPickupInfo(pickupid, P_DYNAMIC_ZONE));
	}
	return DestroyPickup(pickupid); // This function does not return any specific values;
}




stock CreatePickupAC(model, type, Float:X, Float:Y, Float:Z, Virtualworld, action_type = PICKUP_ACTION_TYPE_NONE, action_id = PICKUP_ACTION_ID_NONE)
{
	static n_pickupid = -1;
	n_pickupid = CreatePickup(model, type, X, Y, Z, Virtualworld);

	if(n_pickupid != -1)
	{
		SetPickupInfo(n_pickupid, P_MODEL, 	model);
		SetPickupInfo(n_pickupid, P_TYPE, 	type);

		SetPickupInfo(n_pickupid, P_POS_X, 	X);
		SetPickupInfo(n_pickupid, P_POS_Y, 	Y);
		SetPickupInfo(n_pickupid, P_POS_Z, 	Z);

		SetPickupInfo(n_pickupid, P_VIRTUAL_WORLD, Virtualworld);

		SetPickupInfo(n_pickupid, P_ACTION_TYPE, 	action_type);
		SetPickupInfo(n_pickupid, P_ACTION_ID, 		action_id);

		SetPickupInfo(n_pickupid, P_CREATED, true);

		SetPickupInfo(n_pickupid, P_DYNAMIC_ZONE, CreateDynamicSphere(X, Y, Z, 1.4, Virtualworld));
	}
	return n_pickupid; // The ID of the created pickup, -1 on failure (pickup max limit).
}





stock GetTeamID(playerid)
{
	if(PI[playerid][pMember] > 0) return PI[playerid][pMember];
	//if(PI[playerid][pFamily] > 0) return PI[playerid][pFamily];
	if(PI[playerid][pLeader] > 0) return PI[playerid][pLeader];
	if(PI[playerid][pTempLeader] > 0) return PI[playerid][pTempLeader];
	return 0;
}

RandomNPCName(output[]) {
	strdel(output, 0, MAX_PLAYER_NAME);
	new name_1[][7] = {
		"Andrey", "Sergey", "Ilya", "Albert", "Anton", "Artem", "Boris",\
		"Boris", "Vadim", "Viktor"
	};
	new name_2[][14] = {
		"Ivanov", "Smirnov", "Sokolov", "Morozov", "Volkov", "Egorov", "Makarov", "Soloviev"
	};
	new n_1 = random(sizeof(name_1)), n_2 = random(sizeof(name_2));
	strcat(output, name_1[n_1], MAX_PLAYER_NAME);
	strcat(output, "_", MAX_PLAYER_NAME);
	strcat(output, name_2[n_2], MAX_PLAYER_NAME);
}


// stock GetNumberOfDigits(number)
// { 
//     __emit
//     {
//         load.s.pri number
//         zero.alt
//         jsgeq check1
//         move.alt
//         eq.c.pri cellmin
//         add
//         neg
//     check1:
//         const.alt 1_000_000
//         jsgeq check2
//         const.alt 100
//         jsgeq check1_2
//         const.alt 10
//         sgeq
//         inc.pri
//         retn
//     check1_2:
//         const.alt 10_000
//         jsgeq check1_3
//         const.alt 1_000
//         sgeq
//         add.c 3
//         retn
//     check1_3:
//         const.alt 100_000
//         sgeq
//         add.c 5
//         retn
//     check2:
//         const.alt 100_000_000
//         jsgeq check3
//         const.alt 10_000_000
//         sgeq
//         add.c 7
//         retn
//     check3:
//         const.alt 1_000_000_000
//         sgeq
//     }
//     return __emit add.c 9;
// }

ex_GiveMoney(playerid, money) {

	new gh, gm, gy, gmo, gd;
	getdate(gy, gmo, gd);
	gettime(gh, gm);
	printf("[MONEY] [%d:%d ___ %d/%d/%d] Player %s added money %d", gh, gm, gd, gmo, gy, GetName(playerid), money);
	GivePlayerMoney(playerid, money);
	return 1;
}

ex_ConnectNPC() {
	new nickname[MAX_PLAYER_NAME];
	RandomNPCName(nickname);

	// PB_RegisterBot(nickname);

    ConnectNPC(nickname, "npcbot");  
}

enum TruckCoords {
	Float:TruckX,
	Float:TruckY,
	Float:TruckZ,
	TruckTimer
}

new Truck[MAX_PLAYERS][TruckCoords];

CollisionForTruck(playerid) {
	GetPlayerPos(playerid,Truck[playerid][TruckX],Truck[playerid][TruckY],Truck[playerid][TruckZ]);
	Truck[playerid][TruckTimer] = SetTimerEx("DisableTruckCollision",1000,true,"d",playerid);
	DisableRemoteVehicleCollisions(playerid, 0);
	return 1;
}

publics DisableTruckCollision(playerid) {
	if(PlayerToPoint(10.0, playerid, Truck[playerid][TruckX], Truck[playerid][TruckY], Truck[playerid][TruckZ])) {
		DisableRemoteVehicleCollisions(playerid, 1);
		KillTimer(Truck[playerid][TruckTimer]);
	} else Truck[playerid][TruckTimer] = SetTimerEx("DisableTruckCollision",1000,true,"d",playerid);
	return 1;
}


new GruzTimer[MAX_PLAYERS];
new LoadGruzProc[MAX_PLAYERS];

publics LoadGruz(playerid) {

	LoadGruzProc[playerid] = 0;
	GruzTimer[playerid] = SetTimerEx("LoadGruz1",5000,1,"d",playerid);
	anticheckpointflood[playerid] = 0;
	

	SetVehiclePos(TruckerCar[playerid],2735.6240,-2376.1792,17.9660);
	SetVehicleVirtualWorld(TruckerCar[playerid], playerid);
	SetPlayerPos(playerid,2735.6240,-2376.1792,17.9660);
	SetPlayerVirtualWorld(playerid, playerid);
	PutPlayerInVehicle(playerid, TruckerCar[playerid], 0);

	SetPlayerCameraPos(playerid, 2721.7734,-2347.8191,27.5990);
	SetPlayerCameraLookAt(playerid, 2735.6240,-2376.1792,17.9660);

	TogglePlayerControllable(playerid, 0);
	
	PlayAudioStreamForPlayer(playerid, "http://d.zaix.ru/h7cY.mp3");
	
}

/* 
	id 403 - тягач, можно сделать под дальнобоя
	id 435 - груз под Ашан (например)
	id 450 - груз под че нить
	id 499 - хлеб машина, можно под продукты сделать дальнобоя
	id 514 - еще один тягач
	id 515 - еще :/
	id 584 - топливный груз

*/

publics LoadGruz1(playerid) {
	if(LoadGruzProc[playerid] < 0) return 1;
	LoadGruzProc[playerid] += 1;
	// добавить progress bar
	format(global_string, 144, "Идет загрузка (%d/18)", LoadGruzProc[playerid]);
	SendPond(playerid, global_string);
	
	if(LoadGruzProc[playerid] >= 18) {
		TruckerGruz[playerid] = CreateVehicleEx(584, 2745.3740, -2280.1521, 17.9269, 92.5, 1, 1, -1);
		DisablePlayerCheckpoint(playerid);
		DeletePVar(playerid, "TruckerJobRazgruzka");
		SetPVarInt(playerid, "TruckerJobRazgruzka", 2);
		SetPlayerVirtualWorld(playerid, 0);
		SetVehicleVirtualWorld(TruckerCar[playerid], 0);
		SetVehiclePos(TruckerCar[playerid], 2745.3740, -2290.1521, 17.9269);
		SetPlayerCheckpoint(playerid, -2346.3372, 689.8357, 5.2850, 5.0);
		PutPlayerInVehicle(playerid, TruckerCar[playerid], 0);
		SendSucces(playerid, "Вы загрузились, отправляйтесь на разгрузку");
		SendPond(playerid, "Подцепите груз");
		StopAudioStreamForPlayer(playerid);
		SetCameraBehindPlayer(playerid);
		LoadGruzProc[playerid] = -1;
		KillTimer(GruzTimer[playerid]);
		TogglePlayerControllable(playerid, 1);
		CollisionForTruck(playerid);
	}
	return 1;
}






